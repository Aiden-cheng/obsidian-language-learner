var __create=Object.create,__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropNames=Object.getOwnPropertyNames,__getOwnPropSymbols=Object.getOwnPropertySymbols,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(n,r,a)=>r in n?__defProp(n,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[r]=a,__spreadValues=(n,r)=>{for(var a in r||(r={}))__hasOwnProp.call(r,a)&&__defNormalProp(n,a,r[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(r))__propIsEnum.call(r,a)&&__defNormalProp(n,a,r[a]);return n},__spreadProps=(n,r)=>__defProps(n,__getOwnPropDescs(r)),__markAsModule=n=>__defProp(n,"__esModule",{value:!0}),__commonJS=(n,r)=>function(){return r||(0,n[Object.keys(n)[0]])((r={exports:{}}).exports,r),r.exports},__export=(n,r)=>{__markAsModule(n);for(var a in r)__defProp(n,a,{get:r[a],enumerable:!0})},__reExport=(n,r,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of __getOwnPropNames(r))!__hasOwnProp.call(n,o)&&o!=="default"&&__defProp(n,o,{get:()=>r[o],enumerable:!(a=__getOwnPropDesc(r,o))||a.enumerable});return n},__toModule=n=>__reExport(__markAsModule(__defProp(n!=null?__create(__getProtoOf(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),__async=(n,r,a)=>new Promise((o,s)=>{var l=d=>{try{f(a.next(d))}catch(v){s(v)}},u=d=>{try{f(a.throw(d))}catch(v){s(v)}},f=d=>d.done?o(d.value):Promise.resolve(d.value).then(l,u);f((a=a.apply(n,r)).next())}),require_formatDistance=__commonJS({"node_modules/date-fns/locale/en-US/_lib/formatDistance/index.js"(n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o=function(l,u,f){var d,v=a[l];return typeof v=="string"?d=v:u===1?d=v.one:d=v.other.replace("{{count}}",u.toString()),f!=null&&f.addSuffix?f.comparison&&f.comparison>0?"in "+d:d+" ago":d},s=o;n.default=s,r.exports=n.default}}),require_buildFormatLongFn=__commonJS({"node_modules/date-fns/locale/_lib/buildFormatLongFn/index.js"(n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;function a(o){return function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=s.width?String(s.width):o.defaultWidth,u=o.formats[l]||o.formats[o.defaultWidth];return u}}r.exports=n.default}}),require_formatLong=__commonJS({"node_modules/date-fns/locale/en-US/_lib/formatLong/index.js"(n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(require_buildFormatLongFn());function o(v){return v&&v.__esModule?v:{default:v}}var s={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},l={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},u={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},f={date:(0,a.default)({formats:s,defaultWidth:"full"}),time:(0,a.default)({formats:l,defaultWidth:"full"}),dateTime:(0,a.default)({formats:u,defaultWidth:"full"})},d=f;n.default=d,r.exports=n.default}}),require_formatRelative=__commonJS({"node_modules/date-fns/locale/en-US/_lib/formatRelative/index.js"(n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},o=function(l,u,f,d){return a[l]},s=o;n.default=s,r.exports=n.default}}),require_buildLocalizeFn=__commonJS({"node_modules/date-fns/locale/_lib/buildLocalizeFn/index.js"(n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;function a(o){return function(s,l){var u=l||{},f=u.context?String(u.context):"standalone",d;if(f==="formatting"&&o.formattingValues){var v=o.defaultFormattingWidth||o.defaultWidth,g=u.width?String(u.width):v;d=o.formattingValues[g]||o.formattingValues[v]}else{var y=o.defaultWidth,b=u.width?String(u.width):o.defaultWidth;d=o.values[b]||o.values[y]}var _=o.argumentCallback?o.argumentCallback(s):s;return d[_]}}r.exports=n.default}}),require_localize=__commonJS({"node_modules/date-fns/locale/en-US/_lib/localize/index.js"(n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=o(require_buildLocalizeFn());function o(_){return _&&_.__esModule?_:{default:_}}var s={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},l={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},u={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},v={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},g=function(_,x){var C=Number(_),w=C%100;if(w>20||w<10)switch(w%10){case 1:return C+"st";case 2:return C+"nd";case 3:return C+"rd"}return C+"th"},y={ordinalNumber:g,era:(0,a.default)({values:s,defaultWidth:"wide"}),quarter:(0,a.default)({values:l,defaultWidth:"wide",argumentCallback:function(_){return _-1}}),month:(0,a.default)({values:u,defaultWidth:"wide"}),day:(0,a.default)({values:f,defaultWidth:"wide"}),dayPeriod:(0,a.default)({values:d,defaultWidth:"wide",formattingValues:v,defaultFormattingWidth:"wide"})},b=y;n.default=b,r.exports=n.default}}),require_buildMatchFn=__commonJS({"node_modules/date-fns/locale/_lib/buildMatchFn/index.js"(n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;function a(l){return function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=f.width,v=d&&l.matchPatterns[d]||l.matchPatterns[l.defaultMatchWidth],g=u.match(v);if(!g)return null;var y=g[0],b=d&&l.parsePatterns[d]||l.parsePatterns[l.defaultParseWidth],_=Array.isArray(b)?s(b,function(w){return w.test(y)}):o(b,function(w){return w.test(y)}),x;x=l.valueCallback?l.valueCallback(_):_,x=f.valueCallback?f.valueCallback(x):x;var C=u.slice(y.length);return{value:x,rest:C}}}function o(l,u){for(var f in l)if(l.hasOwnProperty(f)&&u(l[f]))return f}function s(l,u){for(var f=0;f<l.length;f++)if(u(l[f]))return f}r.exports=n.default}}),require_buildMatchPatternFn=__commonJS({"node_modules/date-fns/locale/_lib/buildMatchPatternFn/index.js"(n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;function a(o){return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=s.match(o.matchPattern);if(!u)return null;var f=u[0],d=s.match(o.parsePattern);if(!d)return null;var v=o.valueCallback?o.valueCallback(d[0]):d[0];v=l.valueCallback?l.valueCallback(v):v;var g=s.slice(f.length);return{value:v,rest:g}}}r.exports=n.default}}),require_match=__commonJS({"node_modules/date-fns/locale/en-US/_lib/match/index.js"(n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(require_buildMatchFn()),o=s(require_buildMatchPatternFn());function s(A){return A&&A.__esModule?A:{default:A}}var l=/^(\d+)(th|st|nd|rd)?/i,u=/\d+/i,f={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d={any:[/^b/i,/^(a|c)/i]},v={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},g={any:[/1/i,/2/i,/3/i,/4/i]},y={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},b={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},x={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},C={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},w={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},S={ordinalNumber:(0,o.default)({matchPattern:l,parsePattern:u,valueCallback:function(A){return parseInt(A,10)}}),era:(0,a.default)({matchPatterns:f,defaultMatchWidth:"wide",parsePatterns:d,defaultParseWidth:"any"}),quarter:(0,a.default)({matchPatterns:v,defaultMatchWidth:"wide",parsePatterns:g,defaultParseWidth:"any",valueCallback:function(A){return A+1}}),month:(0,a.default)({matchPatterns:y,defaultMatchWidth:"wide",parsePatterns:b,defaultParseWidth:"any"}),day:(0,a.default)({matchPatterns:_,defaultMatchWidth:"wide",parsePatterns:x,defaultParseWidth:"any"}),dayPeriod:(0,a.default)({matchPatterns:C,defaultMatchWidth:"any",parsePatterns:w,defaultParseWidth:"any"})},D=S;n.default=D,r.exports=n.default}}),require_en_US=__commonJS({"node_modules/date-fns/locale/en-US/index.js"(n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(require_formatDistance()),o=f(require_formatLong()),s=f(require_formatRelative()),l=f(require_localize()),u=f(require_match());function f(g){return g&&g.__esModule?g:{default:g}}var d={code:"en-US",formatDistance:a.default,formatLong:o.default,formatRelative:s.default,localize:l.default,match:u.default,options:{weekStartsOn:0,firstWeekContainsDate:1}},v=d;n.default=v,r.exports=n.default}}),require_is_buffer=__commonJS({"node_modules/is-buffer/index.js"(n,r){r.exports=function(o){return o!=null&&o.constructor!=null&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}}}),require_extend=__commonJS({"node_modules/extend/index.js"(n,r){"use strict";var a=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,u=function(y){return typeof Array.isArray=="function"?Array.isArray(y):o.call(y)==="[object Array]"},f=function(y){if(!y||o.call(y)!=="[object Object]")return!1;var b=a.call(y,"constructor"),_=y.constructor&&y.constructor.prototype&&a.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!b&&!_)return!1;var x;for(x in y);return typeof x=="undefined"||a.call(y,x)},d=function(y,b){s&&b.name==="__proto__"?s(y,b.name,{enumerable:!0,configurable:!0,value:b.newValue,writable:!0}):y[b.name]=b.newValue},v=function(y,b){if(b==="__proto__")if(a.call(y,b)){if(l)return l(y,b).value}else return;return y[b]};r.exports=function g(){var y,b,_,x,C,w,S=arguments[0],D=1,A=arguments.length,T=!1;for(typeof S=="boolean"&&(T=S,S=arguments[1]||{},D=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});D<A;++D)if(y=arguments[D],y!=null)for(b in y)_=v(S,b),x=v(y,b),S!==x&&(T&&x&&(f(x)||(C=u(x)))?(C?(C=!1,w=_&&u(_)?_:[]):w=_&&f(_)?_:{},d(S,{name:b,newValue:g(T,w,x)})):typeof x!="undefined"&&d(S,{name:b,newValue:x}));return S}}}),require_nlcst_to_string=__commonJS({"node_modules/parse-latin/node_modules/nlcst-to-string/index.js"(n,r){"use strict";r.exports=a;function a(o,s){var l=s||"",u,f,d;if(!o||!("length"in o)&&!o.type)throw new Error("Expected node, not `"+o+"`");if(typeof o.value=="string")return o.value;if(d="length"in o?o:o.children,f=d.length,f===1&&"value"in d[0])return d[0].value;for(u=[];f--;)u[f]=a(d[f],l);return u.join(l)}}}),require_array_iterate=__commonJS({"node_modules/parse-latin/node_modules/array-iterate/index.js"(n,r){"use strict";r.exports=o;var a={}.hasOwnProperty;function o(s,l,u){var f=-1,d;if(!s)throw new Error("Iterate requires that |this| not be "+s);if(!a.call(s,"length"))throw new Error("Iterate requires that |this| has a `length`");if(typeof l!="function")throw new Error("`callback` must be a function");for(;++f<s.length;)f in s&&(d=l.call(u,s[f],f,s),typeof d=="number"&&(d<0&&(f=0),f=d-1))}}}),require_unist_util_modify_children=__commonJS({"node_modules/parse-latin/node_modules/unist-util-modify-children/index.js"(n,r){"use strict";var a=require_array_iterate();r.exports=o;function o(u){return s(l(u))}function s(u){return f;function f(d){var v=d&&d.children;if(!v)throw new Error("Missing children in `parent` for `modifier`");a(v,u,d)}}function l(u){return f;function f(d,v){return u(d,v,this)}}}}),require_unist_util_visit_children=__commonJS({"node_modules/unist-util-visit-children/index.js"(n,r){"use strict";r.exports=a;function a(o){return s;function s(l){var u=-1,f=l&&l.children;if(!f)throw new Error("Missing children in `parent` for `visitor`");for(;++u in f;)o(f[u],u,l)}}}}),require_nlcst_to_string2=__commonJS({"node_modules/parse-english/node_modules/nlcst-to-string/index.js"(n,r){"use strict";r.exports=a;function a(o,s){var l=s||"",u,f,d;if(!o||!("length"in o)&&!o.type)throw new Error("Expected node, not `"+o+"`");if(typeof o.value=="string")return o.value;if(d="length"in o?o:o.children,f=d.length,f===1&&"value"in d[0])return d[0].value;for(u=[];f--;)u[f]=a(d[f],l);return u.join(l)}}}),require_array_iterate2=__commonJS({"node_modules/parse-english/node_modules/array-iterate/index.js"(n,r){"use strict";r.exports=o;var a={}.hasOwnProperty;function o(s,l,u){var f=-1,d;if(!s)throw new Error("Iterate requires that |this| not be "+s);if(!a.call(s,"length"))throw new Error("Iterate requires that |this| has a `length`");if(typeof l!="function")throw new Error("`callback` must be a function");for(;++f<s.length;)f in s&&(d=l.call(u,s[f],f,s),typeof d=="number"&&(d<0&&(f=0),f=d-1))}}}),require_unist_util_modify_children2=__commonJS({"node_modules/parse-english/node_modules/unist-util-modify-children/index.js"(n,r){"use strict";var a=require_array_iterate2();r.exports=o;function o(u){return s(l(u))}function s(u){return f;function f(d){var v=d&&d.children;if(!v)throw new Error("Missing children in `parent` for `modifier`");a(v,u,d)}}function l(u){return f;function f(d,v){return u(d,v,this)}}}}),require_tslib=__commonJS({"node_modules/echarts/node_modules/tslib/tslib.js"(n,r){var a,o,s,l,u,f,d,v,g,y,b,_,x,C,w,S,D,A,T,M,E,P,I,F;(function(L){var O=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(R){L(z(O,z(R)))}):typeof r=="object"&&typeof r.exports=="object"?L(z(O,z(r.exports))):L(z(O));function z(R,B){return R!==O&&(typeof Object.create=="function"?Object.defineProperty(R,"__esModule",{value:!0}):R.__esModule=!0),function(N,H){return R[N]=B?B(N,H):H}}})(function(L){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,B){R.__proto__=B}||function(R,B){for(var N in B)Object.prototype.hasOwnProperty.call(B,N)&&(R[N]=B[N])};a=function(R,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");O(R,B);function N(){this.constructor=R}R.prototype=B===null?Object.create(B):(N.prototype=B.prototype,new N)},o=Object.assign||function(R){for(var B,N=1,H=arguments.length;N<H;N++){B=arguments[N];for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&(R[W]=B[W])}return R},s=function(R,B){var N={};for(var H in R)Object.prototype.hasOwnProperty.call(R,H)&&B.indexOf(H)<0&&(N[H]=R[H]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var W=0,H=Object.getOwnPropertySymbols(R);W<H.length;W++)B.indexOf(H[W])<0&&Object.prototype.propertyIsEnumerable.call(R,H[W])&&(N[H[W]]=R[H[W]]);return N},l=function(R,B,N,H){var W=arguments.length,V=W<3?B:H===null?H=Object.getOwnPropertyDescriptor(B,N):H,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(R,B,N,H);else for(var Y=R.length-1;Y>=0;Y--)(G=R[Y])&&(V=(W<3?G(V):W>3?G(B,N,V):G(B,N))||V);return W>3&&V&&Object.defineProperty(B,N,V),V},u=function(R,B){return function(N,H){B(N,H,R)}},f=function(R,B){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,B)},d=function(R,B,N,H){function W(V){return V instanceof N?V:new N(function(G){G(V)})}return new(N||(N=Promise))(function(V,G){function Y(ne){try{q(H.next(ne))}catch(ve){G(ve)}}function Q(ne){try{q(H.throw(ne))}catch(ve){G(ve)}}function q(ne){ne.done?V(ne.value):W(ne.value).then(Y,Q)}q((H=H.apply(R,B||[])).next())})},v=function(R,B){var N={label:0,sent:function(){if(V[0]&1)throw V[1];return V[1]},trys:[],ops:[]},H,W,V,G;return G={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function Y(q){return function(ne){return Q([q,ne])}}function Q(q){if(H)throw new TypeError("Generator is already executing.");for(;N;)try{if(H=1,W&&(V=q[0]&2?W.return:q[0]?W.throw||((V=W.return)&&V.call(W),0):W.next)&&!(V=V.call(W,q[1])).done)return V;switch(W=0,V&&(q=[q[0]&2,V.value]),q[0]){case 0:case 1:V=q;break;case 4:return N.label++,{value:q[1],done:!1};case 5:N.label++,W=q[1],q=[0];continue;case 7:q=N.ops.pop(),N.trys.pop();continue;default:if(V=N.trys,!(V=V.length>0&&V[V.length-1])&&(q[0]===6||q[0]===2)){N=0;continue}if(q[0]===3&&(!V||q[1]>V[0]&&q[1]<V[3])){N.label=q[1];break}if(q[0]===6&&N.label<V[1]){N.label=V[1],V=q;break}if(V&&N.label<V[2]){N.label=V[2],N.ops.push(q);break}V[2]&&N.ops.pop(),N.trys.pop();continue}q=B.call(R,N)}catch(ne){q=[6,ne],W=0}finally{H=V=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},g=function(R,B){for(var N in R)N!=="default"&&!Object.prototype.hasOwnProperty.call(B,N)&&F(B,R,N)},F=Object.create?function(R,B,N,H){H===void 0&&(H=N),Object.defineProperty(R,H,{enumerable:!0,get:function(){return B[N]}})}:function(R,B,N,H){H===void 0&&(H=N),R[H]=B[N]},y=function(R){var B=typeof Symbol=="function"&&Symbol.iterator,N=B&&R[B],H=0;if(N)return N.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&H>=R.length&&(R=void 0),{value:R&&R[H++],done:!R}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(R,B){var N=typeof Symbol=="function"&&R[Symbol.iterator];if(!N)return R;var H=N.call(R),W,V=[],G;try{for(;(B===void 0||B-- >0)&&!(W=H.next()).done;)V.push(W.value)}catch(Y){G={error:Y}}finally{try{W&&!W.done&&(N=H.return)&&N.call(H)}finally{if(G)throw G.error}}return V},_=function(){for(var R=[],B=0;B<arguments.length;B++)R=R.concat(b(arguments[B]));return R},x=function(){for(var R=0,B=0,N=arguments.length;B<N;B++)R+=arguments[B].length;for(var H=Array(R),W=0,B=0;B<N;B++)for(var V=arguments[B],G=0,Y=V.length;G<Y;G++,W++)H[W]=V[G];return H},C=function(R,B,N){if(N||arguments.length===2)for(var H=0,W=B.length,V;H<W;H++)(V||!(H in B))&&(V||(V=Array.prototype.slice.call(B,0,H)),V[H]=B[H]);return R.concat(V||B)},w=function(R){return this instanceof w?(this.v=R,this):new w(R)},S=function(R,B,N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H=N.apply(R,B||[]),W,V=[];return W={},G("next"),G("throw"),G("return"),W[Symbol.asyncIterator]=function(){return this},W;function G(fe){H[fe]&&(W[fe]=function(he){return new Promise(function(pe,de){V.push([fe,he,pe,de])>1||Y(fe,he)})})}function Y(fe,he){try{Q(H[fe](he))}catch(pe){ve(V[0][3],pe)}}function Q(fe){fe.value instanceof w?Promise.resolve(fe.value.v).then(q,ne):ve(V[0][2],fe)}function q(fe){Y("next",fe)}function ne(fe){Y("throw",fe)}function ve(fe,he){fe(he),V.shift(),V.length&&Y(V[0][0],V[0][1])}},D=function(R){var B,N;return B={},H("next"),H("throw",function(W){throw W}),H("return"),B[Symbol.iterator]=function(){return this},B;function H(W,V){B[W]=R[W]?function(G){return(N=!N)?{value:w(R[W](G)),done:W==="return"}:V?V(G):G}:V}},A=function(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B=R[Symbol.asyncIterator],N;return B?B.call(R):(R=typeof y=="function"?y(R):R[Symbol.iterator](),N={},H("next"),H("throw"),H("return"),N[Symbol.asyncIterator]=function(){return this},N);function H(V){N[V]=R[V]&&function(G){return new Promise(function(Y,Q){G=R[V](G),W(Y,Q,G.done,G.value)})}}function W(V,G,Y,Q){Promise.resolve(Q).then(function(q){V({value:q,done:Y})},G)}},T=function(R,B){return Object.defineProperty?Object.defineProperty(R,"raw",{value:B}):R.raw=B,R};var z=Object.create?function(R,B){Object.defineProperty(R,"default",{enumerable:!0,value:B})}:function(R,B){R.default=B};M=function(R){if(R&&R.__esModule)return R;var B={};if(R!=null)for(var N in R)N!=="default"&&Object.prototype.hasOwnProperty.call(R,N)&&F(B,R,N);return z(B,R),B},E=function(R){return R&&R.__esModule?R:{default:R}},P=function(R,B,N,H){if(N==="a"&&!H)throw new TypeError("Private accessor was defined without a getter");if(typeof B=="function"?R!==B||!H:!B.has(R))throw new TypeError("Cannot read private member from an object whose class did not declare it");return N==="m"?H:N==="a"?H.call(R):H?H.value:B.get(R)},I=function(R,B,N,H,W){if(H==="m")throw new TypeError("Private method is not writable");if(H==="a"&&!W)throw new TypeError("Private accessor was defined without a setter");if(typeof B=="function"?R!==B||!W:!B.has(R))throw new TypeError("Cannot write private member to an object whose class did not declare it");return H==="a"?W.call(R,N):W?W.value=N:B.set(R,N),N},L("__extends",a),L("__assign",o),L("__rest",s),L("__decorate",l),L("__param",u),L("__metadata",f),L("__awaiter",d),L("__generator",v),L("__exportStar",g),L("__createBinding",F),L("__values",y),L("__read",b),L("__spread",_),L("__spreadArrays",x),L("__spreadArray",C),L("__await",w),L("__asyncGenerator",S),L("__asyncDelegator",D),L("__asyncValues",A),L("__makeTemplateObject",T),L("__importStar",M),L("__importDefault",E),L("__classPrivateFieldGet",P),L("__classPrivateFieldSet",I)})}}),require_tslib2=__commonJS({"node_modules/zrender/node_modules/tslib/tslib.js"(n,r){var a,o,s,l,u,f,d,v,g,y,b,_,x,C,w,S,D,A,T,M,E,P,I,F;(function(L){var O=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(R){L(z(O,z(R)))}):typeof r=="object"&&typeof r.exports=="object"?L(z(O,z(r.exports))):L(z(O));function z(R,B){return R!==O&&(typeof Object.create=="function"?Object.defineProperty(R,"__esModule",{value:!0}):R.__esModule=!0),function(N,H){return R[N]=B?B(N,H):H}}})(function(L){var O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,B){R.__proto__=B}||function(R,B){for(var N in B)Object.prototype.hasOwnProperty.call(B,N)&&(R[N]=B[N])};a=function(R,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");O(R,B);function N(){this.constructor=R}R.prototype=B===null?Object.create(B):(N.prototype=B.prototype,new N)},o=Object.assign||function(R){for(var B,N=1,H=arguments.length;N<H;N++){B=arguments[N];for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&(R[W]=B[W])}return R},s=function(R,B){var N={};for(var H in R)Object.prototype.hasOwnProperty.call(R,H)&&B.indexOf(H)<0&&(N[H]=R[H]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var W=0,H=Object.getOwnPropertySymbols(R);W<H.length;W++)B.indexOf(H[W])<0&&Object.prototype.propertyIsEnumerable.call(R,H[W])&&(N[H[W]]=R[H[W]]);return N},l=function(R,B,N,H){var W=arguments.length,V=W<3?B:H===null?H=Object.getOwnPropertyDescriptor(B,N):H,G;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(R,B,N,H);else for(var Y=R.length-1;Y>=0;Y--)(G=R[Y])&&(V=(W<3?G(V):W>3?G(B,N,V):G(B,N))||V);return W>3&&V&&Object.defineProperty(B,N,V),V},u=function(R,B){return function(N,H){B(N,H,R)}},f=function(R,B){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,B)},d=function(R,B,N,H){function W(V){return V instanceof N?V:new N(function(G){G(V)})}return new(N||(N=Promise))(function(V,G){function Y(ne){try{q(H.next(ne))}catch(ve){G(ve)}}function Q(ne){try{q(H.throw(ne))}catch(ve){G(ve)}}function q(ne){ne.done?V(ne.value):W(ne.value).then(Y,Q)}q((H=H.apply(R,B||[])).next())})},v=function(R,B){var N={label:0,sent:function(){if(V[0]&1)throw V[1];return V[1]},trys:[],ops:[]},H,W,V,G;return G={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&(G[Symbol.iterator]=function(){return this}),G;function Y(q){return function(ne){return Q([q,ne])}}function Q(q){if(H)throw new TypeError("Generator is already executing.");for(;N;)try{if(H=1,W&&(V=q[0]&2?W.return:q[0]?W.throw||((V=W.return)&&V.call(W),0):W.next)&&!(V=V.call(W,q[1])).done)return V;switch(W=0,V&&(q=[q[0]&2,V.value]),q[0]){case 0:case 1:V=q;break;case 4:return N.label++,{value:q[1],done:!1};case 5:N.label++,W=q[1],q=[0];continue;case 7:q=N.ops.pop(),N.trys.pop();continue;default:if(V=N.trys,!(V=V.length>0&&V[V.length-1])&&(q[0]===6||q[0]===2)){N=0;continue}if(q[0]===3&&(!V||q[1]>V[0]&&q[1]<V[3])){N.label=q[1];break}if(q[0]===6&&N.label<V[1]){N.label=V[1],V=q;break}if(V&&N.label<V[2]){N.label=V[2],N.ops.push(q);break}V[2]&&N.ops.pop(),N.trys.pop();continue}q=B.call(R,N)}catch(ne){q=[6,ne],W=0}finally{H=V=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}},g=function(R,B){for(var N in R)N!=="default"&&!Object.prototype.hasOwnProperty.call(B,N)&&F(B,R,N)},F=Object.create?function(R,B,N,H){H===void 0&&(H=N),Object.defineProperty(R,H,{enumerable:!0,get:function(){return B[N]}})}:function(R,B,N,H){H===void 0&&(H=N),R[H]=B[N]},y=function(R){var B=typeof Symbol=="function"&&Symbol.iterator,N=B&&R[B],H=0;if(N)return N.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&H>=R.length&&(R=void 0),{value:R&&R[H++],done:!R}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")},b=function(R,B){var N=typeof Symbol=="function"&&R[Symbol.iterator];if(!N)return R;var H=N.call(R),W,V=[],G;try{for(;(B===void 0||B-- >0)&&!(W=H.next()).done;)V.push(W.value)}catch(Y){G={error:Y}}finally{try{W&&!W.done&&(N=H.return)&&N.call(H)}finally{if(G)throw G.error}}return V},_=function(){for(var R=[],B=0;B<arguments.length;B++)R=R.concat(b(arguments[B]));return R},x=function(){for(var R=0,B=0,N=arguments.length;B<N;B++)R+=arguments[B].length;for(var H=Array(R),W=0,B=0;B<N;B++)for(var V=arguments[B],G=0,Y=V.length;G<Y;G++,W++)H[W]=V[G];return H},C=function(R,B,N){if(N||arguments.length===2)for(var H=0,W=B.length,V;H<W;H++)(V||!(H in B))&&(V||(V=Array.prototype.slice.call(B,0,H)),V[H]=B[H]);return R.concat(V||B)},w=function(R){return this instanceof w?(this.v=R,this):new w(R)},S=function(R,B,N){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var H=N.apply(R,B||[]),W,V=[];return W={},G("next"),G("throw"),G("return"),W[Symbol.asyncIterator]=function(){return this},W;function G(fe){H[fe]&&(W[fe]=function(he){return new Promise(function(pe,de){V.push([fe,he,pe,de])>1||Y(fe,he)})})}function Y(fe,he){try{Q(H[fe](he))}catch(pe){ve(V[0][3],pe)}}function Q(fe){fe.value instanceof w?Promise.resolve(fe.value.v).then(q,ne):ve(V[0][2],fe)}function q(fe){Y("next",fe)}function ne(fe){Y("throw",fe)}function ve(fe,he){fe(he),V.shift(),V.length&&Y(V[0][0],V[0][1])}},D=function(R){var B,N;return B={},H("next"),H("throw",function(W){throw W}),H("return"),B[Symbol.iterator]=function(){return this},B;function H(W,V){B[W]=R[W]?function(G){return(N=!N)?{value:w(R[W](G)),done:W==="return"}:V?V(G):G}:V}},A=function(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B=R[Symbol.asyncIterator],N;return B?B.call(R):(R=typeof y=="function"?y(R):R[Symbol.iterator](),N={},H("next"),H("throw"),H("return"),N[Symbol.asyncIterator]=function(){return this},N);function H(V){N[V]=R[V]&&function(G){return new Promise(function(Y,Q){G=R[V](G),W(Y,Q,G.done,G.value)})}}function W(V,G,Y,Q){Promise.resolve(Q).then(function(q){V({value:q,done:Y})},G)}},T=function(R,B){return Object.defineProperty?Object.defineProperty(R,"raw",{value:B}):R.raw=B,R};var z=Object.create?function(R,B){Object.defineProperty(R,"default",{enumerable:!0,value:B})}:function(R,B){R.default=B};M=function(R){if(R&&R.__esModule)return R;var B={};if(R!=null)for(var N in R)N!=="default"&&Object.prototype.hasOwnProperty.call(R,N)&&F(B,R,N);return z(B,R),B},E=function(R){return R&&R.__esModule?R:{default:R}},P=function(R,B,N,H){if(N==="a"&&!H)throw new TypeError("Private accessor was defined without a getter");if(typeof B=="function"?R!==B||!H:!B.has(R))throw new TypeError("Cannot read private member from an object whose class did not declare it");return N==="m"?H:N==="a"?H.call(R):H?H.value:B.get(R)},I=function(R,B,N,H,W){if(H==="m")throw new TypeError("Private method is not writable");if(H==="a"&&!W)throw new TypeError("Private accessor was defined without a setter");if(typeof B=="function"?R!==B||!W:!B.has(R))throw new TypeError("Cannot write private member to an object whose class did not declare it");return H==="a"?W.call(R,N):W?W.value=N:B.set(R,N),N},L("__extends",a),L("__assign",o),L("__rest",s),L("__decorate",l),L("__param",u),L("__metadata",f),L("__awaiter",d),L("__generator",v),L("__exportStar",g),L("__createBinding",F),L("__values",y),L("__read",b),L("__spread",_),L("__spreadArrays",x),L("__spreadArray",C),L("__await",w),L("__asyncGenerator",S),L("__asyncDelegator",D),L("__asyncValues",A),L("__makeTemplateObject",T),L("__importStar",M),L("__importDefault",E),L("__classPrivateFieldGet",P),L("__classPrivateFieldSet",I)})}});__export(exports,{default:()=>main_default});var import_obsidian11=__toModule(require("obsidian"));function makeMap(n,r){const a=Object.create(null),o=n.split(",");for(let s=0;s<o.length;s++)a[o[s]]=!0;return r?s=>!!a[s.toLowerCase()]:s=>!!a[s]}var PatchFlagNames={[1]:"TEXT",[2]:"CLASS",[4]:"STYLE",[8]:"PROPS",[16]:"FULL_PROPS",[32]:"HYDRATE_EVENTS",[64]:"STABLE_FRAGMENT",[128]:"KEYED_FRAGMENT",[256]:"UNKEYED_FRAGMENT",[512]:"NEED_PATCH",[1024]:"DYNAMIC_SLOTS",[2048]:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},slotFlagsText={[1]:"STABLE",[2]:"DYNAMIC",[3]:"FORWARDED"},specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs),isBooleanAttr=makeMap(specialBooleanAttrs+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function includeBooleanAttr(n){return!!n||n===""}function normalizeStyle(n){if(isArray(n)){const r={};for(let a=0;a<n.length;a++){const o=n[a],s=isString(o)?parseStringStyle(o):normalizeStyle(o);if(s)for(const l in s)r[l]=s[l]}return r}else{if(isString(n))return n;if(isObject(n))return n}}var listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(n){const r={};return n.split(listDelimiterRE).forEach(a=>{if(a){const o=a.split(propertyDelimiterRE);o.length>1&&(r[o[0].trim()]=o[1].trim())}}),r}function normalizeClass(n){let r="";if(isString(n))r=n;else if(isArray(n))for(let a=0;a<n.length;a++){const o=normalizeClass(n[a]);o&&(r+=o+" ")}else if(isObject(n))for(const a in n)n[a]&&(r+=a+" ");return r.trim()}var HTML_TAGS="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",SVG_TAGS="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",isHTMLTag=makeMap(HTML_TAGS),isSVGTag=makeMap(SVG_TAGS);function looseCompareArrays(n,r){if(n.length!==r.length)return!1;let a=!0;for(let o=0;a&&o<n.length;o++)a=looseEqual(n[o],r[o]);return a}function looseEqual(n,r){if(n===r)return!0;let a=isDate(n),o=isDate(r);if(a||o)return a&&o?n.getTime()===r.getTime():!1;if(a=isArray(n),o=isArray(r),a||o)return a&&o?looseCompareArrays(n,r):!1;if(a=isObject(n),o=isObject(r),a||o){if(!a||!o)return!1;const s=Object.keys(n).length,l=Object.keys(r).length;if(s!==l)return!1;for(const u in n){const f=n.hasOwnProperty(u),d=r.hasOwnProperty(u);if(f&&!d||!f&&d||!looseEqual(n[u],r[u]))return!1}}return String(n)===String(r)}function looseIndexOf(n,r){return n.findIndex(a=>looseEqual(a,r))}var toDisplayString=n=>isString(n)?n:n==null?"":isArray(n)||isObject(n)&&(n.toString===objectToString||!isFunction(n.toString))?JSON.stringify(n,replacer,2):String(n),replacer=(n,r)=>r&&r.__v_isRef?replacer(n,r.value):isMap(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((a,[o,s])=>(a[`${o} =>`]=s,a),{})}:isSet(r)?{[`Set(${r.size})`]:[...r.values()]}:isObject(r)&&!isArray(r)&&!isPlainObject(r)?String(r):r,EMPTY_OBJ=Object.freeze({}),EMPTY_ARR=Object.freeze([]),NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=n=>onRE.test(n),isModelListener=n=>n.startsWith("onUpdate:"),extend=Object.assign,remove=(n,r)=>{const a=n.indexOf(r);a>-1&&n.splice(a,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(n,r)=>hasOwnProperty.call(n,r),isArray=Array.isArray,isMap=n=>toTypeString(n)==="[object Map]",isSet=n=>toTypeString(n)==="[object Set]",isDate=n=>n instanceof Date,isFunction=n=>typeof n=="function",isString=n=>typeof n=="string",isSymbol=n=>typeof n=="symbol",isObject=n=>n!==null&&typeof n=="object",isPromise=n=>isObject(n)&&isFunction(n.then)&&isFunction(n.catch),objectToString=Object.prototype.toString,toTypeString=n=>objectToString.call(n),toRawType=n=>toTypeString(n).slice(8,-1),isPlainObject=n=>toTypeString(n)==="[object Object]",isIntegerKey=n=>isString(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),isBuiltInDirective=makeMap("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),cacheStringFunction=n=>{const r=Object.create(null);return a=>r[a]||(r[a]=n(a))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(n=>n.replace(camelizeRE,(r,a)=>a?a.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(n=>n.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(n=>n.charAt(0).toUpperCase()+n.slice(1)),toHandlerKey=cacheStringFunction(n=>n?`on${capitalize(n)}`:""),hasChanged=(n,r)=>!Object.is(n,r),invokeArrayFns=(n,r)=>{for(let a=0;a<n.length;a++)n[a](r)},def=(n,r,a)=>{Object.defineProperty(n,r,{configurable:!0,enumerable:!1,value:a})},toNumber=n=>{const r=parseFloat(n);return isNaN(r)?n:r},_globalThis,getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function warn(n,...r){console.warn(`[Vue warn] ${n}`,...r)}var activeEffectScope,EffectScope=class{constructor(n=!1){this.active=!0,this.effects=[],this.cleanups=[],!n&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(n){if(this.active)try{return activeEffectScope=this,n()}finally{activeEffectScope=this.parent}else warn("cannot run an inactive effect scope.")}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(n){if(this.active){let r,a;for(r=0,a=this.effects.length;r<a;r++)this.effects[r].stop();for(r=0,a=this.cleanups.length;r<a;r++)this.cleanups[r]();if(this.scopes)for(r=0,a=this.scopes.length;r<a;r++)this.scopes[r].stop(!0);if(this.parent&&!n){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}};function recordEffectScope(n,r=activeEffectScope){r&&r.active&&r.effects.push(n)}var createDep=n=>{const r=new Set(n);return r.w=0,r.n=0,r},wasTracked=n=>(n.w&trackOpBit)>0,newTracked=n=>(n.n&trackOpBit)>0,initDepMarkers=({deps:n})=>{if(n.length)for(let r=0;r<n.length;r++)n[r].w|=trackOpBit},finalizeDepMarkers=n=>{const{deps:r}=n;if(r.length){let a=0;for(let o=0;o<r.length;o++){const s=r[o];wasTracked(s)&&!newTracked(s)?s.delete(n):r[a++]=s,s.w&=~trackOpBit,s.n&=~trackOpBit}r.length=a}},targetMap=new WeakMap,effectTrackDepth=0,trackOpBit=1,maxMarkerBits=30,activeEffect,ITERATE_KEY=Symbol("iterate"),MAP_KEY_ITERATE_KEY=Symbol("Map key iterate"),ReactiveEffect=class{constructor(n,r=null,a){this.fn=n,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,a)}run(){if(!this.active)return this.fn();let n=activeEffect,r=shouldTrack;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0}}stop(){this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}};function cleanupEffect(n){const{deps:r}=n;if(r.length){for(let a=0;a<r.length;a++)r[a].delete(n);r.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const n=trackStack.pop();shouldTrack=n===void 0?!0:n}function track(n,r,a){if(shouldTrack&&activeEffect){let o=targetMap.get(n);o||targetMap.set(n,o=new Map);let s=o.get(a);s||o.set(a,s=createDep()),trackEffects(s,{effect:activeEffect,target:n,type:r,key:a})}}function trackEffects(n,r){let a=!1;effectTrackDepth<=maxMarkerBits?newTracked(n)||(n.n|=trackOpBit,a=!wasTracked(n)):a=!n.has(activeEffect),a&&(n.add(activeEffect),activeEffect.deps.push(n),activeEffect.onTrack&&activeEffect.onTrack(Object.assign({effect:activeEffect},r)))}function trigger(n,r,a,o,s,l){const u=targetMap.get(n);if(!u)return;let f=[];if(r==="clear")f=[...u.values()];else if(a==="length"&&isArray(n))u.forEach((v,g)=>{(g==="length"||g>=o)&&f.push(v)});else switch(a!==void 0&&f.push(u.get(a)),r){case"add":isArray(n)?isIntegerKey(a)&&f.push(u.get("length")):(f.push(u.get(ITERATE_KEY)),isMap(n)&&f.push(u.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(n)||(f.push(u.get(ITERATE_KEY)),isMap(n)&&f.push(u.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(n)&&f.push(u.get(ITERATE_KEY));break}const d={target:n,type:r,key:a,newValue:o,oldValue:s,oldTarget:l};if(f.length===1)f[0]&&triggerEffects(f[0],d);else{const v=[];for(const g of f)g&&v.push(...g);triggerEffects(createDep(v),d)}}function triggerEffects(n,r){for(const a of isArray(n)?n:[...n])(a!==activeEffect||a.allowRecurse)&&(a.onTrigger&&a.onTrigger(extend({effect:a},r)),a.scheduler?a.scheduler():a.run())}var isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const n={};return["includes","indexOf","lastIndexOf"].forEach(r=>{n[r]=function(...a){const o=toRaw(this);for(let l=0,u=this.length;l<u;l++)track(o,"get",l+"");const s=o[r](...a);return s===-1||s===!1?o[r](...a.map(toRaw)):s}}),["push","pop","shift","unshift","splice"].forEach(r=>{n[r]=function(...a){pauseTracking();const o=toRaw(this)[r].apply(this,a);return resetTracking(),o}}),n}function createGetter(n=!1,r=!1){return function(o,s,l){if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw"&&l===(n?r?shallowReadonlyMap:readonlyMap:r?shallowReactiveMap:reactiveMap).get(o))return o;const u=isArray(o);if(!n&&u&&hasOwn(arrayInstrumentations,s))return Reflect.get(arrayInstrumentations,s,l);const f=Reflect.get(o,s,l);return(isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(n||track(o,"get",s),r)?f:isRef(f)?!u||!isIntegerKey(s)?f.value:f:isObject(f)?n?readonly(f):reactive(f):f}}var set=createSetter(),shallowSet=createSetter(!0);function createSetter(n=!1){return function(a,o,s,l){let u=a[o];if(isReadonly(u)&&isRef(u)&&!isRef(s))return!1;if(!n&&!isReadonly(s)&&(isShallow(s)||(s=toRaw(s),u=toRaw(u)),!isArray(a)&&isRef(u)&&!isRef(s)))return u.value=s,!0;const f=isArray(a)&&isIntegerKey(o)?Number(o)<a.length:hasOwn(a,o),d=Reflect.set(a,o,s,l);return a===toRaw(l)&&(f?hasChanged(s,u)&&trigger(a,"set",o,s,u):trigger(a,"add",o,s)),d}}function deleteProperty(n,r){const a=hasOwn(n,r),o=n[r],s=Reflect.deleteProperty(n,r);return s&&a&&trigger(n,"delete",r,void 0,o),s}function has(n,r){const a=Reflect.has(n,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(n,"has",r),a}function ownKeys(n){return track(n,"iterate",isArray(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}var mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(n,r){return console.warn(`Set operation on key "${String(r)}" failed: target is readonly.`,n),!0},deleteProperty(n,r){return console.warn(`Delete operation on key "${String(r)}" failed: target is readonly.`,n),!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=n=>n,getProto=n=>Reflect.getPrototypeOf(n);function get$1(n,r,a=!1,o=!1){n=n.__v_raw;const s=toRaw(n),l=toRaw(r);r!==l&&!a&&track(s,"get",r),!a&&track(s,"get",l);const{has:u}=getProto(s),f=o?toShallow:a?toReadonly:toReactive;if(u.call(s,r))return f(n.get(r));if(u.call(s,l))return f(n.get(l));n!==s&&n.get(r)}function has$1(n,r=!1){const a=this.__v_raw,o=toRaw(a),s=toRaw(n);return n!==s&&!r&&track(o,"has",n),!r&&track(o,"has",s),n===s?a.has(n):a.has(n)||a.has(s)}function size(n,r=!1){return n=n.__v_raw,!r&&track(toRaw(n),"iterate",ITERATE_KEY),Reflect.get(n,"size",n)}function add(n){n=toRaw(n);const r=toRaw(this);return getProto(r).has.call(r,n)||(r.add(n),trigger(r,"add",n,n)),this}function set$1(n,r){r=toRaw(r);const a=toRaw(this),{has:o,get:s}=getProto(a);let l=o.call(a,n);l?checkIdentityKeys(a,o,n):(n=toRaw(n),l=o.call(a,n));const u=s.call(a,n);return a.set(n,r),l?hasChanged(r,u)&&trigger(a,"set",n,r,u):trigger(a,"add",n,r),this}function deleteEntry(n){const r=toRaw(this),{has:a,get:o}=getProto(r);let s=a.call(r,n);s?checkIdentityKeys(r,a,n):(n=toRaw(n),s=a.call(r,n));const l=o?o.call(r,n):void 0,u=r.delete(n);return s&&trigger(r,"delete",n,void 0,l),u}function clear(){const n=toRaw(this),r=n.size!==0,a=isMap(n)?new Map(n):new Set(n),o=n.clear();return r&&trigger(n,"clear",void 0,void 0,a),o}function createForEach(n,r){return function(o,s){const l=this,u=l.__v_raw,f=toRaw(u),d=r?toShallow:n?toReadonly:toReactive;return!n&&track(f,"iterate",ITERATE_KEY),u.forEach((v,g)=>o.call(s,d(v),d(g),l))}}function createIterableMethod(n,r,a){return function(...o){const s=this.__v_raw,l=toRaw(s),u=isMap(l),f=n==="entries"||n===Symbol.iterator&&u,d=n==="keys"&&u,v=s[n](...o),g=a?toShallow:r?toReadonly:toReactive;return!r&&track(l,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:y,done:b}=v.next();return b?{value:y,done:b}:{value:f?[g(y[0]),g(y[1])]:g(y),done:b}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(n){return function(...r){{const a=r[0]?`on key "${r[0]}" `:"";console.warn(`${capitalize(n)} operation ${a}failed: target is readonly.`,toRaw(this))}return n==="delete"?!1:this}}function createInstrumentations(){const n={get(l){return get$1(this,l)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},r={get(l){return get$1(this,l,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},a={get(l){return get$1(this,l,!0)},get size(){return size(this,!0)},has(l){return has$1.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},o={get(l){return get$1(this,l,!0,!0)},get size(){return size(this,!0)},has(l){return has$1.call(this,l,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{n[l]=createIterableMethod(l,!1,!1),a[l]=createIterableMethod(l,!0,!1),r[l]=createIterableMethod(l,!1,!0),o[l]=createIterableMethod(l,!0,!0)}),[n,a,r,o]}var[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(n,r){const a=r?n?shallowReadonlyInstrumentations:shallowInstrumentations:n?readonlyInstrumentations:mutableInstrumentations;return(o,s,l)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?o:Reflect.get(hasOwn(a,s)&&s in o?a:o,s,l)}var mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)};function checkIdentityKeys(n,r,a){const o=toRaw(a);if(o!==a&&r.call(n,o)){const s=toRawType(n);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(n){return n.__v_skip||!Object.isExtensible(n)?0:targetTypeMap(toRawType(n))}function reactive(n){return isReadonly(n)?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(n){return createReactiveObject(n,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(n){return createReactiveObject(n,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(n,r,a,o,s){if(!isObject(n))return console.warn(`value cannot be made reactive: ${String(n)}`),n;if(n.__v_raw&&!(r&&n.__v_isReactive))return n;const l=s.get(n);if(l)return l;const u=getTargetType(n);if(u===0)return n;const f=new Proxy(n,u===2?o:a);return s.set(n,f),f}function isReactive(n){return isReadonly(n)?isReactive(n.__v_raw):!!(n&&n.__v_isReactive)}function isReadonly(n){return!!(n&&n.__v_isReadonly)}function isShallow(n){return!!(n&&n.__v_isShallow)}function isProxy(n){return isReactive(n)||isReadonly(n)}function toRaw(n){const r=n&&n.__v_raw;return r?toRaw(r):n}function markRaw(n){return def(n,"__v_skip",!0),n}var toReactive=n=>isObject(n)?reactive(n):n,toReadonly=n=>isObject(n)?readonly(n):n;function trackRefValue(n){shouldTrack&&activeEffect&&(n=toRaw(n),trackEffects(n.dep||(n.dep=createDep()),{target:n,type:"get",key:"value"}))}function triggerRefValue(n,r){n=toRaw(n),n.dep&&triggerEffects(n.dep,{target:n,type:"set",key:"value",newValue:r})}function isRef(n){return!!(n&&n.__v_isRef===!0)}function ref(n){return createRef(n,!1)}function createRef(n,r){return isRef(n)?n:new RefImpl(n,r)}var RefImpl=class{constructor(n,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?n:toRaw(n),this._value=r?n:toReactive(n)}get value(){return trackRefValue(this),this._value}set value(n){n=this.__v_isShallow?n:toRaw(n),hasChanged(n,this._rawValue)&&(this._rawValue=n,this._value=this.__v_isShallow?n:toReactive(n),triggerRefValue(this,n))}};function unref(n){return isRef(n)?n.value:n}var shallowUnwrapHandlers={get:(n,r,a)=>unref(Reflect.get(n,r,a)),set:(n,r,a,o)=>{const s=n[r];return isRef(s)&&!isRef(a)?(s.value=a,!0):Reflect.set(n,r,a,o)}};function proxyRefs(n){return isReactive(n)?n:new Proxy(n,shallowUnwrapHandlers)}var ObjectRefImpl=class{constructor(n,r,a){this._object=n,this._key=r,this._defaultValue=a,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}};function toRef(n,r,a){const o=n[r];return isRef(o)?o:new ObjectRefImpl(n,r,a)}var ComputedRefImpl=class{constructor(n,r,a,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(n,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=a}get value(){const n=toRaw(this);return trackRefValue(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}};function computed(n,r,a=!1){let o,s;const l=isFunction(n);l?(o=n,s=()=>{console.warn("Write operation failed: computed value is readonly")}):(o=n.get,s=n.set);const u=new ComputedRefImpl(o,s,l||!s,a);return r&&!a&&(u.effect.onTrack=r.onTrack,u.effect.onTrigger=r.onTrigger),u}var _a,tick=Promise.resolve();_a="__v_isReadonly";var stack=[];function pushWarningContext(n){stack.push(n)}function popWarningContext(){stack.pop()}function warn2(n,...r){pauseTracking();const a=stack.length?stack[stack.length-1].component:null,o=a&&a.appContext.config.warnHandler,s=getComponentTrace();if(o)callWithErrorHandling(o,a,11,[n+r.join(""),a&&a.proxy,s.map(({vnode:l})=>`at <${formatComponentName(a,l.type)}>`).join(`
`),s]);else{const l=[`[Vue warn]: ${n}`,...r];s.length&&l.push(`
`,...formatTrace(s)),console.warn(...l)}resetTracking()}function getComponentTrace(){let n=stack[stack.length-1];if(!n)return[];const r=[];for(;n;){const a=r[0];a&&a.vnode===n?a.recurseCount++:r.push({vnode:n,recurseCount:0});const o=n.component&&n.component.parent;n=o&&o.vnode}return r}function formatTrace(n){const r=[];return n.forEach((a,o)=>{r.push(...o===0?[]:[`
`],...formatTraceEntry(a))}),r}function formatTraceEntry({vnode:n,recurseCount:r}){const a=r>0?`... (${r} recursive calls)`:"",o=n.component?n.component.parent==null:!1,s=` at <${formatComponentName(n.component,n.type,o)}`,l=">"+a;return n.props?[s,...formatProps(n.props),l]:[s+l]}function formatProps(n){const r=[],a=Object.keys(n);return a.slice(0,3).forEach(o=>{r.push(...formatProp(o,n[o]))}),a.length>3&&r.push(" ..."),r}function formatProp(n,r,a){return isString(r)?(r=JSON.stringify(r),a?r:[`${n}=${r}`]):typeof r=="number"||typeof r=="boolean"||r==null?a?r:[`${n}=${r}`]:isRef(r)?(r=formatProp(n,toRaw(r.value),!0),a?r:[`${n}=Ref<`,r,">"]):isFunction(r)?[`${n}=fn${r.name?`<${r.name}>`:""}`]:(r=toRaw(r),a?r:[`${n}=`,r])}var ErrorTypeStrings={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function callWithErrorHandling(n,r,a,o){let s;try{s=o?n(...o):n()}catch(l){handleError(l,r,a)}return s}function callWithAsyncErrorHandling(n,r,a,o){if(isFunction(n)){const l=callWithErrorHandling(n,r,a,o);return l&&isPromise(l)&&l.catch(u=>{handleError(u,r,a)}),l}const s=[];for(let l=0;l<n.length;l++)s.push(callWithAsyncErrorHandling(n[l],r,a,o));return s}function handleError(n,r,a,o=!0){const s=r?r.vnode:null;if(r){let l=r.parent;const u=r.proxy,f=ErrorTypeStrings[a];for(;l;){const v=l.ec;if(v){for(let g=0;g<v.length;g++)if(v[g](n,u,f)===!1)return}l=l.parent}const d=r.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[n,u,f]);return}}logError(n,a,s,o)}function logError(n,r,a,o=!0){{const s=ErrorTypeStrings[r];if(a&&pushWarningContext(a),warn2(`Unhandled error${s?` during execution of ${s}`:""}`),a&&popWarningContext(),o)throw n;console.error(n)}}var isFlushing=!1,isFlushPending=!1,queue=[],flushIndex=0,pendingPreFlushCbs=[],activePreFlushCbs=null,preFlushIndex=0,pendingPostFlushCbs=[],activePostFlushCbs=null,postFlushIndex=0,resolvedPromise=Promise.resolve(),currentFlushPromise=null,currentPreFlushParentJob=null,RECURSION_LIMIT=100;function nextTick(n){const r=currentFlushPromise||resolvedPromise;return n?r.then(this?n.bind(this):n):r}function findInsertionIndex(n){let r=flushIndex+1,a=queue.length;for(;r<a;){const o=r+a>>>1;getId(queue[o])<n?r=o+1:a=o}return r}function queueJob(n){(!queue.length||!queue.includes(n,isFlushing&&n.allowRecurse?flushIndex+1:flushIndex))&&n!==currentPreFlushParentJob&&(n.id==null?queue.push(n):queue.splice(findInsertionIndex(n.id),0,n),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(n){const r=queue.indexOf(n);r>flushIndex&&queue.splice(r,1)}function queueCb(n,r,a,o){isArray(n)?a.push(...n):(!r||!r.includes(n,n.allowRecurse?o+1:o))&&a.push(n),queueFlush()}function queuePreFlushCb(n){queueCb(n,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(n){queueCb(n,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(n,r=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=r,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,n=n||new Map,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)checkRecursiveUpdates(n,activePreFlushCbs[preFlushIndex])||activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(n,r)}}function flushPostFlushCbs(n){if(pendingPostFlushCbs.length){const r=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...r);return}for(activePostFlushCbs=r,n=n||new Map,activePostFlushCbs.sort((a,o)=>getId(a)-getId(o)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)checkRecursiveUpdates(n,activePostFlushCbs[postFlushIndex])||activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}var getId=n=>n.id==null?1/0:n.id;function flushJobs(n){isFlushPending=!1,isFlushing=!0,n=n||new Map,flushPreFlushCbs(n),queue.sort((a,o)=>getId(a)-getId(o));const r=a=>checkRecursiveUpdates(n,a);try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const a=queue[flushIndex];if(a&&a.active!==!1){if(r(a))continue;callWithErrorHandling(a,null,14)}}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(n),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(n)}}function checkRecursiveUpdates(n,r){if(!n.has(r))n.set(r,1);else{const a=n.get(r);if(a>RECURSION_LIMIT){const o=r.ownerInstance,s=o&&getComponentName(o.type);return warn2(`Maximum recursive updates exceeded${s?` in component <${s}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else n.set(r,a+1)}}var isHmrUpdating=!1,hmrDirtyComponents=new Set;getGlobalThis().__VUE_HMR_RUNTIME__={createRecord:tryWrap(createRecord),rerender:tryWrap(rerender),reload:tryWrap(reload)};var map=new Map;function registerHMR(n){const r=n.type.__hmrId;let a=map.get(r);a||(createRecord(r,n.type),a=map.get(r)),a.instances.add(n)}function unregisterHMR(n){map.get(n.type.__hmrId).instances.delete(n)}function createRecord(n,r){return map.has(n)?!1:(map.set(n,{initialDef:normalizeClassComponent(r),instances:new Set}),!0)}function normalizeClassComponent(n){return isClassComponent(n)?n.__vccOpts:n}function rerender(n,r){const a=map.get(n);!a||(a.initialDef.render=r,[...a.instances].forEach(o=>{r&&(o.render=r,normalizeClassComponent(o.type).render=r),o.renderCache=[],isHmrUpdating=!0,o.update(),isHmrUpdating=!1}))}function reload(n,r){const a=map.get(n);if(!a)return;r=normalizeClassComponent(r),updateComponentDef(a.initialDef,r);const o=[...a.instances];for(const s of o){const l=normalizeClassComponent(s.type);hmrDirtyComponents.has(l)||(l!==a.initialDef&&updateComponentDef(l,r),hmrDirtyComponents.add(l)),s.appContext.optionsCache.delete(s.type),s.ceReload?(hmrDirtyComponents.add(l),s.ceReload(r.styles),hmrDirtyComponents.delete(l)):s.parent?(queueJob(s.parent.update),s.parent.type.__asyncLoader&&s.parent.ceReload&&s.parent.ceReload(r.styles)):s.appContext.reload?s.appContext.reload():typeof window!="undefined"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}queuePostFlushCb(()=>{for(const s of o)hmrDirtyComponents.delete(normalizeClassComponent(s.type))})}function updateComponentDef(n,r){extend(n,r);for(const a in n)a!=="__file"&&!(a in r)&&delete n[a]}function tryWrap(n){return(r,a)=>{try{return n(r,a)}catch(o){console.error(o),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}var devtools,buffer=[],devtoolsNotInstalled=!1;function emit(n,...r){devtools?devtools.emit(n,...r):devtoolsNotInstalled||buffer.push({event:n,args:r})}function setDevtoolsHook(n,r){var a,o;devtools=n,devtools?(devtools.enabled=!0,buffer.forEach(({event:s,args:l})=>devtools.emit(s,...l)),buffer=[]):typeof window!="undefined"&&window.HTMLElement&&!((o=(a=window.navigator)===null||a===void 0?void 0:a.userAgent)===null||o===void 0?void 0:o.includes("jsdom"))?((r.__VUE_DEVTOOLS_HOOK_REPLAY__=r.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{setDevtoolsHook(l,r)}),setTimeout(()=>{devtools||(r.__VUE_DEVTOOLS_HOOK_REPLAY__=null,devtoolsNotInstalled=!0,buffer=[])},3e3)):(devtoolsNotInstalled=!0,buffer=[])}function devtoolsInitApp(n,r){emit("app:init",n,r,{Fragment,Text,Comment,Static})}function devtoolsUnmountApp(n){emit("app:unmount",n)}var devtoolsComponentAdded=createDevtoolsComponentHook("component:added"),devtoolsComponentUpdated=createDevtoolsComponentHook("component:updated"),devtoolsComponentRemoved=createDevtoolsComponentHook("component:removed");function createDevtoolsComponentHook(n){return r=>{emit(n,r.appContext.app,r.uid,r.parent?r.parent.uid:void 0,r)}}var devtoolsPerfStart=createDevtoolsPerformanceHook("perf:start"),devtoolsPerfEnd=createDevtoolsPerformanceHook("perf:end");function createDevtoolsPerformanceHook(n){return(r,a,o)=>{emit(n,r.appContext.app,r.uid,r,a,o)}}function devtoolsComponentEmit(n,r,a){emit("component:emit",n.appContext.app,n,r,a)}function emit$1(n,r,...a){const o=n.vnode.props||EMPTY_OBJ;{const{emitsOptions:g,propsOptions:[y]}=n;if(g)if(!(r in g))(!y||!(toHandlerKey(r)in y))&&warn2(`Component emitted event "${r}" but it is neither declared in the emits option nor as an "${toHandlerKey(r)}" prop.`);else{const b=g[r];isFunction(b)&&(b(...a)||warn2(`Invalid event arguments: event validation failed for event "${r}".`))}}let s=a;const l=r.startsWith("update:"),u=l&&r.slice(7);if(u&&u in o){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:y,trim:b}=o[g]||EMPTY_OBJ;b?s=a.map(_=>_.trim()):y&&(s=a.map(toNumber))}devtoolsComponentEmit(n,r,s);{const g=r.toLowerCase();g!==r&&o[toHandlerKey(g)]&&warn2(`Event "${g}" is emitted in component ${formatComponentName(n,n.type)} but the handler is registered for "${r}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${hyphenate(r)}" instead of "${r}".`)}let f,d=o[f=toHandlerKey(r)]||o[f=toHandlerKey(camelize(r))];!d&&l&&(d=o[f=toHandlerKey(hyphenate(r))]),d&&callWithAsyncErrorHandling(d,n,6,s);const v=o[f+"Once"];if(v){if(!n.emitted)n.emitted={};else if(n.emitted[f])return;n.emitted[f]=!0,callWithAsyncErrorHandling(v,n,6,s)}}function normalizeEmitsOptions(n,r,a=!1){const o=r.emitsCache,s=o.get(n);if(s!==void 0)return s;const l=n.emits;let u={},f=!1;if(!isFunction(n)){const d=v=>{const g=normalizeEmitsOptions(v,r,!0);g&&(f=!0,extend(u,g))};!a&&r.mixins.length&&r.mixins.forEach(d),n.extends&&d(n.extends),n.mixins&&n.mixins.forEach(d)}return!l&&!f?(o.set(n,null),null):(isArray(l)?l.forEach(d=>u[d]=null):extend(u,l),o.set(n,u),u)}function isEmitListener(n,r){return!n||!isOn(r)?!1:(r=r.slice(2).replace(/Once$/,""),hasOwn(n,r[0].toLowerCase()+r.slice(1))||hasOwn(n,hyphenate(r))||hasOwn(n,r))}var currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(n){const r=currentRenderingInstance;return currentRenderingInstance=n,currentScopeId=n&&n.type.__scopeId||null,r}function withCtx(n,r=currentRenderingInstance,a){if(!r||n._n)return n;const o=(...s)=>{o._d&&setBlockTracking(-1);const l=setCurrentRenderingInstance(r),u=n(...s);return setCurrentRenderingInstance(l),o._d&&setBlockTracking(1),devtoolsComponentUpdated(r),u};return o._n=!0,o._c=!0,o._d=!0,o}var accessedAttrs=!1;function markAttrsAccessed(){accessedAttrs=!0}function renderComponentRoot(n){const{type:r,vnode:a,proxy:o,withProxy:s,props:l,propsOptions:[u],slots:f,attrs:d,emit:v,render:g,renderCache:y,data:b,setupState:_,ctx:x,inheritAttrs:C}=n;let w,S;const D=setCurrentRenderingInstance(n);accessedAttrs=!1;try{if(a.shapeFlag&4){const M=s||o;w=normalizeVNode(g.call(M,M,y,l,_,b,x)),S=d}else{const M=r;d===l&&markAttrsAccessed(),w=normalizeVNode(M.length>1?M(l,{get attrs(){return markAttrsAccessed(),d},slots:f,emit:v}):M(l,null)),S=r.props?d:getFunctionalFallthrough(d)}}catch(M){blockStack.length=0,handleError(M,n,1),w=createVNode(Comment)}let A=w,T;if(w.patchFlag>0&&w.patchFlag&2048&&([A,T]=getChildRoot(w)),S&&C!==!1){const M=Object.keys(S),{shapeFlag:E}=A;if(M.length){if(E&(1|6))u&&M.some(isModelListener)&&(S=filterModelListeners(S,u)),A=cloneVNode(A,S);else if(!accessedAttrs&&A.type!==Comment){const P=Object.keys(d),I=[],F=[];for(let L=0,O=P.length;L<O;L++){const z=P[L];isOn(z)?isModelListener(z)||I.push(z[2].toLowerCase()+z.slice(3)):F.push(z)}F.length&&warn2(`Extraneous non-props attributes (${F.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),I.length&&warn2(`Extraneous non-emits event listeners (${I.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return a.dirs&&(isElementRoot(A)||warn2("Runtime directive used on component with non-element root node. The directives will not function as intended."),A.dirs=A.dirs?A.dirs.concat(a.dirs):a.dirs),a.transition&&(isElementRoot(A)||warn2("Component inside <Transition> renders non-element root node that cannot be animated."),A.transition=a.transition),T?T(A):w=A,setCurrentRenderingInstance(D),w}var getChildRoot=n=>{const r=n.children,a=n.dynamicChildren,o=filterSingleRoot(r);if(!o)return[n,void 0];const s=r.indexOf(o),l=a?a.indexOf(o):-1,u=f=>{r[s]=f,a&&(l>-1?a[l]=f:f.patchFlag>0&&(n.dynamicChildren=[...a,f]))};return[normalizeVNode(o),u]};function filterSingleRoot(n){let r;for(let a=0;a<n.length;a++){const o=n[a];if(isVNode(o)){if(o.type!==Comment||o.children==="v-if"){if(r)return;r=o}}else return}return r}var getFunctionalFallthrough=n=>{let r;for(const a in n)(a==="class"||a==="style"||isOn(a))&&((r||(r={}))[a]=n[a]);return r},filterModelListeners=(n,r)=>{const a={};for(const o in n)(!isModelListener(o)||!(o.slice(9)in r))&&(a[o]=n[o]);return a},isElementRoot=n=>n.shapeFlag&(6|1)||n.type===Comment;function shouldUpdateComponent(n,r,a){const{props:o,children:s,component:l}=n,{props:u,children:f,patchFlag:d}=r,v=l.emitsOptions;if((s||f)&&isHmrUpdating||r.dirs||r.transition)return!0;if(a&&d>=0){if(d&1024)return!0;if(d&16)return o?hasPropsChanged(o,u,v):!!u;if(d&8){const g=r.dynamicProps;for(let y=0;y<g.length;y++){const b=g[y];if(u[b]!==o[b]&&!isEmitListener(v,b))return!0}}}else return(s||f)&&(!f||!f.$stable)?!0:o===u?!1:o?u?hasPropsChanged(o,u,v):!0:!!u;return!1}function hasPropsChanged(n,r,a){const o=Object.keys(r);if(o.length!==Object.keys(n).length)return!0;for(let s=0;s<o.length;s++){const l=o[s];if(r[l]!==n[l]&&!isEmitListener(a,l))return!0}return!1}function updateHOCHostEl({vnode:n,parent:r},a){for(;r&&r.subTree===n;)(n=r.vnode).el=a,r=r.parent}var isSuspense=n=>n.__isSuspense;function queueEffectWithSuspense(n,r){r&&r.pendingBranch?isArray(n)?r.effects.push(...n):r.effects.push(n):queuePostFlushCb(n)}function provide(n,r){if(!currentInstance)warn2("provide() can only be used inside setup().");else{let a=currentInstance.provides;const o=currentInstance.parent&&currentInstance.parent.provides;o===a&&(a=currentInstance.provides=Object.create(o)),a[n]=r}}function inject(n,r,a=!1){const o=currentInstance||currentRenderingInstance;if(o){const s=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(s&&n in s)return s[n];if(arguments.length>1)return a&&isFunction(r)?r.call(o.proxy):r;warn2(`injection "${String(n)}" not found.`)}else warn2("inject() can only be used inside setup() or functional components.")}function watchEffect(n,r){return doWatch(n,null,r)}var INITIAL_WATCHER_VALUE={};function watch(n,r,a){return isFunction(r)||warn2("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),doWatch(n,r,a)}function doWatch(n,r,{immediate:a,deep:o,flush:s,onTrack:l,onTrigger:u}=EMPTY_OBJ){r||(a!==void 0&&warn2('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&warn2('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const f=D=>{warn2("Invalid watch source: ",D,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},d=currentInstance;let v,g=!1,y=!1;if(isRef(n)?(v=()=>n.value,g=isShallow(n)):isReactive(n)?(v=()=>n,o=!0):isArray(n)?(y=!0,g=n.some(isReactive),v=()=>n.map(D=>{if(isRef(D))return D.value;if(isReactive(D))return traverse(D);if(isFunction(D))return callWithErrorHandling(D,d,2);f(D)})):isFunction(n)?r?v=()=>callWithErrorHandling(n,d,2):v=()=>{if(!(d&&d.isUnmounted))return b&&b(),callWithAsyncErrorHandling(n,d,3,[_])}:(v=NOOP,f(n)),r&&o){const D=v;v=()=>traverse(D())}let b,_=D=>{b=S.onStop=()=>{callWithErrorHandling(D,d,4)}};if(isInSSRComponentSetup)return _=NOOP,r?a&&callWithAsyncErrorHandling(r,d,3,[v(),y?[]:void 0,_]):v(),NOOP;let x=y?[]:INITIAL_WATCHER_VALUE;const C=()=>{if(!!S.active)if(r){const D=S.run();(o||g||(y?D.some((A,T)=>hasChanged(A,x[T])):hasChanged(D,x)))&&(b&&b(),callWithAsyncErrorHandling(r,d,3,[D,x===INITIAL_WATCHER_VALUE?void 0:x,_]),x=D)}else S.run()};C.allowRecurse=!!r;let w;s==="sync"?w=C:s==="post"?w=()=>queuePostRenderEffect(C,d&&d.suspense):w=()=>{!d||d.isMounted?queuePreFlushCb(C):C()};const S=new ReactiveEffect(v,w);return S.onTrack=l,S.onTrigger=u,r?a?C():x=S.run():s==="post"?queuePostRenderEffect(S.run.bind(S),d&&d.suspense):S.run(),()=>{S.stop(),d&&d.scope&&remove(d.scope.effects,S)}}function instanceWatch(n,r,a){const o=this.proxy,s=isString(n)?n.includes(".")?createPathGetter(o,n):()=>o[n]:n.bind(o,o);let l;isFunction(r)?l=r:(l=r.handler,a=r);const u=currentInstance;setCurrentInstance(this);const f=doWatch(s,l.bind(o),a);return u?setCurrentInstance(u):unsetCurrentInstance(),f}function createPathGetter(n,r){const a=r.split(".");return()=>{let o=n;for(let s=0;s<a.length&&o;s++)o=o[a[s]];return o}}function traverse(n,r){if(!isObject(n)||n.__v_skip||(r=r||new Set,r.has(n)))return n;if(r.add(n),isRef(n))traverse(n.value,r);else if(isArray(n))for(let a=0;a<n.length;a++)traverse(n[a],r);else if(isSet(n)||isMap(n))n.forEach(a=>{traverse(a,r)});else if(isPlainObject(n))for(const a in n)traverse(n[a],r);return n}function useTransitionState(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{n.isMounted=!0}),onBeforeUnmount(()=>{n.isUnmounting=!0}),n}var TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(n,{slots:r}){const a=getCurrentInstance(),o=useTransitionState();let s;return()=>{const l=r.default&&getTransitionRawChildren(r.default(),!0);if(!l||!l.length)return;l.length>1&&warn2("<transition> can only be used on a single element or component. Use <transition-group> for lists.");const u=toRaw(n),{mode:f}=u;f&&f!=="in-out"&&f!=="out-in"&&f!=="default"&&warn2(`invalid <transition> mode: ${f}`);const d=l[0];if(o.isLeaving)return emptyPlaceholder(d);const v=getKeepAliveChild(d);if(!v)return emptyPlaceholder(d);const g=resolveTransitionHooks(v,u,o,a);setTransitionHooks(v,g);const y=a.subTree,b=y&&getKeepAliveChild(y);let _=!1;const{getTransitionKey:x}=v.type;if(x){const C=x();s===void 0?s=C:C!==s&&(s=C,_=!0)}if(b&&b.type!==Comment&&(!isSameVNodeType(v,b)||_)){const C=resolveTransitionHooks(b,u,o,a);if(setTransitionHooks(b,C),f==="out-in")return o.isLeaving=!0,C.afterLeave=()=>{o.isLeaving=!1,a.update()},emptyPlaceholder(d);f==="in-out"&&v.type!==Comment&&(C.delayLeave=(w,S,D)=>{const A=getLeavingNodesForType(o,b);A[String(b.key)]=b,w._leaveCb=()=>{S(),w._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=D})}return d}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(n,r){const{leavingVNodes:a}=n;let o=a.get(r.type);return o||(o=Object.create(null),a.set(r.type,o)),o}function resolveTransitionHooks(n,r,a,o){const{appear:s,mode:l,persisted:u=!1,onBeforeEnter:f,onEnter:d,onAfterEnter:v,onEnterCancelled:g,onBeforeLeave:y,onLeave:b,onAfterLeave:_,onLeaveCancelled:x,onBeforeAppear:C,onAppear:w,onAfterAppear:S,onAppearCancelled:D}=r,A=String(n.key),T=getLeavingNodesForType(a,n),M=(P,I)=>{P&&callWithAsyncErrorHandling(P,o,9,I)},E={mode:l,persisted:u,beforeEnter(P){let I=f;if(!a.isMounted)if(s)I=C||f;else return;P._leaveCb&&P._leaveCb(!0);const F=T[A];F&&isSameVNodeType(n,F)&&F.el._leaveCb&&F.el._leaveCb(),M(I,[P])},enter(P){let I=d,F=v,L=g;if(!a.isMounted)if(s)I=w||d,F=S||v,L=D||g;else return;let O=!1;const z=P._enterCb=R=>{O||(O=!0,R?M(L,[P]):M(F,[P]),E.delayedLeave&&E.delayedLeave(),P._enterCb=void 0)};I?(I(P,z),I.length<=1&&z()):z()},leave(P,I){const F=String(n.key);if(P._enterCb&&P._enterCb(!0),a.isUnmounting)return I();M(y,[P]);let L=!1;const O=P._leaveCb=z=>{L||(L=!0,I(),z?M(x,[P]):M(_,[P]),P._leaveCb=void 0,T[F]===n&&delete T[F])};T[F]=n,b?(b(P,O),b.length<=1&&O()):O()},clone(P){return resolveTransitionHooks(P,r,a,o)}};return E}function emptyPlaceholder(n){if(isKeepAlive(n))return n=cloneVNode(n),n.children=null,n}function getKeepAliveChild(n){return isKeepAlive(n)?n.children?n.children[0]:void 0:n}function setTransitionHooks(n,r){n.shapeFlag&6&&n.component?setTransitionHooks(n.component.subTree,r):n.shapeFlag&128?(n.ssContent.transition=r.clone(n.ssContent),n.ssFallback.transition=r.clone(n.ssFallback)):n.transition=r}function getTransitionRawChildren(n,r=!1){let a=[],o=0;for(let s=0;s<n.length;s++){const l=n[s];l.type===Fragment?(l.patchFlag&128&&o++,a=a.concat(getTransitionRawChildren(l.children,r))):(r||l.type!==Comment)&&a.push(l)}if(o>1)for(let s=0;s<a.length;s++)a[s].patchFlag=-2;return a}function defineComponent(n){return isFunction(n)?{setup:n,name:n.name}:n}var isAsyncWrapper=n=>!!n.type.__asyncLoader,isKeepAlive=n=>n.type.__isKeepAlive;function onActivated(n,r){registerKeepAliveHook(n,"a",r)}function onDeactivated(n,r){registerKeepAliveHook(n,"da",r)}function registerKeepAliveHook(n,r,a=currentInstance){const o=n.__wdc||(n.__wdc=()=>{let s=a;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(injectHook(r,o,a),a){let s=a.parent;for(;s&&s.parent;)isKeepAlive(s.parent.vnode)&&injectToKeepAliveRoot(o,r,a,s),s=s.parent}}function injectToKeepAliveRoot(n,r,a,o){const s=injectHook(r,n,o,!0);onUnmounted(()=>{remove(o[r],s)},a)}function injectHook(n,r,a=currentInstance,o=!1){if(a){const s=a[n]||(a[n]=[]),l=r.__weh||(r.__weh=(...u)=>{if(a.isUnmounted)return;pauseTracking(),setCurrentInstance(a);const f=callWithAsyncErrorHandling(r,a,n,u);return unsetCurrentInstance(),resetTracking(),f});return o?s.unshift(l):s.push(l),l}else{const s=toHandlerKey(ErrorTypeStrings[n].replace(/ hook$/,""));warn2(`${s} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}var createHook=n=>(r,a=currentInstance)=>(!isInSSRComponentSetup||n==="sp")&&injectHook(n,r,a),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(n,r=currentInstance){injectHook("ec",n,r)}function createDuplicateChecker(){const n=Object.create(null);return(r,a)=>{n[a]?warn2(`${r} property "${a}" is already defined in ${n[a]}.`):n[a]=r}}var shouldCacheAccess=!0;function applyOptions(n){const r=resolveMergedOptions(n),a=n.proxy,o=n.ctx;shouldCacheAccess=!1,r.beforeCreate&&callHook(r.beforeCreate,n,"bc");const{data:s,computed:l,methods:u,watch:f,provide:d,inject:v,created:g,beforeMount:y,mounted:b,beforeUpdate:_,updated:x,activated:C,deactivated:w,beforeDestroy:S,beforeUnmount:D,destroyed:A,unmounted:T,render:M,renderTracked:E,renderTriggered:P,errorCaptured:I,serverPrefetch:F,expose:L,inheritAttrs:O,components:z,directives:R,filters:B}=r,N=createDuplicateChecker();{const[W]=n.propsOptions;if(W)for(const V in W)N("Props",V)}if(v&&resolveInjections(v,o,N,n.appContext.config.unwrapInjectedRef),u)for(const W in u){const V=u[W];isFunction(V)?(Object.defineProperty(o,W,{value:V.bind(a),configurable:!0,enumerable:!0,writable:!0}),N("Methods",W)):warn2(`Method "${W}" has type "${typeof V}" in the component definition. Did you reference the function correctly?`)}if(s){isFunction(s)||warn2("The data option must be a function. Plain object usage is no longer supported.");const W=s.call(a,a);if(isPromise(W)&&warn2("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!isObject(W))warn2("data() should return an object.");else{n.data=reactive(W);for(const V in W)N("Data",V),V[0]!=="$"&&V[0]!=="_"&&Object.defineProperty(o,V,{configurable:!0,enumerable:!0,get:()=>W[V],set:NOOP})}}if(shouldCacheAccess=!0,l)for(const W in l){const V=l[W],G=isFunction(V)?V.bind(a,a):isFunction(V.get)?V.get.bind(a,a):NOOP;G===NOOP&&warn2(`Computed property "${W}" has no getter.`);const Y=!isFunction(V)&&isFunction(V.set)?V.set.bind(a):()=>{warn2(`Write operation failed: computed property "${W}" is readonly.`)},Q=computed2({get:G,set:Y});Object.defineProperty(o,W,{enumerable:!0,configurable:!0,get:()=>Q.value,set:q=>Q.value=q}),N("Computed",W)}if(f)for(const W in f)createWatcher(f[W],o,a,W);if(d){const W=isFunction(d)?d.call(a):d;Reflect.ownKeys(W).forEach(V=>{provide(V,W[V])})}g&&callHook(g,n,"c");function H(W,V){isArray(V)?V.forEach(G=>W(G.bind(a))):V&&W(V.bind(a))}if(H(onBeforeMount,y),H(onMounted,b),H(onBeforeUpdate,_),H(onUpdated,x),H(onActivated,C),H(onDeactivated,w),H(onErrorCaptured,I),H(onRenderTracked,E),H(onRenderTriggered,P),H(onBeforeUnmount,D),H(onUnmounted,T),H(onServerPrefetch,F),isArray(L))if(L.length){const W=n.exposed||(n.exposed={});L.forEach(V=>{Object.defineProperty(W,V,{get:()=>a[V],set:G=>a[V]=G})})}else n.exposed||(n.exposed={});M&&n.render===NOOP&&(n.render=M),O!=null&&(n.inheritAttrs=O),z&&(n.components=z),R&&(n.directives=R)}function resolveInjections(n,r,a=NOOP,o=!1){isArray(n)&&(n=normalizeInject(n));for(const s in n){const l=n[s];let u;isObject(l)?"default"in l?u=inject(l.from||s,l.default,!0):u=inject(l.from||s):u=inject(l),isRef(u)?o?Object.defineProperty(r,s,{enumerable:!0,configurable:!0,get:()=>u.value,set:f=>u.value=f}):(warn2(`injected property "${s}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),r[s]=u):r[s]=u,a("Inject",s)}}function callHook(n,r,a){callWithAsyncErrorHandling(isArray(n)?n.map(o=>o.bind(r.proxy)):n.bind(r.proxy),r,a)}function createWatcher(n,r,a,o){const s=o.includes(".")?createPathGetter(a,o):()=>a[o];if(isString(n)){const l=r[n];isFunction(l)?watch(s,l):warn2(`Invalid watch handler specified by key "${n}"`,l)}else if(isFunction(n))watch(s,n.bind(a));else if(isObject(n))if(isArray(n))n.forEach(l=>createWatcher(l,r,a,o));else{const l=isFunction(n.handler)?n.handler.bind(a):r[n.handler];isFunction(l)?watch(s,l,n):warn2(`Invalid watch handler specified by key "${n.handler}"`,l)}else warn2(`Invalid watch option: "${o}"`,n)}function resolveMergedOptions(n){const r=n.type,{mixins:a,extends:o}=r,{mixins:s,optionsCache:l,config:{optionMergeStrategies:u}}=n.appContext,f=l.get(r);let d;return f?d=f:!s.length&&!a&&!o?d=r:(d={},s.length&&s.forEach(v=>mergeOptions(d,v,u,!0)),mergeOptions(d,r,u)),l.set(r,d),d}function mergeOptions(n,r,a,o=!1){const{mixins:s,extends:l}=r;l&&mergeOptions(n,l,a,!0),s&&s.forEach(u=>mergeOptions(n,u,a,!0));for(const u in r)if(o&&u==="expose")warn2('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const f=internalOptionMergeStrats[u]||a&&a[u];n[u]=f?f(n[u],r[u]):r[u]}return n}var internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(n,r){return r?n?function(){return extend(isFunction(n)?n.call(this,this):n,isFunction(r)?r.call(this,this):r)}:r:n}function mergeInject(n,r){return mergeObjectOptions(normalizeInject(n),normalizeInject(r))}function normalizeInject(n){if(isArray(n)){const r={};for(let a=0;a<n.length;a++)r[n[a]]=n[a];return r}return n}function mergeAsArray(n,r){return n?[...new Set([].concat(n,r))]:r}function mergeObjectOptions(n,r){return n?extend(extend(Object.create(null),n),r):r}function mergeWatchOptions(n,r){if(!n)return r;if(!r)return n;const a=extend(Object.create(null),n);for(const o in r)a[o]=mergeAsArray(n[o],r[o]);return a}function initProps(n,r,a,o=!1){const s={},l={};def(l,InternalObjectKey,1),n.propsDefaults=Object.create(null),setFullProps(n,r,s,l);for(const u in n.propsOptions[0])u in s||(s[u]=void 0);validateProps(r||{},s,n),a?n.props=o?s:shallowReactive(s):n.type.props?n.props=s:n.props=l,n.attrs=l}function updateProps(n,r,a,o){const{props:s,attrs:l,vnode:{patchFlag:u}}=n,f=toRaw(s),[d]=n.propsOptions;let v=!1;if(!(n.type.__hmrId||n.parent&&n.parent.type.__hmrId)&&(o||u>0)&&!(u&16)){if(u&8){const g=n.vnode.dynamicProps;for(let y=0;y<g.length;y++){let b=g[y];const _=r[b];if(d)if(hasOwn(l,b))_!==l[b]&&(l[b]=_,v=!0);else{const x=camelize(b);s[x]=resolvePropValue(d,f,x,_,n,!1)}else _!==l[b]&&(l[b]=_,v=!0)}}}else{setFullProps(n,r,s,l)&&(v=!0);let g;for(const y in f)(!r||!hasOwn(r,y)&&((g=hyphenate(y))===y||!hasOwn(r,g)))&&(d?a&&(a[y]!==void 0||a[g]!==void 0)&&(s[y]=resolvePropValue(d,f,y,void 0,n,!0)):delete s[y]);if(l!==f)for(const y in l)(!r||!hasOwn(r,y)&&!0)&&(delete l[y],v=!0)}v&&trigger(n,"set","$attrs"),validateProps(r||{},s,n)}function setFullProps(n,r,a,o){const[s,l]=n.propsOptions;let u=!1,f;if(r)for(let d in r){if(isReservedProp(d))continue;const v=r[d];let g;s&&hasOwn(s,g=camelize(d))?!l||!l.includes(g)?a[g]=v:(f||(f={}))[g]=v:isEmitListener(n.emitsOptions,d)||(!(d in o)||v!==o[d])&&(o[d]=v,u=!0)}if(l){const d=toRaw(a),v=f||EMPTY_OBJ;for(let g=0;g<l.length;g++){const y=l[g];a[y]=resolvePropValue(s,d,y,v[y],n,!hasOwn(v,y))}}return u}function resolvePropValue(n,r,a,o,s,l){const u=n[a];if(u!=null){const f=hasOwn(u,"default");if(f&&o===void 0){const d=u.default;if(u.type!==Function&&isFunction(d)){const{propsDefaults:v}=s;a in v?o=v[a]:(setCurrentInstance(s),o=v[a]=d.call(null,r),unsetCurrentInstance())}else o=d}u[0]&&(l&&!f?o=!1:u[1]&&(o===""||o===hyphenate(a))&&(o=!0))}return o}function normalizePropsOptions(n,r,a=!1){const o=r.propsCache,s=o.get(n);if(s)return s;const l=n.props,u={},f=[];let d=!1;if(!isFunction(n)){const g=y=>{d=!0;const[b,_]=normalizePropsOptions(y,r,!0);extend(u,b),_&&f.push(..._)};!a&&r.mixins.length&&r.mixins.forEach(g),n.extends&&g(n.extends),n.mixins&&n.mixins.forEach(g)}if(!l&&!d)return o.set(n,EMPTY_ARR),EMPTY_ARR;if(isArray(l))for(let g=0;g<l.length;g++){isString(l[g])||warn2("props must be strings when using array syntax.",l[g]);const y=camelize(l[g]);validatePropName(y)&&(u[y]=EMPTY_OBJ)}else if(l){isObject(l)||warn2("invalid props options",l);for(const g in l){const y=camelize(g);if(validatePropName(y)){const b=l[g],_=u[y]=isArray(b)||isFunction(b)?{type:b}:b;if(_){const x=getTypeIndex(Boolean,_.type),C=getTypeIndex(String,_.type);_[0]=x>-1,_[1]=C<0||x<C,(x>-1||hasOwn(_,"default"))&&f.push(y)}}}}const v=[u,f];return o.set(n,v),v}function validatePropName(n){return n[0]!=="$"?!0:(warn2(`Invalid prop name: "${n}" is a reserved property.`),!1)}function getType(n){const r=n&&n.toString().match(/^\s*function (\w+)/);return r?r[1]:n===null?"null":""}function isSameType(n,r){return getType(n)===getType(r)}function getTypeIndex(n,r){return isArray(r)?r.findIndex(a=>isSameType(a,n)):isFunction(r)&&isSameType(r,n)?0:-1}function validateProps(n,r,a){const o=toRaw(r),s=a.propsOptions[0];for(const l in s){let u=s[l];u!=null&&validateProp(l,o[l],u,!hasOwn(n,l)&&!hasOwn(n,hyphenate(l)))}}function validateProp(n,r,a,o){const{type:s,required:l,validator:u}=a;if(l&&o){warn2('Missing required prop: "'+n+'"');return}if(!(r==null&&!a.required)){if(s!=null&&s!==!0){let f=!1;const d=isArray(s)?s:[s],v=[];for(let g=0;g<d.length&&!f;g++){const{valid:y,expectedType:b}=assertType(r,d[g]);v.push(b||""),f=y}if(!f){warn2(getInvalidTypeMessage(n,r,v));return}}u&&!u(r)&&warn2('Invalid prop: custom validator check failed for prop "'+n+'".')}}var isSimpleType=makeMap("String,Number,Boolean,Function,Symbol,BigInt");function assertType(n,r){let a;const o=getType(r);if(isSimpleType(o)){const s=typeof n;a=s===o.toLowerCase(),!a&&s==="object"&&(a=n instanceof r)}else o==="Object"?a=isObject(n):o==="Array"?a=isArray(n):o==="null"?a=n===null:a=n instanceof r;return{valid:a,expectedType:o}}function getInvalidTypeMessage(n,r,a){let o=`Invalid prop: type check failed for prop "${n}". Expected ${a.map(capitalize).join(" | ")}`;const s=a[0],l=toRawType(r),u=styleValue(r,s),f=styleValue(r,l);return a.length===1&&isExplicable(s)&&!isBoolean(s,l)&&(o+=` with value ${u}`),o+=`, got ${l} `,isExplicable(l)&&(o+=`with value ${f}.`),o}function styleValue(n,r){return r==="String"?`"${n}"`:r==="Number"?`${Number(n)}`:`${n}`}function isExplicable(n){return["string","number","boolean"].some(a=>n.toLowerCase()===a)}function isBoolean(...n){return n.some(r=>r.toLowerCase()==="boolean")}var isInternalKey=n=>n[0]==="_"||n==="$stable",normalizeSlotValue=n=>isArray(n)?n.map(normalizeVNode):[normalizeVNode(n)],normalizeSlot=(n,r,a)=>{const o=withCtx((...s)=>(currentInstance&&warn2(`Slot "${n}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),normalizeSlotValue(r(...s))),a);return o._c=!1,o},normalizeObjectSlots=(n,r,a)=>{const o=n._ctx;for(const s in n){if(isInternalKey(s))continue;const l=n[s];if(isFunction(l))r[s]=normalizeSlot(s,l,o);else if(l!=null){warn2(`Non-function value encountered for slot "${s}". Prefer function slots for better performance.`);const u=normalizeSlotValue(l);r[s]=()=>u}}},normalizeVNodeSlots=(n,r)=>{isKeepAlive(n.vnode)||warn2("Non-function value encountered for default slot. Prefer function slots for better performance.");const a=normalizeSlotValue(r);n.slots.default=()=>a},initSlots=(n,r)=>{if(n.vnode.shapeFlag&32){const a=r._;a?(n.slots=toRaw(r),def(r,"_",a)):normalizeObjectSlots(r,n.slots={})}else n.slots={},r&&normalizeVNodeSlots(n,r);def(n.slots,InternalObjectKey,1)},updateSlots=(n,r,a)=>{const{vnode:o,slots:s}=n;let l=!0,u=EMPTY_OBJ;if(o.shapeFlag&32){const f=r._;f?isHmrUpdating?extend(s,r):a&&f===1?l=!1:(extend(s,r),!a&&f===1&&delete s._):(l=!r.$stable,normalizeObjectSlots(r,s)),u=r}else r&&(normalizeVNodeSlots(n,r),u={default:1});if(l)for(const f in s)!isInternalKey(f)&&!(f in u)&&delete s[f]};function validateDirectiveName(n){isBuiltInDirective(n)&&warn2("Do not use built-in directive ids as custom directive id: "+n)}function withDirectives(n,r){const a=currentRenderingInstance;if(a===null)return warn2("withDirectives can only be used inside render functions."),n;const o=a.proxy,s=n.dirs||(n.dirs=[]);for(let l=0;l<r.length;l++){let[u,f,d,v=EMPTY_OBJ]=r[l];isFunction(u)&&(u={mounted:u,updated:u}),u.deep&&traverse(f),s.push({dir:u,instance:o,value:f,oldValue:void 0,arg:d,modifiers:v})}return n}function invokeDirectiveHook(n,r,a,o){const s=n.dirs,l=r&&r.dirs;for(let u=0;u<s.length;u++){const f=s[u];l&&(f.oldValue=l[u].value);let d=f.dir[o];d&&(pauseTracking(),callWithAsyncErrorHandling(d,a,8,[n.el,f,n,r]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var uid=0;function createAppAPI(n,r){return function(o,s=null){s!=null&&!isObject(s)&&(warn2("root props passed to app.mount() must be an object."),s=null);const l=createAppContext(),u=new Set;let f=!1;const d=l.app={_uid:uid++,_component:o,_props:s,_container:null,_context:l,_instance:null,version,get config(){return l.config},set config(v){warn2("app.config cannot be replaced. Modify individual options instead.")},use(v,...g){return u.has(v)?warn2("Plugin has already been applied to target app."):v&&isFunction(v.install)?(u.add(v),v.install(d,...g)):isFunction(v)?(u.add(v),v(d,...g)):warn2('A plugin must either be a function or an object with an "install" function.'),d},mixin(v){return l.mixins.includes(v)?warn2("Mixin has already been applied to target app"+(v.name?`: ${v.name}`:"")):l.mixins.push(v),d},component(v,g){return validateComponentName(v,l.config),g?(l.components[v]&&warn2(`Component "${v}" has already been registered in target app.`),l.components[v]=g,d):l.components[v]},directive(v,g){return validateDirectiveName(v),g?(l.directives[v]&&warn2(`Directive "${v}" has already been registered in target app.`),l.directives[v]=g,d):l.directives[v]},mount(v,g,y){if(f)warn2("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{const b=createVNode(o,s);return b.appContext=l,l.reload=()=>{n(cloneVNode(b),v,y)},g&&r?r(b,v):n(b,v,y),f=!0,d._container=v,v.__vue_app__=d,d._instance=b.component,devtoolsInitApp(d,version),getExposeProxy(b.component)||b.component.proxy}},unmount(){f?(n(null,d._container),d._instance=null,devtoolsUnmountApp(d),delete d._container.__vue_app__):warn2("Cannot unmount an app that is not mounted.")},provide(v,g){return v in l.provides&&warn2(`App already provides property with key "${String(v)}". It will be overwritten with the new value.`),l.provides[v]=g,d}};return d}}function setRef(n,r,a,o,s=!1){if(isArray(n)){n.forEach((b,_)=>setRef(b,r&&(isArray(r)?r[_]:r),a,o,s));return}if(isAsyncWrapper(o)&&!s)return;const l=o.shapeFlag&4?getExposeProxy(o.component)||o.component.proxy:o.el,u=s?null:l,{i:f,r:d}=n;if(!f){warn2("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const v=r&&r.r,g=f.refs===EMPTY_OBJ?f.refs={}:f.refs,y=f.setupState;if(v!=null&&v!==d&&(isString(v)?(g[v]=null,hasOwn(y,v)&&(y[v]=null)):isRef(v)&&(v.value=null)),isFunction(d))callWithErrorHandling(d,f,12,[u,g]);else{const b=isString(d),_=isRef(d);if(b||_){const x=()=>{if(n.f){const C=b?g[d]:d.value;s?isArray(C)&&remove(C,l):isArray(C)?C.includes(l)||C.push(l):b?g[d]=[l]:(d.value=[l],n.k&&(g[n.k]=d.value))}else b?(g[d]=u,hasOwn(y,d)&&(y[d]=u)):isRef(d)?(d.value=u,n.k&&(g[n.k]=u)):warn2("Invalid template ref type:",d,`(${typeof d})`)};u?(x.id=-1,queuePostRenderEffect(x,a)):x()}else warn2("Invalid template ref type:",d,`(${typeof d})`)}}var supported,perf;function startMeasure(n,r){n.appContext.config.performance&&isSupported()&&perf.mark(`vue-${r}-${n.uid}`),devtoolsPerfStart(n,r,supported?perf.now():Date.now())}function endMeasure(n,r){if(n.appContext.config.performance&&isSupported()){const a=`vue-${r}-${n.uid}`,o=a+":end";perf.mark(o),perf.measure(`<${formatComponentName(n,n.type)}> ${r}`,a,o),perf.clearMarks(a),perf.clearMarks(o)}devtoolsPerfEnd(n,r,supported?perf.now():Date.now())}function isSupported(){return supported!==void 0||(typeof window!="undefined"&&window.performance?(supported=!0,perf=window.performance):supported=!1),supported}function initFeatureFlags(){const n=[];if(n.length){const r=n.length>1;console.warn(`Feature flag${r?"s":""} ${n.join(", ")} ${r?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}var queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(n){return baseCreateRenderer(n)}function baseCreateRenderer(n,r){initFeatureFlags();const a=getGlobalThis();a.__VUE__=!0,setDevtoolsHook(a.__VUE_DEVTOOLS_GLOBAL_HOOK__,a);const{insert:o,remove:s,patchProp:l,createElement:u,createText:f,createComment:d,setText:v,setElementText:g,parentNode:y,nextSibling:b,setScopeId:_=NOOP,cloneNode:x,insertStaticContent:C}=n,w=($,U,Z,ee=null,re=null,ie=null,oe=!1,j=null,K=isHmrUpdating?!1:!!U.dynamicChildren)=>{if($===U)return;$&&!isSameVNodeType($,U)&&(ee=ue($),ve($,re,ie,!0),$=null),U.patchFlag===-2&&(K=!1,U.dynamicChildren=null);const{type:te,ref:xe,shapeFlag:ye}=U;switch(te){case Text:S($,U,Z,ee);break;case Comment:D($,U,Z,ee);break;case Static:$==null?A(U,Z,ee,oe):T($,U,Z,oe);break;case Fragment:B($,U,Z,ee,re,ie,oe,j,K);break;default:ye&1?P($,U,Z,ee,re,ie,oe,j,K):ye&6?N($,U,Z,ee,re,ie,oe,j,K):ye&64||ye&128?te.process($,U,Z,ee,re,ie,oe,j,K,se):warn2("Invalid VNode type:",te,`(${typeof te})`)}xe!=null&&re&&setRef(xe,$&&$.ref,ie,U||$,!U)},S=($,U,Z,ee)=>{if($==null)o(U.el=f(U.children),Z,ee);else{const re=U.el=$.el;U.children!==$.children&&v(re,U.children)}},D=($,U,Z,ee)=>{$==null?o(U.el=d(U.children||""),Z,ee):U.el=$.el},A=($,U,Z,ee)=>{[$.el,$.anchor]=C($.children,U,Z,ee,$.el,$.anchor)},T=($,U,Z,ee)=>{if(U.children!==$.children){const re=b($.anchor);E($),[U.el,U.anchor]=C(U.children,Z,re,ee)}else U.el=$.el,U.anchor=$.anchor},M=({el:$,anchor:U},Z,ee)=>{let re;for(;$&&$!==U;)re=b($),o($,Z,ee),$=re;o(U,Z,ee)},E=({el:$,anchor:U})=>{let Z;for(;$&&$!==U;)Z=b($),s($),$=Z;s(U)},P=($,U,Z,ee,re,ie,oe,j,K)=>{oe=oe||U.type==="svg",$==null?I(U,Z,ee,re,ie,oe,j,K):O($,U,re,ie,oe,j,K)},I=($,U,Z,ee,re,ie,oe,j)=>{let K,te;const{type:xe,props:ye,shapeFlag:Ce,transition:De,patchFlag:Ee,dirs:Pe}=$;if(K=$.el=u($.type,ie,ye&&ye.is,ye),Ce&8?g(K,$.children):Ce&16&&L($.children,K,null,ee,re,ie&&xe!=="foreignObject",oe,j),Pe&&invokeDirectiveHook($,null,ee,"created"),ye){for(const ae in ye)ae!=="value"&&!isReservedProp(ae)&&l(K,ae,null,ye[ae],ie,$.children,ee,re,de);"value"in ye&&l(K,"value",null,ye.value),(te=ye.onVnodeBeforeMount)&&invokeVNodeHook(te,ee,$)}F(K,$,$.scopeId,oe,ee),Object.defineProperty(K,"__vnode",{value:$,enumerable:!1}),Object.defineProperty(K,"__vueParentComponent",{value:ee,enumerable:!1}),Pe&&invokeDirectiveHook($,null,ee,"beforeMount");const Fe=(!re||re&&!re.pendingBranch)&&De&&!De.persisted;Fe&&De.beforeEnter(K),o(K,U,Z),((te=ye&&ye.onVnodeMounted)||Fe||Pe)&&queuePostRenderEffect(()=>{te&&invokeVNodeHook(te,ee,$),Fe&&De.enter(K),Pe&&invokeDirectiveHook($,null,ee,"mounted")},re)},F=($,U,Z,ee,re)=>{if(Z&&_($,Z),ee)for(let ie=0;ie<ee.length;ie++)_($,ee[ie]);if(re){let ie=re.subTree;if(ie.patchFlag>0&&ie.patchFlag&2048&&(ie=filterSingleRoot(ie.children)||ie),U===ie){const oe=re.vnode;F($,oe,oe.scopeId,oe.slotScopeIds,re.parent)}}},L=($,U,Z,ee,re,ie,oe,j,K=0)=>{for(let te=K;te<$.length;te++){const xe=$[te]=j?cloneIfMounted($[te]):normalizeVNode($[te]);w(null,xe,U,Z,ee,re,ie,oe,j)}},O=($,U,Z,ee,re,ie,oe)=>{const j=U.el=$.el;let{patchFlag:K,dynamicChildren:te,dirs:xe}=U;K|=$.patchFlag&16;const ye=$.props||EMPTY_OBJ,Ce=U.props||EMPTY_OBJ;let De;Z&&toggleRecurse(Z,!1),(De=Ce.onVnodeBeforeUpdate)&&invokeVNodeHook(De,Z,U,$),xe&&invokeDirectiveHook(U,$,Z,"beforeUpdate"),Z&&toggleRecurse(Z,!0),isHmrUpdating&&(K=0,oe=!1,te=null);const Ee=re&&U.type!=="foreignObject";if(te?(z($.dynamicChildren,te,j,Z,ee,Ee,ie),Z&&Z.type.__hmrId&&traverseStaticChildren($,U)):oe||Y($,U,j,null,Z,ee,Ee,ie,!1),K>0){if(K&16)R(j,U,ye,Ce,Z,ee,re);else if(K&2&&ye.class!==Ce.class&&l(j,"class",null,Ce.class,re),K&4&&l(j,"style",ye.style,Ce.style,re),K&8){const Pe=U.dynamicProps;for(let Fe=0;Fe<Pe.length;Fe++){const ae=Pe[Fe],ge=ye[ae],we=Ce[ae];(we!==ge||ae==="value")&&l(j,ae,ge,we,re,$.children,Z,ee,de)}}K&1&&$.children!==U.children&&g(j,U.children)}else!oe&&te==null&&R(j,U,ye,Ce,Z,ee,re);((De=Ce.onVnodeUpdated)||xe)&&queuePostRenderEffect(()=>{De&&invokeVNodeHook(De,Z,U,$),xe&&invokeDirectiveHook(U,$,Z,"updated")},ee)},z=($,U,Z,ee,re,ie,oe)=>{for(let j=0;j<U.length;j++){const K=$[j],te=U[j],xe=K.el&&(K.type===Fragment||!isSameVNodeType(K,te)||K.shapeFlag&(6|64))?y(K.el):Z;w(K,te,xe,null,ee,re,ie,oe,!0)}},R=($,U,Z,ee,re,ie,oe)=>{if(Z!==ee){for(const j in ee){if(isReservedProp(j))continue;const K=ee[j],te=Z[j];K!==te&&j!=="value"&&l($,j,te,K,oe,U.children,re,ie,de)}if(Z!==EMPTY_OBJ)for(const j in Z)!isReservedProp(j)&&!(j in ee)&&l($,j,Z[j],null,oe,U.children,re,ie,de);"value"in ee&&l($,"value",Z.value,ee.value)}},B=($,U,Z,ee,re,ie,oe,j,K)=>{const te=U.el=$?$.el:f(""),xe=U.anchor=$?$.anchor:f("");let{patchFlag:ye,dynamicChildren:Ce,slotScopeIds:De}=U;isHmrUpdating&&(ye=0,K=!1,Ce=null),De&&(j=j?j.concat(De):De),$==null?(o(te,Z,ee),o(xe,Z,ee),L(U.children,Z,xe,re,ie,oe,j,K)):ye>0&&ye&64&&Ce&&$.dynamicChildren?(z($.dynamicChildren,Ce,Z,re,ie,oe,j),re&&re.type.__hmrId?traverseStaticChildren($,U):(U.key!=null||re&&U===re.subTree)&&traverseStaticChildren($,U,!0)):Y($,U,Z,xe,re,ie,oe,j,K)},N=($,U,Z,ee,re,ie,oe,j,K)=>{U.slotScopeIds=j,$==null?U.shapeFlag&512?re.ctx.activate(U,Z,ee,oe,K):H(U,Z,ee,re,ie,oe,K):W($,U,K)},H=($,U,Z,ee,re,ie,oe)=>{const j=$.component=createComponentInstance($,ee,re);if(j.type.__hmrId&&registerHMR(j),pushWarningContext($),startMeasure(j,"mount"),isKeepAlive($)&&(j.ctx.renderer=se),startMeasure(j,"init"),setupComponent(j),endMeasure(j,"init"),j.asyncDep){if(re&&re.registerDep(j,V),!$.el){const K=j.subTree=createVNode(Comment);D(null,K,U,Z)}return}V(j,$,U,Z,re,ie,oe),popWarningContext(),endMeasure(j,"mount")},W=($,U,Z)=>{const ee=U.component=$.component;if(shouldUpdateComponent($,U,Z))if(ee.asyncDep&&!ee.asyncResolved){pushWarningContext(U),G(ee,U,Z),popWarningContext();return}else ee.next=U,invalidateJob(ee.update),ee.update();else U.component=$.component,U.el=$.el,ee.vnode=U},V=($,U,Z,ee,re,ie,oe)=>{const j=()=>{if($.isMounted){let{next:xe,bu:ye,u:Ce,parent:De,vnode:Ee}=$,Pe=xe,Fe;pushWarningContext(xe||$.vnode),toggleRecurse($,!1),xe?(xe.el=Ee.el,G($,xe,oe)):xe=Ee,ye&&invokeArrayFns(ye),(Fe=xe.props&&xe.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Fe,De,xe,Ee),toggleRecurse($,!0),startMeasure($,"render");const ae=renderComponentRoot($);endMeasure($,"render");const ge=$.subTree;$.subTree=ae,startMeasure($,"patch"),w(ge,ae,y(ge.el),ue(ge),$,re,ie),endMeasure($,"patch"),xe.el=ae.el,Pe===null&&updateHOCHostEl($,ae.el),Ce&&queuePostRenderEffect(Ce,re),(Fe=xe.props&&xe.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Fe,De,xe,Ee),re),devtoolsComponentUpdated($),popWarningContext()}else{let xe;const{el:ye,props:Ce}=U,{bm:De,m:Ee,parent:Pe}=$,Fe=isAsyncWrapper(U);if(toggleRecurse($,!1),De&&invokeArrayFns(De),!Fe&&(xe=Ce&&Ce.onVnodeBeforeMount)&&invokeVNodeHook(xe,Pe,U),toggleRecurse($,!0),ye&&Me){const ae=()=>{startMeasure($,"render"),$.subTree=renderComponentRoot($),endMeasure($,"render"),startMeasure($,"hydrate"),Me(ye,$.subTree,$,re,null),endMeasure($,"hydrate")};Fe?U.type.__asyncLoader().then(()=>!$.isUnmounted&&ae()):ae()}else{startMeasure($,"render");const ae=$.subTree=renderComponentRoot($);endMeasure($,"render"),startMeasure($,"patch"),w(null,ae,Z,ee,$,re,ie),endMeasure($,"patch"),U.el=ae.el}if(Ee&&queuePostRenderEffect(Ee,re),!Fe&&(xe=Ce&&Ce.onVnodeMounted)){const ae=U;queuePostRenderEffect(()=>invokeVNodeHook(xe,Pe,ae),re)}U.shapeFlag&256&&$.a&&queuePostRenderEffect($.a,re),$.isMounted=!0,devtoolsComponentAdded($),U=Z=ee=null}},K=$.effect=new ReactiveEffect(j,()=>queueJob($.update),$.scope),te=$.update=K.run.bind(K);te.id=$.uid,toggleRecurse($,!0),K.onTrack=$.rtc?xe=>invokeArrayFns($.rtc,xe):void 0,K.onTrigger=$.rtg?xe=>invokeArrayFns($.rtg,xe):void 0,te.ownerInstance=$,te()},G=($,U,Z)=>{U.component=$;const ee=$.vnode.props;$.vnode=U,$.next=null,updateProps($,U.props,ee,Z),updateSlots($,U.children,Z),pauseTracking(),flushPreFlushCbs(void 0,$.update),resetTracking()},Y=($,U,Z,ee,re,ie,oe,j,K=!1)=>{const te=$&&$.children,xe=$?$.shapeFlag:0,ye=U.children,{patchFlag:Ce,shapeFlag:De}=U;if(Ce>0){if(Ce&128){q(te,ye,Z,ee,re,ie,oe,j,K);return}else if(Ce&256){Q(te,ye,Z,ee,re,ie,oe,j,K);return}}De&8?(xe&16&&de(te,re,ie),ye!==te&&g(Z,ye)):xe&16?De&16?q(te,ye,Z,ee,re,ie,oe,j,K):de(te,re,ie,!0):(xe&8&&g(Z,""),De&16&&L(ye,Z,ee,re,ie,oe,j,K))},Q=($,U,Z,ee,re,ie,oe,j,K)=>{$=$||EMPTY_ARR,U=U||EMPTY_ARR;const te=$.length,xe=U.length,ye=Math.min(te,xe);let Ce;for(Ce=0;Ce<ye;Ce++){const De=U[Ce]=K?cloneIfMounted(U[Ce]):normalizeVNode(U[Ce]);w($[Ce],De,Z,null,re,ie,oe,j,K)}te>xe?de($,re,ie,!0,!1,ye):L(U,Z,ee,re,ie,oe,j,K,ye)},q=($,U,Z,ee,re,ie,oe,j,K)=>{let te=0;const xe=U.length;let ye=$.length-1,Ce=xe-1;for(;te<=ye&&te<=Ce;){const De=$[te],Ee=U[te]=K?cloneIfMounted(U[te]):normalizeVNode(U[te]);if(isSameVNodeType(De,Ee))w(De,Ee,Z,null,re,ie,oe,j,K);else break;te++}for(;te<=ye&&te<=Ce;){const De=$[ye],Ee=U[Ce]=K?cloneIfMounted(U[Ce]):normalizeVNode(U[Ce]);if(isSameVNodeType(De,Ee))w(De,Ee,Z,null,re,ie,oe,j,K);else break;ye--,Ce--}if(te>ye){if(te<=Ce){const De=Ce+1,Ee=De<xe?U[De].el:ee;for(;te<=Ce;)w(null,U[te]=K?cloneIfMounted(U[te]):normalizeVNode(U[te]),Z,Ee,re,ie,oe,j,K),te++}}else if(te>Ce)for(;te<=ye;)ve($[te],re,ie,!0),te++;else{const De=te,Ee=te,Pe=new Map;for(te=Ee;te<=Ce;te++){const Ae=U[te]=K?cloneIfMounted(U[te]):normalizeVNode(U[te]);Ae.key!=null&&(Pe.has(Ae.key)&&warn2("Duplicate keys found during update:",JSON.stringify(Ae.key),"Make sure keys are unique."),Pe.set(Ae.key,te))}let Fe,ae=0;const ge=Ce-Ee+1;let we=!1,J=0;const ce=new Array(ge);for(te=0;te<ge;te++)ce[te]=0;for(te=De;te<=ye;te++){const Ae=$[te];if(ae>=ge){ve(Ae,re,ie,!0);continue}let me;if(Ae.key!=null)me=Pe.get(Ae.key);else for(Fe=Ee;Fe<=Ce;Fe++)if(ce[Fe-Ee]===0&&isSameVNodeType(Ae,U[Fe])){me=Fe;break}me===void 0?ve(Ae,re,ie,!0):(ce[me-Ee]=te+1,me>=J?J=me:we=!0,w(Ae,U[me],Z,null,re,ie,oe,j,K),ae++)}const Se=we?getSequence(ce):EMPTY_ARR;for(Fe=Se.length-1,te=ge-1;te>=0;te--){const Ae=Ee+te,me=U[Ae],Ie=Ae+1<xe?U[Ae+1].el:ee;ce[te]===0?w(null,me,Z,Ie,re,ie,oe,j,K):we&&(Fe<0||te!==Se[Fe]?ne(me,Z,Ie,2):Fe--)}}},ne=($,U,Z,ee,re=null)=>{const{el:ie,type:oe,transition:j,children:K,shapeFlag:te}=$;if(te&6){ne($.component.subTree,U,Z,ee);return}if(te&128){$.suspense.move(U,Z,ee);return}if(te&64){oe.move($,U,Z,se);return}if(oe===Fragment){o(ie,U,Z);for(let ye=0;ye<K.length;ye++)ne(K[ye],U,Z,ee);o($.anchor,U,Z);return}if(oe===Static){M($,U,Z);return}if(ee!==2&&te&1&&j)if(ee===0)j.beforeEnter(ie),o(ie,U,Z),queuePostRenderEffect(()=>j.enter(ie),re);else{const{leave:ye,delayLeave:Ce,afterLeave:De}=j,Ee=()=>o(ie,U,Z),Pe=()=>{ye(ie,()=>{Ee(),De&&De()})};Ce?Ce(ie,Ee,Pe):Pe()}else o(ie,U,Z)},ve=($,U,Z,ee=!1,re=!1)=>{const{type:ie,props:oe,ref:j,children:K,dynamicChildren:te,shapeFlag:xe,patchFlag:ye,dirs:Ce}=$;if(j!=null&&setRef(j,null,Z,$,!0),xe&256){U.ctx.deactivate($);return}const De=xe&1&&Ce,Ee=!isAsyncWrapper($);let Pe;if(Ee&&(Pe=oe&&oe.onVnodeBeforeUnmount)&&invokeVNodeHook(Pe,U,$),xe&6)pe($.component,Z,ee);else{if(xe&128){$.suspense.unmount(Z,ee);return}De&&invokeDirectiveHook($,null,U,"beforeUnmount"),xe&64?$.type.remove($,U,Z,re,se,ee):te&&(ie!==Fragment||ye>0&&ye&64)?de(te,U,Z,!1,!0):(ie===Fragment&&ye&(128|256)||!re&&xe&16)&&de(K,U,Z),ee&&fe($)}(Ee&&(Pe=oe&&oe.onVnodeUnmounted)||De)&&queuePostRenderEffect(()=>{Pe&&invokeVNodeHook(Pe,U,$),De&&invokeDirectiveHook($,null,U,"unmounted")},Z)},fe=$=>{const{type:U,el:Z,anchor:ee,transition:re}=$;if(U===Fragment){he(Z,ee);return}if(U===Static){E($);return}const ie=()=>{s(Z),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if($.shapeFlag&1&&re&&!re.persisted){const{leave:oe,delayLeave:j}=re,K=()=>oe(Z,ie);j?j($.el,ie,K):K()}else ie()},he=($,U)=>{let Z;for(;$!==U;)Z=b($),s($),$=Z;s(U)},pe=($,U,Z)=>{$.type.__hmrId&&unregisterHMR($);const{bum:ee,scope:re,update:ie,subTree:oe,um:j}=$;ee&&invokeArrayFns(ee),re.stop(),ie&&(ie.active=!1,ve(oe,$,U,Z)),j&&queuePostRenderEffect(j,U),queuePostRenderEffect(()=>{$.isUnmounted=!0},U),U&&U.pendingBranch&&!U.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===U.pendingId&&(U.deps--,U.deps===0&&U.resolve()),devtoolsComponentRemoved($)},de=($,U,Z,ee=!1,re=!1,ie=0)=>{for(let oe=ie;oe<$.length;oe++)ve($[oe],U,Z,ee,re)},ue=$=>$.shapeFlag&6?ue($.component.subTree):$.shapeFlag&128?$.suspense.next():b($.anchor||$.el),be=($,U,Z)=>{$==null?U._vnode&&ve(U._vnode,null,null,!0):w(U._vnode||null,$,U,null,null,null,Z),flushPostFlushCbs(),U._vnode=$},se={p:w,um:ve,m:ne,r:fe,mt:H,mc:L,pc:Y,pbc:z,n:ue,o:n};let _e,Me;return r&&([_e,Me]=r(se)),{render:be,hydrate:_e,createApp:createAppAPI(be,_e)}}function toggleRecurse({effect:n,update:r},a){n.allowRecurse=r.allowRecurse=a}function traverseStaticChildren(n,r,a=!1){const o=n.children,s=r.children;if(isArray(o)&&isArray(s))for(let l=0;l<o.length;l++){const u=o[l];let f=s[l];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=s[l]=cloneIfMounted(s[l]),f.el=u.el),a||traverseStaticChildren(u,f)),f.type===Comment&&!f.el&&(f.el=u.el)}}function getSequence(n){const r=n.slice(),a=[0];let o,s,l,u,f;const d=n.length;for(o=0;o<d;o++){const v=n[o];if(v!==0){if(s=a[a.length-1],n[s]<v){r[o]=s,a.push(o);continue}for(l=0,u=a.length-1;l<u;)f=l+u>>1,n[a[f]]<v?l=f+1:u=f;v<n[a[l]]&&(l>0&&(r[o]=a[l-1]),a[l]=o)}}for(l=a.length,u=a[l-1];l-- >0;)a[l]=u,u=r[u];return a}var isTeleport=n=>n.__isTeleport,isTeleportDisabled=n=>n&&(n.disabled||n.disabled===""),isTargetSVG=n=>typeof SVGElement!="undefined"&&n instanceof SVGElement,resolveTarget=(n,r)=>{const a=n&&n.to;if(isString(a))if(r){const o=r(a);return o||warn2(`Failed to locate Teleport target with selector "${a}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),o}else return warn2("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!a&&!isTeleportDisabled(n)&&warn2(`Invalid Teleport target: ${a}`),a},TeleportImpl={__isTeleport:!0,process(n,r,a,o,s,l,u,f,d,v){const{mc:g,pc:y,pbc:b,o:{insert:_,querySelector:x,createText:C,createComment:w}}=v,S=isTeleportDisabled(r.props);let{shapeFlag:D,children:A,dynamicChildren:T}=r;if(isHmrUpdating&&(d=!1,T=null),n==null){const M=r.el=w("teleport start"),E=r.anchor=w("teleport end");_(M,a,o),_(E,a,o);const P=r.target=resolveTarget(r.props,x),I=r.targetAnchor=C("");P?(_(I,P),u=u||isTargetSVG(P)):S||warn2("Invalid Teleport target on mount:",P,`(${typeof P})`);const F=(L,O)=>{D&16&&g(A,L,O,s,l,u,f,d)};S?F(a,E):P&&F(P,I)}else{r.el=n.el;const M=r.anchor=n.anchor,E=r.target=n.target,P=r.targetAnchor=n.targetAnchor,I=isTeleportDisabled(n.props),F=I?a:E,L=I?M:P;if(u=u||isTargetSVG(E),T?(b(n.dynamicChildren,T,F,s,l,u,f),traverseStaticChildren(n,r,!0)):d||y(n,r,F,L,s,l,u,f,!1),S)I||moveTeleport(r,a,M,v,1);else if((r.props&&r.props.to)!==(n.props&&n.props.to)){const O=r.target=resolveTarget(r.props,x);O?moveTeleport(r,O,null,v,0):warn2("Invalid Teleport target on update:",E,`(${typeof E})`)}else I&&moveTeleport(r,E,P,v,1)}},remove(n,r,a,o,{um:s,o:{remove:l}},u){const{shapeFlag:f,children:d,anchor:v,targetAnchor:g,target:y,props:b}=n;if(y&&l(g),(u||!isTeleportDisabled(b))&&(l(v),f&16))for(let _=0;_<d.length;_++){const x=d[_];s(x,r,a,!0,!!x.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(n,r,a,{o:{insert:o},m:s},l=2){l===0&&o(n.targetAnchor,r,a);const{el:u,anchor:f,shapeFlag:d,children:v,props:g}=n,y=l===2;if(y&&o(u,r,a),(!y||isTeleportDisabled(g))&&d&16)for(let b=0;b<v.length;b++)s(v[b],r,a,2);y&&o(f,r,a)}function hydrateTeleport(n,r,a,o,s,l,{o:{nextSibling:u,parentNode:f,querySelector:d}},v){const g=r.target=resolveTarget(r.props,d);if(g){const y=g._lpa||g.firstChild;r.shapeFlag&16&&(isTeleportDisabled(r.props)?(r.anchor=v(u(n),r,f(n),a,o,s,l),r.targetAnchor=y):(r.anchor=u(n),r.targetAnchor=v(y,r,g,a,o,s,l)),g._lpa=r.targetAnchor&&u(r.targetAnchor))}return r.anchor&&u(r.anchor)}var Teleport=TeleportImpl,NULL_DYNAMIC_COMPONENT=Symbol(),Fragment=Symbol("Fragment"),Text=Symbol("Text"),Comment=Symbol("Comment"),Static=Symbol("Static"),blockStack=[],currentBlock=null;function openBlock(n=!1){blockStack.push(currentBlock=n?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}var isBlockTreeEnabled=1;function setBlockTracking(n){isBlockTreeEnabled+=n}function setupBlock(n){return n.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),n}function createElementBlock(n,r,a,o,s,l){return setupBlock(createBaseVNode(n,r,a,o,s,l,!0))}function createBlock(n,r,a,o,s){return setupBlock(createVNode(n,r,a,o,s,!0))}function isVNode(n){return n?n.__v_isVNode===!0:!1}function isSameVNodeType(n,r){return r.shapeFlag&6&&hmrDirtyComponents.has(r.type)?!1:n.type===r.type&&n.key===r.key}var vnodeArgsTransformer,createVNodeWithArgsTransform=(...n)=>_createVNode(...vnodeArgsTransformer?vnodeArgsTransformer(n,currentRenderingInstance):n),InternalObjectKey="__vInternal",normalizeKey=({key:n})=>n!=null?n:null,normalizeRef=({ref:n,ref_key:r,ref_for:a})=>n!=null?isString(n)||isRef(n)||isFunction(n)?{i:currentRenderingInstance,r:n,k:r,f:!!a}:n:null;function createBaseVNode(n,r=null,a=null,o=0,s=null,l=n===Fragment?0:1,u=!1,f=!1){const d={__v_isVNode:!0,__v_skip:!0,type:n,props:r,key:r&&normalizeKey(r),ref:r&&normalizeRef(r),scopeId:currentScopeId,slotScopeIds:null,children:a,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null};return f?(normalizeChildren(d,a),l&128&&n.normalize(d)):a&&(d.shapeFlag|=isString(a)?8:16),d.key!==d.key&&warn2("VNode created with invalid key (NaN). VNode type:",d.type),isBlockTreeEnabled>0&&!u&&currentBlock&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&currentBlock.push(d),d}var createVNode=createVNodeWithArgsTransform;function _createVNode(n,r=null,a=null,o=0,s=null,l=!1){if((!n||n===NULL_DYNAMIC_COMPONENT)&&(n||warn2(`Invalid vnode type when creating vnode: ${n}.`),n=Comment),isVNode(n)){const f=cloneVNode(n,r,!0);return a&&normalizeChildren(f,a),f}if(isClassComponent(n)&&(n=n.__vccOpts),r){r=guardReactiveProps(r);let{class:f,style:d}=r;f&&!isString(f)&&(r.class=normalizeClass(f)),isObject(d)&&(isProxy(d)&&!isArray(d)&&(d=extend({},d)),r.style=normalizeStyle(d))}const u=isString(n)?1:isSuspense(n)?128:isTeleport(n)?64:isObject(n)?4:isFunction(n)?2:0;return u&4&&isProxy(n)&&(n=toRaw(n),warn2("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,n)),createBaseVNode(n,r,a,o,s,u,l,!0)}function guardReactiveProps(n){return n?isProxy(n)||InternalObjectKey in n?extend({},n):n:null}function cloneVNode(n,r,a=!1){const{props:o,ref:s,patchFlag:l,children:u}=n,f=r?mergeProps(o||{},r):o;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:f,key:f&&normalizeKey(f),ref:r&&r.ref?a&&s?isArray(s)?s.concat(normalizeRef(r)):[s,normalizeRef(r)]:normalizeRef(r):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l===-1&&isArray(u)?u.map(deepCloneVNode):u,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:r&&n.type!==Fragment?l===-1?16:l|16:l,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&cloneVNode(n.ssContent),ssFallback:n.ssFallback&&cloneVNode(n.ssFallback),el:n.el,anchor:n.anchor}}function deepCloneVNode(n){const r=cloneVNode(n);return isArray(n.children)&&(r.children=n.children.map(deepCloneVNode)),r}function createTextVNode(n=" ",r=0){return createVNode(Text,null,n,r)}function createCommentVNode(n="",r=!1){return r?(openBlock(),createBlock(Comment,null,n)):createVNode(Comment,null,n)}function normalizeVNode(n){return n==null||typeof n=="boolean"?createVNode(Comment):isArray(n)?createVNode(Fragment,null,n.slice()):typeof n=="object"?cloneIfMounted(n):createVNode(Text,null,String(n))}function cloneIfMounted(n){return n.el===null||n.memo?n:cloneVNode(n)}function normalizeChildren(n,r){let a=0;const{shapeFlag:o}=n;if(r==null)r=null;else if(isArray(r))a=16;else if(typeof r=="object")if(o&(1|64)){const s=r.default;s&&(s._c&&(s._d=!1),normalizeChildren(n,s()),s._c&&(s._d=!0));return}else{a=32;const s=r._;!s&&!(InternalObjectKey in r)?r._ctx=currentRenderingInstance:s===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?r._=1:(r._=2,n.patchFlag|=1024))}else isFunction(r)?(r={default:r,_ctx:currentRenderingInstance},a=32):(r=String(r),o&64?(a=16,r=[createTextVNode(r)]):a=8);n.children=r,n.shapeFlag|=a}function mergeProps(...n){const r={};for(let a=0;a<n.length;a++){const o=n[a];for(const s in o)if(s==="class")r.class!==o.class&&(r.class=normalizeClass([r.class,o.class]));else if(s==="style")r.style=normalizeStyle([r.style,o.style]);else if(isOn(s)){const l=r[s],u=o[s];u&&l!==u&&!(isArray(l)&&l.includes(u))&&(r[s]=l?[].concat(l,u):u)}else s!==""&&(r[s]=o[s])}return r}function invokeVNodeHook(n,r,a,o=null){callWithAsyncErrorHandling(n,r,7,[a,o])}function renderList(n,r,a,o){let s;const l=a&&a[o];if(isArray(n)||isString(n)){s=new Array(n.length);for(let u=0,f=n.length;u<f;u++)s[u]=r(n[u],u,void 0,l&&l[u])}else if(typeof n=="number"){if(!Number.isInteger(n))return warn2(`The v-for range expect an integer value but got ${n}.`),[];s=new Array(n);for(let u=0;u<n;u++)s[u]=r(u+1,u,void 0,l&&l[u])}else if(isObject(n))if(n[Symbol.iterator])s=Array.from(n,(u,f)=>r(u,f,void 0,l&&l[f]));else{const u=Object.keys(n);s=new Array(u.length);for(let f=0,d=u.length;f<d;f++){const v=u[f];s[f]=r(n[v],v,f,l&&l[f])}}else s=[];return a&&(a[o]=s),s}function renderSlot(n,r,a={},o,s){if(currentRenderingInstance.isCE)return createVNode("slot",r==="default"?null:{name:r},o&&o());let l=n[r];l&&l.length>1&&(warn2("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),l=()=>[]),l&&l._c&&(l._d=!1),openBlock();const u=l&&ensureValidVNode(l(a)),f=createBlock(Fragment,{key:a.key||`_${r}`},u||(o?o():[]),u&&n._===1?64:-2);return!s&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),l&&l._c&&(l._d=!0),f}function ensureValidVNode(n){return n.some(r=>isVNode(r)?!(r.type===Comment||r.type===Fragment&&!ensureValidVNode(r.children)):!0)?n:null}var getPublicInstance=n=>n?isStatefulComponent(n)?getExposeProxy(n)||n.proxy:getPublicInstance(n.parent):null,publicPropertiesMap=extend(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>shallowReadonly(n.props),$attrs:n=>shallowReadonly(n.attrs),$slots:n=>shallowReadonly(n.slots),$refs:n=>shallowReadonly(n.refs),$parent:n=>getPublicInstance(n.parent),$root:n=>getPublicInstance(n.root),$emit:n=>n.emit,$options:n=>resolveMergedOptions(n),$forceUpdate:n=>()=>queueJob(n.update),$nextTick:n=>nextTick.bind(n.proxy),$watch:n=>instanceWatch.bind(n)}),PublicInstanceProxyHandlers={get({_:n},r){const{ctx:a,setupState:o,data:s,props:l,accessCache:u,type:f,appContext:d}=n;if(r==="__isVue")return!0;if(o!==EMPTY_OBJ&&o.__isScriptSetup&&hasOwn(o,r))return o[r];let v;if(r[0]!=="$"){const _=u[r];if(_!==void 0)switch(_){case 1:return o[r];case 2:return s[r];case 4:return a[r];case 3:return l[r]}else{if(o!==EMPTY_OBJ&&hasOwn(o,r))return u[r]=1,o[r];if(s!==EMPTY_OBJ&&hasOwn(s,r))return u[r]=2,s[r];if((v=n.propsOptions[0])&&hasOwn(v,r))return u[r]=3,l[r];if(a!==EMPTY_OBJ&&hasOwn(a,r))return u[r]=4,a[r];shouldCacheAccess&&(u[r]=0)}}const g=publicPropertiesMap[r];let y,b;if(g)return r==="$attrs"&&(track(n,"get",r),markAttrsAccessed()),g(n);if((y=f.__cssModules)&&(y=y[r]))return y;if(a!==EMPTY_OBJ&&hasOwn(a,r))return u[r]=4,a[r];if(b=d.config.globalProperties,hasOwn(b,r))return b[r];currentRenderingInstance&&(!isString(r)||r.indexOf("__v")!==0)&&(s!==EMPTY_OBJ&&(r[0]==="$"||r[0]==="_")&&hasOwn(s,r)?warn2(`Property ${JSON.stringify(r)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):n===currentRenderingInstance&&warn2(`Property ${JSON.stringify(r)} was accessed during render but is not defined on instance.`))},set({_:n},r,a){const{data:o,setupState:s,ctx:l}=n;return s!==EMPTY_OBJ&&hasOwn(s,r)?(s[r]=a,!0):o!==EMPTY_OBJ&&hasOwn(o,r)?(o[r]=a,!0):hasOwn(n.props,r)?(warn2(`Attempting to mutate prop "${r}". Props are readonly.`,n),!1):r[0]==="$"&&r.slice(1)in n?(warn2(`Attempting to mutate public property "${r}". Properties starting with $ are reserved and readonly.`,n),!1):(r in n.appContext.config.globalProperties?Object.defineProperty(l,r,{enumerable:!0,configurable:!0,value:a}):l[r]=a,!0)},has({_:{data:n,setupState:r,accessCache:a,ctx:o,appContext:s,propsOptions:l}},u){let f;return!!a[u]||n!==EMPTY_OBJ&&hasOwn(n,u)||r!==EMPTY_OBJ&&hasOwn(r,u)||(f=l[0])&&hasOwn(f,u)||hasOwn(o,u)||hasOwn(publicPropertiesMap,u)||hasOwn(s.config.globalProperties,u)},defineProperty(n,r,a){return a.get!=null?this.set(n,r,a.get(),null):a.value!=null&&this.set(n,r,a.value,null),Reflect.defineProperty(n,r,a)}};PublicInstanceProxyHandlers.ownKeys=n=>(warn2("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(n));function createDevRenderContext(n){const r={};return Object.defineProperty(r,"_",{configurable:!0,enumerable:!1,get:()=>n}),Object.keys(publicPropertiesMap).forEach(a=>{Object.defineProperty(r,a,{configurable:!0,enumerable:!1,get:()=>publicPropertiesMap[a](n),set:NOOP})}),r}function exposePropsOnRenderContext(n){const{ctx:r,propsOptions:[a]}=n;a&&Object.keys(a).forEach(o=>{Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>n.props[o],set:NOOP})})}function exposeSetupStateOnRenderContext(n){const{ctx:r,setupState:a}=n;Object.keys(toRaw(a)).forEach(o=>{if(!a.__isScriptSetup){if(o[0]==="$"||o[0]==="_"){warn2(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>a[o],set:NOOP})}})}var emptyAppContext=createAppContext(),uid$1=0;function createComponentInstance(n,r,a){const o=n.type,s=(r?r.appContext:n.appContext)||emptyAppContext,l={uid:uid$1++,vnode:n,type:o,parent:r,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(o,s),emitsOptions:normalizeEmitsOptions(o,s),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:o.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:a,suspenseId:a?a.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx=createDevRenderContext(l),l.root=r?r.root:l,l.emit=emit$1.bind(null,l),n.ce&&n.ce(l),l}var currentInstance=null,getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=n=>{currentInstance=n,n.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null},isBuiltInTag=makeMap("slot,component");function validateComponentName(n,r){const a=r.isNativeTag||NO;(isBuiltInTag(n)||a(n))&&warn2("Do not use built-in or reserved HTML elements as component id: "+n)}function isStatefulComponent(n){return n.vnode.shapeFlag&4}var isInSSRComponentSetup=!1;function setupComponent(n,r=!1){isInSSRComponentSetup=r;const{props:a,children:o}=n.vnode,s=isStatefulComponent(n);initProps(n,a,s,r),initSlots(n,o);const l=s?setupStatefulComponent(n,r):void 0;return isInSSRComponentSetup=!1,l}function setupStatefulComponent(n,r){const a=n.type;if(a.name&&validateComponentName(a.name,n.appContext.config),a.components){const s=Object.keys(a.components);for(let l=0;l<s.length;l++)validateComponentName(s[l],n.appContext.config)}if(a.directives){const s=Object.keys(a.directives);for(let l=0;l<s.length;l++)validateDirectiveName(s[l])}a.compilerOptions&&isRuntimeOnly()&&warn2('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.'),n.accessCache=Object.create(null),n.proxy=markRaw(new Proxy(n.ctx,PublicInstanceProxyHandlers)),exposePropsOnRenderContext(n);const{setup:o}=a;if(o){const s=n.setupContext=o.length>1?createSetupContext(n):null;setCurrentInstance(n),pauseTracking();const l=callWithErrorHandling(o,n,0,[shallowReadonly(n.props),s]);if(resetTracking(),unsetCurrentInstance(),isPromise(l)){if(l.then(unsetCurrentInstance,unsetCurrentInstance),r)return l.then(u=>{handleSetupResult(n,u,r)}).catch(u=>{handleError(u,n,0)});n.asyncDep=l}else handleSetupResult(n,l,r)}else finishComponentSetup(n,r)}function handleSetupResult(n,r,a){isFunction(r)?n.type.__ssrInlineRender?n.ssrRender=r:n.render=r:isObject(r)?(isVNode(r)&&warn2("setup() should not return VNodes directly - return a render function instead."),n.devtoolsRawSetupState=r,n.setupState=proxyRefs(r),exposeSetupStateOnRenderContext(n)):r!==void 0&&warn2(`setup() should return an object. Received: ${r===null?"null":typeof r}`),finishComponentSetup(n,a)}var compile,installWithProxy,isRuntimeOnly=()=>!compile;function finishComponentSetup(n,r,a){const o=n.type;if(!n.render){if(!r&&compile&&!o.render){const s=o.template;if(s){startMeasure(n,"compile");const{isCustomElement:l,compilerOptions:u}=n.appContext.config,{delimiters:f,compilerOptions:d}=o,v=extend(extend({isCustomElement:l,delimiters:f},u),d);o.render=compile(s,v),endMeasure(n,"compile")}}n.render=o.render||NOOP,installWithProxy&&installWithProxy(n)}setCurrentInstance(n),pauseTracking(),applyOptions(n),resetTracking(),unsetCurrentInstance(),!o.render&&n.render===NOOP&&!r&&(!compile&&o.template?warn2('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):warn2("Component is missing template or render function."))}function createAttrsProxy(n){return new Proxy(n.attrs,{get(r,a){return markAttrsAccessed(),track(n,"get","$attrs"),r[a]},set(){return warn2("setupContext.attrs is readonly."),!1},deleteProperty(){return warn2("setupContext.attrs is readonly."),!1}})}function createSetupContext(n){const r=o=>{n.exposed&&warn2("expose() should be called only once per setup()."),n.exposed=o||{}};let a;return Object.freeze({get attrs(){return a||(a=createAttrsProxy(n))},get slots(){return shallowReadonly(n.slots)},get emit(){return(o,...s)=>n.emit(o,...s)},expose:r})}function getExposeProxy(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(proxyRefs(markRaw(n.exposed)),{get(r,a){if(a in r)return r[a];if(a in publicPropertiesMap)return publicPropertiesMap[a](n)}}))}var classifyRE=/(?:^|[-_])(\w)/g,classify=n=>n.replace(classifyRE,r=>r.toUpperCase()).replace(/[-_]/g,"");function getComponentName(n){return isFunction(n)&&n.displayName||n.name}function formatComponentName(n,r,a=!1){let o=getComponentName(r);if(!o&&r.__file){const s=r.__file.match(/([^/\\]+)\.\w+$/);s&&(o=s[1])}if(!o&&n&&n.parent){const s=l=>{for(const u in l)if(l[u]===r)return u};o=s(n.components||n.parent.type.components)||s(n.appContext.components)}return o?classify(o):a?"App":"Anonymous"}function isClassComponent(n){return isFunction(n)&&"__vccOpts"in n}var computed2=(n,r)=>computed(n,r,isInSSRComponentSetup);function h(n,r,a){const o=arguments.length;return o===2?isObject(r)&&!isArray(r)?isVNode(r)?createVNode(n,null,[r]):createVNode(n,r):createVNode(n,null,r):(o>3?a=Array.prototype.slice.call(arguments,2):o===3&&isVNode(a)&&(a=[a]),createVNode(n,r,a))}var ssrContextKey=Symbol("ssrContext");function isShallow2(n){return!!(n&&n.__v_isShallow)}function initCustomFormatter(){if(typeof window=="undefined")return;const n={style:"color:#3ba776"},r={style:"color:#0b1bc9"},a={style:"color:#b62e24"},o={style:"color:#9d288c"},s={header(y){return isObject(y)?y.__isVue?["div",n,"VueInstance"]:isRef(y)?["div",{},["span",n,g(y)],"<",f(y.value),">"]:isReactive(y)?["div",{},["span",n,isShallow2(y)?"ShallowReactive":"Reactive"],"<",f(y),`>${isReadonly(y)?" (readonly)":""}`]:isReadonly(y)?["div",{},["span",n,isShallow2(y)?"ShallowReadonly":"Readonly"],"<",f(y),">"]:null:null},hasBody(y){return y&&y.__isVue},body(y){if(y&&y.__isVue)return["div",{},...l(y.$)]}};function l(y){const b=[];y.type.props&&y.props&&b.push(u("props",toRaw(y.props))),y.setupState!==EMPTY_OBJ&&b.push(u("setup",y.setupState)),y.data!==EMPTY_OBJ&&b.push(u("data",toRaw(y.data)));const _=d(y,"computed");_&&b.push(u("computed",_));const x=d(y,"inject");return x&&b.push(u("injected",x)),b.push(["div",{},["span",{style:o.style+";opacity:0.66"},"$ (internal): "],["object",{object:y}]]),b}function u(y,b){return b=extend({},b),Object.keys(b).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},y],["div",{style:"padding-left:1.25em"},...Object.keys(b).map(_=>["div",{},["span",o,_+": "],f(b[_],!1)])]]:["span",{}]}function f(y,b=!0){return typeof y=="number"?["span",r,y]:typeof y=="string"?["span",a,JSON.stringify(y)]:typeof y=="boolean"?["span",o,y]:isObject(y)?["object",{object:b?toRaw(y):y}]:["span",a,String(y)]}function d(y,b){const _=y.type;if(isFunction(_))return;const x={};for(const C in y.ctx)v(_,C,b)&&(x[C]=y.ctx[C]);return x}function v(y,b,_){const x=y[_];if(isArray(x)&&x.includes(b)||isObject(x)&&b in x||y.extends&&v(y.extends,b,_)||y.mixins&&y.mixins.some(C=>v(C,b,_)))return!0}function g(y){return isShallow2(y)?"ShallowRef":y.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(s):window.devtoolsFormatters=[s]}var version="3.2.31",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(n,r,a)=>{r.insertBefore(n,a||null)},remove:n=>{const r=n.parentNode;r&&r.removeChild(n)},createElement:(n,r,a,o)=>{const s=r?doc.createElementNS(svgNS,n):doc.createElement(n,a?{is:a}:void 0);return n==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:n=>doc.createTextNode(n),createComment:n=>doc.createComment(n),setText:(n,r)=>{n.nodeValue=r},setElementText:(n,r)=>{n.textContent=r},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>doc.querySelector(n),setScopeId(n,r){n.setAttribute(r,"")},cloneNode(n){const r=n.cloneNode(!0);return"_value"in n&&(r._value=n._value),r},insertStaticContent(n,r,a,o,s,l){const u=a?a.previousSibling:r.lastChild;if(s&&(s===l||s.nextSibling))for(;r.insertBefore(s.cloneNode(!0),a),!(s===l||!(s=s.nextSibling)););else{templateContainer.innerHTML=o?`<svg>${n}</svg>`:n;const f=templateContainer.content;if(o){const d=f.firstChild;for(;d.firstChild;)f.appendChild(d.firstChild);f.removeChild(d)}r.insertBefore(f,a)}return[u?u.nextSibling:r.firstChild,a?a.previousSibling:r.lastChild]}};function patchClass(n,r,a){const o=n._vtc;o&&(r=(r?[r,...o]:[...o]).join(" ")),r==null?n.removeAttribute("class"):a?n.setAttribute("class",r):n.className=r}function patchStyle(n,r,a){const o=n.style,s=isString(a);if(a&&!s){for(const l in a)setStyle(o,l,a[l]);if(r&&!isString(r))for(const l in r)a[l]==null&&setStyle(o,l,"")}else{const l=o.display;s?r!==a&&(o.cssText=a):r&&n.removeAttribute("style"),"_vod"in n&&(o.display=l)}}var importantRE=/\s*!important$/;function setStyle(n,r,a){if(isArray(a))a.forEach(o=>setStyle(n,r,o));else if(r.startsWith("--"))n.setProperty(r,a);else{const o=autoPrefix(n,r);importantRE.test(a)?n.setProperty(hyphenate(o),a.replace(importantRE,""),"important"):n[o]=a}}var prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(n,r){const a=prefixCache[r];if(a)return a;let o=camelize(r);if(o!=="filter"&&o in n)return prefixCache[r]=o;o=capitalize(o);for(let s=0;s<prefixes.length;s++){const l=prefixes[s]+o;if(l in n)return prefixCache[r]=l}return r}var xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(n,r,a,o,s){if(o&&r.startsWith("xlink:"))a==null?n.removeAttributeNS(xlinkNS,r.slice(6,r.length)):n.setAttributeNS(xlinkNS,r,a);else{const l=isSpecialBooleanAttr(r);a==null||l&&!includeBooleanAttr(a)?n.removeAttribute(r):n.setAttribute(r,l?"":a)}}function patchDOMProp(n,r,a,o,s,l,u){if(r==="innerHTML"||r==="textContent"){o&&u(o,s,l),n[r]=a==null?"":a;return}if(r==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=a;const f=a==null?"":a;(n.value!==f||n.tagName==="OPTION")&&(n.value=f),a==null&&n.removeAttribute(r);return}if(a===""||a==null){const f=typeof n[r];if(f==="boolean"){n[r]=includeBooleanAttr(a);return}else if(a==null&&f==="string"){n[r]="",n.removeAttribute(r);return}else if(f==="number"){try{n[r]=0}catch(d){}n.removeAttribute(r);return}}try{n[r]=a}catch(f){warn2(`Failed setting prop "${r}" on <${n.tagName.toLowerCase()}>: value ${a} is invalid.`,f)}}var _getNow=Date.now,skipTimestampCheck=!1;if(typeof window!="undefined"){_getNow()>document.createEvent("Event").timeStamp&&(_getNow=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);skipTimestampCheck=!!(n&&Number(n[1])<=53)}var cachedNow=0,p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener2(n,r,a,o){n.addEventListener(r,a,o)}function removeEventListener2(n,r,a,o){n.removeEventListener(r,a,o)}function patchEvent(n,r,a,o,s=null){const l=n._vei||(n._vei={}),u=l[r];if(o&&u)u.value=o;else{const[f,d]=parseName(r);if(o){const v=l[r]=createInvoker(o,s);addEventListener2(n,f,v,d)}else u&&(removeEventListener2(n,f,u,d),l[r]=void 0)}}var optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(n){let r;if(optionsModifierRE.test(n)){r={};let a;for(;a=n.match(optionsModifierRE);)n=n.slice(0,n.length-a[0].length),r[a[0].toLowerCase()]=!0}return[hyphenate(n.slice(2)),r]}function createInvoker(n,r){const a=o=>{const s=o.timeStamp||_getNow();(skipTimestampCheck||s>=a.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(o,a.value),r,5,[o])};return a.value=n,a.attached=getNow(),a}function patchStopImmediatePropagation(n,r){if(isArray(r)){const a=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{a.call(n),n._stopped=!0},r.map(o=>s=>!s._stopped&&o&&o(s))}else return r}var nativeOnRE=/^on[a-z]/,patchProp=(n,r,a,o,s=!1,l,u,f,d)=>{r==="class"?patchClass(n,o,s):r==="style"?patchStyle(n,a,o):isOn(r)?isModelListener(r)||patchEvent(n,r,a,o,u):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):shouldSetAsProp(n,r,o,s))?patchDOMProp(n,r,o,l,u,f,d):(r==="true-value"?n._trueValue=o:r==="false-value"&&(n._falseValue=o),patchAttr(n,r,o,s))};function shouldSetAsProp(n,r,a,o){return o?!!(r==="innerHTML"||r==="textContent"||r in n&&nativeOnRE.test(r)&&isFunction(a)):r==="spellcheck"||r==="draggable"||r==="form"||r==="list"&&n.tagName==="INPUT"||r==="type"&&n.tagName==="TEXTAREA"||nativeOnRE.test(r)&&isString(a)?!1:r in n}var TRANSITION="transition",ANIMATION="animation",Transition=(n,{slots:r})=>h(BaseTransition,resolveTransitionProps(n),r);Transition.displayName="Transition";var DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook2=(n,r=[])=>{isArray(n)?n.forEach(a=>a(...r)):n&&n(...r)},hasExplicitCallback=n=>n?isArray(n)?n.some(r=>r.length>1):n.length>1:!1;function resolveTransitionProps(n){const r={};for(const z in n)z in DOMTransitionPropsValidators||(r[z]=n[z]);if(n.css===!1)return r;const{name:a="v",type:o,duration:s,enterFromClass:l=`${a}-enter-from`,enterActiveClass:u=`${a}-enter-active`,enterToClass:f=`${a}-enter-to`,appearFromClass:d=l,appearActiveClass:v=u,appearToClass:g=f,leaveFromClass:y=`${a}-leave-from`,leaveActiveClass:b=`${a}-leave-active`,leaveToClass:_=`${a}-leave-to`}=n,x=normalizeDuration(s),C=x&&x[0],w=x&&x[1],{onBeforeEnter:S,onEnter:D,onEnterCancelled:A,onLeave:T,onLeaveCancelled:M,onBeforeAppear:E=S,onAppear:P=D,onAppearCancelled:I=A}=r,F=(z,R,B)=>{removeTransitionClass(z,R?g:f),removeTransitionClass(z,R?v:u),B&&B()},L=(z,R)=>{removeTransitionClass(z,_),removeTransitionClass(z,b),R&&R()},O=z=>(R,B)=>{const N=z?P:D,H=()=>F(R,z,B);callHook2(N,[R,H]),nextFrame(()=>{removeTransitionClass(R,z?d:l),addTransitionClass(R,z?g:f),hasExplicitCallback(N)||whenTransitionEnds(R,o,C,H)})};return extend(r,{onBeforeEnter(z){callHook2(S,[z]),addTransitionClass(z,l),addTransitionClass(z,u)},onBeforeAppear(z){callHook2(E,[z]),addTransitionClass(z,d),addTransitionClass(z,v)},onEnter:O(!1),onAppear:O(!0),onLeave(z,R){const B=()=>L(z,R);addTransitionClass(z,y),forceReflow(),addTransitionClass(z,b),nextFrame(()=>{removeTransitionClass(z,y),addTransitionClass(z,_),hasExplicitCallback(T)||whenTransitionEnds(z,o,w,B)}),callHook2(T,[z,B])},onEnterCancelled(z){F(z,!1),callHook2(A,[z])},onAppearCancelled(z){F(z,!0),callHook2(I,[z])},onLeaveCancelled(z){L(z),callHook2(M,[z])}})}function normalizeDuration(n){if(n==null)return null;if(isObject(n))return[NumberOf(n.enter),NumberOf(n.leave)];{const r=NumberOf(n);return[r,r]}}function NumberOf(n){const r=toNumber(n);return validateDuration(r),r}function validateDuration(n){typeof n!="number"?warn2(`<transition> explicit duration is not a valid number - got ${JSON.stringify(n)}.`):isNaN(n)&&warn2("<transition> explicit duration is NaN - the duration expression might be incorrect.")}function addTransitionClass(n,r){r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),(n._vtc||(n._vtc=new Set)).add(r)}function removeTransitionClass(n,r){r.split(/\s+/).forEach(o=>o&&n.classList.remove(o));const{_vtc:a}=n;a&&(a.delete(r),a.size||(n._vtc=void 0))}function nextFrame(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}var endId=0;function whenTransitionEnds(n,r,a,o){const s=n._endId=++endId,l=()=>{s===n._endId&&o()};if(a)return setTimeout(l,a);const{type:u,timeout:f,propCount:d}=getTransitionInfo(n,r);if(!u)return o();const v=u+"end";let g=0;const y=()=>{n.removeEventListener(v,b),l()},b=_=>{_.target===n&&++g>=d&&y()};setTimeout(()=>{g<d&&y()},f+1),n.addEventListener(v,b)}function getTransitionInfo(n,r){const a=window.getComputedStyle(n),o=x=>(a[x]||"").split(", "),s=o(TRANSITION+"Delay"),l=o(TRANSITION+"Duration"),u=getTimeout(s,l),f=o(ANIMATION+"Delay"),d=o(ANIMATION+"Duration"),v=getTimeout(f,d);let g=null,y=0,b=0;r===TRANSITION?u>0&&(g=TRANSITION,y=u,b=l.length):r===ANIMATION?v>0&&(g=ANIMATION,y=v,b=d.length):(y=Math.max(u,v),g=y>0?u>v?TRANSITION:ANIMATION:null,b=g?g===TRANSITION?l.length:d.length:0);const _=g===TRANSITION&&/\b(transform|all)(,|$)/.test(a[TRANSITION+"Property"]);return{type:g,timeout:y,propCount:b,hasTransform:_}}function getTimeout(n,r){for(;n.length<r.length;)n=n.concat(n);return Math.max(...r.map((a,o)=>toMs(a)+toMs(n[o])))}function toMs(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}var positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(n,{slots:r}){const a=getCurrentInstance(),o=useTransitionState();let s,l;return onUpdated(()=>{if(!s.length)return;const u=n.moveClass||`${n.name||"v"}-move`;if(!hasCSSTransform(s[0].el,a.vnode.el,u))return;s.forEach(callPendingCbs),s.forEach(recordPosition);const f=s.filter(applyTranslation);forceReflow(),f.forEach(d=>{const v=d.el,g=v.style;addTransitionClass(v,u),g.transform=g.webkitTransform=g.transitionDuration="";const y=v._moveCb=b=>{b&&b.target!==v||(!b||/transform$/.test(b.propertyName))&&(v.removeEventListener("transitionend",y),v._moveCb=null,removeTransitionClass(v,u))};v.addEventListener("transitionend",y)})}),()=>{const u=toRaw(n),f=resolveTransitionProps(u);let d=u.tag||Fragment;s=l,l=r.default?getTransitionRawChildren(r.default()):[];for(let v=0;v<l.length;v++){const g=l[v];g.key!=null?setTransitionHooks(g,resolveTransitionHooks(g,f,o,a)):warn2("<TransitionGroup> children must be keyed.")}if(s)for(let v=0;v<s.length;v++){const g=s[v];setTransitionHooks(g,resolveTransitionHooks(g,f,o,a)),positionMap.set(g,g.el.getBoundingClientRect())}return createVNode(d,null,l)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(n){const r=n.el;r._moveCb&&r._moveCb(),r._enterCb&&r._enterCb()}function recordPosition(n){newPositionMap.set(n,n.el.getBoundingClientRect())}function applyTranslation(n){const r=positionMap.get(n),a=newPositionMap.get(n),o=r.left-a.left,s=r.top-a.top;if(o||s){const l=n.el.style;return l.transform=l.webkitTransform=`translate(${o}px,${s}px)`,l.transitionDuration="0s",n}}function hasCSSTransform(n,r,a){const o=n.cloneNode();n._vtc&&n._vtc.forEach(u=>{u.split(/\s+/).forEach(f=>f&&o.classList.remove(f))}),a.split(/\s+/).forEach(u=>u&&o.classList.add(u)),o.style.display="none";const s=r.nodeType===1?r:r.parentNode;s.appendChild(o);const{hasTransform:l}=getTransitionInfo(o);return s.removeChild(o),l}var getModelAssigner=n=>{const r=n.props["onUpdate:modelValue"];return isArray(r)?a=>invokeArrayFns(r,a):r},vModelSelect={deep:!0,created(n,{value:r,modifiers:{number:a}},o){const s=isSet(r);addEventListener2(n,"change",()=>{const l=Array.prototype.filter.call(n.options,u=>u.selected).map(u=>a?toNumber(getValue(u)):getValue(u));n._assign(n.multiple?s?new Set(l):l:l[0])}),n._assign=getModelAssigner(o)},mounted(n,{value:r}){setSelected(n,r)},beforeUpdate(n,r,a){n._assign=getModelAssigner(a)},updated(n,{value:r}){setSelected(n,r)}};function setSelected(n,r){const a=n.multiple;if(a&&!isArray(r)&&!isSet(r)){warn2(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(r).slice(8,-1)}.`);return}for(let o=0,s=n.options.length;o<s;o++){const l=n.options[o],u=getValue(l);if(a)isArray(r)?l.selected=looseIndexOf(r,u)>-1:l.selected=r.has(u);else if(looseEqual(getValue(l),r)){n.selectedIndex!==o&&(n.selectedIndex=o);return}}!a&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}function getValue(n){return"_value"in n?n._value:n.value}var vShow={beforeMount(n,{value:r},{transition:a}){n._vod=n.style.display==="none"?"":n.style.display,a&&r?a.beforeEnter(n):setDisplay(n,r)},mounted(n,{value:r},{transition:a}){a&&r&&a.enter(n)},updated(n,{value:r,oldValue:a},{transition:o}){!r!=!a&&(o?r?(o.beforeEnter(n),setDisplay(n,!0),o.enter(n)):o.leave(n,()=>{setDisplay(n,!1)}):setDisplay(n,r))},beforeUnmount(n,{value:r}){setDisplay(n,r)}};function setDisplay(n,r){n.style.display=r?n._vod:"none"}var rendererOptions=extend({patchProp},nodeOps),renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}var createApp=(...n)=>{const r=ensureRenderer().createApp(...n);injectNativeTagCheck(r),injectCompilerOptionsCheck(r);const{mount:a}=r;return r.mount=o=>{const s=normalizeContainer(o);if(!s)return;const l=r._component;!isFunction(l)&&!l.render&&!l.template&&(l.template=s.innerHTML),s.innerHTML="";const u=a(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),u},r};function injectNativeTagCheck(n){Object.defineProperty(n.config,"isNativeTag",{value:r=>isHTMLTag(r)||isSVGTag(r),writable:!1})}function injectCompilerOptionsCheck(n){if(isRuntimeOnly()){const r=n.config.isCustomElement;Object.defineProperty(n.config,"isCustomElement",{get(){return r},set(){warn2("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const a=n.config.compilerOptions,o='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(n.config,"compilerOptions",{get(){return warn2(o),a},set(){warn2(o)}})}}function normalizeContainer(n){if(isString(n)){const r=document.querySelector(n);return r||warn2(`Failed to mount app: mount target selector "${n}" returned null.`),r}return window.ShadowRoot&&n instanceof window.ShadowRoot&&n.mode==="closed"&&warn2('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),n}function initDev(){initCustomFormatter()}initDev();function around(n,r){const a=Object.keys(r).map(o=>around1(n,o,r[o]));return a.length===1?a[0]:function(){a.forEach(o=>o())}}function around1(n,r,a){const o=n[r],s=n.hasOwnProperty(r);let l=a(o);return o&&Object.setPrototypeOf(l,o),Object.setPrototypeOf(u,l),n[r]=u,f;function u(...d){return l===o&&n[r]===u&&f(),l.apply(this,d)}function f(){n[r]===u&&(s?n[r]=o:delete n[r]),l!==o&&(l=o,Object.setPrototypeOf(u,o||Function))}}var App_default=defineComponent({setup(n,{expose:r}){r();const a={};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),_hoisted_1={class:"box"},_hoisted_2={class:"child"};function render(n,r,a,o,s,l){return openBlock(),createElementBlock("div",_hoisted_1,[(openBlock(),createElementBlock(Fragment,null,renderList(3,u=>createBaseVNode("div",_hoisted_2," xxx ")),64))])}App_default.render=render,App_default.__file="src\\views\\App.vue";var App_default2=App_default,import_obsidian4=__toModule(require("obsidian")),import_obsidian3=__toModule(require("obsidian")),onceCbs=[],paramsMap=new WeakMap;function flushOnceCallbacks(){onceCbs.forEach(n=>n(...paramsMap.get(n))),onceCbs=[]}function beforeNextFrameOnce(n,...r){paramsMap.set(n,r),!onceCbs.includes(n)&&onceCbs.push(n)===1&&requestAnimationFrame(flushOnceCallbacks)}function happensIn(n,r){let{target:a}=n;for(;a;){if(a.dataset&&a.dataset[r]!==void 0)return!0;a=a.parentElement}return!1}function depx(n){return typeof n=="string"?n.endsWith("px")?Number(n.slice(0,n.length-2)):Number(n):n}function pxfy(n){if(n!=null)return typeof n=="number"?`${n}px`:n.endsWith("px")?n:`${n}px`}function getMargin(n,r){const a=n.trim().split(/\s+/g),o={top:a[0]};switch(a.length){case 1:o.right=a[0],o.bottom=a[0],o.left=a[0];break;case 2:o.right=a[1],o.left=a[1],o.bottom=a[0];break;case 3:o.right=a[1],o.bottom=a[2],o.left=a[1];break;case 4:o.right=a[1],o.bottom=a[2],o.left=a[3];break;default:throw new Error("[seemly/getMargin]:"+n+" is not a valid value.")}return r===void 0?o:o[r]}var colors_default={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},prefix="^\\s*",suffix="\\s*$",percent="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))%\\s*",float="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",hex="([0-9A-Fa-f])",dhex="([0-9A-Fa-f]{2})",hslRegex=new RegExp(`${prefix}hsl\\s*\\(${float},${percent},${percent}\\)${suffix}`),hsvRegex=new RegExp(`${prefix}hsv\\s*\\(${float},${percent},${percent}\\)${suffix}`),hslaRegex=new RegExp(`${prefix}hsla\\s*\\(${float},${percent},${percent},${float}\\)${suffix}`),hsvaRegex=new RegExp(`${prefix}hsva\\s*\\(${float},${percent},${percent},${float}\\)${suffix}`),rgbRegex=new RegExp(`${prefix}rgb\\s*\\(${float},${float},${float}\\)${suffix}`),rgbaRegex=new RegExp(`${prefix}rgba\\s*\\(${float},${float},${float},${float}\\)${suffix}`),sHexRegex=new RegExp(`${prefix}#${hex}${hex}${hex}${suffix}`),hexRegex=new RegExp(`${prefix}#${dhex}${dhex}${dhex}${suffix}`),sHexaRegex=new RegExp(`${prefix}#${hex}${hex}${hex}${hex}${suffix}`),hexaRegex=new RegExp(`${prefix}#${dhex}${dhex}${dhex}${dhex}${suffix}`);function parseHex(n){return parseInt(n,16)}function rgba(n){try{let r;if(r=hexRegex.exec(n))return[parseHex(r[1]),parseHex(r[2]),parseHex(r[3]),1];if(r=rgbRegex.exec(n))return[roundChannel(r[1]),roundChannel(r[5]),roundChannel(r[9]),1];if(r=rgbaRegex.exec(n))return[roundChannel(r[1]),roundChannel(r[5]),roundChannel(r[9]),roundAlpha(r[13])];if(r=sHexRegex.exec(n))return[parseHex(r[1]+r[1]),parseHex(r[2]+r[2]),parseHex(r[3]+r[3]),1];if(r=hexaRegex.exec(n))return[parseHex(r[1]),parseHex(r[2]),parseHex(r[3]),roundAlpha(parseHex(r[4])/255)];if(r=sHexaRegex.exec(n))return[parseHex(r[1]+r[1]),parseHex(r[2]+r[2]),parseHex(r[3]+r[3]),roundAlpha(parseHex(r[4]+r[4])/255)];if(n in colors_default)return rgba(colors_default[n]);throw new Error(`[seemly/rgba]: Invalid color value ${n}.`)}catch(r){throw r}}function normalizeAlpha(n){return n>1?1:n<0?0:n}function stringifyRgba(n,r,a,o){return`rgba(${roundChannel(n)}, ${roundChannel(r)}, ${roundChannel(a)}, ${normalizeAlpha(o)})`}function compositeChannel(n,r,a,o,s){return roundChannel((n*r*(1-o)+a*o)/s)}function composite(n,r){Array.isArray(n)||(n=rgba(n)),Array.isArray(r)||(r=rgba(r));const a=n[3],o=r[3],s=roundAlpha(a+o-a*o);return stringifyRgba(compositeChannel(n[0],a,r[0],o,s),compositeChannel(n[1],a,r[1],o,s),compositeChannel(n[2],a,r[2],o,s),s)}function changeColor(n,r){const[a,o,s,l=1]=Array.isArray(n)?n:rgba(n);return r.alpha?stringifyRgba(a,o,s,r.alpha):stringifyRgba(a,o,s,l)}function scaleColor(n,r){const[a,o,s,l=1]=Array.isArray(n)?n:rgba(n),{lightness:u=1,alpha:f=1}=r;return toRgbaString([a*u,o*u,s*u,l*f])}function roundAlpha(n){const r=Math.round(Number(n)*100)/100;return r>1?1:r<0?0:r}function roundChannel(n){const r=Math.round(Number(n));return r>255?255:r<0?0:r}function toRgbaString(n){const[r,a,o]=n;return 3 in n?`rgba(${roundChannel(r)}, ${roundChannel(a)}, ${roundChannel(o)}, ${roundAlpha(n[3])})`:`rgba(${roundChannel(r)}, ${roundChannel(a)}, ${roundChannel(o)}, 1)`}function createId(n=8){return Math.random().toString(16).slice(2,2+n)}function getSlot(n,r="default",a=[]){const s=n.$slots[r];return s===void 0?a:s()}function keep(n,r=[],a){const o={};return r.forEach(s=>{o[s]=n[s]}),Object.assign(o,a)}function flatten(n,r=!0,a=[]){return n.forEach(o=>{if(o!==null){if(typeof o!="object"){(typeof o=="string"||typeof o=="number")&&a.push(createTextVNode(String(o)));return}if(Array.isArray(o)){flatten(o,r,a);return}if(o.type===Fragment){if(o.children===null)return;Array.isArray(o.children)&&flatten(o.children,r,a)}else o.type!==Comment&&a.push(o)}}),a}function call(n,...r){if(Array.isArray(n))n.forEach(a=>call(a,...r));else return n(...r)}function keysOf(n){return Object.keys(n)}var render2=(n,...r)=>typeof n=="function"?n(...r):typeof n=="string"?createTextVNode(n):typeof n=="number"?createTextVNode(String(n)):null,warnedMessages=new Set;function warnOnce(n,r){const a=`[naive/${n}]: ${r}`;warnedMessages.has(a)||(warnedMessages.add(a),console.error(a))}function warn3(n,r){console.error(`[naive/${n}]: ${r}`)}function throwError(n,r){throw new Error(`[naive/${n}]: ${r}`)}function getTitleAttribute(n){switch(typeof n){case"string":return n||void 0;case"number":return String(n);default:return}}function getFirstSlotVNode(n,r="default",a=void 0){const o=n[r];if(!o)return warn3("getFirstSlotVNode",`slot[${r}] is empty`),null;const s=flatten(o(a));return s.length===1?s[0]:(warn3("getFirstSlotVNode",`slot[${r}] should have exactly one child`),null)}function createInjectionKey(n){return n}function ensureValidVNode2(n){return n.some(r=>isVNode(r)?!(r.type===Comment||r.type===Fragment&&!ensureValidVNode2(r.children)):!0)?n:null}function resolveSlot(n,r){return n&&ensureValidVNode2(n())||r()}function resolveSlotWithProps(n,r,a){return n&&ensureValidVNode2(n(r))||a(r)}function resolveWrappedSlot(n,r){const a=n&&ensureValidVNode2(n());return r(a||null)}function isSlotEmpty(n){return!(n&&ensureValidVNode2(n()))}var pureNumberRegex=/^(\d|\.)+$/,numberRegex=/(\d|\.)+/;function formatLength(n,{c:r=1,offset:a=0,attachPx:o=!0}={}){if(typeof n=="number"){const s=(n+a)*r;return s===0?"0":`${s}px`}else if(typeof n=="string")if(pureNumberRegex.test(n)){const s=(Number(n)+a)*r;return o?s===0?"0":`${s}px`:`${s}`}else{const s=numberRegex.exec(n);return s?n.replace(numberRegex,String((Number(s[0])+a)*r)):n}return n}function color2Class(n){return n.replace(/#|\(|\)|,|\s/g,"_")}function ampCount(n){let r=0;for(let a=0;a<n.length;++a)n[a]==="&"&&++r;return r}var separatorRegex=/\s*,(?![^(]*\))\s*/g,extraSpaceRegex=/\s+/g;function resolveSelectorWithAmp(n,r){const a=[];return r.split(separatorRegex).forEach(o=>{let s=ampCount(o);if(s){if(s===1){n.forEach(u=>{a.push(o.replace("&",u))});return}}else{n.forEach(u=>{a.push((u&&u+" ")+o)});return}let l=[o];for(;s--;){const u=[];l.forEach(f=>{n.forEach(d=>{u.push(f.replace("&",d))})}),l=u}l.forEach(u=>a.push(u))}),a}function resolveSelector(n,r){const a=[];return r.split(separatorRegex).forEach(o=>{n.forEach(s=>{a.push((s&&s+" ")+o)})}),a}function parseSelectorPath(n){let r=[""];return n.forEach(a=>{a=a&&a.trim(),!!a&&(a.includes("&")?r=resolveSelectorWithAmp(r,a):r=resolveSelector(r,a))}),r.join(", ").replace(extraSpaceRegex," ")}function removeElement(n){if(!n)return;const r=n.parentElement;r&&r.removeChild(n)}function queryElement(n){return document.querySelector(`style[cssr-id="${n}"]`)}function createElement(n){const r=document.createElement("style");return r.setAttribute("cssr-id",n),r}function isMediaOrSupports(n){return n?/^\s*@(s|m)/.test(n):!1}var kebabRegex=/[A-Z]/g;function kebabCase(n){return n.replace(kebabRegex,r=>"-"+r.toLowerCase())}function unwrapProperty(n,r="  "){return typeof n=="object"&&n!==null?` {
`+Object.entries(n).map(a=>r+`  ${kebabCase(a[0])}: ${a[1]};`).join(`
`)+`
`+r+"}":`: ${n};`}function unwrapProperties(n,r,a){return typeof n=="function"?n({context:r.context,props:a}):n}function createStyle(n,r,a,o){if(!r)return"";const s=unwrapProperties(r,a,o);if(!s)return"";if(typeof s=="string")return`${n} {
${s}
}`;const l=Object.keys(s);if(l.length===0)return a.config.keepEmptyBlock?n+` {
}`:"";const u=n?[n+" {"]:[];return l.forEach(f=>{const d=s[f];if(f==="raw"){u.push(`
`+d+`
`);return}f=kebabCase(f),d!=null&&u.push(`  ${f}${unwrapProperty(d)}`)}),n&&u.push("}"),u.join(`
`)}function loopCNodeListWithCallback(n,r,a){!n||n.forEach(o=>{if(Array.isArray(o))loopCNodeListWithCallback(o,r,a);else if(typeof o=="function"){const s=o(r);Array.isArray(s)?loopCNodeListWithCallback(s,r,a):s&&a(s)}else o&&a(o)})}function traverseCNode(n,r,a,o,s,l){const u=n.$;let f="";if(!u||typeof u=="string")isMediaOrSupports(u)?f=u:r.push(u);else if(typeof u=="function"){const g=u({context:o.context,props:s});isMediaOrSupports(g)?f=g:r.push(g)}else if(u.before&&u.before(o.context),!u.$||typeof u.$=="string")isMediaOrSupports(u.$)?f=u.$:r.push(u.$);else if(u.$){const g=u.$({context:o.context,props:s});isMediaOrSupports(g)?f=g:r.push(g)}const d=parseSelectorPath(r),v=createStyle(d,n.props,o,s);f?(a.push(`${f} {`),l&&v&&l.insertRule(`${f} {
${v}
}
`)):(l&&v&&l.insertRule(v),!l&&v.length&&a.push(v)),n.children&&loopCNodeListWithCallback(n.children,{context:o.context,props:s},g=>{if(typeof g=="string"){const y=createStyle(d,{raw:g},o,s);l?l.insertRule(y):a.push(y)}else traverseCNode(g,r,a,o,s,l)}),r.pop(),f&&a.push("}"),u&&u.after&&u.after(o.context)}function render3(n,r,a,o=!1){const s=[];return traverseCNode(n,[],s,r,a,o?n.instance.__styleSheet:void 0),o?"":s.join(`

`)}function murmur2(n){for(var r=0,a,o=0,s=n.length;s>=4;++o,s-=4)a=n.charCodeAt(o)&255|(n.charCodeAt(++o)&255)<<8|(n.charCodeAt(++o)&255)<<16|(n.charCodeAt(++o)&255)<<24,a=(a&65535)*1540483477+((a>>>16)*59797<<16),a^=a>>>24,r=(a&65535)*1540483477+((a>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(s){case 3:r^=(n.charCodeAt(o+2)&255)<<16;case 2:r^=(n.charCodeAt(o+1)&255)<<8;case 1:r^=n.charCodeAt(o)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}var hash_browser_esm_default=murmur2;typeof window!="undefined"&&(window.__cssrContext={});function unmount(n,r,a){const{els:o}=r;if(a===void 0)o.forEach(removeElement),r.els=[];else{const s=queryElement(a);s&&o.includes(s)&&(removeElement(s),r.els=o.filter(l=>l!==s))}}function addElementToList(n,r){n.push(r)}function mount(n,r,a,o,s,l,u,f,d){if(l&&!d){if(a===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const b=window.__cssrContext;b[a]||(b[a]=!0,render3(r,n,o,l));return}let v;if(a===void 0&&(v=r.render(o),a=hash_browser_esm_default(v)),d){d.adapter(a,v!=null?v:r.render(o));return}const g=queryElement(a);if(g!==null&&!u)return g;const y=g!=null?g:createElement(a);if(v===void 0&&(v=r.render(o)),y.textContent=v,g!==null)return g;if(f){const b=document.head.querySelector(`meta[name="${f}"]`);if(b)return document.head.insertBefore(y,b),addElementToList(r.els,y),y}return s?document.head.insertBefore(y,document.head.querySelector("style, link")):document.head.appendChild(y),addElementToList(r.els,y),y}function wrappedRender(n){return render3(this,this.instance,n)}function wrappedMount(n={}){const{id:r,ssr:a,props:o,head:s=!1,silent:l=!1,force:u=!1,anchorMetaName:f}=n;return mount(this.instance,this,r,o,s,l,u,f,a)}function wrappedUnmount(n={}){const{id:r}=n;unmount(this.instance,this,r)}var createCNode=function(n,r,a,o){return{instance:n,$:r,props:a,children:o,els:[],render:wrappedRender,mount:wrappedMount,unmount:wrappedUnmount}},c=function(n,r,a,o){return Array.isArray(r)?createCNode(n,{$:null},null,r):Array.isArray(a)?createCNode(n,r,null,a):Array.isArray(o)?createCNode(n,r,a,o):createCNode(n,r,a,null)};function CssRender(n={}){let r=null;const a={c:(...o)=>c(a,...o),use:(o,...s)=>o.install(a,...s),find:queryElement,context:{},config:n,get __styleSheet(){if(!r){const o=document.createElement("style");return document.head.appendChild(o),r=document.styleSheets[document.styleSheets.length-1],r}return r}};return a}function exists(n,r){if(n===void 0)return!1;if(r){const{context:{ids:a}}=r;return a.has(n)}return queryElement(n)!==null}var esm_default=CssRender;function plugin(n){let r=".",a="__",o="--",s;if(n){let x=n.blockPrefix;x&&(r=x),x=n.elementPrefix,x&&(a=x),x=n.modifierPrefix,x&&(o=x)}const l={install(x){s=x.c;const C=x.context;C.bem={},C.bem.b=null,C.bem.els=null}};function u(x){let C,w;return{before(S){C=S.bem.b,w=S.bem.els,S.bem.els=null},after(S){S.bem.b=C,S.bem.els=w},$({context:S,props:D}){return x=typeof x=="string"?x:x({context:S,props:D}),S.bem.b=x,`${(D==null?void 0:D.bPrefix)||r}${S.bem.b}`}}}function f(x){let C;return{before(w){C=w.bem.els},after(w){w.bem.els=C},$({context:w,props:S}){return x=typeof x=="string"?x:x({context:w,props:S}),w.bem.els=x.split(",").map(D=>D.trim()),w.bem.els.map(D=>`${(S==null?void 0:S.bPrefix)||r}${w.bem.b}${a}${D}`).join(", ")}}}function d(x){return{$({context:C,props:w}){x=typeof x=="string"?x:x({context:C,props:w});const S=x.split(",").map(T=>T.trim());function D(T){return S.map(M=>`&${(w==null?void 0:w.bPrefix)||r}${C.bem.b}${T!==void 0?`${a}${T}`:""}${o}${M}`).join(", ")}const A=C.bem.els;if(A!==null){if(A.length>=2)throw Error(`[css-render/plugin-bem]: m(${x}) is invalid, using modifier inside multiple elements is not allowed`);return D(A[0])}else return D()}}}function v(x){return{$({context:C,props:w}){x=typeof x=="string"?x:x({context:C,props:w});const S=C.bem.els;if(S!==null&&S.length>=2)throw Error(`[css-render/plugin-bem]: notM(${x}) is invalid, using modifier inside multiple elements is not allowed`);return`&:not(${(w==null?void 0:w.bPrefix)||r}${C.bem.b}${S!==null&&S.length>0?`${a}${S[0]}`:""}${o}${x})`}}}return Object.assign(l,{cB:(...x)=>s(u(x[0]),x[1],x[2]),cE:(...x)=>s(f(x[0]),x[1],x[2]),cM:(...x)=>s(d(x[0]),x[1],x[2]),cNotM:(...x)=>s(v(x[0]),x[1],x[2])}),l}var esm_default2=plugin;function createKey(n,r){return n+(r==="default"?"":r.replace(/^[a-z]/,a=>a.toUpperCase()))}createKey("abc","def");var namespace="n",prefix2=`.${namespace}-`,elementPrefix="__",modifierPrefix="--",cssr=esm_default(),plugin2=esm_default2({blockPrefix:prefix2,elementPrefix,modifierPrefix});cssr.use(plugin2);var{c:c2,find}=cssr,{cB,cE,cM,cNotM}=plugin2,cCB=(...n)=>c2(">",[cB(...n)]);function useFalseUntilTruthy(n){const r=ref(!!n.value);if(r.value)return readonly(r);const a=watch(n,o=>{o&&(r.value=!0,a())});return readonly(r)}function useMemo(n){const r=computed2(n),a=ref(r.value);return watch(r,o=>{a.value=o}),typeof n=="function"?a:{__v_isRef:!0,get value(){return a.value},set value(o){n.set(o)}}}var use_memo_default=useMemo,isBrowser=typeof window!="undefined",fontsReady,isFontReady,init=()=>{var n,r;fontsReady=isBrowser?(r=(n=document)===null||n===void 0?void 0:n.fonts)===null||r===void 0?void 0:r.ready:void 0,isFontReady=!1,fontsReady!==void 0?fontsReady.then(()=>{isFontReady=!0}):isFontReady=!0};init();function onFontsReady(n){if(isFontReady)return;let r=!1;onMounted(()=>{isFontReady||fontsReady==null||fontsReady.then(()=>{r||n()})}),onBeforeUnmount(()=>{r=!0})}var traps={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function createTrapHandler(n,r,a){if(n==="mousemoveoutside"){const o=s=>{r.contains(s.target)||a(s)};return{mousemove:o,touchstart:o}}else if(n==="clickoutside"){let o=!1;const s=u=>{o=!r.contains(u.target)},l=u=>{!o||r.contains(u.target)||a(u)};return{mousedown:s,mouseup:l,touchstart:s,touchend:l}}return console.error(`[evtd/create-trap-handler]: name \`${n}\` is invalid. This could be a bug of evtd.`),{}}function ensureTrapHandlers(n,r,a){const o=traps[n];let s=o.get(r);s===void 0&&o.set(r,s=new WeakMap);let l=s.get(a);return l===void 0&&s.set(a,l=createTrapHandler(n,r,a)),l}function trapOn(n,r,a,o){if(n==="mousemoveoutside"||n==="clickoutside"){const s=ensureTrapHandlers(n,r,a);return Object.keys(s).forEach(l=>{on(l,document,s[l],o)}),!0}return!1}function trapOff(n,r,a,o){if(n==="mousemoveoutside"||n==="clickoutside"){const s=ensureTrapHandlers(n,r,a);return Object.keys(s).forEach(l=>{off(l,document,s[l],o)}),!0}return!1}function createDelegate(){if(typeof window=="undefined")return{on:()=>{},off:()=>{}};const n=new WeakMap,r=new WeakMap;function a(){n.set(this,!0)}function o(){n.set(this,!0),r.set(this,!0)}function s(P,I,F){const L=P[I];return P[I]=function(){return F.apply(P,arguments),L.apply(P,arguments)},P}function l(P,I){P[I]=Event.prototype[I]}const u=new WeakMap,f=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function d(){var P;return(P=u.get(this))!==null&&P!==void 0?P:null}function v(P,I){f!==void 0&&Object.defineProperty(P,"currentTarget",{configurable:!0,enumerable:!0,get:I!=null?I:f.get})}const g={bubble:{},capture:{}},y={};function b(){const P=function(I){const{type:F,eventPhase:L,target:O,bubbles:z}=I;if(L===2)return;const R=L===1?"capture":"bubble";let B=O;const N=[];for(;B===null&&(B=window),N.push(B),B!==window;)B=B.parentNode||null;const H=g.capture[F],W=g.bubble[F];if(s(I,"stopPropagation",a),s(I,"stopImmediatePropagation",o),v(I,d),R==="capture"){if(H===void 0)return;for(let V=N.length-1;V>=0&&!n.has(I);--V){const G=N[V],Y=H.get(G);if(Y!==void 0){u.set(I,G);for(const Q of Y){if(r.has(I))break;Q(I)}}if(V===0&&!z&&W!==void 0){const Q=W.get(G);if(Q!==void 0)for(const q of Q){if(r.has(I))break;q(I)}}}}else if(R==="bubble"){if(W===void 0)return;for(let V=0;V<N.length&&!n.has(I);++V){const G=N[V],Y=W.get(G);if(Y!==void 0){u.set(I,G);for(const Q of Y){if(r.has(I))break;Q(I)}}}}l(I,"stopPropagation"),l(I,"stopImmediatePropagation"),v(I)};return P.displayName="evtdUnifiedHandler",P}function _(){const P=function(I){const{type:F,eventPhase:L}=I;if(L!==2)return;const O=y[F];O!==void 0&&O.forEach(z=>z(I))};return P.displayName="evtdUnifiedWindowEventHandler",P}const x=b(),C=_();function w(P,I){const F=g[P];return F[I]===void 0&&(F[I]=new Map,window.addEventListener(I,x,P==="capture")),F[I]}function S(P){return y[P]===void 0&&(y[P]=new Set,window.addEventListener(P,C)),y[P]}function D(P,I){let F=P.get(I);return F===void 0&&P.set(I,F=new Set),F}function A(P,I,F,L){const O=g[I][F];if(O!==void 0){const z=O.get(P);if(z!==void 0&&z.has(L))return!0}return!1}function T(P,I){const F=y[P];return!!(F!==void 0&&F.has(I))}function M(P,I,F,L){let O;if(typeof L=="object"&&L.once===!0?O=H=>{E(P,I,O,L),F(H)}:O=F,trapOn(P,I,O,L))return;const R=L===!0||typeof L=="object"&&L.capture===!0?"capture":"bubble",B=w(R,P),N=D(B,I);if(N.has(O)||N.add(O),I===window){const H=S(P);H.has(O)||H.add(O)}}function E(P,I,F,L){if(trapOff(P,I,F,L))return;const z=L===!0||typeof L=="object"&&L.capture===!0,R=z?"capture":"bubble",B=w(R,P),N=D(B,I);if(I===window&&!A(I,z?"bubble":"capture",P,F)&&T(P,F)){const W=y[P];W.delete(F),W.size===0&&(window.removeEventListener(P,C),y[P]=void 0)}N.has(F)&&N.delete(F),N.size===0&&B.delete(I),B.size===0&&(window.removeEventListener(P,x,R==="capture"),g[R][P]=void 0)}return{on:M,off:E}}var{on,off}=createDelegate();function useMergedState(n,r){return watch(n,a=>{a!==void 0&&(r.value=a)}),computed2(()=>n.value===void 0?r.value:n.value)}function isMounted(){const n=ref(!1);return onMounted(()=>{n.value=!0}),readonly(n)}function useCompitable(n,r){return computed2(()=>{for(const a of r)if(n[a]!==void 0)return n[a];return n[r[r.length-1]]})}var isIos=(typeof window=="undefined"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function useIsIos(){return isIos}var internalSelectionMenuInjectionKey=createInjectionKey("n-internal-select-menu"),internalSelectionMenuBodyInjectionKey=createInjectionKey("n-internal-select-menu-body"),modalBodyInjectionKey=createInjectionKey("n-modal-body"),modalInjectionKey=createInjectionKey("n-modal"),drawerBodyInjectionKey=createInjectionKey("n-drawer-body"),drawerInjectionKey=createInjectionKey("n-drawer"),popoverBodyInjectionKey=createInjectionKey("n-popover-body"),teleportDisabled="__disabled__";function useAdjustedTo(n){const r=inject(modalBodyInjectionKey,null),a=inject(drawerBodyInjectionKey,null),o=inject(popoverBodyInjectionKey,null),s=inject(internalSelectionMenuBodyInjectionKey,null),l=ref();if(typeof document!="undefined"){l.value=document.fullscreenElement;const u=()=>{l.value=document.fullscreenElement};onMounted(()=>{on("fullscreenchange",document,u)}),onBeforeUnmount(()=>{off("fullscreenchange",document,u)})}return use_memo_default(()=>{var u;const{to:f}=n;return f!==void 0?f===!1?teleportDisabled:f===!0?l.value||"body":f:(r==null?void 0:r.value)?(u=r.value.$el)!==null&&u!==void 0?u:r.value:(a==null?void 0:a.value)?a.value:(o==null?void 0:o.value)?o.value:(s==null?void 0:s.value)?s.value:f!=null?f:l.value||"body"})}useAdjustedTo.tdkey=teleportDisabled,useAdjustedTo.propTo={type:[String,Object,Boolean],default:void 0};function getSlot2(n,r,a="default"){const o=r[a];if(o===void 0)throw new Error(`[vueuc/${n}]: slot[${a}] is empty.`);return o()}function flatten2(n,r=!0,a=[]){return n.forEach(o=>{if(o!==null){if(typeof o!="object"){(typeof o=="string"||typeof o=="number")&&a.push(createTextVNode(String(o)));return}if(Array.isArray(o)){flatten2(o,r,a);return}if(o.type===Fragment){if(o.children===null)return;Array.isArray(o.children)&&flatten2(o.children,r,a)}else o.type!==Comment&&a.push(o)}}),a}function getFirstVNode(n,r,a="default"){const o=r[a];if(o===void 0)throw new Error(`[vueuc/${n}]: slot[${a}] is empty.`);const s=flatten2(o());if(s.length===1)return s[0];throw new Error(`[vueuc/${n}]: slot[${a}] should have exactly one child.`)}var viewMeasurer=null;function ensureViewBoundingRect(){if(viewMeasurer===null&&(viewMeasurer=document.getElementById("v-binder-view-measurer"),viewMeasurer===null)){viewMeasurer=document.createElement("div"),viewMeasurer.id="v-binder-view-measurer";const{style:n}=viewMeasurer;n.position="fixed",n.left="0",n.right="0",n.top="0",n.bottom="0",n.pointerEvents="none",n.visibility="hidden",document.body.appendChild(viewMeasurer)}return viewMeasurer.getBoundingClientRect()}function getPointRect(n,r){const a=ensureViewBoundingRect();return{top:r,left:n,height:0,width:0,right:a.width-n,bottom:a.height-r}}function getRect(n){const r=n.getBoundingClientRect(),a=ensureViewBoundingRect();return{left:r.left-a.left,top:r.top-a.top,bottom:a.height+a.top-r.bottom,right:a.width+a.left-r.right,width:r.width,height:r.height}}function getParentNode(n){return n.nodeType===9?null:n.parentNode}function getScrollParent(n){if(n===null)return null;const r=getParentNode(n);if(r===null)return null;if(r.nodeType===9)return document;if(r.nodeType===1){const{overflow:a,overflowX:o,overflowY:s}=getComputedStyle(r);if(/(auto|scroll|overlay)/.test(a+s+o))return r}return getScrollParent(r)}var Binder=defineComponent({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(n){var r;provide("VBinder",(r=getCurrentInstance())===null||r===void 0?void 0:r.proxy);const a=inject("VBinder",null),o=ref(null),s=S=>{o.value=S,a&&n.syncTargetWithParent&&a.setTargetRef(S)};let l=[];const u=()=>{let S=o.value;for(;S=getScrollParent(S),S!==null;)l.push(S);for(const D of l)on("scroll",D,y,!0)},f=()=>{for(const S of l)off("scroll",S,y,!0);l=[]},d=new Set,v=S=>{d.size===0&&u(),d.has(S)||d.add(S)},g=S=>{d.has(S)&&d.delete(S),d.size===0&&f()},y=()=>{beforeNextFrameOnce(b)},b=()=>{d.forEach(S=>S())},_=new Set,x=S=>{_.size===0&&on("resize",window,w),_.has(S)||_.add(S)},C=S=>{_.has(S)&&_.delete(S),_.size===0&&off("resize",window,w)},w=()=>{_.forEach(S=>S())};return onBeforeUnmount(()=>{off("resize",window,w),f()}),{targetRef:o,setTargetRef:s,addScrollListener:v,removeScrollListener:g,addResizeListener:x,removeResizeListener:C}},render(){return getSlot2("binder",this.$slots)}}),Binder_default=Binder,Target_default=defineComponent({name:"Target",setup(){const{setTargetRef:n,syncTarget:r}=inject("VBinder");return{syncTarget:r,setTargetDirective:{mounted:n,updated:n}}},render(){const{syncTarget:n,setTargetDirective:r}=this;return n?withDirectives(getFirstVNode("follower",this.$slots),[[r]]):getFirstVNode("follower",this.$slots)}}),ctxKey="@@mmoContext",mousemoveoutside={mounted(n,{value:r}){n[ctxKey]={handler:void 0},typeof r=="function"&&(n[ctxKey].handler=r,on("mousemoveoutside",n,r))},updated(n,{value:r}){const a=n[ctxKey];typeof r=="function"?a.handler?a.handler!==r&&(off("mousemoveoutside",n,a.handler),a.handler=r,on("mousemoveoutside",n,r)):(n[ctxKey].handler=r,on("mousemoveoutside",n,r)):a.handler&&(off("mousemoveoutside",n,a.handler),a.handler=void 0)},unmounted(n){const{handler:r}=n[ctxKey];r&&off("mousemoveoutside",n,r),n[ctxKey].handler=void 0}},mousemoveoutside_default=mousemoveoutside,ctxKey2="@@coContext",clickoutside={mounted(n,{value:r,modifiers:a}){n[ctxKey2]={handler:void 0},typeof r=="function"&&(n[ctxKey2].handler=r,on("clickoutside",n,r,{capture:a.capture}))},updated(n,{value:r,modifiers:a}){const o=n[ctxKey2];typeof r=="function"?o.handler?o.handler!==r&&(off("clickoutside",n,o.handler,{capture:a.capture}),o.handler=r,on("clickoutside",n,r,{capture:a.capture})):(n[ctxKey2].handler=r,on("clickoutside",n,r,{capture:a.capture})):o.handler&&(off("clickoutside",n,o.handler,{capture:a.capture}),o.handler=void 0)},unmounted(n,{modifiers:r}){const{handler:a}=n[ctxKey2];a&&off("clickoutside",n,a,{capture:r.capture}),n[ctxKey2].handler=void 0}},clickoutside_default=clickoutside,warnedMessages2=new Set;function warn4(n,r){console.error(`[vdirs/${n}]: ${r}`)}var ZIndexManager=class{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(n,r){const{elementZIndex:a}=this;if(r!==void 0){n.style.zIndex=`${r}`,a.delete(n);return}const{nextZIndex:o}=this;a.has(n)&&a.get(n)+1===this.nextZIndex||(n.style.zIndex=`${o}`,a.set(n,o),this.nextZIndex=o+1,this.squashState())}unregister(n,r){const{elementZIndex:a}=this;a.has(n)?a.delete(n):r===void 0&&warn4("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:n}=this;n||(this.nextZIndex=2e3),this.nextZIndex-n>2500&&this.rearrange()}rearrange(){const n=Array.from(this.elementZIndex.entries());n.sort((r,a)=>r[1]-a[1]),this.nextZIndex=2e3,n.forEach(r=>{const a=r[0],o=this.nextZIndex++;`${o}`!==a.style.zIndex&&(a.style.zIndex=`${o}`)})}},z_index_manager_default=new ZIndexManager,ctx="@@ziContext",zindexable={mounted(n,r){const{value:a={}}=r,{zIndex:o,enabled:s}=a;n[ctx]={enabled:!!s,initialized:!1},s&&(z_index_manager_default.ensureZIndex(n,o),n[ctx].initialized=!0)},updated(n,r){const{value:a={}}=r,{zIndex:o,enabled:s}=a,l=n[ctx].enabled;s&&!l&&(z_index_manager_default.ensureZIndex(n,o),n[ctx].initialized=!0),n[ctx].enabled=!!s},unmounted(n,r){if(!n[ctx].initialized)return;const{value:a={}}=r,{zIndex:o}=a;z_index_manager_default.unregister(n,o)}},zindexable_default=zindexable,ssrContextKey2=Symbol("@css-render/vue3-ssr");function createStyleString(n,r){return`<style cssr-id="${n}">
${r}
</style>`}function ssrAdapter(n,r){const a=inject(ssrContextKey2,null);if(a===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:o,ids:s}=a;s.has(n)||o!==null&&(s.add(n),o.push(createStyleString(n,r)))}function useSsrAdapter(){const n=inject(ssrContextKey2,null);if(n!==null)return{adapter:ssrAdapter,context:n}}function warn5(n,r){console.error(`[vueuc/${n}]: ${r}`)}var{c:c3}=CssRender(),cssrAnchorMetaName="vueuc-style";function lowBit(n){return n&-n}var FinweckTree=class{constructor(n,r){this.l=n,this.min=r;const a=new Array(n+1);for(let o=0;o<n+1;++o)a[o]=0;this.ft=a}add(n,r){if(r===0)return;const{l:a,ft:o}=this;for(n+=1;n<=a;)o[n]+=r,n+=lowBit(n)}get(n){return this.sum(n+1)-this.sum(n)}sum(n){if(n===0)return 0;const{ft:r,min:a,l:o}=this;if(n===void 0&&(n=o),n>o)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let s=n*a;for(;n>0;)s+=r[n],n-=lowBit(n);return s}getBound(n){let r=0,a=this.l;for(;a>r;){const o=Math.floor((r+a)/2),s=this.sum(o);if(s>n){a=o;continue}else if(s<n){if(r===o)return this.sum(r+1)<=n?r+1:o;r=o}else return o}return r}};function resolveTo(n){return typeof n=="string"?document.querySelector(n):n()}var src_default=defineComponent({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(n){return{showTeleport:useFalseUntilTruthy(toRef(n,"show")),mergedTo:computed2(()=>{const{to:r}=n;return r!=null?r:"body"})}},render(){return this.showTeleport?this.disabled?getSlot2("lazy-teleport",this.$slots):h(Teleport,{disabled:this.disabled,to:this.mergedTo},getSlot2("lazy-teleport",this.$slots)):null}}),oppositionPositions={top:"bottom",bottom:"top",left:"right",right:"left"},oppositeAligns={start:"end",center:"center",end:"start"},propToCompare={top:"height",bottom:"height",left:"width",right:"width"},transformOrigins={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},overlapTransformOrigin={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},oppositeAlignCssPositionProps={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},keepOffsetDirection={top:!0,bottom:!1,left:!0,right:!1},cssPositionToOppositeAlign={top:"end",bottom:"start",left:"end",right:"start"};function getPlacementAndOffsetOfFollower(n,r,a,o,s,l){if(!s||l)return{placement:n,top:0,left:0};const[u,f]=n.split("-");let d=f!=null?f:"center",v={top:0,left:0};const g=(_,x,C)=>{let w=0,S=0;const D=a[_]-r[x]-r[_];return D>0&&o&&(C?S=keepOffsetDirection[x]?D:-D:w=keepOffsetDirection[x]?D:-D),{left:w,top:S}},y=u==="left"||u==="right";if(d!=="center"){const _=oppositeAlignCssPositionProps[n],x=oppositionPositions[_],C=propToCompare[_];if(a[C]>r[C]){if(r[_]+r[C]<a[C]){const w=(a[C]-r[C])/2;r[_]<w||r[x]<w?r[_]<r[x]?(d=oppositeAligns[f],v=g(C,x,y)):v=g(C,_,y):d="center"}}else a[C]<r[C]&&r[x]<0&&r[_]>r[x]&&(d=oppositeAligns[f])}else{const _=u==="bottom"||u==="top"?"left":"top",x=oppositionPositions[_],C=propToCompare[_],w=(a[C]-r[C])/2;(r[_]<w||r[x]<w)&&(r[_]>r[x]?(d=cssPositionToOppositeAlign[_],v=g(C,_,y)):(d=cssPositionToOppositeAlign[x],v=g(C,x,y)))}let b=u;return r[u]<a[propToCompare[u]]&&r[u]<r[oppositionPositions[u]]&&(b=oppositionPositions[u]),{placement:d!=="center"?`${b}-${d}`:b,left:v.left,top:v.top}}function getProperTransformOrigin(n,r){return r?overlapTransformOrigin[n]:transformOrigins[n]}function getOffset(n,r,a,o,s,l){if(l)switch(n){case"bottom-start":return{top:`${Math.round(a.top-r.top+a.height)}px`,left:`${Math.round(a.left-r.left)}px`,transform:"translateY(-100%)"};case"bottom-end":return{top:`${Math.round(a.top-r.top+a.height)}px`,left:`${Math.round(a.left-r.left+a.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":return{top:`${Math.round(a.top-r.top)}px`,left:`${Math.round(a.left-r.left)}px`,transform:""};case"top-end":return{top:`${Math.round(a.top-r.top)}px`,left:`${Math.round(a.left-r.left+a.width)}px`,transform:"translateX(-100%)"};case"right-start":return{top:`${Math.round(a.top-r.top)}px`,left:`${Math.round(a.left-r.left+a.width)}px`,transform:"translateX(-100%)"};case"right-end":return{top:`${Math.round(a.top-r.top+a.height)}px`,left:`${Math.round(a.left-r.left+a.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"left-start":return{top:`${Math.round(a.top-r.top)}px`,left:`${Math.round(a.left-r.left)}px`,transform:""};case"left-end":return{top:`${Math.round(a.top-r.top+a.height)}px`,left:`${Math.round(a.left-r.left)}px`,transform:"translateY(-100%)"};case"top":return{top:`${Math.round(a.top-r.top)}px`,left:`${Math.round(a.left-r.left+a.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(a.top-r.top+a.height/2)}px`,left:`${Math.round(a.left-r.left+a.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(a.top-r.top+a.height/2)}px`,left:`${Math.round(a.left-r.left)}px`,transform:"translateY(-50%)"};case"bottom":default:return{top:`${Math.round(a.top-r.top+a.height)}px`,left:`${Math.round(a.left-r.left+a.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(n){case"bottom-start":return{top:`${Math.round(a.top-r.top+a.height+o)}px`,left:`${Math.round(a.left-r.left+s)}px`,transform:""};case"bottom-end":return{top:`${Math.round(a.top-r.top+a.height+o)}px`,left:`${Math.round(a.left-r.left+a.width+s)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(a.top-r.top+o)}px`,left:`${Math.round(a.left-r.left+s)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(a.top-r.top+o)}px`,left:`${Math.round(a.left-r.left+a.width+s)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(a.top-r.top+o)}px`,left:`${Math.round(a.left-r.left+a.width+s)}px`,transform:""};case"right-end":return{top:`${Math.round(a.top-r.top+a.height+o)}px`,left:`${Math.round(a.left-r.left+a.width+s)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(a.top-r.top+o)}px`,left:`${Math.round(a.left-r.left+s)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(a.top-r.top+a.height+o)}px`,left:`${Math.round(a.left-r.left+s)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(a.top-r.top+o)}px`,left:`${Math.round(a.left-r.left+a.width/2+s)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(a.top-r.top+a.height/2+o)}px`,left:`${Math.round(a.left-r.left+a.width+s)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(a.top-r.top+a.height/2+o)}px`,left:`${Math.round(a.left-r.left+s)}px`,transform:"translateY(-50%) translateX(-100%)"};case"bottom":default:return{top:`${Math.round(a.top-r.top+a.height+o)}px`,left:`${Math.round(a.left-r.left+a.width/2+s)}px`,transform:"translateX(-50%)"}}}var style=c3([c3(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),c3(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[c3("> *",{pointerEvents:"all"})])]),Follower_default=defineComponent({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(n){const r=inject("VBinder"),a=use_memo_default(()=>n.enabled!==void 0?n.enabled:n.show),o=ref(null),s=ref(null),l=()=>{const{syncTrigger:b}=n;b.includes("scroll")&&r.addScrollListener(d),b.includes("resize")&&r.addResizeListener(d)},u=()=>{r.removeScrollListener(d),r.removeResizeListener(d)};onMounted(()=>{a.value&&(d(),l())});const f=useSsrAdapter();style.mount({id:"vueuc/binder",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:f}),onBeforeUnmount(()=>{u()}),onFontsReady(()=>{a.value&&d()});const d=()=>{if(!a.value)return;const b=o.value;if(b===null)return;const _=r.targetRef,{x,y:C,overlap:w}=n,S=x!==void 0&&C!==void 0?getPointRect(x,C):getRect(_);b.style.setProperty("--v-target-width",`${Math.round(S.width)}px`),b.style.setProperty("--v-target-height",`${Math.round(S.height)}px`);const{width:D,minWidth:A,placement:T,internalShift:M,flip:E}=n;b.setAttribute("v-placement",T),w?b.setAttribute("v-overlap",""):b.removeAttribute("v-overlap");const{style:P}=b;D==="target"?P.width=`${S.width}px`:D!==void 0?P.width=D:P.width="",A==="target"?P.minWidth=`${S.width}px`:A!==void 0?P.minWidth=A:P.minWidth="";const I=getRect(b),F=getRect(s.value),{left:L,top:O,placement:z}=getPlacementAndOffsetOfFollower(T,S,I,M,E,w),R=getProperTransformOrigin(z,w),{left:B,top:N,transform:H}=getOffset(z,F,S,O,L,w);b.setAttribute("v-placement",z),b.style.setProperty("--v-offset-left",`${Math.round(L)}px`),b.style.setProperty("--v-offset-top",`${Math.round(O)}px`),b.style.transform=`translateX(${B}) translateY(${N}) ${H}`,b.style.transformOrigin=R};watch(a,b=>{b?(l(),v()):u()});const v=()=>{nextTick().then(d).catch(b=>console.error(b))};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(b=>{watch(toRef(n,b),d)}),["teleportDisabled"].forEach(b=>{watch(toRef(n,b),v)}),watch(toRef(n,"syncTrigger"),b=>{b.includes("resize")?r.addResizeListener(d):r.removeResizeListener(d),b.includes("scroll")?r.addScrollListener(d):r.removeScrollListener(d)});const g=isMounted(),y=use_memo_default(()=>{const{to:b}=n;if(b!==void 0)return b;!g.value});return{VBinder:r,mergedEnabled:a,offsetContainerRef:s,followerRef:o,mergedTo:y,syncPosition:d}},render(){return h(src_default,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var n,r;const a=h("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[h("div",{class:"v-binder-follower-content",ref:"followerRef"},(r=(n=this.$slots).default)===null||r===void 0?void 0:r.call(n))]);return this.zindexable?withDirectives(a,[[zindexable_default,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):a}})}}),resizeObservers=[],hasActiveObservations=function(){return resizeObservers.some(function(n){return n.activeTargets.length>0})},hasSkippedObservations=function(){return resizeObservers.some(function(n){return n.skippedTargets.length>0})},msg="ResizeObserver loop completed with undelivered notifications.",deliverResizeLoopError=function(){var n;typeof ErrorEvent=="function"?n=new ErrorEvent("error",{message:msg}):(n=document.createEvent("Event"),n.initEvent("error",!1,!1),n.message=msg),window.dispatchEvent(n)},ResizeObserverBoxOptions;(function(n){n.BORDER_BOX="border-box",n.CONTENT_BOX="content-box",n.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ResizeObserverBoxOptions||(ResizeObserverBoxOptions={}));var freeze=function(n){return Object.freeze(n)},ResizeObserverSize=function(){function n(r,a){this.inlineSize=r,this.blockSize=a,freeze(this)}return n}(),DOMRectReadOnly=function(){function n(r,a,o,s){return this.x=r,this.y=a,this.width=o,this.height=s,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,freeze(this)}return n.prototype.toJSON=function(){var r=this,a=r.x,o=r.y,s=r.top,l=r.right,u=r.bottom,f=r.left,d=r.width,v=r.height;return{x:a,y:o,top:s,right:l,bottom:u,left:f,width:d,height:v}},n.fromRect=function(r){return new n(r.x,r.y,r.width,r.height)},n}(),isSVG=function(n){return n instanceof SVGElement&&"getBBox"in n},isHidden=function(n){if(isSVG(n)){var r=n.getBBox(),a=r.width,o=r.height;return!a&&!o}var s=n,l=s.offsetWidth,u=s.offsetHeight;return!(l||u||n.getClientRects().length)},isElement=function(n){var r,a;if(n instanceof Element)return!0;var o=(a=(r=n)===null||r===void 0?void 0:r.ownerDocument)===null||a===void 0?void 0:a.defaultView;return!!(o&&n instanceof o.Element)},isReplacedElement=function(n){switch(n.tagName){case"INPUT":if(n.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},global2=typeof window!="undefined"?window:{},cache=new WeakMap,scrollRegexp=/auto|scroll/,verticalRegexp=/^tb|vertical/,IE=/msie|trident/i.test(global2.navigator&&global2.navigator.userAgent),parseDimension=function(n){return parseFloat(n||"0")},size2=function(n,r,a){return n===void 0&&(n=0),r===void 0&&(r=0),a===void 0&&(a=!1),new ResizeObserverSize((a?r:n)||0,(a?n:r)||0)},zeroBoxes=freeze({devicePixelContentBoxSize:size2(),borderBoxSize:size2(),contentBoxSize:size2(),contentRect:new DOMRectReadOnly(0,0,0,0)}),calculateBoxSizes=function(n,r){if(r===void 0&&(r=!1),cache.has(n)&&!r)return cache.get(n);if(isHidden(n))return cache.set(n,zeroBoxes),zeroBoxes;var a=getComputedStyle(n),o=isSVG(n)&&n.ownerSVGElement&&n.getBBox(),s=!IE&&a.boxSizing==="border-box",l=verticalRegexp.test(a.writingMode||""),u=!o&&scrollRegexp.test(a.overflowY||""),f=!o&&scrollRegexp.test(a.overflowX||""),d=o?0:parseDimension(a.paddingTop),v=o?0:parseDimension(a.paddingRight),g=o?0:parseDimension(a.paddingBottom),y=o?0:parseDimension(a.paddingLeft),b=o?0:parseDimension(a.borderTopWidth),_=o?0:parseDimension(a.borderRightWidth),x=o?0:parseDimension(a.borderBottomWidth),C=o?0:parseDimension(a.borderLeftWidth),w=y+v,S=d+g,D=C+_,A=b+x,T=f?n.offsetHeight-A-n.clientHeight:0,M=u?n.offsetWidth-D-n.clientWidth:0,E=s?w+D:0,P=s?S+A:0,I=o?o.width:parseDimension(a.width)-E-M,F=o?o.height:parseDimension(a.height)-P-T,L=I+w+M+D,O=F+S+T+A,z=freeze({devicePixelContentBoxSize:size2(Math.round(I*devicePixelRatio),Math.round(F*devicePixelRatio),l),borderBoxSize:size2(L,O,l),contentBoxSize:size2(I,F,l),contentRect:new DOMRectReadOnly(y,d,I,F)});return cache.set(n,z),z},calculateBoxSize=function(n,r,a){var o=calculateBoxSizes(n,a),s=o.borderBoxSize,l=o.contentBoxSize,u=o.devicePixelContentBoxSize;switch(r){case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:return u;case ResizeObserverBoxOptions.BORDER_BOX:return s;default:return l}},ResizeObserverEntry=function(){function n(r){var a=calculateBoxSizes(r);this.target=r,this.contentRect=a.contentRect,this.borderBoxSize=freeze([a.borderBoxSize]),this.contentBoxSize=freeze([a.contentBoxSize]),this.devicePixelContentBoxSize=freeze([a.devicePixelContentBoxSize])}return n}(),calculateDepthForNode=function(n){if(isHidden(n))return 1/0;for(var r=0,a=n.parentNode;a;)r+=1,a=a.parentNode;return r},broadcastActiveObservations=function(){var n=1/0,r=[];resizeObservers.forEach(function(u){if(u.activeTargets.length!==0){var f=[];u.activeTargets.forEach(function(v){var g=new ResizeObserverEntry(v.target),y=calculateDepthForNode(v.target);f.push(g),v.lastReportedSize=calculateBoxSize(v.target,v.observedBox),y<n&&(n=y)}),r.push(function(){u.callback.call(u.observer,f,u.observer)}),u.activeTargets.splice(0,u.activeTargets.length)}});for(var a=0,o=r;a<o.length;a++){var s=o[a];s()}return n},gatherActiveObservationsAtDepth=function(n){resizeObservers.forEach(function(a){a.activeTargets.splice(0,a.activeTargets.length),a.skippedTargets.splice(0,a.skippedTargets.length),a.observationTargets.forEach(function(s){s.isActive()&&(calculateDepthForNode(s.target)>n?a.activeTargets.push(s):a.skippedTargets.push(s))})})},process2=function(){var n=0;for(gatherActiveObservationsAtDepth(n);hasActiveObservations();)n=broadcastActiveObservations(),gatherActiveObservationsAtDepth(n);return hasSkippedObservations()&&deliverResizeLoopError(),n>0},trigger2,callbacks=[],notify=function(){return callbacks.splice(0).forEach(function(n){return n()})},queueMicroTask=function(n){if(!trigger2){var r=0,a=document.createTextNode(""),o={characterData:!0};new MutationObserver(function(){return notify()}).observe(a,o),trigger2=function(){a.textContent=""+(r?r--:r++)}}callbacks.push(n),trigger2()},queueResizeObserver=function(n){queueMicroTask(function(){requestAnimationFrame(n)})},watching=0,isWatching=function(){return!!watching},CATCH_PERIOD=250,observerConfig={attributes:!0,characterData:!0,childList:!0,subtree:!0},events=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],time=function(n){return n===void 0&&(n=0),Date.now()+n},scheduled=!1,Scheduler=function(){function n(){var r=this;this.stopped=!0,this.listener=function(){return r.schedule()}}return n.prototype.run=function(r){var a=this;if(r===void 0&&(r=CATCH_PERIOD),!scheduled){scheduled=!0;var o=time(r);queueResizeObserver(function(){var s=!1;try{s=process2()}finally{if(scheduled=!1,r=o-time(),!isWatching())return;s?a.run(1e3):r>0?a.run(r):a.start()}})}},n.prototype.schedule=function(){this.stop(),this.run()},n.prototype.observe=function(){var r=this,a=function(){return r.observer&&r.observer.observe(document.body,observerConfig)};document.body?a():global2.addEventListener("DOMContentLoaded",a)},n.prototype.start=function(){var r=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),events.forEach(function(a){return global2.addEventListener(a,r.listener,!0)}))},n.prototype.stop=function(){var r=this;this.stopped||(this.observer&&this.observer.disconnect(),events.forEach(function(a){return global2.removeEventListener(a,r.listener,!0)}),this.stopped=!0)},n}(),scheduler=new Scheduler,updateCount=function(n){!watching&&n>0&&scheduler.start(),watching+=n,!watching&&scheduler.stop()},skipNotifyOnElement=function(n){return!isSVG(n)&&!isReplacedElement(n)&&getComputedStyle(n).display==="inline"},ResizeObservation=function(){function n(r,a){this.target=r,this.observedBox=a||ResizeObserverBoxOptions.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return n.prototype.isActive=function(){var r=calculateBoxSize(this.target,this.observedBox,!0);return skipNotifyOnElement(this.target)&&(this.lastReportedSize=r),this.lastReportedSize.inlineSize!==r.inlineSize||this.lastReportedSize.blockSize!==r.blockSize},n}(),ResizeObserverDetail=function(){function n(r,a){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=r,this.callback=a}return n}(),observerMap=new WeakMap,getObservationIndex=function(n,r){for(var a=0;a<n.length;a+=1)if(n[a].target===r)return a;return-1},ResizeObserverController=function(){function n(){}return n.connect=function(r,a){var o=new ResizeObserverDetail(r,a);observerMap.set(r,o)},n.observe=function(r,a,o){var s=observerMap.get(r),l=s.observationTargets.length===0;getObservationIndex(s.observationTargets,a)<0&&(l&&resizeObservers.push(s),s.observationTargets.push(new ResizeObservation(a,o&&o.box)),updateCount(1),scheduler.schedule())},n.unobserve=function(r,a){var o=observerMap.get(r),s=getObservationIndex(o.observationTargets,a),l=o.observationTargets.length===1;s>=0&&(l&&resizeObservers.splice(resizeObservers.indexOf(o),1),o.observationTargets.splice(s,1),updateCount(-1))},n.disconnect=function(r){var a=this,o=observerMap.get(r);o.observationTargets.slice().forEach(function(s){return a.unobserve(r,s.target)}),o.activeTargets.splice(0,o.activeTargets.length)},n}(),ResizeObserver=function(){function n(r){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof r!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ResizeObserverController.connect(this,r)}return n.prototype.observe=function(r,a){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(r))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.observe(this,r,a)},n.prototype.unobserve=function(r){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement(r))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.unobserve(this,r)},n.prototype.disconnect=function(){ResizeObserverController.disconnect(this)},n.toString=function(){return"function ResizeObserver () { [polyfill code] }"},n}(),ResizeObserverDelegate=class{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new ResizeObserver(this.handleResize),this.elHandlersMap=new Map}handleResize(n){for(const r of n){const a=this.elHandlersMap.get(r.target);a!==void 0&&a(r)}}registerHandler(n,r){this.elHandlersMap.set(n,r),this.observer.observe(n)}unregisterHandler(n){!this.elHandlersMap.has(n)||(this.elHandlersMap.delete(n),this.observer.unobserve(n))}},delegate_default=new ResizeObserverDelegate,VResizeObserver_default=defineComponent({name:"ResizeObserver",props:{onResize:Function},setup(n){return{registered:!1,handleResize(r){const{onResize:a}=n;a!==void 0&&a(r)}}},mounted(){const n=this.$el;if(n===void 0){warn5("resize-observer","$el does not exist.");return}if(n.nextElementSibling!==n.nextSibling&&n.nodeType===3&&n.nodeValue!==""){warn5("resize-observer","$el can not be observed (it may be a text node).");return}n.nextElementSibling!==null&&(delegate_default.registerHandler(n.nextElementSibling,this.handleResize),this.registered=!0)},beforeUnmount(){this.registered&&delegate_default.unregisterHandler(this.$el.nextElementSibling)},render(){return renderSlot(this.$slots,"default")}}),styles=c3(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[c3("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[c3("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),VirtualList_default=defineComponent({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(n){const r=useSsrAdapter();styles.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:r}),onMounted(()=>{const{defaultScrollIndex:M,defaultScrollKey:E}=n;M!=null?y({index:M}):E!=null&&y({key:E})}),onActivated(()=>{y({top:d.value})});const a=computed2(()=>{const M=new Map,{keyField:E}=n;return n.items.forEach((P,I)=>{M.set(P[E],I)}),M}),o=ref(null),s=ref(void 0),l=new Map,u=computed2(()=>{const{items:M,itemSize:E,keyField:P}=n,I=new FinweckTree(M.length,E);return M.forEach((F,L)=>{const O=F[P],z=l.get(O);z!==void 0&&I.add(L,z)}),I}),f=ref(0),d=ref(0),v=use_memo_default(()=>Math.max(u.value.getBound(d.value-depx(n.paddingTop))-1,0)),g=computed2(()=>{const{value:M}=s;if(M===void 0)return[];const{items:E,itemSize:P}=n,I=v.value,F=Math.min(I+Math.ceil(M/P+1),E.length-1),L=[];for(let O=I;O<=F;++O)L.push(E[O]);return L}),y=M=>{const{left:E,top:P,index:I,key:F,position:L,behavior:O,debounce:z=!0}=M;if(E!==void 0||P!==void 0)_(E,P,O);else if(I!==void 0)b(I,O,z);else if(F!==void 0){const R=a.value.get(F);R!==void 0&&b(R,O,z)}else L==="bottom"?_(0,Number.MAX_SAFE_INTEGER,O):L==="top"&&_(0,0,O)};function b(M,E,P){const{value:I}=u,F=I.sum(M)+depx(n.paddingTop);if(!P)o.value.scrollTo({left:0,top:F,behavior:E});else{const{scrollTop:L,offsetHeight:O}=o.value;if(F>L){const z=I.get(M);F+z<=L+O||o.value.scrollTo({left:0,top:F+z-O,behavior:E})}else o.value.scrollTo({left:0,top:F,behavior:E})}S=M}function _(M,E,P){o.value.scrollTo({left:M,top:E,behavior:P})}function x(M,E){var P,I,F,L;if(n.ignoreItemResize||T(E.target))return;const{value:O}=u,z=a.value.get(M),R=O.get(z),B=(F=(I=(P=E.borderBoxSize)===null||P===void 0?void 0:P[0])===null||I===void 0?void 0:I.blockSize)!==null&&F!==void 0?F:E.contentRect.height;if(B===R)return;B-n.itemSize===0?l.delete(M):l.set(M,B-n.itemSize);const H=B-R;H!==0&&(D!==void 0&&z<=D&&((L=o.value)===null||L===void 0||L.scrollBy(0,H)),O.add(z,H),f.value++)}function C(M){beforeNextFrameOnce(A);const{onScroll:E}=n;E!==void 0&&E(M)}function w(M){if(T(M.target)||M.contentRect.height===s.value)return;s.value=M.contentRect.height;const{onResize:E}=n;E!==void 0&&E(M)}let S,D;function A(){const{value:M}=o;M!=null&&(D=S!=null?S:v.value,S=void 0,d.value=o.value.scrollTop)}function T(M){let E=M;for(;E!==null;){if(E.style.display==="none")return!0;E=E.parentElement}return!1}return{listHeight:s,listStyle:{overflow:"auto"},keyToIndex:a,itemsStyle:computed2(()=>{const{itemResizable:M}=n,E=pxfy(u.value.sum());return f.value,[n.itemsStyle,{boxSizing:"content-box",height:M?"":E,minHeight:M?E:"",paddingTop:pxfy(n.paddingTop),paddingBottom:pxfy(n.paddingBottom)}]}),visibleItemsStyle:computed2(()=>(f.value,{transform:`translateY(${pxfy(u.value.sum(v.value))})`})),viewportItems:g,listElRef:o,itemsElRef:ref(null),scrollTo:y,handleListResize:w,handleListScroll:C,handleItemResize:x}},render(){const{itemResizable:n,keyField:r,keyToIndex:a,visibleItemsTag:o}=this;return h(VResizeObserver_default,{onResize:this.handleListResize},{default:()=>{var s,l;return h("div",mergeProps(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.onWheel,ref:"listElRef"}),[this.items.length!==0?h("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[h(o,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>this.viewportItems.map(u=>{const f=u[r],d=a.get(f),v=this.$slots.default({item:u,index:d})[0];return n?h(VResizeObserver_default,{key:f,onResize:g=>this.handleItemResize(f,g)},{default:()=>v}):(v.key=f,v)})})]):(l=(s=this.$slots).empty)===null||l===void 0?void 0:l.call(s)])}})}}),hiddenAttr="v-hidden",style2=c3("[v-hidden]",{display:"none!important"}),src_default2=defineComponent({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateOverflow:Function},setup(n,{slots:r}){const a=ref(null),o=ref(null);function s(){const{value:u}=a,{getCounter:f,getTail:d}=n;let v;if(f!==void 0?v=f():v=o.value,!u||!v)return;v.hasAttribute(hiddenAttr)&&v.removeAttribute(hiddenAttr);const{children:g}=u,y=u.offsetWidth,b=[],_=r.tail?d==null?void 0:d():null;let x=_?_.offsetWidth:0,C=!1;const w=u.children.length-(r.tail?1:0);for(let D=0;D<w-1;++D){if(D<0)continue;const A=g[D];if(C){A.hasAttribute(hiddenAttr)||A.setAttribute(hiddenAttr,"");continue}else A.hasAttribute(hiddenAttr)&&A.removeAttribute(hiddenAttr);const T=A.offsetWidth;if(x+=T,b[D]=T,x>y){const{updateCounter:M}=n;for(let E=D;E>=0;--E){const P=w-1-E;M!==void 0?M(P):v.textContent=`${P}`;const I=v.offsetWidth;if(x-=b[E],x+I<=y||E===0){C=!0,D=E-1,_&&(D===-1?(_.style.maxWidth=`${y-I}px`,_.style.boxSizing="border-box"):_.style.maxWidth="");break}}}}const{onUpdateOverflow:S}=n;C?S!==void 0&&S(!0):(S!==void 0&&S(!1),v.setAttribute(hiddenAttr,""))}const l=useSsrAdapter();return style2.mount({id:"vueuc/overflow",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:l}),onMounted(s),{selfRef:a,counterRef:o,sync:s}},render(){const{$slots:n}=this;return nextTick(this.sync),h("div",{class:"v-overflow",ref:"selfRef"},[renderSlot(n,"default"),n.counter?n.counter():h("span",{style:{display:"inline-block"},ref:"counterRef"}),n.tail?n.tail():null])}});function isHTMLElement(n){return n instanceof HTMLElement}function focusFirstDescendant(n){for(let r=0;r<n.childNodes.length;r++){const a=n.childNodes[r];if(isHTMLElement(a)&&(attemptFocus(a)||focusFirstDescendant(a)))return!0}return!1}function focusLastDescendant(n){for(let r=n.childNodes.length-1;r>=0;r--){const a=n.childNodes[r];if(isHTMLElement(a)&&(attemptFocus(a)||focusLastDescendant(a)))return!0}return!1}function attemptFocus(n){if(!isFocusable(n))return!1;try{n.focus({preventScroll:!0})}catch(r){}return document.activeElement===n}function isFocusable(n){if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.getAttribute("disabled"))return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return n.type!=="hidden"&&n.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}var stack2=[],FocusTrap=defineComponent({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(n){const r=createId(),a=ref(null),o=ref(null);let s=!1,l=!1;const u=document.activeElement;function f(){return stack2[stack2.length-1]===r}function d(w){var S;w.code==="Escape"&&f()&&((S=n.onEsc)===null||S===void 0||S.call(n))}onMounted(()=>{watch(()=>n.active,w=>{w?(y(),on("keydown",document,d)):(off("keydown",document,d),s&&b())},{immediate:!0})}),onBeforeUnmount(()=>{off("keydown",document,d),s&&b()});function v(w){if(!l&&f()){const S=g();if(S===null||S.contains(w.target))return;_("first")}}function g(){const w=a.value;if(w===null)return null;let S=w;for(;S=S.nextSibling,!(S===null||S instanceof Element&&S.tagName==="DIV"););return S}function y(){var w;if(!n.disabled){if(stack2.push(r),n.autoFocus){const{initialFocusTo:S}=n;S===void 0?_("first"):(w=resolveTo(S))===null||w===void 0||w.focus({preventScroll:!0})}s=!0,document.addEventListener("focus",v,!0)}}function b(){var w;if(n.disabled||(document.removeEventListener("focus",v,!0),stack2=stack2.filter(D=>D!==r),f()))return;const{finalFocusTo:S}=n;S!==void 0?(w=resolveTo(S))===null||w===void 0||w.focus({preventScroll:!0}):n.returnFocusOnDeactivated&&u instanceof HTMLElement&&(l=!0,u.focus({preventScroll:!0}),l=!1)}function _(w){if(!!f()&&n.active){const S=a.value,D=o.value;if(S!==null&&D!==null){const A=g();if(A==null||A===D){l=!0,S.focus({preventScroll:!0}),l=!1;return}l=!0;const T=w==="first"?focusFirstDescendant(A):focusLastDescendant(A);l=!1,T||(l=!0,S.focus({preventScroll:!0}),l=!1)}}}function x(w){if(l)return;const S=g();S!==null&&(w.relatedTarget!==null&&S.contains(w.relatedTarget)?_("last"):_("first"))}function C(w){l||(w.relatedTarget!==null&&w.relatedTarget===a.value?_("last"):_("first"))}return{focusableStartRef:a,focusableEndRef:o,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:x,handleEndFocus:C}},render(){const{default:n}=this.$slots;if(n===void 0)return null;if(this.disabled)return n();const{active:r,focusableStyle:a}=this;return h(Fragment,null,[h("div",{"aria-hidden":"true",tabindex:r?"0":"-1",ref:"focusableStartRef",style:a,onFocus:this.handleStartFocus}),n(),h("div",{"aria-hidden":"true",style:a,ref:"focusableEndRef",tabindex:r?"0":"-1",onFocus:this.handleEndFocus})])}});function useOnResize(n,r){r&&(onMounted(()=>{const{value:a}=n;a&&delegate_default.registerHandler(a,r)}),onBeforeUnmount(()=>{const{value:a}=n;a&&delegate_default.unregisterHandler(a)}))}function useInjectionInstanceCollection(n,r,a){var o;const s=inject(n,null);if(s===null)return;const l=(o=getCurrentInstance())===null||o===void 0?void 0:o.proxy;watch(a,u),u(a.value),onBeforeUnmount(()=>{u(void 0,a.value)});function u(v,g){const y=s[r];g!==void 0&&f(y,g),v!==void 0&&d(y,v)}function f(v,g){v[g]||(v[g]=[]),v[g].splice(v[g].findIndex(y=>y===l),1)}function d(v,g){v[g]||(v[g]=[]),~v[g].findIndex(y=>y===l)||v[g].push(l)}}var formItemInjectionKey=createInjectionKey("n-form-item");function useFormItem(n,{defaultSize:r="medium",mergedSize:a,mergedDisabled:o}={}){const s=inject(formItemInjectionKey,null);provide(formItemInjectionKey,null);const l=computed2(a?()=>a(s):()=>{const{size:d}=n;if(d)return d;if(s){const{mergedSize:v}=s;if(v.value!==void 0)return v.value}return r}),u=computed2(o?()=>o(s):()=>{const{disabled:d}=n;return d!==void 0?d:s?s.disabled.value:!1}),f=computed2(()=>{const{status:d}=n;return d||(s==null?void 0:s.mergedValidationStatus.value)});return onBeforeUnmount(()=>{s&&s.restoreValidation()}),{mergedSizeRef:l,mergedDisabledRef:u,mergedStatusRef:f,nTriggerFormBlur(){s&&s.handleContentBlur()},nTriggerFormChange(){s&&s.handleContentChange()},nTriggerFormFocus(){s&&s.handleContentFocus()},nTriggerFormInput(){s&&s.handleContentInput()}}}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeGlobal_default=freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal_default||freeSelf||Function("return this")(),root_default=root,Symbol2=root_default.Symbol,Symbol_default=Symbol2,objectProto=Object.prototype,hasOwnProperty2=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol_default?Symbol_default.toStringTag:void 0;function getRawTag(n){var r=hasOwnProperty2.call(n,symToStringTag),a=n[symToStringTag];try{n[symToStringTag]=void 0;var o=!0}catch(l){}var s=nativeObjectToString.call(n);return o&&(r?n[symToStringTag]=a:delete n[symToStringTag]),s}var getRawTag_default=getRawTag,objectProto2=Object.prototype,nativeObjectToString2=objectProto2.toString;function objectToString2(n){return nativeObjectToString2.call(n)}var objectToString_default=objectToString2,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag2=Symbol_default?Symbol_default.toStringTag:void 0;function baseGetTag(n){return n==null?n===void 0?undefinedTag:nullTag:symToStringTag2&&symToStringTag2 in Object(n)?getRawTag_default(n):objectToString_default(n)}var baseGetTag_default=baseGetTag;function isObjectLike(n){return n!=null&&typeof n=="object"}var isObjectLike_default=isObjectLike,symbolTag="[object Symbol]";function isSymbol2(n){return typeof n=="symbol"||isObjectLike_default(n)&&baseGetTag_default(n)==symbolTag}var isSymbol_default=isSymbol2;function arrayMap(n,r){for(var a=-1,o=n==null?0:n.length,s=Array(o);++a<o;)s[a]=r(n[a],a,n);return s}var arrayMap_default=arrayMap,isArray2=Array.isArray,isArray_default=isArray2,INFINITY=1/0,symbolProto=Symbol_default?Symbol_default.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(n){if(typeof n=="string")return n;if(isArray_default(n))return arrayMap_default(n,baseToString)+"";if(isSymbol_default(n))return symbolToString?symbolToString.call(n):"";var r=n+"";return r=="0"&&1/n==-INFINITY?"-0":r}var baseToString_default=baseToString;function isObject2(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}var isObject_default=isObject2;function identity(n){return n}var identity_default=identity,asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction2(n){if(!isObject_default(n))return!1;var r=baseGetTag_default(n);return r==funcTag||r==genTag||r==asyncTag||r==proxyTag}var isFunction_default=isFunction2,coreJsData=root_default["__core-js_shared__"],coreJsData_default=coreJsData,maskSrcKey=function(){var n=/[^.]+$/.exec(coreJsData_default&&coreJsData_default.keys&&coreJsData_default.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function isMasked(n){return!!maskSrcKey&&maskSrcKey in n}var isMasked_default=isMasked,funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(n){if(n!=null){try{return funcToString.call(n)}catch(r){}try{return n+""}catch(r){}}return""}var toSource_default=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto2=Function.prototype,objectProto3=Object.prototype,funcToString2=funcProto2.toString,hasOwnProperty3=objectProto3.hasOwnProperty,reIsNative=RegExp("^"+funcToString2.call(hasOwnProperty3).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(n){if(!isObject_default(n)||isMasked_default(n))return!1;var r=isFunction_default(n)?reIsNative:reIsHostCtor;return r.test(toSource_default(n))}var baseIsNative_default=baseIsNative;function getValue2(n,r){return n==null?void 0:n[r]}var getValue_default=getValue2;function getNative(n,r){var a=getValue_default(n,r);return baseIsNative_default(a)?a:void 0}var getNative_default=getNative,WeakMap2=getNative_default(root_default,"WeakMap"),WeakMap_default=WeakMap2,objectCreate=Object.create,baseCreate=function(){function n(){}return function(r){if(!isObject_default(r))return{};if(objectCreate)return objectCreate(r);n.prototype=r;var a=new n;return n.prototype=void 0,a}}(),baseCreate_default=baseCreate;function apply(n,r,a){switch(a.length){case 0:return n.call(r);case 1:return n.call(r,a[0]);case 2:return n.call(r,a[0],a[1]);case 3:return n.call(r,a[0],a[1],a[2])}return n.apply(r,a)}var apply_default=apply;function copyArray(n,r){var a=-1,o=n.length;for(r||(r=Array(o));++a<o;)r[a]=n[a];return r}var copyArray_default=copyArray,HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(n){var r=0,a=0;return function(){var o=nativeNow(),s=HOT_SPAN-(o-a);if(a=o,s>0){if(++r>=HOT_COUNT)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}var shortOut_default=shortOut;function constant(n){return function(){return n}}var constant_default=constant,defineProperty=function(){try{var n=getNative_default(Object,"defineProperty");return n({},"",{}),n}catch(r){}}(),defineProperty_default=defineProperty,baseSetToString=defineProperty_default?function(n,r){return defineProperty_default(n,"toString",{configurable:!0,enumerable:!1,value:constant_default(r),writable:!0})}:identity_default,baseSetToString_default=baseSetToString,setToString=shortOut_default(baseSetToString_default),setToString_default=setToString,MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(n,r){var a=typeof n;return r=r==null?MAX_SAFE_INTEGER:r,!!r&&(a=="number"||a!="symbol"&&reIsUint.test(n))&&n>-1&&n%1==0&&n<r}var isIndex_default=isIndex;function baseAssignValue(n,r,a){r=="__proto__"&&defineProperty_default?defineProperty_default(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}var baseAssignValue_default=baseAssignValue;function eq(n,r){return n===r||n!==n&&r!==r}var eq_default=eq,objectProto4=Object.prototype,hasOwnProperty4=objectProto4.hasOwnProperty;function assignValue(n,r,a){var o=n[r];(!(hasOwnProperty4.call(n,r)&&eq_default(o,a))||a===void 0&&!(r in n))&&baseAssignValue_default(n,r,a)}var assignValue_default=assignValue;function copyObject(n,r,a,o){var s=!a;a||(a={});for(var l=-1,u=r.length;++l<u;){var f=r[l],d=o?o(a[f],n[f],f,a,n):void 0;d===void 0&&(d=n[f]),s?baseAssignValue_default(a,f,d):assignValue_default(a,f,d)}return a}var copyObject_default=copyObject,nativeMax=Math.max;function overRest(n,r,a){return r=nativeMax(r===void 0?n.length-1:r,0),function(){for(var o=arguments,s=-1,l=nativeMax(o.length-r,0),u=Array(l);++s<l;)u[s]=o[r+s];s=-1;for(var f=Array(r+1);++s<r;)f[s]=o[s];return f[r]=a(u),apply_default(n,this,f)}}var overRest_default=overRest;function baseRest(n,r){return setToString_default(overRest_default(n,r,identity_default),n+"")}var baseRest_default=baseRest,MAX_SAFE_INTEGER2=9007199254740991;function isLength(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=MAX_SAFE_INTEGER2}var isLength_default=isLength;function isArrayLike(n){return n!=null&&isLength_default(n.length)&&!isFunction_default(n)}var isArrayLike_default=isArrayLike;function isIterateeCall(n,r,a){if(!isObject_default(a))return!1;var o=typeof r;return(o=="number"?isArrayLike_default(a)&&isIndex_default(r,a.length):o=="string"&&r in a)?eq_default(a[r],n):!1}var isIterateeCall_default=isIterateeCall;function createAssigner(n){return baseRest_default(function(r,a){var o=-1,s=a.length,l=s>1?a[s-1]:void 0,u=s>2?a[2]:void 0;for(l=n.length>3&&typeof l=="function"?(s--,l):void 0,u&&isIterateeCall_default(a[0],a[1],u)&&(l=s<3?void 0:l,s=1),r=Object(r);++o<s;){var f=a[o];f&&n(r,f,o,l)}return r})}var createAssigner_default=createAssigner,objectProto5=Object.prototype;function isPrototype(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||objectProto5;return n===a}var isPrototype_default=isPrototype;function baseTimes(n,r){for(var a=-1,o=Array(n);++a<n;)o[a]=r(a);return o}var baseTimes_default=baseTimes,argsTag="[object Arguments]";function baseIsArguments(n){return isObjectLike_default(n)&&baseGetTag_default(n)==argsTag}var baseIsArguments_default=baseIsArguments,objectProto6=Object.prototype,hasOwnProperty5=objectProto6.hasOwnProperty,propertyIsEnumerable=objectProto6.propertyIsEnumerable,isArguments=baseIsArguments_default(function(){return arguments}())?baseIsArguments_default:function(n){return isObjectLike_default(n)&&hasOwnProperty5.call(n,"callee")&&!propertyIsEnumerable.call(n,"callee")},isArguments_default=isArguments;function stubFalse(){return!1}var stubFalse_default=stubFalse,freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer2=moduleExports?root_default.Buffer:void 0,nativeIsBuffer=Buffer2?Buffer2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse_default,isBuffer_default=isBuffer,argsTag2="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag2="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag2]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag2]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;function baseIsTypedArray(n){return isObjectLike_default(n)&&isLength_default(n.length)&&!!typedArrayTags[baseGetTag_default(n)]}var baseIsTypedArray_default=baseIsTypedArray;function baseUnary(n){return function(r){return n(r)}}var baseUnary_default=baseUnary,freeExports2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule2=freeExports2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports2=freeModule2&&freeModule2.exports===freeExports2,freeProcess=moduleExports2&&freeGlobal_default.process,nodeUtil=function(){try{var n=freeModule2&&freeModule2.require&&freeModule2.require("util").types;return n||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(r){}}(),nodeUtil_default=nodeUtil,nodeIsTypedArray=nodeUtil_default&&nodeUtil_default.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary_default(nodeIsTypedArray):baseIsTypedArray_default,isTypedArray_default=isTypedArray,objectProto7=Object.prototype,hasOwnProperty6=objectProto7.hasOwnProperty;function arrayLikeKeys(n,r){var a=isArray_default(n),o=!a&&isArguments_default(n),s=!a&&!o&&isBuffer_default(n),l=!a&&!o&&!s&&isTypedArray_default(n),u=a||o||s||l,f=u?baseTimes_default(n.length,String):[],d=f.length;for(var v in n)(r||hasOwnProperty6.call(n,v))&&!(u&&(v=="length"||s&&(v=="offset"||v=="parent")||l&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||isIndex_default(v,d)))&&f.push(v);return f}var arrayLikeKeys_default=arrayLikeKeys;function overArg(n,r){return function(a){return n(r(a))}}var overArg_default=overArg,nativeKeys=overArg_default(Object.keys,Object),nativeKeys_default=nativeKeys,objectProto8=Object.prototype,hasOwnProperty7=objectProto8.hasOwnProperty;function baseKeys(n){if(!isPrototype_default(n))return nativeKeys_default(n);var r=[];for(var a in Object(n))hasOwnProperty7.call(n,a)&&a!="constructor"&&r.push(a);return r}var baseKeys_default=baseKeys;function keys(n){return isArrayLike_default(n)?arrayLikeKeys_default(n):baseKeys_default(n)}var keys_default=keys;function nativeKeysIn(n){var r=[];if(n!=null)for(var a in Object(n))r.push(a);return r}var nativeKeysIn_default=nativeKeysIn,objectProto9=Object.prototype,hasOwnProperty8=objectProto9.hasOwnProperty;function baseKeysIn(n){if(!isObject_default(n))return nativeKeysIn_default(n);var r=isPrototype_default(n),a=[];for(var o in n)o=="constructor"&&(r||!hasOwnProperty8.call(n,o))||a.push(o);return a}var baseKeysIn_default=baseKeysIn;function keysIn(n){return isArrayLike_default(n)?arrayLikeKeys_default(n,!0):baseKeysIn_default(n)}var keysIn_default=keysIn,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(n,r){if(isArray_default(n))return!1;var a=typeof n;return a=="number"||a=="symbol"||a=="boolean"||n==null||isSymbol_default(n)?!0:reIsPlainProp.test(n)||!reIsDeepProp.test(n)||r!=null&&n in Object(r)}var isKey_default=isKey,nativeCreate=getNative_default(Object,"create"),nativeCreate_default=nativeCreate;function hashClear(){this.__data__=nativeCreate_default?nativeCreate_default(null):{},this.size=0}var hashClear_default=hashClear;function hashDelete(n){var r=this.has(n)&&delete this.__data__[n];return this.size-=r?1:0,r}var hashDelete_default=hashDelete,HASH_UNDEFINED="__lodash_hash_undefined__",objectProto10=Object.prototype,hasOwnProperty9=objectProto10.hasOwnProperty;function hashGet(n){var r=this.__data__;if(nativeCreate_default){var a=r[n];return a===HASH_UNDEFINED?void 0:a}return hasOwnProperty9.call(r,n)?r[n]:void 0}var hashGet_default=hashGet,objectProto11=Object.prototype,hasOwnProperty10=objectProto11.hasOwnProperty;function hashHas(n){var r=this.__data__;return nativeCreate_default?r[n]!==void 0:hasOwnProperty10.call(r,n)}var hashHas_default=hashHas,HASH_UNDEFINED2="__lodash_hash_undefined__";function hashSet(n,r){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=nativeCreate_default&&r===void 0?HASH_UNDEFINED2:r,this}var hashSet_default=hashSet;function Hash(n){var r=-1,a=n==null?0:n.length;for(this.clear();++r<a;){var o=n[r];this.set(o[0],o[1])}}Hash.prototype.clear=hashClear_default,Hash.prototype.delete=hashDelete_default,Hash.prototype.get=hashGet_default,Hash.prototype.has=hashHas_default,Hash.prototype.set=hashSet_default;var Hash_default=Hash;function listCacheClear(){this.__data__=[],this.size=0}var listCacheClear_default=listCacheClear;function assocIndexOf(n,r){for(var a=n.length;a--;)if(eq_default(n[a][0],r))return a;return-1}var assocIndexOf_default=assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(n){var r=this.__data__,a=assocIndexOf_default(r,n);if(a<0)return!1;var o=r.length-1;return a==o?r.pop():splice.call(r,a,1),--this.size,!0}var listCacheDelete_default=listCacheDelete;function listCacheGet(n){var r=this.__data__,a=assocIndexOf_default(r,n);return a<0?void 0:r[a][1]}var listCacheGet_default=listCacheGet;function listCacheHas(n){return assocIndexOf_default(this.__data__,n)>-1}var listCacheHas_default=listCacheHas;function listCacheSet(n,r){var a=this.__data__,o=assocIndexOf_default(a,n);return o<0?(++this.size,a.push([n,r])):a[o][1]=r,this}var listCacheSet_default=listCacheSet;function ListCache(n){var r=-1,a=n==null?0:n.length;for(this.clear();++r<a;){var o=n[r];this.set(o[0],o[1])}}ListCache.prototype.clear=listCacheClear_default,ListCache.prototype.delete=listCacheDelete_default,ListCache.prototype.get=listCacheGet_default,ListCache.prototype.has=listCacheHas_default,ListCache.prototype.set=listCacheSet_default;var ListCache_default=ListCache,Map2=getNative_default(root_default,"Map"),Map_default=Map2;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash_default,map:new(Map_default||ListCache_default),string:new Hash_default}}var mapCacheClear_default=mapCacheClear;function isKeyable(n){var r=typeof n;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?n!=="__proto__":n===null}var isKeyable_default=isKeyable;function getMapData(n,r){var a=n.__data__;return isKeyable_default(r)?a[typeof r=="string"?"string":"hash"]:a.map}var getMapData_default=getMapData;function mapCacheDelete(n){var r=getMapData_default(this,n).delete(n);return this.size-=r?1:0,r}var mapCacheDelete_default=mapCacheDelete;function mapCacheGet(n){return getMapData_default(this,n).get(n)}var mapCacheGet_default=mapCacheGet;function mapCacheHas(n){return getMapData_default(this,n).has(n)}var mapCacheHas_default=mapCacheHas;function mapCacheSet(n,r){var a=getMapData_default(this,n),o=a.size;return a.set(n,r),this.size+=a.size==o?0:1,this}var mapCacheSet_default=mapCacheSet;function MapCache(n){var r=-1,a=n==null?0:n.length;for(this.clear();++r<a;){var o=n[r];this.set(o[0],o[1])}}MapCache.prototype.clear=mapCacheClear_default,MapCache.prototype.delete=mapCacheDelete_default,MapCache.prototype.get=mapCacheGet_default,MapCache.prototype.has=mapCacheHas_default,MapCache.prototype.set=mapCacheSet_default;var MapCache_default=MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize(n,r){if(typeof n!="function"||r!=null&&typeof r!="function")throw new TypeError(FUNC_ERROR_TEXT);var a=function(){var o=arguments,s=r?r.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(memoize.Cache||MapCache_default),a}memoize.Cache=MapCache_default;var memoize_default=memoize,MAX_MEMOIZE_SIZE=500;function memoizeCapped(n){var r=memoize_default(n,function(o){return a.size===MAX_MEMOIZE_SIZE&&a.clear(),o}),a=r.cache;return r}var memoizeCapped_default=memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped_default(function(n){var r=[];return n.charCodeAt(0)===46&&r.push(""),n.replace(rePropName,function(a,o,s,l){r.push(s?l.replace(reEscapeChar,"$1"):o||a)}),r}),stringToPath_default=stringToPath;function toString(n){return n==null?"":baseToString_default(n)}var toString_default=toString;function castPath(n,r){return isArray_default(n)?n:isKey_default(n,r)?[n]:stringToPath_default(toString_default(n))}var castPath_default=castPath,INFINITY2=1/0;function toKey(n){if(typeof n=="string"||isSymbol_default(n))return n;var r=n+"";return r=="0"&&1/n==-INFINITY2?"-0":r}var toKey_default=toKey;function baseGet(n,r){r=castPath_default(r,n);for(var a=0,o=r.length;n!=null&&a<o;)n=n[toKey_default(r[a++])];return a&&a==o?n:void 0}var baseGet_default=baseGet;function get2(n,r,a){var o=n==null?void 0:baseGet_default(n,r);return o===void 0?a:o}var get_default=get2;function arrayPush(n,r){for(var a=-1,o=r.length,s=n.length;++a<o;)n[s+a]=r[a];return n}var arrayPush_default=arrayPush,getPrototype=overArg_default(Object.getPrototypeOf,Object),getPrototype_default=getPrototype,objectTag2="[object Object]",funcProto3=Function.prototype,objectProto12=Object.prototype,funcToString3=funcProto3.toString,hasOwnProperty11=objectProto12.hasOwnProperty,objectCtorString=funcToString3.call(Object);function isPlainObject2(n){if(!isObjectLike_default(n)||baseGetTag_default(n)!=objectTag2)return!1;var r=getPrototype_default(n);if(r===null)return!0;var a=hasOwnProperty11.call(r,"constructor")&&r.constructor;return typeof a=="function"&&a instanceof a&&funcToString3.call(a)==objectCtorString}var isPlainObject_default=isPlainObject2;function baseSlice(n,r,a){var o=-1,s=n.length;r<0&&(r=-r>s?0:s+r),a=a>s?s:a,a<0&&(a+=s),s=r>a?0:a-r>>>0,r>>>=0;for(var l=Array(s);++o<s;)l[o]=n[o+r];return l}var baseSlice_default=baseSlice;function castSlice(n,r,a){var o=n.length;return a=a===void 0?o:a,!r&&a>=o?n:baseSlice_default(n,r,a)}var castSlice_default=castSlice,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsZWJ="\\u200d",reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");function hasUnicode(n){return reHasUnicode.test(n)}var hasUnicode_default=hasUnicode;function asciiToArray(n){return n.split("")}var asciiToArray_default=asciiToArray,rsAstralRange2="\\ud800-\\udfff",rsComboMarksRange2="\\u0300-\\u036f",reComboHalfMarksRange2="\\ufe20-\\ufe2f",rsComboSymbolsRange2="\\u20d0-\\u20ff",rsComboRange2=rsComboMarksRange2+reComboHalfMarksRange2+rsComboSymbolsRange2,rsVarRange2="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange2+"]",rsCombo="["+rsComboRange2+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange2+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ2="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange2+"]?",rsOptJoin="(?:"+rsZWJ2+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(n){return n.match(reUnicode)||[]}var unicodeToArray_default=unicodeToArray;function stringToArray(n){return hasUnicode_default(n)?unicodeToArray_default(n):asciiToArray_default(n)}var stringToArray_default=stringToArray;function createCaseFirst(n){return function(r){r=toString_default(r);var a=hasUnicode_default(r)?stringToArray_default(r):void 0,o=a?a[0]:r.charAt(0),s=a?castSlice_default(a,1).join(""):r.slice(1);return o[n]()+s}}var createCaseFirst_default=createCaseFirst,upperFirst=createCaseFirst_default("toUpperCase"),upperFirst_default=upperFirst;function stackClear(){this.__data__=new ListCache_default,this.size=0}var stackClear_default=stackClear;function stackDelete(n){var r=this.__data__,a=r.delete(n);return this.size=r.size,a}var stackDelete_default=stackDelete;function stackGet(n){return this.__data__.get(n)}var stackGet_default=stackGet;function stackHas(n){return this.__data__.has(n)}var stackHas_default=stackHas,LARGE_ARRAY_SIZE=200;function stackSet(n,r){var a=this.__data__;if(a instanceof ListCache_default){var o=a.__data__;if(!Map_default||o.length<LARGE_ARRAY_SIZE-1)return o.push([n,r]),this.size=++a.size,this;a=this.__data__=new MapCache_default(o)}return a.set(n,r),this.size=a.size,this}var stackSet_default=stackSet;function Stack(n){var r=this.__data__=new ListCache_default(n);this.size=r.size}Stack.prototype.clear=stackClear_default,Stack.prototype.delete=stackDelete_default,Stack.prototype.get=stackGet_default,Stack.prototype.has=stackHas_default,Stack.prototype.set=stackSet_default;var Stack_default=Stack,freeExports3=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule3=freeExports3&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports3=freeModule3&&freeModule3.exports===freeExports3,Buffer3=moduleExports3?root_default.Buffer:void 0,allocUnsafe=Buffer3?Buffer3.allocUnsafe:void 0;function cloneBuffer(n,r){if(r)return n.slice();var a=n.length,o=allocUnsafe?allocUnsafe(a):new n.constructor(a);return n.copy(o),o}var cloneBuffer_default=cloneBuffer;function arrayFilter(n,r){for(var a=-1,o=n==null?0:n.length,s=0,l=[];++a<o;){var u=n[a];r(u,a,n)&&(l[s++]=u)}return l}var arrayFilter_default=arrayFilter;function stubArray(){return[]}var stubArray_default=stubArray,objectProto13=Object.prototype,propertyIsEnumerable2=objectProto13.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(n){return n==null?[]:(n=Object(n),arrayFilter_default(nativeGetSymbols(n),function(r){return propertyIsEnumerable2.call(n,r)}))}:stubArray_default,getSymbols_default=getSymbols;function baseGetAllKeys(n,r,a){var o=r(n);return isArray_default(n)?o:arrayPush_default(o,a(n))}var baseGetAllKeys_default=baseGetAllKeys;function getAllKeys(n){return baseGetAllKeys_default(n,keys_default,getSymbols_default)}var getAllKeys_default=getAllKeys,DataView=getNative_default(root_default,"DataView"),DataView_default=DataView,Promise2=getNative_default(root_default,"Promise"),Promise_default=Promise2,Set2=getNative_default(root_default,"Set"),Set_default=Set2,mapTag2="[object Map]",objectTag3="[object Object]",promiseTag="[object Promise]",setTag2="[object Set]",weakMapTag2="[object WeakMap]",dataViewTag2="[object DataView]",dataViewCtorString=toSource_default(DataView_default),mapCtorString=toSource_default(Map_default),promiseCtorString=toSource_default(Promise_default),setCtorString=toSource_default(Set_default),weakMapCtorString=toSource_default(WeakMap_default),getTag=baseGetTag_default;(DataView_default&&getTag(new DataView_default(new ArrayBuffer(1)))!=dataViewTag2||Map_default&&getTag(new Map_default)!=mapTag2||Promise_default&&getTag(Promise_default.resolve())!=promiseTag||Set_default&&getTag(new Set_default)!=setTag2||WeakMap_default&&getTag(new WeakMap_default)!=weakMapTag2)&&(getTag=function(n){var r=baseGetTag_default(n),a=r==objectTag3?n.constructor:void 0,o=a?toSource_default(a):"";if(o)switch(o){case dataViewCtorString:return dataViewTag2;case mapCtorString:return mapTag2;case promiseCtorString:return promiseTag;case setCtorString:return setTag2;case weakMapCtorString:return weakMapTag2}return r});var getTag_default=getTag,Uint8Array2=root_default.Uint8Array,Uint8Array_default=Uint8Array2;function cloneArrayBuffer(n){var r=new n.constructor(n.byteLength);return new Uint8Array_default(r).set(new Uint8Array_default(n)),r}var cloneArrayBuffer_default=cloneArrayBuffer;function cloneTypedArray(n,r){var a=r?cloneArrayBuffer_default(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}var cloneTypedArray_default=cloneTypedArray;function initCloneObject(n){return typeof n.constructor=="function"&&!isPrototype_default(n)?baseCreate_default(getPrototype_default(n)):{}}var initCloneObject_default=initCloneObject,HASH_UNDEFINED3="__lodash_hash_undefined__";function setCacheAdd(n){return this.__data__.set(n,HASH_UNDEFINED3),this}var setCacheAdd_default=setCacheAdd;function setCacheHas(n){return this.__data__.has(n)}var setCacheHas_default=setCacheHas;function SetCache(n){var r=-1,a=n==null?0:n.length;for(this.__data__=new MapCache_default;++r<a;)this.add(n[r])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd_default,SetCache.prototype.has=setCacheHas_default;var SetCache_default=SetCache;function arraySome(n,r){for(var a=-1,o=n==null?0:n.length;++a<o;)if(r(n[a],a,n))return!0;return!1}var arraySome_default=arraySome;function cacheHas(n,r){return n.has(r)}var cacheHas_default=cacheHas,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(n,r,a,o,s,l){var u=a&COMPARE_PARTIAL_FLAG,f=n.length,d=r.length;if(f!=d&&!(u&&d>f))return!1;var v=l.get(n),g=l.get(r);if(v&&g)return v==r&&g==n;var y=-1,b=!0,_=a&COMPARE_UNORDERED_FLAG?new SetCache_default:void 0;for(l.set(n,r),l.set(r,n);++y<f;){var x=n[y],C=r[y];if(o)var w=u?o(C,x,y,r,n,l):o(x,C,y,n,r,l);if(w!==void 0){if(w)continue;b=!1;break}if(_){if(!arraySome_default(r,function(S,D){if(!cacheHas_default(_,D)&&(x===S||s(x,S,a,o,l)))return _.push(D)})){b=!1;break}}else if(!(x===C||s(x,C,a,o,l))){b=!1;break}}return l.delete(n),l.delete(r),b}var equalArrays_default=equalArrays;function mapToArray(n){var r=-1,a=Array(n.size);return n.forEach(function(o,s){a[++r]=[s,o]}),a}var mapToArray_default=mapToArray;function setToArray(n){var r=-1,a=Array(n.size);return n.forEach(function(o){a[++r]=o}),a}var setToArray_default=setToArray,COMPARE_PARTIAL_FLAG2=1,COMPARE_UNORDERED_FLAG2=2,boolTag2="[object Boolean]",dateTag2="[object Date]",errorTag2="[object Error]",mapTag3="[object Map]",numberTag2="[object Number]",regexpTag2="[object RegExp]",setTag3="[object Set]",stringTag2="[object String]",symbolTag2="[object Symbol]",arrayBufferTag2="[object ArrayBuffer]",dataViewTag3="[object DataView]",symbolProto2=Symbol_default?Symbol_default.prototype:void 0,symbolValueOf=symbolProto2?symbolProto2.valueOf:void 0;function equalByTag(n,r,a,o,s,l,u){switch(a){case dataViewTag3:if(n.byteLength!=r.byteLength||n.byteOffset!=r.byteOffset)return!1;n=n.buffer,r=r.buffer;case arrayBufferTag2:return!(n.byteLength!=r.byteLength||!l(new Uint8Array_default(n),new Uint8Array_default(r)));case boolTag2:case dateTag2:case numberTag2:return eq_default(+n,+r);case errorTag2:return n.name==r.name&&n.message==r.message;case regexpTag2:case stringTag2:return n==r+"";case mapTag3:var f=mapToArray_default;case setTag3:var d=o&COMPARE_PARTIAL_FLAG2;if(f||(f=setToArray_default),n.size!=r.size&&!d)return!1;var v=u.get(n);if(v)return v==r;o|=COMPARE_UNORDERED_FLAG2,u.set(n,r);var g=equalArrays_default(f(n),f(r),o,s,l,u);return u.delete(n),g;case symbolTag2:if(symbolValueOf)return symbolValueOf.call(n)==symbolValueOf.call(r)}return!1}var equalByTag_default=equalByTag,COMPARE_PARTIAL_FLAG3=1,objectProto14=Object.prototype,hasOwnProperty12=objectProto14.hasOwnProperty;function equalObjects(n,r,a,o,s,l){var u=a&COMPARE_PARTIAL_FLAG3,f=getAllKeys_default(n),d=f.length,v=getAllKeys_default(r),g=v.length;if(d!=g&&!u)return!1;for(var y=d;y--;){var b=f[y];if(!(u?b in r:hasOwnProperty12.call(r,b)))return!1}var _=l.get(n),x=l.get(r);if(_&&x)return _==r&&x==n;var C=!0;l.set(n,r),l.set(r,n);for(var w=u;++y<d;){b=f[y];var S=n[b],D=r[b];if(o)var A=u?o(D,S,b,r,n,l):o(S,D,b,n,r,l);if(!(A===void 0?S===D||s(S,D,a,o,l):A)){C=!1;break}w||(w=b=="constructor")}if(C&&!w){var T=n.constructor,M=r.constructor;T!=M&&"constructor"in n&&"constructor"in r&&!(typeof T=="function"&&T instanceof T&&typeof M=="function"&&M instanceof M)&&(C=!1)}return l.delete(n),l.delete(r),C}var equalObjects_default=equalObjects,COMPARE_PARTIAL_FLAG4=1,argsTag3="[object Arguments]",arrayTag2="[object Array]",objectTag4="[object Object]",objectProto15=Object.prototype,hasOwnProperty13=objectProto15.hasOwnProperty;function baseIsEqualDeep(n,r,a,o,s,l){var u=isArray_default(n),f=isArray_default(r),d=u?arrayTag2:getTag_default(n),v=f?arrayTag2:getTag_default(r);d=d==argsTag3?objectTag4:d,v=v==argsTag3?objectTag4:v;var g=d==objectTag4,y=v==objectTag4,b=d==v;if(b&&isBuffer_default(n)){if(!isBuffer_default(r))return!1;u=!0,g=!1}if(b&&!g)return l||(l=new Stack_default),u||isTypedArray_default(n)?equalArrays_default(n,r,a,o,s,l):equalByTag_default(n,r,d,a,o,s,l);if(!(a&COMPARE_PARTIAL_FLAG4)){var _=g&&hasOwnProperty13.call(n,"__wrapped__"),x=y&&hasOwnProperty13.call(r,"__wrapped__");if(_||x){var C=_?n.value():n,w=x?r.value():r;return l||(l=new Stack_default),s(C,w,a,o,l)}}return b?(l||(l=new Stack_default),equalObjects_default(n,r,a,o,s,l)):!1}var baseIsEqualDeep_default=baseIsEqualDeep;function baseIsEqual(n,r,a,o,s){return n===r?!0:n==null||r==null||!isObjectLike_default(n)&&!isObjectLike_default(r)?n!==n&&r!==r:baseIsEqualDeep_default(n,r,a,o,baseIsEqual,s)}var baseIsEqual_default=baseIsEqual,COMPARE_PARTIAL_FLAG5=1,COMPARE_UNORDERED_FLAG3=2;function baseIsMatch(n,r,a,o){var s=a.length,l=s,u=!o;if(n==null)return!l;for(n=Object(n);s--;){var f=a[s];if(u&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++s<l;){f=a[s];var d=f[0],v=n[d],g=f[1];if(u&&f[2]){if(v===void 0&&!(d in n))return!1}else{var y=new Stack_default;if(o)var b=o(v,g,d,n,r,y);if(!(b===void 0?baseIsEqual_default(g,v,COMPARE_PARTIAL_FLAG5|COMPARE_UNORDERED_FLAG3,o,y):b))return!1}}return!0}var baseIsMatch_default=baseIsMatch;function isStrictComparable(n){return n===n&&!isObject_default(n)}var isStrictComparable_default=isStrictComparable;function getMatchData(n){for(var r=keys_default(n),a=r.length;a--;){var o=r[a],s=n[o];r[a]=[o,s,isStrictComparable_default(s)]}return r}var getMatchData_default=getMatchData;function matchesStrictComparable(n,r){return function(a){return a==null?!1:a[n]===r&&(r!==void 0||n in Object(a))}}var matchesStrictComparable_default=matchesStrictComparable;function baseMatches(n){var r=getMatchData_default(n);return r.length==1&&r[0][2]?matchesStrictComparable_default(r[0][0],r[0][1]):function(a){return a===n||baseIsMatch_default(a,n,r)}}var baseMatches_default=baseMatches;function baseHasIn(n,r){return n!=null&&r in Object(n)}var baseHasIn_default=baseHasIn;function hasPath(n,r,a){r=castPath_default(r,n);for(var o=-1,s=r.length,l=!1;++o<s;){var u=toKey_default(r[o]);if(!(l=n!=null&&a(n,u)))break;n=n[u]}return l||++o!=s?l:(s=n==null?0:n.length,!!s&&isLength_default(s)&&isIndex_default(u,s)&&(isArray_default(n)||isArguments_default(n)))}var hasPath_default=hasPath;function hasIn(n,r){return n!=null&&hasPath_default(n,r,baseHasIn_default)}var hasIn_default=hasIn,COMPARE_PARTIAL_FLAG6=1,COMPARE_UNORDERED_FLAG4=2;function baseMatchesProperty(n,r){return isKey_default(n)&&isStrictComparable_default(r)?matchesStrictComparable_default(toKey_default(n),r):function(a){var o=get_default(a,n);return o===void 0&&o===r?hasIn_default(a,n):baseIsEqual_default(r,o,COMPARE_PARTIAL_FLAG6|COMPARE_UNORDERED_FLAG4)}}var baseMatchesProperty_default=baseMatchesProperty;function baseProperty(n){return function(r){return r==null?void 0:r[n]}}var baseProperty_default=baseProperty;function basePropertyDeep(n){return function(r){return baseGet_default(r,n)}}var basePropertyDeep_default=basePropertyDeep;function property(n){return isKey_default(n)?baseProperty_default(toKey_default(n)):basePropertyDeep_default(n)}var property_default=property;function baseIteratee(n){return typeof n=="function"?n:n==null?identity_default:typeof n=="object"?isArray_default(n)?baseMatchesProperty_default(n[0],n[1]):baseMatches_default(n):property_default(n)}var baseIteratee_default=baseIteratee;function createBaseFor(n){return function(r,a,o){for(var s=-1,l=Object(r),u=o(r),f=u.length;f--;){var d=u[n?f:++s];if(a(l[d],d,l)===!1)break}return r}}var createBaseFor_default=createBaseFor,baseFor=createBaseFor_default(),baseFor_default=baseFor;function baseForOwn(n,r){return n&&baseFor_default(n,r,keys_default)}var baseForOwn_default=baseForOwn;function createBaseEach(n,r){return function(a,o){if(a==null)return a;if(!isArrayLike_default(a))return n(a,o);for(var s=a.length,l=r?s:-1,u=Object(a);(r?l--:++l<s)&&o(u[l],l,u)!==!1;);return a}}var createBaseEach_default=createBaseEach,baseEach=createBaseEach_default(baseForOwn_default),baseEach_default=baseEach;function assignMergeValue(n,r,a){(a!==void 0&&!eq_default(n[r],a)||a===void 0&&!(r in n))&&baseAssignValue_default(n,r,a)}var assignMergeValue_default=assignMergeValue;function isArrayLikeObject(n){return isObjectLike_default(n)&&isArrayLike_default(n)}var isArrayLikeObject_default=isArrayLikeObject;function safeGet(n,r){if(!(r==="constructor"&&typeof n[r]=="function")&&r!="__proto__")return n[r]}var safeGet_default=safeGet;function toPlainObject(n){return copyObject_default(n,keysIn_default(n))}var toPlainObject_default=toPlainObject;function baseMergeDeep(n,r,a,o,s,l,u){var f=safeGet_default(n,a),d=safeGet_default(r,a),v=u.get(d);if(v){assignMergeValue_default(n,a,v);return}var g=l?l(f,d,a+"",n,r,u):void 0,y=g===void 0;if(y){var b=isArray_default(d),_=!b&&isBuffer_default(d),x=!b&&!_&&isTypedArray_default(d);g=d,b||_||x?isArray_default(f)?g=f:isArrayLikeObject_default(f)?g=copyArray_default(f):_?(y=!1,g=cloneBuffer_default(d,!0)):x?(y=!1,g=cloneTypedArray_default(d,!0)):g=[]:isPlainObject_default(d)||isArguments_default(d)?(g=f,isArguments_default(f)?g=toPlainObject_default(f):(!isObject_default(f)||isFunction_default(f))&&(g=initCloneObject_default(d))):y=!1}y&&(u.set(d,g),s(g,d,o,l,u),u.delete(d)),assignMergeValue_default(n,a,g)}var baseMergeDeep_default=baseMergeDeep;function baseMerge(n,r,a,o,s){n!==r&&baseFor_default(r,function(l,u){if(s||(s=new Stack_default),isObject_default(l))baseMergeDeep_default(n,r,u,a,baseMerge,o,s);else{var f=o?o(safeGet_default(n,u),l,u+"",n,r,s):void 0;f===void 0&&(f=l),assignMergeValue_default(n,u,f)}},keysIn_default)}var baseMerge_default=baseMerge;function baseMap(n,r){var a=-1,o=isArrayLike_default(n)?Array(n.length):[];return baseEach_default(n,function(s,l,u){o[++a]=r(s,l,u)}),o}var baseMap_default=baseMap;function map2(n,r){var a=isArray_default(n)?arrayMap_default:baseMap_default;return a(n,baseIteratee_default(r,3))}var map_default=map2,merge=createAssigner_default(function(n,r,a){baseMerge_default(n,r,a)}),merge_default=merge,common_default={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize,fontFamily,lineHeight}=common_default,index_cssr_default=c2("body",`
 margin: 0;
 font-size: ${fontSize};
 font-family: ${fontFamily};
 line-height: ${lineHeight};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[c2("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),configProviderInjectionKey=createInjectionKey("n-config-provider"),cssrAnchorMetaName2="naive-ui-style";function createTheme(n){return n}function useTheme(n,r,a,o,s,l){const u=useSsrAdapter();if(a){const v=()=>{const g=l==null?void 0:l.value;a.mount({id:g===void 0?r:g+r,head:!0,props:{bPrefix:g?`.${g}-`:void 0},anchorMetaName:cssrAnchorMetaName2,ssr:u}),index_cssr_default.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName2,ssr:u})};u?v():onBeforeMount(v)}const f=inject(configProviderInjectionKey,null);return computed2(()=>{var v;const{theme:{common:g,self:y,peers:b={}}={},themeOverrides:_={},builtinThemeOverrides:x={}}=s,{common:C,peers:w}=_,{common:S=void 0,[n]:{common:D=void 0,self:A=void 0,peers:T={}}={}}=(f==null?void 0:f.mergedThemeRef.value)||{},{common:M=void 0,[n]:E={}}=(f==null?void 0:f.mergedThemeOverridesRef.value)||{},{common:P,peers:I={}}=E,F=merge_default({},g||D||S||o.common,M,P,C),L=merge_default((v=y||A||o.self)===null||v===void 0?void 0:v(F),x,E,_);return{common:F,self:L,peers:merge_default({},o.peers,T,b),peerOverrides:merge_default({},I,w)}})}useTheme.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};var use_theme_default=useTheme,defaultClsPrefix="n";function useConfig(n={},r={defaultBordered:!0}){const a=inject(configProviderInjectionKey,null);return{inlineThemeDisabled:a==null?void 0:a.inlineThemeDisabled,mergedRtlRef:a==null?void 0:a.mergedRtlRef,mergedComponentPropsRef:a==null?void 0:a.mergedComponentPropsRef,mergedBreakpointsRef:a==null?void 0:a.mergedBreakpointsRef,mergedBorderedRef:computed2(()=>{var o,s;const{bordered:l}=n;return l!==void 0?l:(s=(o=a==null?void 0:a.mergedBorderedRef.value)!==null&&o!==void 0?o:r.defaultBordered)!==null&&s!==void 0?s:!0}),mergedClsPrefixRef:computed2(()=>(a==null?void 0:a.mergedClsPrefixRef.value)||defaultClsPrefix),namespaceRef:computed2(()=>a==null?void 0:a.mergedNamespaceRef.value)}}var enUS={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:n=>`Please load all ${n}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},Transfer:{sourceTitle:"Source",targetTitle:"Target"},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (\u2190)",tipNext:"Next picture (\u2192)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipClose:"Close (Esc)"}},enUS_default=enUS,import_en_US=__toModule(require_en_US()),dateEnUs={name:"en-US",locale:import_en_US.default},enUS_default2=dateEnUs;function useLocale(n){const{mergedLocaleRef:r,mergedDateLocaleRef:a}=inject(configProviderInjectionKey,null)||{},o=computed2(()=>{var l,u;return(u=(l=r==null?void 0:r.value)===null||l===void 0?void 0:l[n])!==null&&u!==void 0?u:enUS_default[n]});return{dateLocaleRef:computed2(()=>{var l;return(l=a==null?void 0:a.value)!==null&&l!==void 0?l:enUS_default2}),localeRef:o}}function useStyle(n,r,a){if(!r){throwError("use-style","No style is specified.");return}const o=useSsrAdapter(),s=()=>{const l=a==null?void 0:a.value;r.mount({id:l===void 0?n:l+n,head:!0,anchorMetaName:cssrAnchorMetaName2,props:{bPrefix:l?`.${l}-`:void 0},ssr:o}),index_cssr_default.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName2,ssr:o})};o?s():onBeforeMount(s)}function useThemeClass(n,r,a,o){var s;a||throwError("useThemeClass","cssVarsRef is not passed");const l=(s=inject(configProviderInjectionKey,null))===null||s===void 0?void 0:s.mergedThemeHashRef,u=ref(""),f=useSsrAdapter();let d;const v=`__${n}`,g=()=>{let y=v;const b=r?r.value:void 0,_=l==null?void 0:l.value;_&&(y+="-"+_),b&&(y+="-"+b);const{themeOverrides:x,builtinThemeOverrides:C}=o;x&&(y+="-"+hash_browser_esm_default(JSON.stringify(x))),C&&(y+="-"+hash_browser_esm_default(JSON.stringify(C))),u.value=y,d=()=>{const w=a.value;let S="";for(const D in w)S+=`${D}: ${w[D]};`;c2(`.${y}`,S).mount({id:y,ssr:f}),d=void 0}};return watchEffect(()=>{g()}),{themeClass:u,onRender:()=>{d==null||d()}}}var Add_default=defineComponent({name:"Add",render(){return h("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),ArrowDown_default=defineComponent({name:"ArrowDown",render(){return h("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M23.7916,15.2664 C24.0788,14.9679 24.0696,14.4931 23.7711,14.206 C23.4726,13.9188 22.9978,13.928 22.7106,14.2265 L14.7511,22.5007 L14.7511,3.74792 C14.7511,3.33371 14.4153,2.99792 14.0011,2.99792 C13.5869,2.99792 13.2511,3.33371 13.2511,3.74793 L13.2511,22.4998 L5.29259,14.2265 C5.00543,13.928 4.53064,13.9188 4.23213,14.206 C3.93361,14.4931 3.9244,14.9679 4.21157,15.2664 L13.2809,24.6944 C13.6743,25.1034 14.3289,25.1034 14.7223,24.6944 L23.7916,15.2664 Z"}))))}}),ArrowUp_default=defineComponent({name:"ArrowUp",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},h("g",{fill:"none"},h("path",{d:"M3.13 9.163a.5.5 0 1 0 .74.674L9.5 3.67V17.5a.5.5 0 0 0 1 0V3.672l5.63 6.165a.5.5 0 0 0 .738-.674l-6.315-6.916a.746.746 0 0 0-.632-.24a.746.746 0 0 0-.476.24L3.131 9.163z",fill:"currentColor"})))}});function replaceable(n,r){return defineComponent({name:upperFirst_default(n),setup(){var a;const o=(a=inject(configProviderInjectionKey,null))===null||a===void 0?void 0:a.mergedIconsRef;return()=>{var s;const l=(s=o==null?void 0:o.value)===null||s===void 0?void 0:s[n];return l?l():r}}})}var Checkmark_default=defineComponent({name:"Checkmark",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h("g",{fill:"none"},h("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}}),Close_default=replaceable("close",h("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),Eye_default=defineComponent({name:"Eye",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),h("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),EyeOff_default=defineComponent({name:"EyeOff",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),h("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),h("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),h("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),h("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),Empty_default=defineComponent({name:"Empty",render(){return h("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),h("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}}),Remove_default=defineComponent({name:"Remove",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),ChevronDown_default=defineComponent({name:"ChevronDown",render(){return h("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),Clear_default=replaceable("clear",h("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),IconSwitchTransition_default=defineComponent({name:"BaseIconSwitchTransition",setup(n,{slots:r}){const a=isMounted();return()=>h(Transition,{name:"icon-switch-transition",appear:a.value},r)}}),FadeInExpandTransition_default=defineComponent({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(n,{slots:r}){function a(f){n.width?f.style.maxWidth=`${f.offsetWidth}px`:f.style.maxHeight=`${f.offsetHeight}px`,f.offsetWidth}function o(f){n.width?f.style.maxWidth="0":f.style.maxHeight="0",f.offsetWidth;const{onLeave:d}=n;d&&d()}function s(f){n.width?f.style.maxWidth="":f.style.maxHeight="";const{onAfterLeave:d}=n;d&&d()}function l(f){if(f.style.transition="none",n.width){const d=f.offsetWidth;f.style.maxWidth="0",f.offsetWidth,f.style.transition="",f.style.maxWidth=`${d}px`}else if(n.reverse)f.style.maxHeight=`${f.offsetHeight}px`,f.offsetHeight,f.style.transition="",f.style.maxHeight="0";else{const d=f.offsetHeight;f.style.maxHeight="0",f.offsetWidth,f.style.transition="",f.style.maxHeight=`${d}px`}f.offsetWidth}function u(f){var d;n.width?f.style.maxWidth="":n.reverse||(f.style.maxHeight=""),(d=n.onAfterEnter)===null||d===void 0||d.call(n)}return()=>{const f=n.group?TransitionGroup:Transition;return h(f,{name:n.width?"fade-in-width-expand-transition":"fade-in-height-expand-transition",mode:n.mode,appear:n.appear,onEnter:l,onAfterEnter:u,onBeforeLeave:a,onLeave:o,onAfterLeave:s},r)}}}),index_cssr_default2=cB("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[c2("svg",{height:"1em",width:"1em"})]),Icon_default=defineComponent({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(n){useStyle("-base-icon",index_cssr_default2,toRef(n,"clsPrefix"))},render(){return h("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),index_cssr_default3=cB("base-close",`
 cursor: pointer;
 color: var(--n-close-color);
`,[c2("&:hover",{color:"var(--n-close-color-hover)"}),c2("&:active",{color:"var(--n-close-color-pressed)"}),cM("disabled",{cursor:"not-allowed!important",color:"var(--n-close-color-disabled)"})]),Close_default2=defineComponent({name:"BaseClose",props:{clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},onClick:Function},setup(n){return useStyle("-base-close",index_cssr_default3,toRef(n,"clsPrefix")),()=>{const{clsPrefix:r,disabled:a}=n;return h(Icon_default,{role:"button",ariaDisabled:a,ariaLabel:"close",clsPrefix:r,class:[`${r}-base-close`,a&&`${r}-base-close--disabled`],onClick:a?void 0:n.onClick},{default:()=>h(Close_default,null)})}}}),FocusDetector_default=defineComponent({props:{onFocus:Function,onBlur:Function},setup(n){return()=>h("div",{style:"width: 0; height: 0",tabindex:0,onFocus:n.onFocus,onBlur:n.onBlur})}}),focus_detector_default=FocusDetector_default,{cubicBezierEaseInOut}=common_default;function icon_switch_cssr_default({originalTransform:n="",left:r=0,top:a=0,transition:o=`all .3s ${cubicBezierEaseInOut} !important`}={}){return[c2("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:n+" scale(0.75)",left:r,top:a,opacity:0}),c2("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${n}`,left:r,top:a,opacity:1}),c2("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:r,top:a,transition:o})]}var index_cssr_default4=c2([c2("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),c2("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),c2("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),c2("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),cB("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[cE("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[icon_switch_cssr_default()]),cE("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[cE("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),cE("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[cE("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),cE("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),cE("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),cE("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[icon_switch_cssr_default({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),Loading_default=defineComponent({name:"BaseLoading",props:{clsPrefix:{type:String,required:!0},scale:{type:Number,default:1},radius:{type:Number,default:100},strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0},show:{type:Boolean,default:!0}},setup(n){useStyle("-base-loading",index_cssr_default4,toRef(n,"clsPrefix"))},render(){const{clsPrefix:n,radius:r,strokeWidth:a,stroke:o,scale:s}=this,l=r/s;return h("div",{class:`${n}-base-loading`,role:"img","aria-label":"loading"},h(IconSwitchTransition_default,null,{default:()=>this.show?h("div",{key:"icon",class:`${n}-base-loading__transition-wrapper`},h("div",{class:`${n}-base-loading__container`},h("div",{class:`${n}-base-loading__container-layer`},h("div",{class:`${n}-base-loading__container-layer-left`},h("svg",{class:`${n}-base-loading__svg`,viewBox:`0 0 ${2*l} ${2*l}`,xmlns:"http://www.w3.org/2000/svg",style:{color:o}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":a,"stroke-linecap":"round",cx:l,cy:l,r:r-a/2,"stroke-dasharray":4.91*r,"stroke-dashoffset":2.46*r}))),h("div",{class:`${n}-base-loading__container-layer-patch`},h("svg",{class:`${n}-base-loading__svg`,viewBox:`0 0 ${2*l} ${2*l}`,xmlns:"http://www.w3.org/2000/svg",style:{color:o}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":a,"stroke-linecap":"round",cx:l,cy:l,r:r-a/2,"stroke-dasharray":4.91*r,"stroke-dashoffset":2.46*r}))),h("div",{class:`${n}-base-loading__container-layer-right`},h("svg",{class:`${n}-base-loading__svg`,viewBox:`0 0 ${2*l} ${2*l}`,xmlns:"http://www.w3.org/2000/svg",style:{color:o}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":a,"stroke-linecap":"round",cx:l,cy:l,r:r-a/2,"stroke-dasharray":4.91*r,"stroke-dashoffset":2.46*r})))))):h("div",{key:"placeholder",class:`${n}-base-loading__placeholder`},this.$slots)}))}});function toArray(n){return Array.isArray(n)?n:[n]}var TRAVERSE_COMMAND={STOP:"STOP"};function traverseWithCb(n,r){const a=r(n);n.children!==void 0&&a!==TRAVERSE_COMMAND.STOP&&n.children.forEach(o=>traverseWithCb(o,r))}function getNonLeafKeys(n,r={}){const{preserveGroup:a=!1}=r,o=[],s=a?u=>{u.isLeaf||(o.push(u.key),l(u.children))}:u=>{u.isLeaf||(u.isGroup||o.push(u.key),l(u.children))};function l(u){u.forEach(s)}return l(n),o}function isLeaf(n,r){const{isLeaf:a}=n;return a!==void 0?a:!r(n)}function defaultGetChildren(n){return n.children}function defaultGetKey(n){return n.key}function isIgnored(){return!1}function isShallowLoaded(n,r){const{isLeaf:a}=n;return!(a===!1&&!Array.isArray(r(n)))}function isDisabled(n){return n.disabled===!0}function isExpilicitlyNotLoaded(n,r){return n.isLeaf===!1&&!Array.isArray(r(n))}function isNodeInvalid(n,r){if(n.isLeaf===!0){const a=r(n);if(Array.isArray(a)&&a.length>0)return!0}return!1}function unwrapCheckedKeys(n){var r;return n==null?[]:Array.isArray(n)?n:(r=n.checkedKeys)!==null&&r!==void 0?r:[]}function unwrapIndeterminateKeys(n){var r;return n==null||Array.isArray(n)?[]:(r=n.indeterminateKeys)!==null&&r!==void 0?r:[]}function merge2(n,r){const a=new Set(n);return r.forEach(o=>{a.has(o)||a.add(o)}),Array.from(a)}function minus(n,r){const a=new Set(n);return r.forEach(o=>{a.has(o)&&a.delete(o)}),Array.from(a)}function isGroup(n){return(n==null?void 0:n.type)==="group"}function createIndexGetter(n){const r=new Map;return n.forEach((a,o)=>{r.set(a.key,o)}),a=>{var o;return(o=r.get(a))!==null&&o!==void 0?o:null}}var SubtreeNotLoadedError=class extends Error{constructor(){super();this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}};function getExtendedCheckedKeySetAfterCheck(n,r,a,o){return getExtendedCheckedKeySet(r.concat(n),a,o,!1)}function getAvailableAscendantNodeSet(n,r){const a=new Set;return n.forEach(o=>{const s=r.treeNodeMap.get(o);if(s!==void 0){let l=s.parent;for(;l!==null&&!(l.disabled||a.has(l.key));)a.add(l.key),l=l.parent}}),a}function getExtendedCheckedKeySetAfterUncheck(n,r,a,o){const s=getExtendedCheckedKeySet(r,a,o,!1),l=getExtendedCheckedKeySet(n,a,o,!0),u=getAvailableAscendantNodeSet(n,a),f=[];return s.forEach(d=>{(l.has(d)||u.has(d))&&f.push(d)}),f.forEach(d=>s.delete(d)),s}function getCheckedKeys(n,r){const{checkedKeys:a,keysToCheck:o,keysToUncheck:s,indeterminateKeys:l,cascade:u,leafOnly:f,checkStrategy:d,allowNotLoaded:v}=n;if(!u)return o!==void 0?{checkedKeys:merge2(a,o),indeterminateKeys:Array.from(l)}:s!==void 0?{checkedKeys:minus(a,s),indeterminateKeys:Array.from(l)}:{checkedKeys:Array.from(a),indeterminateKeys:Array.from(l)};const{levelTreeNodeMap:g}=r;let y;s!==void 0?y=getExtendedCheckedKeySetAfterUncheck(s,a,r,v):o!==void 0?y=getExtendedCheckedKeySetAfterCheck(o,a,r,v):y=getExtendedCheckedKeySet(a,r,v,!1);const b=d==="parent",_=d==="child"||f,x=y,C=new Set,w=Math.max.apply(null,Array.from(g.keys()));for(let S=w;S>=0;S-=1){const D=S===0,A=g.get(S);for(const T of A){if(T.isLeaf)continue;const{key:M,shallowLoaded:E}=T;if(_&&E&&T.children.forEach(L=>{!L.disabled&&!L.isLeaf&&L.shallowLoaded&&x.has(L.key)&&x.delete(L.key)}),T.disabled||!E)continue;let P=!0,I=!1,F=!0;for(const L of T.children){const O=L.key;if(!L.disabled){if(F&&(F=!1),x.has(O))I=!0;else if(C.has(O)){I=!0,P=!1;break}else if(P=!1,I)break}}P&&!F?(b&&T.children.forEach(L=>{!L.disabled&&x.has(L.key)&&x.delete(L.key)}),x.add(M)):I&&C.add(M),D&&_&&x.has(M)&&x.delete(M)}}return{checkedKeys:Array.from(x),indeterminateKeys:Array.from(C)}}function getExtendedCheckedKeySet(n,r,a,o){const{treeNodeMap:s,getChildren:l}=r,u=new Set,f=new Set(n);return n.forEach(d=>{const v=s.get(d);v!==void 0&&traverseWithCb(v,g=>{if(g.disabled)return TRAVERSE_COMMAND.STOP;const{key:y}=g;if(!u.has(y)&&(u.add(y),f.add(y),isExpilicitlyNotLoaded(g.rawNode,l))){if(o)return TRAVERSE_COMMAND.STOP;if(!a)throw new SubtreeNotLoadedError}})}),f}function getPath(n,{includeGroup:r=!1,includeSelf:a=!0},o){var s;const l=o.treeNodeMap;let u=n==null?null:(s=l.get(n))!==null&&s!==void 0?s:null;const f={keyPath:[],treeNodePath:[],treeNode:u};if(u==null?void 0:u.ignored)return f.treeNode=null,f;for(;u;)!u.ignored&&(r||!u.isGroup)&&f.treeNodePath.push(u),u=u.parent;return f.treeNodePath.reverse(),a||f.treeNodePath.pop(),f.keyPath=f.treeNodePath.map(d=>d.key),f}function getFirstAvailableNode(n){if(n.length===0)return null;const r=n[0];return r.isGroup||r.ignored||r.disabled?r.getNext():r}function rawGetNext(n,r){const a=n.siblings,o=a.length,{index:s}=n;return r?a[(s+1)%o]:s===a.length-1?null:a[s+1]}function move(n,r,{loop:a=!1,includeDisabled:o=!1}={}){const s=r==="prev"?rawGetPrev:rawGetNext,l={reverse:r==="prev"};let u=!1,f=null;function d(v){if(v!==null){if(v===n){if(!u)u=!0;else if(!n.disabled&&!n.isGroup){f=n;return}}else if((!v.disabled||o)&&!v.ignored&&!v.isGroup){f=v;return}if(v.isGroup){const g=getChild(v,l);g!==null?f=g:d(s(v,a))}else{const g=s(v,!1);if(g!==null)d(g);else{const y=rawGetParent(v);(y==null?void 0:y.isGroup)?d(s(y,a)):a&&d(s(v,!0))}}}}return d(n),f}function rawGetPrev(n,r){const a=n.siblings,o=a.length,{index:s}=n;return r?a[(s-1+o)%o]:s===0?null:a[s-1]}function rawGetParent(n){return n.parent}function getChild(n,r={}){const{reverse:a=!1}=r,{children:o}=n;if(o){const{length:s}=o,l=a?s-1:0,u=a?-1:s,f=a?-1:1;for(let d=l;d!==u;d+=f){const v=o[d];if(!v.disabled&&!v.ignored)if(v.isGroup){const g=getChild(v,r);if(g!==null)return g}else return v}}return null}var moveMethods={getChild(){return this.ignored?null:getChild(this)},getParent(){const{parent:n}=this;return(n==null?void 0:n.isGroup)?n.getParent():n},getNext(n={}){return move(this,"next",n)},getPrev(n={}){return move(this,"prev",n)}};function flatten3(n,r){const a=r?new Set(r):void 0,o=[];function s(l){l.forEach(u=>{o.push(u),!(u.isLeaf||!u.children||u.ignored)&&(u.isGroup||a===void 0||a.has(u.key))&&s(u.children)})}return s(n),o}function contains(n,r){const a=n.key;for(;r;){if(r.key===a)return!0;r=r.parent}return!1}function createTreeNodes(n,r,a,o,s,l=null,u=0){const f=[];return n.forEach((d,v)=>{var g;isNodeInvalid(d,s)&&console.error("[treemate]: node",d,"is invalid");const y=Object.create(o);if(y.rawNode=d,y.siblings=f,y.level=u,y.index=v,y.isFirstChild=v===0,y.isLastChild=v+1===n.length,y.parent=l,!y.ignored){const b=s(d);Array.isArray(b)&&(y.children=createTreeNodes(b,r,a,o,s,y,u+1))}f.push(y),r.set(y.key,y),a.has(u)||a.set(u,[]),(g=a.get(u))===null||g===void 0||g.push(y)}),f}function createTreeMate(n,r={}){var a;const o=new Map,s=new Map,{getDisabled:l=isDisabled,getIgnored:u=isIgnored,getIsGroup:f=isGroup,getKey:d=defaultGetKey}=r,v=(a=r.getChildren)!==null&&a!==void 0?a:defaultGetChildren,g=r.ignoreEmptyChildren?T=>{const M=v(T);return Array.isArray(M)?M.length?M:null:M}:v,y=Object.assign({get key(){return d(this.rawNode)},get disabled(){return l(this.rawNode)},get isGroup(){return f(this.rawNode)},get isLeaf(){return isLeaf(this.rawNode,g)},get shallowLoaded(){return isShallowLoaded(this.rawNode,g)},get ignored(){return u(this.rawNode)},contains(T){return contains(this,T)}},moveMethods),b=createTreeNodes(n,o,s,y,g);function _(T){if(T==null)return null;const M=o.get(T);return M&&!M.isGroup&&!M.ignored?M:null}function x(T){if(T==null)return null;const M=o.get(T);return M&&!M.ignored?M:null}function C(T,M){const E=x(T);return E?E.getPrev(M):null}function w(T,M){const E=x(T);return E?E.getNext(M):null}function S(T){const M=x(T);return M?M.getParent():null}function D(T){const M=x(T);return M?M.getChild():null}const A={treeNodes:b,treeNodeMap:o,levelTreeNodeMap:s,maxLevel:Math.max(...s.keys()),getChildren:g,getFlattenedNodes(T){return flatten3(b,T)},getNode:_,getPrev:C,getNext:w,getParent:S,getChild:D,getFirstAvailableNode(){return getFirstAvailableNode(b)},getPath(T,M={}){return getPath(T,M,A)},getCheckedKeys(T,M={}){const{cascade:E=!0,leafOnly:P=!1,checkStrategy:I="all",allowNotLoaded:F=!1}=M;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(T),indeterminateKeys:unwrapIndeterminateKeys(T),cascade:E,leafOnly:P,checkStrategy:I,allowNotLoaded:F},A)},check(T,M,E={}){const{cascade:P=!0,leafOnly:I=!1,checkStrategy:F="all",allowNotLoaded:L=!1}=E;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(M),indeterminateKeys:unwrapIndeterminateKeys(M),keysToCheck:T==null?[]:toArray(T),cascade:P,leafOnly:I,checkStrategy:F,allowNotLoaded:L},A)},uncheck(T,M,E={}){const{cascade:P=!0,leafOnly:I=!1,checkStrategy:F="all",allowNotLoaded:L=!1}=E;return getCheckedKeys({checkedKeys:unwrapCheckedKeys(M),indeterminateKeys:unwrapIndeterminateKeys(M),keysToUncheck:T==null?[]:toArray(T),cascade:P,leafOnly:I,checkStrategy:F,allowNotLoaded:L},A)},getNonLeafKeys(T={}){return getNonLeafKeys(b,T)}};return A}var base={neutralBase:"#000",neutralInvertBase:"#fff",neutralTextBase:"#fff",neutralPopover:"rgb(72, 72, 78)",neutralCard:"rgb(24, 24, 28)",neutralModal:"rgb(44, 44, 50)",neutralBody:"rgb(16, 16, 20)",alpha1:"0.9",alpha2:"0.82",alpha3:"0.52",alpha4:"0.38",alpha5:"0.28",alphaClose:"0.52",alphaDisabled:"0.38",alphaDisabledInput:"0.06",alphaPending:"0.09",alphaTablePending:"0.06",alphaTableStriped:"0.05",alphaPressed:"0.05",alphaAvatar:"0.18",alphaRail:"0.2",alphaProgressRail:"0.12",alphaBorder:"0.24",alphaDivider:"0.09",alphaInput:"0.1",alphaAction:"0.06",alphaTab:"0.04",alphaScrollbar:"0.2",alphaScrollbarHover:"0.3",alphaCode:"0.12",alphaTag:"0",primaryHover:"#7fe7c4",primaryDefault:"#63e2b7",primaryActive:"#5acea7",primarySuppl:"rgb(42, 148, 125)",infoHover:"#8acbec",infoDefault:"#70c0e8",infoActive:"#66afd3",infoSuppl:"rgb(56, 137, 197)",errorHover:"#e98b8b",errorDefault:"#e88080",errorActive:"#e57272",errorSuppl:"rgb(208, 58, 82)",warningHover:"#f5d599",warningDefault:"#f2c97d",warningActive:"#e6c260",warningSuppl:"rgb(240, 138, 0)",successHover:"#7fe7c4",successDefault:"#63e2b7",successActive:"#5acea7",successSuppl:"rgb(42, 148, 125)"},baseBackgroundRgb=rgba(base.neutralBase),baseInvertBackgroundRgb=rgba(base.neutralInvertBase),overlayPrefix="rgba("+baseInvertBackgroundRgb.slice(0,3).join(", ")+", ";function overlay(n){return overlayPrefix+String(n)+")"}function neutral(n){const r=Array.from(baseInvertBackgroundRgb);return r[3]=Number(n),composite(baseBackgroundRgb,r)}var derived=Object.assign(Object.assign({name:"common"},common_default),{baseColor:base.neutralBase,primaryColor:base.primaryDefault,primaryColorHover:base.primaryHover,primaryColorPressed:base.primaryActive,primaryColorSuppl:base.primarySuppl,infoColor:base.infoDefault,infoColorHover:base.infoHover,infoColorPressed:base.infoActive,infoColorSuppl:base.infoSuppl,successColor:base.successDefault,successColorHover:base.successHover,successColorPressed:base.successActive,successColorSuppl:base.successSuppl,warningColor:base.warningDefault,warningColorHover:base.warningHover,warningColorPressed:base.warningActive,warningColorSuppl:base.warningSuppl,errorColor:base.errorDefault,errorColorHover:base.errorHover,errorColorPressed:base.errorActive,errorColorSuppl:base.errorSuppl,textColorBase:base.neutralTextBase,textColor1:overlay(base.alpha1),textColor2:overlay(base.alpha2),textColor3:overlay(base.alpha3),textColorDisabled:overlay(base.alpha4),placeholderColor:overlay(base.alpha4),placeholderColorDisabled:overlay(base.alpha5),iconColor:overlay(base.alpha4),iconColorDisabled:overlay(base.alpha5),iconColorHover:overlay(Number(base.alpha4)*1.25),iconColorPressed:overlay(Number(base.alpha4)*.8),opacity1:base.alpha1,opacity2:base.alpha2,opacity3:base.alpha3,opacity4:base.alpha4,opacity5:base.alpha5,dividerColor:overlay(base.alphaDivider),borderColor:overlay(base.alphaBorder),closeColorHover:overlay(Number(base.alphaClose)*1.25),closeColor:overlay(Number(base.alphaClose)),closeColorPressed:overlay(Number(base.alphaClose)*.8),closeColorDisabled:overlay(base.alpha4),clearColor:overlay(base.alpha4),clearColorHover:scaleColor(overlay(base.alpha4),{alpha:1.25}),clearColorPressed:scaleColor(overlay(base.alpha4),{alpha:.8}),scrollbarColor:overlay(base.alphaScrollbar),scrollbarColorHover:overlay(base.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:overlay(base.alphaProgressRail),railColor:overlay(base.alphaRail),popoverColor:base.neutralPopover,tableColor:base.neutralCard,cardColor:base.neutralCard,modalColor:base.neutralModal,bodyColor:base.neutralBody,tagColor:neutral(base.alphaTag),avatarColor:overlay(base.alphaAvatar),invertedColor:base.neutralBase,inputColor:overlay(base.alphaInput),codeColor:overlay(base.alphaCode),tabColor:overlay(base.alphaTab),actionColor:overlay(base.alphaAction),tableHeaderColor:overlay(base.alphaAction),hoverColor:overlay(base.alphaPending),tableColorHover:overlay(base.alphaTablePending),tableColorStriped:overlay(base.alphaTableStriped),pressedColor:overlay(base.alphaPressed),opacityDisabled:base.alphaDisabled,inputColorDisabled:overlay(base.alphaDisabledInput),buttonColor2:"rgba(255, 255, 255, .06)",buttonColor2Hover:"rgba(255, 255, 255, .09)",buttonColor2Pressed:"rgba(255, 255, 255, .05)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .24), 0 3px 6px 0 rgba(0, 0, 0, .18), 0 5px 12px 4px rgba(0, 0, 0, .12)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .24), 0 6px 12px 0 rgba(0, 0, 0, .16), 0 9px 18px 8px rgba(0, 0, 0, .10)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),dark_default=derived,base2={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.52",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},baseBackgroundRgb2=rgba(base2.neutralBase),baseInvertBackgroundRgb2=rgba(base2.neutralInvertBase),overlayPrefix2="rgba("+baseInvertBackgroundRgb2.slice(0,3).join(", ")+", ";function overlay2(n){return overlayPrefix2+String(n)+")"}function neutral2(n){const r=Array.from(baseInvertBackgroundRgb2);return r[3]=Number(n),composite(baseBackgroundRgb2,r)}var derived2=Object.assign(Object.assign({name:"common"},common_default),{baseColor:base2.neutralBase,primaryColor:base2.primaryDefault,primaryColorHover:base2.primaryHover,primaryColorPressed:base2.primaryActive,primaryColorSuppl:base2.primarySuppl,infoColor:base2.infoDefault,infoColorHover:base2.infoHover,infoColorPressed:base2.infoActive,infoColorSuppl:base2.infoSuppl,successColor:base2.successDefault,successColorHover:base2.successHover,successColorPressed:base2.successActive,successColorSuppl:base2.successSuppl,warningColor:base2.warningDefault,warningColorHover:base2.warningHover,warningColorPressed:base2.warningActive,warningColorSuppl:base2.warningSuppl,errorColor:base2.errorDefault,errorColorHover:base2.errorHover,errorColorPressed:base2.errorActive,errorColorSuppl:base2.errorSuppl,textColorBase:base2.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:neutral2(base2.alpha4),placeholderColor:neutral2(base2.alpha4),placeholderColorDisabled:neutral2(base2.alpha5),iconColor:neutral2(base2.alpha4),iconColorHover:scaleColor(neutral2(base2.alpha4),{lightness:.75}),iconColorPressed:scaleColor(neutral2(base2.alpha4),{lightness:.9}),iconColorDisabled:neutral2(base2.alpha5),opacity1:base2.alpha1,opacity2:base2.alpha2,opacity3:base2.alpha3,opacity4:base2.alpha4,opacity5:base2.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeColor:neutral2(Number(base2.alphaClose)),closeColorHover:neutral2(Number(base2.alphaClose)*1.25),closeColorPressed:neutral2(Number(base2.alphaClose)*.8),closeColorDisabled:neutral2(base2.alpha4),clearColor:neutral2(base2.alpha4),clearColorHover:scaleColor(neutral2(base2.alpha4),{lightness:.75}),clearColorPressed:scaleColor(neutral2(base2.alpha4),{lightness:.9}),scrollbarColor:overlay2(base2.alphaScrollbar),scrollbarColorHover:overlay2(base2.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:neutral2(base2.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:base2.neutralPopover,tableColor:base2.neutralCard,cardColor:base2.neutralCard,modalColor:base2.neutralModal,bodyColor:base2.neutralBody,tagColor:"rgb(250, 250, 252)",avatarColor:neutral2(base2.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:neutral2(base2.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:base2.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),light_default=derived2,common_default2={iconSizeSmall:"34px",iconSizeMedium:"40px",iconSizeLarge:"46px",iconSizeHuge:"52px"},self2=n=>{const{textColorDisabled:r,iconColor:a,textColor2:o,fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:u,fontSizeHuge:f}=n;return Object.assign(Object.assign({},common_default2),{fontSizeSmall:s,fontSizeMedium:l,fontSizeLarge:u,fontSizeHuge:f,textColor:r,iconColor:a,extraTextColor:o})},emptyLight={name:"Empty",common:light_default,self:self2},light_default2=emptyLight,emptyDark={name:"Empty",common:dark_default,self:self2},dark_default2=emptyDark,index_cssr_default5=cB("empty",`
 display: flex;
 flex-direction: column;
 align-items: center;
 font-size: var(--n-font-size);
`,[cE("icon",`
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 line-height: var(--n-icon-size);
 color: var(--n-icon-color);
 transition:
 color .3s var(--n-bezier);
 `,[c2("+",[cE("description",`
 margin-top: 8px;
 `)])]),cE("description",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),cE("extra",`
 text-align: center;
 transition: color .3s var(--n-bezier);
 margin-top: 12px;
 color: var(--n-extra-text-color);
 `)]),emptyProps=Object.assign(Object.assign({},use_theme_default.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),Empty_default2=defineComponent({name:"Empty",props:emptyProps,setup(n){const{mergedClsPrefixRef:r,inlineThemeDisabled:a}=useConfig(n),o=use_theme_default("Empty","-empty",index_cssr_default5,light_default2,n,r),{localeRef:s}=useLocale("Empty"),l=inject(configProviderInjectionKey,null),u=computed2(()=>{var g,y,b;return(g=n.description)!==null&&g!==void 0?g:(b=(y=l==null?void 0:l.mergedComponentPropsRef.value)===null||y===void 0?void 0:y.Empty)===null||b===void 0?void 0:b.description}),f=computed2(()=>{var g,y;return((y=(g=l==null?void 0:l.mergedComponentPropsRef.value)===null||g===void 0?void 0:g.Empty)===null||y===void 0?void 0:y.renderIcon)||(()=>h(Empty_default,null))}),d=computed2(()=>{const{size:g}=n,{common:{cubicBezierEaseInOut:y},self:{[createKey("iconSize",g)]:b,[createKey("fontSize",g)]:_,textColor:x,iconColor:C,extraTextColor:w}}=o.value;return{"--n-icon-size":b,"--n-font-size":_,"--n-bezier":y,"--n-text-color":x,"--n-icon-color":C,"--n-extra-text-color":w}}),v=a?useThemeClass("empty",computed2(()=>{let g="";const{size:y}=n;return g+=y[0],g}),d,n):void 0;return{mergedClsPrefix:r,mergedRenderIcon:f,localizedDescription:computed2(()=>u.value||s.value.description),cssVars:a?void 0:d,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){const{$slots:n,mergedClsPrefix:r,onRender:a}=this;return a==null||a(),h("div",{class:[`${r}-empty`,this.themeClass],style:this.cssVars},this.showIcon?h("div",{class:`${r}-empty__icon`},n.icon?n.icon():h(Icon_default,{clsPrefix:r},{default:this.mergedRenderIcon})):null,this.showDescription?h("div",{class:`${r}-empty__description`},n.default?n.default():this.localizedDescription):null,n.extra?h("div",{class:`${r}-empty__extra`},n.extra()):null)}}),self3=n=>{const{scrollbarColor:r,scrollbarColorHover:a}=n;return{color:r,colorHover:a}},scrollbarLight={name:"Scrollbar",common:light_default,self:self3},light_default3=scrollbarLight,scrollbarDark={name:"Scrollbar",common:dark_default,self:self3},dark_default3=scrollbarDark,{cubicBezierEaseInOut:cubicBezierEaseInOut2}=common_default;function fade_in_cssr_default({name:n="fade-in",enterDuration:r="0.2s",leaveDuration:a="0.2s",enterCubicBezier:o=cubicBezierEaseInOut2,leaveCubicBezier:s=cubicBezierEaseInOut2}={}){return[c2(`&.${n}-transition-enter-active`,{transition:`all ${r} ${o}!important`}),c2(`&.${n}-transition-leave-active`,{transition:`all ${a} ${s}!important`}),c2(`&.${n}-transition-enter-from, &.${n}-transition-leave-to`,{opacity:0}),c2(`&.${n}-transition-leave-from, &.${n}-transition-enter-to`,{opacity:1})]}var index_cssr_default6=cB("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[c2(">",[cB("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 max-height: inherit;
 scrollbar-width: none;
 `,[c2("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),c2(">",[cB("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])]),cB("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 `,[cM("horizontal",`
 left: 2px;
 right: 2px;
 bottom: 4px;
 height: var(--n-scrollbar-height);
 `,[c2(">",[cE("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),cM("vertical",`
 right: 4px;
 top: 2px;
 bottom: 2px;
 width: var(--n-scrollbar-width);
 `,[c2(">",[cE("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),cM("disabled",[c2(">",[cE("scrollbar",{pointerEvents:"none"})])]),c2(">",[cE("scrollbar",`
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[fade_in_cssr_default(),c2("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]),scrollbarProps=Object.assign(Object.assign({},use_theme_default.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function}),Scrollbar=defineComponent({name:"Scrollbar",props:scrollbarProps,inheritAttrs:!1,setup(n){const{mergedClsPrefixRef:r,inlineThemeDisabled:a}=useConfig(n),o=ref(null),s=ref(null),l=ref(null),u=ref(null),f=ref(null),d=ref(null),v=ref(null),g=ref(null),y=ref(null),b=ref(null),_=ref(null),x=ref(0),C=ref(0),w=ref(!1),S=ref(!1);let D=!1,A=!1,T,M,E=0,P=0,I=0,F=0;const L=useIsIos(),O=computed2(()=>{const{value:ae}=g,{value:ge}=d,{value:we}=b;return ae===null||ge===null||we===null?0:Math.min(ae,we*ae/ge+n.size*1.5)}),z=computed2(()=>`${O.value}px`),R=computed2(()=>{const{value:ae}=y,{value:ge}=v,{value:we}=_;return ae===null||ge===null||we===null?0:we*ae/ge+n.size*1.5}),B=computed2(()=>`${R.value}px`),N=computed2(()=>{const{value:ae}=g,{value:ge}=x,{value:we}=d,{value:J}=b;if(ae===null||we===null||J===null)return 0;{const ce=we-ae;return ce?ge/ce*(J-O.value):0}}),H=computed2(()=>`${N.value}px`),W=computed2(()=>{const{value:ae}=y,{value:ge}=C,{value:we}=v,{value:J}=_;if(ae===null||we===null||J===null)return 0;{const ce=we-ae;return ce?ge/ce*(J-R.value):0}}),V=computed2(()=>`${W.value}px`),G=computed2(()=>{const{value:ae}=g,{value:ge}=d;return ae!==null&&ge!==null&&ge>ae}),Y=computed2(()=>{const{value:ae}=y,{value:ge}=v;return ae!==null&&ge!==null&&ge>ae}),Q=computed2(()=>{const{container:ae}=n;return ae?ae():s.value}),q=computed2(()=>{const{content:ae}=n;return ae?ae():l.value}),ne=ie,ve=ae=>{const{onResize:ge}=n;ge&&ge(ae),ie()},fe=(ae,ge)=>{if(!n.scrollable)return;if(typeof ae=="number"){pe(ae,ge!=null?ge:0,0,!1,"auto");return}const{left:we,top:J,index:ce,elSize:Se,position:Ae,behavior:me,el:Ie,debounce:Le=!0}=ae;(we!==void 0||J!==void 0)&&pe(we!=null?we:0,J!=null?J:0,0,!1,me),Ie!==void 0?pe(0,Ie.offsetTop,Ie.offsetHeight,Le,me):ce!==void 0&&Se!==void 0?pe(0,ce*Se,Se,Le,me):Ae==="bottom"?pe(0,Number.MAX_SAFE_INTEGER,0,!1,me):Ae==="top"&&pe(0,0,0,!1,me)},he=(ae,ge)=>{if(!n.scrollable)return;const{value:we}=Q;!we||(typeof ae=="object"?we.scrollBy(ae):we.scrollBy(ae,ge||0))};function pe(ae,ge,we,J,ce){const{value:Se}=Q;if(!!Se){if(J){const{scrollTop:Ae,offsetHeight:me}=Se;if(ge>Ae){ge+we<=Ae+me||Se.scrollTo({left:ae,top:ge+we-me,behavior:ce});return}}Se.scrollTo({left:ae,top:ge,behavior:ce})}}function de(){Me(),$(),ie()}function ue(){be()}function be(){se(),_e()}function se(){M!==void 0&&window.clearTimeout(M),M=window.setTimeout(()=>{S.value=!1},n.duration)}function _e(){T!==void 0&&window.clearTimeout(T),T=window.setTimeout(()=>{w.value=!1},n.duration)}function Me(){T!==void 0&&window.clearTimeout(T),w.value=!0}function $(){M!==void 0&&window.clearTimeout(M),S.value=!0}function U(ae){const{onScroll:ge}=n;ge&&ge(ae),Z()}function Z(){const{value:ae}=Q;ae&&(x.value=ae.scrollTop,C.value=ae.scrollLeft)}function ee(){const{value:ae}=q;ae&&(d.value=ae.offsetHeight,v.value=ae.offsetWidth);const{value:ge}=Q;ge&&(g.value=ge.offsetHeight,y.value=ge.offsetWidth);const{value:we}=f,{value:J}=u;we&&(_.value=we.offsetWidth),J&&(b.value=J.offsetHeight)}function re(){const{value:ae}=Q;ae&&(x.value=ae.scrollTop,C.value=ae.scrollLeft,g.value=ae.offsetHeight,y.value=ae.offsetWidth,d.value=ae.scrollHeight,v.value=ae.scrollWidth);const{value:ge}=f,{value:we}=u;ge&&(_.value=ge.offsetWidth),we&&(b.value=we.offsetHeight)}function ie(){!n.scrollable||(n.useUnifiedContainer?re():(ee(),Z()))}function oe(ae){var ge;return!((ge=o.value)===null||ge===void 0?void 0:ge.contains(ae.target))}function j(ae){ae.preventDefault(),ae.stopPropagation(),A=!0,on("mousemove",window,K,!0),on("mouseup",window,te,!0),P=C.value,I=ae.clientX}function K(ae){if(!A)return;T!==void 0&&window.clearTimeout(T),M!==void 0&&window.clearTimeout(M);const{value:ge}=y,{value:we}=v,{value:J}=R;if(ge===null||we===null)return;const Se=(ae.clientX-I)*(we-ge)/(ge-J),Ae=we-ge;let me=P+Se;me=Math.min(Ae,me),me=Math.max(me,0);const{value:Ie}=Q;if(Ie){Ie.scrollLeft=me;const{internalOnUpdateScrollLeft:Le}=n;Le&&Le(me)}}function te(ae){ae.preventDefault(),ae.stopPropagation(),off("mousemove",window,K,!0),off("mouseup",window,te,!0),A=!1,ie(),oe(ae)&&be()}function xe(ae){ae.preventDefault(),ae.stopPropagation(),D=!0,on("mousemove",window,ye,!0),on("mouseup",window,Ce,!0),E=x.value,F=ae.clientY}function ye(ae){if(!D)return;T!==void 0&&window.clearTimeout(T),M!==void 0&&window.clearTimeout(M);const{value:ge}=g,{value:we}=d,{value:J}=O;if(ge===null||we===null)return;const Se=(ae.clientY-F)*(we-ge)/(ge-J),Ae=we-ge;let me=E+Se;me=Math.min(Ae,me),me=Math.max(me,0);const{value:Ie}=Q;Ie&&(Ie.scrollTop=me)}function Ce(ae){ae.preventDefault(),ae.stopPropagation(),off("mousemove",window,ye,!0),off("mouseup",window,Ce,!0),D=!1,ie(),oe(ae)&&be()}watchEffect(()=>{const{value:ae}=Y,{value:ge}=G,{value:we}=r,{value:J}=f,{value:ce}=u;J&&(ae?J.classList.remove(`${we}-scrollbar-rail--disabled`):J.classList.add(`${we}-scrollbar-rail--disabled`)),ce&&(ge?ce.classList.remove(`${we}-scrollbar-rail--disabled`):ce.classList.add(`${we}-scrollbar-rail--disabled`))}),onMounted(()=>{n.container||ie()}),onBeforeUnmount(()=>{T!==void 0&&window.clearTimeout(T),M!==void 0&&window.clearTimeout(M),off("mousemove",window,ye,!0),off("mouseup",window,Ce,!0)});const De=use_theme_default("Scrollbar","-scrollbar",index_cssr_default6,light_default3,n,r),Ee=computed2(()=>{const{common:{cubicBezierEaseInOut:ae,scrollbarBorderRadius:ge,scrollbarHeight:we,scrollbarWidth:J},self:{color:ce,colorHover:Se}}=De.value;return{"--n-scrollbar-bezier":ae,"--n-scrollbar-color":ce,"--n-scrollbar-color-hover":Se,"--n-scrollbar-border-radius":ge,"--n-scrollbar-width":J,"--n-scrollbar-height":we}}),Pe=a?useThemeClass("scrollbar",void 0,Ee,n):void 0;return Object.assign(Object.assign({},{scrollTo:fe,scrollBy:he,sync:ie,syncUnifiedContainer:re,handleMouseEnterWrapper:de,handleMouseLeaveWrapper:ue}),{mergedClsPrefix:r,containerScrollTop:x,wrapperRef:o,containerRef:s,contentRef:l,yRailRef:u,xRailRef:f,needYBar:G,needXBar:Y,yBarSizePx:z,xBarSizePx:B,yBarTopPx:H,xBarLeftPx:V,isShowXBar:w,isShowYBar:S,isIos:L,handleScroll:U,handleContentResize:ne,handleContainerResize:ve,handleYScrollMouseDown:xe,handleXScrollMouseDown:j,cssVars:a?void 0:Ee,themeClass:Pe==null?void 0:Pe.themeClass,onRender:Pe==null?void 0:Pe.onRender})},render(){var n;const{$slots:r,mergedClsPrefix:a,triggerDisplayManually:o}=this;if(!this.scrollable)return(n=r.default)===null||n===void 0?void 0:n.call(r);const s=()=>{var l,u;return(l=this.onRender)===null||l===void 0||l.call(this),h("div",mergeProps(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${a}-scrollbar`,this.themeClass],style:this.cssVars,onMouseenter:o?void 0:this.handleMouseEnterWrapper,onMouseleave:o?void 0:this.handleMouseLeaveWrapper}),[this.container?(u=r.default)===null||u===void 0?void 0:u.call(r):h("div",{role:"none",ref:"containerRef",class:[`${a}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},h(VResizeObserver_default,{onResize:this.handleContentResize},{default:()=>h("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${a}-scrollbar-content`,this.contentClass]},r)})),h("div",{ref:"yRailRef",class:`${a}-scrollbar-rail ${a}-scrollbar-rail--vertical`,style:this.horizontalRailStyle,"aria-hidden":!0},h(Transition,{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?h("div",{class:`${a}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),h("div",{ref:"xRailRef",class:`${a}-scrollbar-rail ${a}-scrollbar-rail--horizontal`,style:this.verticalRailStyle,"aria-hidden":!0},h(Transition,{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?h("div",{class:`${a}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,left:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])};return this.container?s():h(VResizeObserver_default,{onResize:this.handleContainerResize},{default:s})}}),ScrollBar_default=Scrollbar,common_default3={height:"calc(var(--n-option-height) * 7.6)",paddingSmall:"4px 0",paddingMedium:"4px 0",paddingLarge:"4px 0",paddingHuge:"4px 0",optionPaddingSmall:"0 12px",optionPaddingMedium:"0 12px",optionPaddingLarge:"0 12px",optionPaddingHuge:"0 12px",loadingSize:"18px"},self4=n=>{const{borderRadius:r,popoverColor:a,textColor3:o,dividerColor:s,textColor2:l,primaryColorPressed:u,textColorDisabled:f,primaryColor:d,opacityDisabled:v,hoverColor:g,fontSizeSmall:y,fontSizeMedium:b,fontSizeLarge:_,fontSizeHuge:x,heightSmall:C,heightMedium:w,heightLarge:S,heightHuge:D}=n;return Object.assign(Object.assign({},common_default3),{optionFontSizeSmall:y,optionFontSizeMedium:b,optionFontSizeLarge:_,optionFontSizeHuge:x,optionHeightSmall:C,optionHeightMedium:w,optionHeightLarge:S,optionHeightHuge:D,borderRadius:r,color:a,groupHeaderTextColor:o,actionDividerColor:s,optionTextColor:l,optionTextColorPressed:u,optionTextColorDisabled:f,optionTextColorActive:d,optionOpacityDisabled:v,optionCheckColor:d,optionColorPending:g,optionColorActive:g,actionTextColor:l,loadingColor:d})},internalSelectMenuLight=createTheme({name:"InternalSelectMenu",common:light_default,peers:{Scrollbar:light_default3,Empty:light_default2},self:self4}),light_default4=internalSelectMenuLight,internalSelectMenuDark={name:"InternalSelectMenu",common:dark_default,peers:{Scrollbar:dark_default3,Empty:dark_default2},self:self4},dark_default4=internalSelectMenuDark,checkMarkIcon=h(Checkmark_default);function renderCheckMark(n,r){return h(Transition,{name:"fade-in-scale-up-transition"},{default:()=>n?h(Icon_default,{clsPrefix:r,class:`${r}-base-select-option__check`},{default:()=>checkMarkIcon}):null})}var SelectOption_default=defineComponent({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(n){const{valueRef:r,pendingTmNodeRef:a,multipleRef:o,valueSetRef:s,renderLabelRef:l,renderOptionRef:u,handleOptionClick:f,handleOptionMouseEnter:d}=inject(internalSelectionMenuInjectionKey),v=use_memo_default(()=>{const{value:_}=a;return _?n.tmNode.key===_.key:!1});function g(_){const{tmNode:x}=n;x.disabled||f(_,x)}function y(_){const{tmNode:x}=n;x.disabled||d(_,x)}function b(_){const{tmNode:x}=n,{value:C}=v;x.disabled||C||d(_,x)}return{multiple:o,isGrouped:use_memo_default(()=>{const{tmNode:_}=n,{parent:x}=_;return x&&x.rawNode.type==="group"}),isPending:v,isSelected:use_memo_default(()=>{const{value:_}=r,{value:x}=o;if(_===null)return!1;const C=n.tmNode.rawNode.value;if(x){const{value:w}=s;return w.has(C)}else return _===C}),renderLabel:l,renderOption:u,handleMouseMove:b,handleMouseEnter:y,handleClick:g}},render(){const{clsPrefix:n,tmNode:{rawNode:r},isSelected:a,isPending:o,isGrouped:s,multiple:l,renderOption:u,renderLabel:f,handleClick:d,handleMouseEnter:v,handleMouseMove:g}=this,b=renderCheckMark(l&&a,n),_=f?[f(r,a),b]:[render2(r.label,r,a),b],x=h("div",{class:[`${n}-base-select-option`,r.class,{[`${n}-base-select-option--disabled`]:r.disabled,[`${n}-base-select-option--selected`]:a,[`${n}-base-select-option--grouped`]:s,[`${n}-base-select-option--pending`]:o}],style:r.style,onClick:d,onMouseenter:v,onMousemove:g},h("div",{class:`${n}-base-select-option__content`},_));return r.render?r.render({node:x,option:r,selected:a}):u?u({node:x,option:r,selected:a}):x}}),SelectGroupHeader_default=defineComponent({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:n,renderOptionRef:r}=inject(internalSelectionMenuInjectionKey);return{renderLabel:n,renderOption:r}},render(){const{clsPrefix:n,renderLabel:r,renderOption:a,tmNode:{rawNode:o}}=this,s=r?r(o,!1):render2(o.label,o,!1),l=h("div",{class:`${n}-base-select-group-header`},s);return o.render?o.render({node:l,option:o}):a?a({node:l,option:o,selected:!1}):l}}),{cubicBezierEaseIn,cubicBezierEaseOut}=common_default;function fade_in_scale_up_cssr_default({transformOrigin:n="inherit",duration:r=".2s",enterScale:a=".9",originalTransform:o="",originalTransition:s=""}={}){return[c2("&.fade-in-scale-up-transition-leave-active",{transformOrigin:n,transition:`opacity ${r} ${cubicBezierEaseIn}, transform ${r} ${cubicBezierEaseIn} ${s&&","+s}`}),c2("&.fade-in-scale-up-transition-enter-active",{transformOrigin:n,transition:`opacity ${r} ${cubicBezierEaseOut}, transform ${r} ${cubicBezierEaseOut} ${s&&","+s}`}),c2("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${o} scale(${a})`}),c2("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${o} scale(1)`})]}var index_cssr_default7=cB("base-select-menu",`
 line-height: 1.5;
 outline: none;
 z-index: 0;
 position: relative;
 border-radius: var(--n-border-radius);
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-color);
`,[cM("multiple",[cB("base-select-option",`
 padding-right: 28px;
 `)]),cB("scrollbar",`
 max-height: var(--n-height);
 `),cB("virtual-list",`
 max-height: var(--n-height);
 `),cB("base-select-option",`
 min-height: var(--n-option-height);
 font-size: var(--n-option-font-size);
 display: flex;
 align-items: center;
 `,[cE("content",`
 white-space: nowrap;
 text-overflow: ellipsis;
 overflow: hidden;
 `)]),cB("base-select-group-header",`
 min-height: var(--n-option-height);
 font-size: .93em;
 display: flex;
 align-items: center;
 `),cB("base-select-menu-option-wrapper",`
 position: relative;
 width: 100%;
 `),cE("loading, empty",`
 display: flex;
 padding: 12px 32px;
 flex: 1;
 justify-content: center;
 `),cE("loading",`
 color: var(--n-loading-color);
 font-size: var(--n-loading-size);
 `),cE("action",`
 padding: 8px var(--n-option-padding-left);
 font-size: var(--n-option-font-size);
 transition: 
 color .3s var(--n-bezier);
 border-color .3s var(--n-bezier);
 border-top: 1px solid var(--n-action-divider-color);
 color: var(--n-action-text-color);
 `),cB("base-select-group-header",`
 position: relative;
 cursor: default;
 padding: var(--n-option-padding);
 color: var(--n-group-header-text-color);
 `),cB("base-select-option",`
 cursor: pointer;
 position: relative;
 padding: var(--n-option-padding);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 box-sizing: border-box;
 color: var(--n-option-text-color);
 opacity: 1;
 `,[c2("&:active",`
 color: var(--n-option-text-color-pressed);
 `),cM("grouped",`
 padding-left: calc(var(--n-option-padding-left) * 1.5);
 `),cM("pending",`
 background-color: var(--n-option-color-pending);
 `),cM("selected",`
 color: var(--n-option-text-color-active);
 background-color: var(--n-option-color-active);
 `),cM("disabled",`
 cursor: not-allowed;
 `,[cNotM("selected",`
 color: var(--n-option-text-color-disabled);
 `),cM("selected",`
 opacity: var(--n-option-opacity-disabled);
 `)]),cE("check",`
 font-size: 16px;
 position: absolute;
 right: 8px;
 top: calc(50% - 7px);
 color: var(--n-option-check-color);
 transition: color .3s var(--n-bezier);
 `,[fade_in_scale_up_cssr_default({enterScale:"0.5"})])])]),SelectMenu_default=defineComponent({name:"InternalSelectMenu",props:Object.assign(Object.assign({},use_theme_default.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},width:[Number,String],autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(n){const r=use_theme_default("InternalSelectMenu","-internal-select-menu",index_cssr_default7,light_default4,n,toRef(n,"clsPrefix")),a=ref(null),o=ref(null),s=ref(null),l=computed2(()=>n.treeMate.getFlattenedNodes()),u=computed2(()=>createIndexGetter(l.value)),f=ref(null);function d(){const{treeMate:V}=n;let G=null;if(n.autoPending){const{value:Y}=n;Y===null?G=V.getFirstAvailableNode():(n.multiple?G=V.getNode((Y||[])[(Y||[]).length-1]):G=V.getNode(Y),(!G||G.disabled)&&(G=V.getFirstAvailableNode())),G&&L(G)}}let v;watch(toRef(n,"show"),V=>{V?v=watch(n.resetMenuOnOptionsChange?[toRef(n,"treeMate"),toRef(n,"multiple")]:[toRef(n,"multiple")],()=>{d(),nextTick(O)},{immediate:!0}):v==null||v()},{immediate:!0});const g=computed2(()=>depx(r.value.self[createKey("optionHeight",n.size)])),y=computed2(()=>getMargin(r.value.self[createKey("padding",n.size)])),b=computed2(()=>n.multiple&&Array.isArray(n.value)?new Set(n.value):new Set),_=computed2(()=>{const V=l.value;return V&&V.length===0});function x(V){const{onToggle:G}=n;G&&G(V)}function C(V){const{onScroll:G}=n;G&&G(V)}function w(V){var G;(G=s.value)===null||G===void 0||G.sync(),C(V)}function S(){var V;(V=s.value)===null||V===void 0||V.sync()}function D(){const{value:V}=f;return V||null}function A(V,G){G.disabled||L(G,!1)}function T(V,G){G.disabled||x(G)}function M(V){var G;happensIn(V,"action")||(G=n.onKeyup)===null||G===void 0||G.call(n,V)}function E(V){var G;happensIn(V,"action")||(G=n.onKeydown)===null||G===void 0||G.call(n,V)}function P(V){var G;(G=n.onMousedown)===null||G===void 0||G.call(n,V),!n.focusable&&V.preventDefault()}function I(){const{value:V}=f;V&&L(V.getNext({loop:!0}),!0)}function F(){const{value:V}=f;V&&L(V.getPrev({loop:!0}),!0)}function L(V,G=!1){f.value=V,G&&O()}function O(){var V,G;const Y=f.value;if(!Y)return;const Q=u.value(Y.key);Q!==null&&(n.virtualScroll?(V=o.value)===null||V===void 0||V.scrollTo({index:Q}):(G=s.value)===null||G===void 0||G.scrollTo({index:Q,elSize:g.value}))}function z(V){var G,Y;((G=a.value)===null||G===void 0?void 0:G.contains(V.target))&&((Y=n.onFocus)===null||Y===void 0||Y.call(n,V))}function R(V){var G,Y;((G=a.value)===null||G===void 0?void 0:G.contains(V.relatedTarget))||(Y=n.onBlur)===null||Y===void 0||Y.call(n,V)}provide(internalSelectionMenuInjectionKey,{handleOptionMouseEnter:A,handleOptionClick:T,valueSetRef:b,multipleRef:toRef(n,"multiple"),valueRef:toRef(n,"value"),renderLabelRef:toRef(n,"renderLabel"),renderOptionRef:toRef(n,"renderOption"),pendingTmNodeRef:f}),provide(internalSelectionMenuBodyInjectionKey,a),onMounted(()=>{const{value:V}=s;V&&V.sync()});const B=computed2(()=>{const{size:V}=n,{common:{cubicBezierEaseInOut:G},self:{height:Y,borderRadius:Q,color:q,groupHeaderTextColor:ne,actionDividerColor:ve,optionTextColorPressed:fe,optionTextColor:he,optionTextColorDisabled:pe,optionTextColorActive:de,optionOpacityDisabled:ue,optionCheckColor:be,actionTextColor:se,optionColorPending:_e,optionColorActive:Me,loadingColor:$,loadingSize:U,[createKey("optionFontSize",V)]:Z,[createKey("optionHeight",V)]:ee,[createKey("optionPadding",V)]:re}}=r.value;return{"--n-height":Y,"--n-action-divider-color":ve,"--n-action-text-color":se,"--n-bezier":G,"--n-border-radius":Q,"--n-color":q,"--n-option-font-size":Z,"--n-group-header-text-color":ne,"--n-option-check-color":be,"--n-option-color-pending":_e,"--n-option-color-active":Me,"--n-option-height":ee,"--n-option-opacity-disabled":ue,"--n-option-text-color":he,"--n-option-text-color-active":de,"--n-option-text-color-disabled":pe,"--n-option-text-color-pressed":fe,"--n-option-padding":re,"--n-option-padding-left":getMargin(re,"left"),"--n-loading-color":$,"--n-loading-size":U}}),{inlineThemeDisabled:N}=n,H=N?useThemeClass("internal-select-menu",computed2(()=>n.size[0]),B,n):void 0,W={selfRef:a,next:I,prev:F,getPendingTmNode:D};return useOnResize(a,n.onResize),Object.assign({mergedTheme:r,virtualListRef:o,scrollbarRef:s,itemSize:g,padding:y,flattenedNodes:l,empty:_,virtualListContainer(){const{value:V}=o;return V==null?void 0:V.listElRef},virtualListContent(){const{value:V}=o;return V==null?void 0:V.itemsElRef},doScroll:C,handleFocusin:z,handleFocusout:R,handleKeyUp:M,handleKeyDown:E,handleMouseDown:P,handleVirtualListResize:S,handleVirtualListScroll:w,cssVars:N?void 0:B,themeClass:H==null?void 0:H.themeClass,onRender:H==null?void 0:H.onRender},W)},render(){const{$slots:n,virtualScroll:r,clsPrefix:a,mergedTheme:o,themeClass:s,onRender:l}=this;return l==null||l(),h("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${a}-base-select-menu`,s,this.multiple&&`${a}-base-select-menu--multiple`],style:[{width:formatLength(this.width)},this.cssVars],onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},this.loading?h("div",{class:`${a}-base-select-menu__loading`},h(Loading_default,{clsPrefix:a,strokeWidth:20})):this.empty?h("div",{class:`${a}-base-select-menu__empty`,"data-empty":!0},resolveSlot(n.empty,()=>[h(Empty_default2,{theme:o.peers.Empty,themeOverrides:o.peerOverrides.Empty})])):h(ScrollBar_default,{ref:"scrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,scrollable:this.scrollable,container:r?this.virtualListContainer:void 0,content:r?this.virtualListContent:void 0,onScroll:r?void 0:this.doScroll},{default:()=>r?h(VirtualList_default,{ref:"virtualListRef",class:`${a}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:u})=>u.isGroup?h(SelectGroupHeader_default,{key:u.key,clsPrefix:a,tmNode:u}):u.ignored?null:h(SelectOption_default,{clsPrefix:a,key:u.key,tmNode:u})}):h("div",{class:`${a}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(u=>u.isGroup?h(SelectGroupHeader_default,{key:u.key,clsPrefix:a,tmNode:u}):h(SelectOption_default,{clsPrefix:a,key:u.key,tmNode:u})))}),resolveWrappedSlot(n.action,u=>u&&[h("div",{class:`${a}-base-select-menu__action`,"data-action":!0,key:"action"},u),h(focus_detector_default,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),index_cssr_default8=cB("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),Wave_default=defineComponent({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(n){useStyle("-base-wave",index_cssr_default8,toRef(n,"clsPrefix"));const r=ref(null),a=ref(!1);let o=null;return onBeforeUnmount(()=>{o!==null&&window.clearTimeout(o)}),{active:a,selfRef:r,play(){o!==null&&(window.clearTimeout(o),a.value=!1,o=null),nextTick(()=>{var s;(s=r.value)===null||s===void 0||s.offsetHeight,a.value=!0,o=window.setTimeout(()=>{a.value=!1,o=null},1e3)})}}},render(){const{clsPrefix:n}=this;return h("div",{ref:"selfRef","aria-hidden":!0,class:[`${n}-base-wave`,this.active&&`${n}-base-wave--active`]})}}),common_default4={space:"6px",spaceArrow:"10px",arrowOffset:"10px",arrowOffsetVertical:"10px",arrowHeight:"6px",padding:"8px 14px"},self5=n=>{const{boxShadow2:r,popoverColor:a,textColor2:o,borderRadius:s,fontSize:l,dividerColor:u}=n;return Object.assign(Object.assign({},common_default4),{fontSize:l,borderRadius:s,color:a,dividerColor:u,textColor:o,boxShadow:r})},popoverLight={name:"Popover",common:light_default,self:self5},light_default5=popoverLight,popoverDark={name:"Popover",common:dark_default,self:self5},dark_default5=popoverDark,oppositePlacement={top:"bottom",bottom:"top",left:"right",right:"left"},arrowSize="var(--n-arrow-height) * 1.414",index_cssr_default9=c2([cB("popover",`
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 transform-origin: inherit;
 position: relative;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 box-shadow: var(--n-box-shadow);
 `,[c2("&.popover-transition-enter-from, &.popover-transition-leave-to",`
 opacity: 0;
 transform: scale(.85);
 `),c2("&.popover-transition-enter-to, &.popover-transition-leave-from",`
 transform: scale(1);
 opacity: 1;
 `),c2("&.popover-transition-enter-active",`
 transition:
 opacity .15s var(--n-bezier-ease-out),
 transform .15s var(--n-bezier-ease-out);
 `),c2("&.popover-transition-leave-active",`
 transition:
 opacity .15s var(--n-bezier-ease-in),
 transform .15s var(--n-bezier-ease-in);
 `),cNotM("raw",`
 background-color: var(--n-color);
 border-radius: var(--n-border-radius);
 `,[cNotM("show-header","padding: var(--n-padding);")]),cE("header",`
 padding: var(--n-padding);
 border-bottom: 1px solid var(--n-divider-color);
 transition: border-color .3s var(--n-bezier);
 `),cE("content",`
 padding: var(--n-padding);
 `),cB("popover-arrow-wrapper",`
 position: absolute;
 overflow: hidden;
 pointer-events: none;
 `,[cB("popover-arrow",`
 transition: background-color .3s var(--n-bezier);
 position: absolute;
 display: block;
 width: calc(${arrowSize});
 height: calc(${arrowSize});
 box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);
 transform: rotate(45deg);
 background-color: var(--n-color);
 pointer-events: all;
 `)])]),placementStyle("top-start",`
 top: calc(${arrowSize} / -2 + 1px);
 left: calc(${getArrowOffset("top-start")} - var(--v-offset-left));
 `),placementStyle("top",`
 top: calc(${arrowSize} / -2 + 1px);
 transform: translateX(calc(${arrowSize} / -2)) rotate(45deg);
 left: 50%;
 `),placementStyle("top-end",`
 top: calc(${arrowSize} / -2 + 1px);
 right: calc(${getArrowOffset("top-end")} + var(--v-offset-left));
 `),placementStyle("bottom-start",`
 bottom: calc(${arrowSize} / -2 + 1px);
 left: calc(${getArrowOffset("bottom-start")} - var(--v-offset-left));
 `),placementStyle("bottom",`
 bottom: calc(${arrowSize} / -2 + 1px);
 transform: translateX(calc(${arrowSize} / -2)) rotate(45deg);
 left: 50%;
 `),placementStyle("bottom-end",`
 bottom: calc(${arrowSize} / -2 + 1px);
 right: calc(${getArrowOffset("bottom-end")} + var(--v-offset-left));
 `),placementStyle("left-start",`
 left: calc(${arrowSize} / -2 + 1px);
 top: calc(${getArrowOffset("left-start")} - var(--v-offset-top));
 `),placementStyle("left",`
 left: calc(${arrowSize} / -2 + 1px);
 transform: translateY(calc(${arrowSize} / -2)) rotate(45deg);
 top: 50%;
 `),placementStyle("left-end",`
 left: calc(${arrowSize} / -2 + 1px);
 bottom: calc(${getArrowOffset("left-end")} + var(--v-offset-top));
 `),placementStyle("right-start",`
 right: calc(${arrowSize} / -2 + 1px);
 top: calc(${getArrowOffset("right-start")} - var(--v-offset-top));
 `),placementStyle("right",`
 right: calc(${arrowSize} / -2 + 1px);
 transform: translateY(calc(${arrowSize} / -2)) rotate(45deg);
 top: 50%;
 `),placementStyle("right-end",`
 right: calc(${arrowSize} / -2 + 1px);
 bottom: calc(${getArrowOffset("right-end")} + var(--v-offset-top));
 `),...map_default({top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},(n,r)=>{const a=["right","left"].includes(r),o=a?"width":"height";return n.map(s=>{const l=s.split("-")[1]==="end",f=`calc((${`var(--v-target-${o}, 0px)`} - ${arrowSize}) / 2)`,d=getArrowOffset(s);return c2(`[v-placement="${s}"] >`,[cB("popover",[cM("center-arrow",[cB("popover-arrow",`${r}: calc(max(${f}, ${d}) ${l?"+":"-"} var(--v-offset-${a?"left":"top"}));`)])])])})})]);function getArrowOffset(n){return["top","bottom"].includes(n.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function placementStyle(n,r){const a=n.split("-")[0],o=["top","bottom"].includes(a)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return c2(`[v-placement="${n}"] >`,[cB("popover",[cNotM("manual-trigger",`
 margin-${oppositePlacement[a]}: var(--n-space);
 `),cM("show-arrow",`
 margin-${oppositePlacement[a]}: var(--n-space-arrow);
 `),cM("overlap",`
 margin: 0;
 `),cCB("popover-arrow-wrapper",`
 right: 0;
 left: 0;
 top: 0;
 bottom: 0;
 ${a}: calc(100% - 1px);
 ${oppositePlacement[a]}: auto;
 ${o}
 `,[cB("popover-arrow",r)])])])}var popoverBodyProps=Object.assign(Object.assign({},use_theme_default.props),{to:useAdjustedTo.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,internalTrapFocus:Boolean,animated:Boolean,onClickoutside:Function,minWidth:Number,maxWidth:Number}),renderArrow=({arrowStyle:n,clsPrefix:r})=>h("div",{key:"__popover-arrow__",class:`${r}-popover-arrow-wrapper`},h("div",{class:`${r}-popover-arrow`,style:n})),PopoverBody_default=defineComponent({name:"PopoverBody",inheritAttrs:!1,props:popoverBodyProps,setup(n,{slots:r,attrs:a}){const{namespaceRef:o,mergedClsPrefixRef:s,inlineThemeDisabled:l}=useConfig(n),u=use_theme_default("Popover","-popover",index_cssr_default9,light_default5,n,s),f=ref(null),d=inject("NPopover"),v=ref(null),g=ref(n.show),y=computed2(()=>{const{trigger:E,onClickoutside:P}=n,I=[],{positionManuallyRef:{value:F}}=d;return F||(E==="click"&&!P&&I.push([clickoutside_default,A,void 0,{capture:!0}]),E==="hover"&&I.push([mousemoveoutside_default,D])),P&&I.push([clickoutside_default,A,void 0,{capture:!0}]),n.displayDirective==="show"&&I.push([vShow,n.show]),I}),b=computed2(()=>[{width:n.width==="trigger"?"":formatLength(n.width)},n.maxWidth?{maxWidth:formatLength(n.maxWidth)}:{},n.minWidth?{minWidth:formatLength(n.minWidth)}:{},l?void 0:_.value]),_=computed2(()=>{const{common:{cubicBezierEaseInOut:E,cubicBezierEaseIn:P,cubicBezierEaseOut:I},self:{space:F,spaceArrow:L,padding:O,fontSize:z,textColor:R,dividerColor:B,color:N,boxShadow:H,borderRadius:W,arrowHeight:V,arrowOffset:G,arrowOffsetVertical:Y}}=u.value;return{"--n-box-shadow":H,"--n-bezier":E,"--n-bezier-ease-in":P,"--n-bezier-ease-out":I,"--n-font-size":z,"--n-text-color":R,"--n-color":N,"--n-divider-color":B,"--n-border-radius":W,"--n-arrow-height":V,"--n-arrow-offset":G,"--n-arrow-offset-vertical":Y,"--n-padding":O,"--n-space":F,"--n-space-arrow":L}}),x=l?useThemeClass("popover",void 0,_,n):void 0;d.setBodyInstance({syncPosition:C}),onBeforeUnmount(()=>{d.setBodyInstance(null)}),watch(toRef(n,"show"),E=>{n.animated||(E?g.value=!0:g.value=!1)});function C(){var E;(E=f.value)===null||E===void 0||E.syncPosition()}function w(E){n.trigger==="hover"&&n.keepAliveOnHover&&d.handleMouseEnter(E)}function S(E){n.trigger==="hover"&&n.keepAliveOnHover&&d.handleMouseLeave(E)}function D(E){n.trigger==="hover"&&!T().contains(E.target)&&d.handleMouseMoveOutside(E)}function A(E){(n.trigger==="click"&&!T().contains(E.target)||n.onClickoutside)&&d.handleClickOutside(E)}function T(){return d.getTriggerElement()}provide(popoverBodyInjectionKey,v),provide(drawerBodyInjectionKey,null),provide(modalBodyInjectionKey,null);function M(){x==null||x.onRender();let E;const{internalRenderBodyRef:{value:P}}=d,{value:I}=s;if(P)E=P([`${I}-popover`,x==null?void 0:x.themeClass.value,n.overlap&&`${I}-popover--overlap`],v,b.value,w,S);else{const{value:F}=d.extraClassRef,{internalTrapFocus:L}=n,O=()=>{var z;return[resolveWrappedSlot(r.header,R=>R&&[h("div",{class:`${I}-popover__header`},R),h("div",{class:`${I}-popover__content`},r)])||((z=r.default)===null||z===void 0?void 0:z.call(r)),n.showArrow?renderArrow({arrowStyle:n.arrowStyle,clsPrefix:I}):null]};E=h("div",mergeProps({class:[`${I}-popover`,x==null?void 0:x.themeClass.value,F.map(z=>`${I}-${z}`),{[`${I}-popover--overlap`]:n.overlap,[`${I}-popover--show-arrow`]:n.showArrow,[`${I}-popover--show-header`]:!isSlotEmpty(r.header),[`${I}-popover--raw`]:n.raw,[`${I}-popover--manual-trigger`]:n.trigger==="manual",[`${I}-popover--center-arrow`]:n.arrowPointToCenter}],ref:v,style:b.value,onKeydown:d.handleKeydown,onMouseenter:w,onMouseleave:S},a),L?h(FocusTrap,{active:n.show,autoFocus:!0},{default:O}):O())}return n.displayDirective==="show"||n.show?withDirectives(E,y.value):null}return{namespace:o,isMounted:d.isMountedRef,zIndex:d.zIndexRef,followerRef:f,adjustedTo:useAdjustedTo(n),followerEnabled:g,renderContentNode:M}},render(){return h(Follower_default,{zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,ref:"followerRef",overlap:this.overlap,width:this.width==="trigger"?"target":void 0,teleportDisabled:this.adjustedTo===useAdjustedTo.tdkey},{default:()=>this.animated?h(Transition,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{this.followerEnabled=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),bodyPropKeys=Object.keys(popoverBodyProps),triggerEventMap={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};function appendEvents(n,r,a){triggerEventMap[r].forEach(o=>{n.props?n.props=Object.assign({},n.props):n.props={};const s=n.props[o],l=a[o];s?n.props[o]=(...u)=>{s(...u),l(...u)}:n.props[o]=l})}var textVNodeType=createTextVNode("").type,popoverBaseProps={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},onClickoutside:Function,internalExtraClass:{type:Array,default:()=>[]},"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],zIndex:Number,to:useAdjustedTo.propTo,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},popoverProps=Object.assign(Object.assign(Object.assign({},use_theme_default.props),popoverBaseProps),{internalRenderBody:Function}),Popover_default=defineComponent({name:"Popover",inheritAttrs:!1,props:popoverProps,__popover__:!0,setup(n){watchEffect(()=>{n.maxWidth!==void 0&&warnOnce("popover","`max-width` is deprecated, please use `style` instead."),n.minWidth!==void 0&&warnOnce("popover","`min-width` is deprecated, please use `style` instead."),n.arrow!==void 0&&warnOnce("popover","`arrow` is deprecated, please use `showArrow` instead."),n.onHide!==void 0&&warnOnce("popover","`on-hide` is deprecated, please use `on-update:show` instead."),n.onShow!==void 0&&warnOnce("popover","`on-show` is deprecated, please use `on-update:show` instead.")});const r=isMounted(),a=ref(null),o=computed2(()=>n.show),s=ref(n.defaultShow),l=useMergedState(o,s),u=use_memo_default(()=>n.disabled?!1:l.value),f=()=>{if(n.disabled)return!0;const{getDisabled:B}=n;return!!(B==null?void 0:B())},d=()=>f()?!1:l.value,v=useCompitable(n,["arrow","showArrow"]),g=computed2(()=>n.overlap?!1:v.value);let y=null;const b=ref(null),_=ref(null),x=use_memo_default(()=>n.x!==void 0&&n.y!==void 0);function C(B){const{"onUpdate:show":N,onUpdateShow:H,onShow:W,onHide:V}=n;s.value=B,N&&call(N,B),H&&call(H,B),B&&W&&call(W,!0),B&&V&&call(V,!1)}function w(){y&&y.syncPosition()}function S(){const{value:B}=b;B&&(window.clearTimeout(B),b.value=null)}function D(){const{value:B}=_;B&&(window.clearTimeout(B),_.value=null)}function A(){const B=f();if(n.trigger==="focus"&&!B){if(d())return;C(!0)}}function T(){const B=f();if(n.trigger==="focus"&&!B){if(!d())return;C(!1)}}function M(){const B=f();if(n.trigger==="hover"&&!B){if(D(),b.value!==null||d())return;const N=()=>{C(!0),b.value=null},{delay:H}=n;H===0?N():b.value=window.setTimeout(N,H)}}function E(){const B=f();if(n.trigger==="hover"&&!B){if(S(),_.value!==null||!d())return;const N=()=>{C(!1),_.value=null},{duration:H}=n;H===0?N():_.value=window.setTimeout(N,H)}}function P(){E()}function I(B){var N;!d()||(n.trigger==="click"&&(S(),D(),C(!1)),(N=n.onClickoutside)===null||N===void 0||N.call(n,B))}function F(){if(n.trigger==="click"&&!f()){S(),D();const B=!d();C(B)}}function L(B){!n.internalTrapFocus||B.code==="Escape"&&(S(),D(),C(!1))}function O(B){s.value=B}function z(){var B;return(B=a.value)===null||B===void 0?void 0:B.targetRef}function R(B){y=B}return provide("NPopover",{getTriggerElement:z,handleKeydown:L,handleMouseEnter:M,handleMouseLeave:E,handleClickOutside:I,handleMouseMoveOutside:P,setBodyInstance:R,positionManuallyRef:x,isMountedRef:r,zIndexRef:toRef(n,"zIndex"),extraClassRef:toRef(n,"internalExtraClass"),internalRenderBodyRef:toRef(n,"internalRenderBody")}),{binderInstRef:a,positionManually:x,mergedShowConsideringDisabledProp:u,uncontrolledShow:s,mergedShowArrow:g,getMergedShow:d,setShow:O,handleClick:F,handleMouseEnter:M,handleMouseLeave:E,handleFocus:A,handleBlur:T,syncPosition:w}},render(){var n;const{positionManually:r,$slots:a}=this;let o,s=!1;if(!r&&(a.activator?o=getFirstSlotVNode(a,"activator"):o=getFirstSlotVNode(a,"trigger"),o)){o=cloneVNode(o),o=o.type===textVNodeType?h("span",[o]):o;const l={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if((n=o.type)===null||n===void 0?void 0:n.__popover__)s=!0,o.props||(o.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),o.props.internalSyncTargetWithParent=!0,o.props.internalInheritedEventHandlers?o.props.internalInheritedEventHandlers=[l,...o.props.internalInheritedEventHandlers]:o.props.internalInheritedEventHandlers=[l];else{const{internalInheritedEventHandlers:u}=this,f=[l,...u],d={onBlur:v=>{f.forEach(g=>{g.onBlur(v)})},onFocus:v=>{f.forEach(g=>{g.onFocus(v)})},onClick:v=>{f.forEach(g=>{g.onClick(v)})},onMouseenter:v=>{f.forEach(g=>{g.onMouseenter(v)})},onMouseleave:v=>{f.forEach(g=>{g.onMouseleave(v)})}};appendEvents(o,u?"nested":r?"manual":this.trigger,d)}}return h(Binder_default,{ref:"binderInstRef",syncTarget:!s,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const l=this.getMergedShow();return[this.internalTrapFocus&&l?withDirectives(h("div",{style:{position:"fixed",inset:0}}),[[zindexable_default,{enabled:l,zIndex:this.zIndex}]]):null,r?null:h(Target_default,null,{default:()=>o}),h(PopoverBody_default,keep(this.$props,bodyPropKeys,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:l})),{default:()=>{var u,f;return(f=(u=this.$slots).default)===null||f===void 0?void 0:f.call(u)},header:()=>{var u,f;return(f=(u=this.$slots).header)===null||f===void 0?void 0:f.call(u)}})]}})}}),common_default5={closeSizeSmall:"14px",closeSizeMedium:"14px",closeSizeLarge:"14px",padding:"0 7px",closeMargin:"0 0 0 3px",closeMarginRtl:"0 3px 0 0"},tagDark={name:"Tag",common:dark_default,self(n){const{textColor2:r,primaryColorHover:a,primaryColorPressed:o,primaryColor:s,infoColor:l,successColor:u,warningColor:f,errorColor:d,baseColor:v,borderColor:g,opacityDisabled:y,closeColor:b,closeColorHover:_,closeColorPressed:x,borderRadiusSmall:C,fontSizeTiny:w,fontSizeSmall:S,fontSizeMedium:D,heightTiny:A,heightSmall:T,heightMedium:M}=n;return Object.assign(Object.assign({},common_default5),{heightSmall:A,heightMedium:T,heightLarge:M,borderRadius:C,opacityDisabled:y,fontSizeSmall:w,fontSizeMedium:S,fontSizeLarge:D,textColorCheckable:r,textColorHoverCheckable:a,textColorPressedCheckable:o,textColorChecked:v,colorCheckable:"#0000",colorHoverCheckable:"#0000",colorPressedCheckable:"#0000",colorChecked:s,colorCheckedHover:a,colorCheckedPressed:o,border:`1px solid ${g}`,textColor:r,color:"#0000",closeColor:b,closeColorHover:_,closeColorPressed:x,borderPrimary:`1px solid ${changeColor(s,{alpha:.3})}`,textColorPrimary:s,colorPrimary:"#0000",closeColorPrimary:changeColor(s,{alpha:.7}),closeColorHoverPrimary:changeColor(s,{alpha:.85}),closeColorPressedPrimary:changeColor(s,{alpha:.57}),borderInfo:`1px solid ${changeColor(l,{alpha:.3})}`,textColorInfo:l,colorInfo:"#0000",closeColorInfo:changeColor(l,{alpha:.7}),closeColorHoverInfo:changeColor(l,{alpha:.85}),closeColorPressedInfo:changeColor(l,{alpha:.57}),borderSuccess:`1px solid ${changeColor(u,{alpha:.3})}`,textColorSuccess:u,colorSuccess:"#0000",closeColorSuccess:changeColor(u,{alpha:.7}),closeColorHoverSuccess:changeColor(u,{alpha:.85}),closeColorPressedSuccess:changeColor(u,{alpha:.57}),borderWarning:`1px solid ${changeColor(f,{alpha:.3})}`,textColorWarning:f,colorWarning:"#0000",closeColorWarning:changeColor(f,{alpha:.7}),closeColorHoverWarning:changeColor(f,{alpha:.85}),closeColorPressedWarning:changeColor(f,{alpha:.57}),borderError:`1px solid ${changeColor(d,{alpha:.3})}`,textColorError:d,colorError:"#0000",closeColorError:changeColor(d,{alpha:.7}),closeColorHoverError:changeColor(d,{alpha:.85}),closeColorPressedError:changeColor(d,{alpha:.57})})}},dark_default6=tagDark,self6=n=>{const{textColor2:r,primaryColorHover:a,primaryColorPressed:o,primaryColor:s,infoColor:l,successColor:u,warningColor:f,errorColor:d,baseColor:v,borderColor:g,opacityDisabled:y,tagColor:b,closeColor:_,closeColorHover:x,closeColorPressed:C,borderRadiusSmall:w,fontSizeTiny:S,fontSizeSmall:D,fontSizeMedium:A,heightTiny:T,heightSmall:M,heightMedium:E}=n;return Object.assign(Object.assign({},common_default5),{heightSmall:T,heightMedium:M,heightLarge:E,borderRadius:w,opacityDisabled:y,fontSizeSmall:S,fontSizeMedium:D,fontSizeLarge:A,textColorCheckable:r,textColorHoverCheckable:a,textColorPressedCheckable:o,textColorChecked:v,colorCheckable:"#0000",colorHoverCheckable:"#0000",colorPressedCheckable:"#0000",colorChecked:s,colorCheckedHover:a,colorCheckedPressed:o,border:`1px solid ${g}`,textColor:r,color:b,closeColor:_,closeColorHover:x,closeColorPressed:C,borderPrimary:`1px solid ${changeColor(s,{alpha:.3})}`,textColorPrimary:s,colorPrimary:changeColor(s,{alpha:.1}),closeColorPrimary:changeColor(s,{alpha:.75}),closeColorHoverPrimary:changeColor(s,{alpha:.6}),closeColorPressedPrimary:changeColor(s,{alpha:.9}),borderInfo:`1px solid ${changeColor(l,{alpha:.3})}`,textColorInfo:l,colorInfo:changeColor(l,{alpha:.1}),closeColorInfo:changeColor(l,{alpha:.75}),closeColorHoverInfo:changeColor(l,{alpha:.6}),closeColorPressedInfo:changeColor(l,{alpha:.9}),borderSuccess:`1px solid ${changeColor(u,{alpha:.3})}`,textColorSuccess:u,colorSuccess:changeColor(u,{alpha:.1}),closeColorSuccess:changeColor(u,{alpha:.75}),closeColorHoverSuccess:changeColor(u,{alpha:.6}),closeColorPressedSuccess:changeColor(u,{alpha:.9}),borderWarning:`1px solid ${changeColor(f,{alpha:.35})}`,textColorWarning:f,colorWarning:changeColor(f,{alpha:.12}),closeColorWarning:changeColor(f,{alpha:.75}),closeColorHoverWarning:changeColor(f,{alpha:.6}),closeColorPressedWarning:changeColor(f,{alpha:.9}),borderError:`1px solid ${changeColor(d,{alpha:.23})}`,textColorError:d,colorError:changeColor(d,{alpha:.08}),closeColorError:changeColor(d,{alpha:.65}),closeColorHoverError:changeColor(d,{alpha:.5}),closeColorPressedError:changeColor(d,{alpha:.8})})},tagLight={name:"Tag",common:light_default,self:self6},light_default6=tagLight,common_props_default={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},index_cssr_default10=cB("tag",`
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[cE("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),cE("avatar",`
 display: flex;
 margin-right: 6px;
 `),cE("close",`
 font-size: var(--n-close-size);
 margin: var(--n-close-margin);
 transition: color .3s var(--n-bezier);
 cursor: pointer;
 `),cM("round",`
 padding: 0 calc(var(--n-height) / 2);
 border-radius: calc(var(--n-height) / 2);
 `,[cE("avatar",`
 margin-left: calc((var(--n-height) - 8px) / -2);
 `)]),cM("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),cM("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[cNotM("disabled",[c2("&:hover","background-color: var(--n-color-hover-checkable);",[cNotM("checked","color: var(--n-text-color-hover-checkable);")]),c2("&:active","background-color: var(--n-color-pressed-checkable);",[cNotM("checked","color: var(--n-text-color-pressed-checkable);")])]),cM("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[cNotM("disabled",[c2("&:hover","background-color: var(--n-color-checked-hover);"),c2("&:active","background-color: var(--n-color-checked-pressed);")])])])]);function useRtl(n,r,a){if(!r)return;const o=useSsrAdapter(),s=computed2(()=>{const{value:u}=r;if(!u)return;const f=u[n];if(!!f)return f}),l=()=>{watchEffect(()=>{const{value:u}=a,f=`${u}${n}Rtl`;if(exists(f,o))return;const{value:d}=s;!d||d.style.mount({id:f,head:!0,anchorMetaName:cssrAnchorMetaName2,props:{bPrefix:u?`.${u}-`:void 0},ssr:o})})};return o?l():onBeforeMount(l),s}var tagProps=Object.assign(Object.assign(Object.assign({},use_theme_default.props),common_props_default),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalStopClickPropagation:Boolean,onCheckedChange:{type:Function,validator:()=>(warn3("tag","`on-checked-change` is deprecated, please use `on-update:checked` instead"),!0),default:void 0}}),tagInjectionKey=createInjectionKey("n-tag"),Tag_default=defineComponent({name:"Tag",props:tagProps,setup(n){const r=ref(null),{mergedBorderedRef:a,mergedClsPrefixRef:o,inlineThemeDisabled:s,mergedRtlRef:l}=useConfig(n),u=use_theme_default("Tag","-tag",index_cssr_default10,light_default6,n,o);provide(tagInjectionKey,{roundRef:toRef(n,"round")});function f(_){if(!n.disabled&&n.checkable){const{checked:x,onCheckedChange:C,onUpdateChecked:w,"onUpdate:checked":S}=n;w&&w(!x),S&&S(!x),C&&C(!x)}}function d(_){if(n.internalStopClickPropagation&&_.stopPropagation(),!n.disabled){const{onClose:x}=n;x&&call(x,_)}}const v={setTextContent(_){const{value:x}=r;x&&(x.textContent=_)}},g=useRtl("Tag",l,o),y=computed2(()=>{const{type:_,size:x,color:{color:C,textColor:w}={}}=n,{common:{cubicBezierEaseInOut:S},self:{padding:D,closeMargin:A,closeMarginRtl:T,borderRadius:M,opacityDisabled:E,textColorCheckable:P,textColorHoverCheckable:I,textColorPressedCheckable:F,textColorChecked:L,colorCheckable:O,colorHoverCheckable:z,colorPressedCheckable:R,colorChecked:B,colorCheckedHover:N,colorCheckedPressed:H,[createKey("closeSize",x)]:W,[createKey("fontSize",x)]:V,[createKey("height",x)]:G,[createKey("color",_)]:Y,[createKey("textColor",_)]:Q,[createKey("border",_)]:q,[createKey("closeColor",_)]:ne,[createKey("closeColorHover",_)]:ve,[createKey("closeColorPressed",_)]:fe}}=u.value;return{"--n-avatar-size-override":`calc(${G} - 8px)`,"--n-bezier":S,"--n-border-radius":M,"--n-border":q,"--n-close-color":ne,"--n-close-color-hover":ve,"--n-close-color-pressed":fe,"--n-close-color-disabled":ne,"--n-close-margin":A,"--n-close-margin-rtl":T,"--n-close-size":W,"--n-color":C||Y,"--n-color-checkable":O,"--n-color-checked":B,"--n-color-checked-hover":N,"--n-color-checked-pressed":H,"--n-color-hover-checkable":z,"--n-color-pressed-checkable":R,"--n-font-size":V,"--n-height":G,"--n-opacity-disabled":E,"--n-padding":D,"--n-text-color":w||Q,"--n-text-color-checkable":P,"--n-text-color-checked":L,"--n-text-color-hover-checkable":I,"--n-text-color-pressed-checkable":F}}),b=s?useThemeClass("tag",computed2(()=>{let _="";const{type:x,size:C,color:{color:w,textColor:S}={}}=n;return _+=x[0],_+=C[0],w&&(_+=`a${color2Class(w)}`),S&&(_+=`b${color2Class(S)}`),_}),y,n):void 0;return Object.assign(Object.assign({},v),{rtlEnabled:g,mergedClsPrefix:o,contentRef:r,mergedBordered:a,handleClick:f,handleCloseClick:d,cssVars:s?void 0:y,themeClass:b==null?void 0:b.themeClass,onRender:b==null?void 0:b.onRender})},render(){var n,r;const{mergedClsPrefix:a,rtlEnabled:o,color:{borderColor:s}={},onRender:l,$slots:u}=this;return l==null||l(),h("div",{class:[`${a}-tag`,this.themeClass,{[`${a}-tag--rtl`]:o,[`${a}-tag--disabled`]:this.disabled,[`${a}-tag--checkable`]:this.checkable,[`${a}-tag--checked`]:this.checkable&&this.checked,[`${a}-tag--round`]:this.round}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},resolveWrappedSlot(u.avatar,f=>f&&h("div",{class:`${a}-tag__avatar`},f)),h("span",{class:`${a}-tag__content`,ref:"contentRef"},(r=(n=this.$slots).default)===null||r===void 0?void 0:r.call(n)),!this.checkable&&this.closable?h(Close_default2,{clsPrefix:a,class:`${a}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick}):null,!this.checkable&&this.mergedBordered?h("div",{class:`${a}-tag__border`,style:{borderColor:s}}):null)}}),index_cssr_default11=cB("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[c2(">",[cE("clear",`
 font-size: var(--n-clear-size);
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 `,[c2("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),c2("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),cE("placeholder",`
 display: flex;
 `),cE("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[icon_switch_cssr_default({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),Clear_default2=defineComponent({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(n){return useStyle("-base-clear",index_cssr_default11,toRef(n,"clsPrefix")),{handleMouseDown(r){r.preventDefault()}}},render(){const{clsPrefix:n}=this;return h("div",{class:`${n}-base-clear`},h(IconSwitchTransition_default,null,{default:()=>{var r,a;return this.show?h(Icon_default,{clsPrefix:n,key:"dismiss",class:`${n}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},{default:()=>h(Clear_default,null)}):h("div",{key:"icon",class:`${n}-base-clear__placeholder`},(a=(r=this.$slots).default)===null||a===void 0?void 0:a.call(r))}}))}}),Suffix_default=defineComponent({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(n,{slots:r}){return()=>{const{clsPrefix:a}=n;return h(Loading_default,{clsPrefix:a,class:`${a}-base-suffix`,strokeWidth:24,scale:.85,show:n.loading},{default:()=>n.showArrow?h(Clear_default2,{clsPrefix:a,show:n.showClear,onClear:n.onClear},{default:()=>h(Icon_default,{clsPrefix:a,class:`${a}-base-suffix__arrow`},{default:()=>resolveSlot(r.default,()=>[h(ChevronDown_default,null)])})}):null})}}}),common_default6={paddingSingle:"0 26px 0 12px",paddingMultiple:"3px 26px 0 12px",clearSize:"16px",arrowSize:"16px"},self7=n=>{const{borderRadius:r,textColor2:a,textColorDisabled:o,inputColor:s,inputColorDisabled:l,primaryColor:u,primaryColorHover:f,warningColor:d,warningColorHover:v,errorColor:g,errorColorHover:y,borderColor:b,iconColor:_,iconColorDisabled:x,clearColor:C,clearColorHover:w,clearColorPressed:S,placeholderColor:D,placeholderColorDisabled:A,fontSizeTiny:T,fontSizeSmall:M,fontSizeMedium:E,fontSizeLarge:P,heightTiny:I,heightSmall:F,heightMedium:L,heightLarge:O}=n;return Object.assign(Object.assign({},common_default6),{fontSizeTiny:T,fontSizeSmall:M,fontSizeMedium:E,fontSizeLarge:P,heightTiny:I,heightSmall:F,heightMedium:L,heightLarge:O,borderRadius:r,textColor:a,textColorDisabled:o,placeholderColor:D,placeholderColorDisabled:A,color:s,colorDisabled:l,colorActive:s,border:`1px solid ${b}`,borderHover:`1px solid ${f}`,borderActive:`1px solid ${u}`,borderFocus:`1px solid ${f}`,boxShadowHover:"none",boxShadowActive:`0 0 0 2px ${changeColor(u,{alpha:.2})}`,boxShadowFocus:`0 0 0 2px ${changeColor(u,{alpha:.2})}`,caretColor:u,arrowColor:_,arrowColorDisabled:x,loadingColor:u,borderWarning:`1px solid ${d}`,borderHoverWarning:`1px solid ${v}`,borderActiveWarning:`1px solid ${d}`,borderFocusWarning:`1px solid ${v}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 0 2px ${changeColor(d,{alpha:.2})}`,boxShadowFocusWarning:`0 0 0 2px ${changeColor(d,{alpha:.2})}`,colorActiveWarning:s,caretColorWarning:d,borderError:`1px solid ${g}`,borderHoverError:`1px solid ${y}`,borderActiveError:`1px solid ${g}`,borderFocusError:`1px solid ${y}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 0 2px ${changeColor(g,{alpha:.2})}`,boxShadowFocusError:`0 0 0 2px ${changeColor(g,{alpha:.2})}`,colorActiveError:s,caretColorError:g,clearColor:C,clearColorHover:w,clearColorPressed:S})},internalSelectionLight=createTheme({name:"InternalSelection",common:light_default,peers:{Popover:light_default5},self:self7}),light_default7=internalSelectionLight,internalSelectionDark={name:"InternalSelection",common:dark_default,peers:{Popover:dark_default5},self(n){const{borderRadius:r,textColor2:a,textColorDisabled:o,inputColor:s,inputColorDisabled:l,primaryColor:u,primaryColorHover:f,warningColor:d,warningColorHover:v,errorColor:g,errorColorHover:y,iconColor:b,iconColorDisabled:_,clearColor:x,clearColorHover:C,clearColorPressed:w,placeholderColor:S,placeholderColorDisabled:D,fontSizeTiny:A,fontSizeSmall:T,fontSizeMedium:M,fontSizeLarge:E,heightTiny:P,heightSmall:I,heightMedium:F,heightLarge:L}=n;return Object.assign(Object.assign({},common_default6),{fontSizeTiny:A,fontSizeSmall:T,fontSizeMedium:M,fontSizeLarge:E,heightTiny:P,heightSmall:I,heightMedium:F,heightLarge:L,borderRadius:r,textColor:a,textColorDisabled:o,placeholderColor:S,placeholderColorDisabled:D,color:s,colorDisabled:l,colorActive:changeColor(u,{alpha:.1}),border:"1px solid #0000",borderHover:`1px solid ${f}`,borderActive:`1px solid ${u}`,borderFocus:`1px solid ${f}`,boxShadowHover:"none",boxShadowActive:`0 0 8px 0 ${changeColor(u,{alpha:.4})}`,boxShadowFocus:`0 0 8px 0 ${changeColor(u,{alpha:.4})}`,caretColor:u,arrowColor:b,arrowColorDisabled:_,loadingColor:u,borderWarning:`1px solid ${d}`,borderHoverWarning:`1px solid ${v}`,borderActiveWarning:`1px solid ${d}`,borderFocusWarning:`1px solid ${v}`,boxShadowHoverWarning:"none",boxShadowActiveWarning:`0 0 8px 0 ${changeColor(d,{alpha:.4})}`,boxShadowFocusWarning:`0 0 8px 0 ${changeColor(d,{alpha:.4})}`,colorActiveWarning:changeColor(d,{alpha:.1}),caretColorWarning:d,borderError:`1px solid ${g}`,borderHoverError:`1px solid ${y}`,borderActiveError:`1px solid ${g}`,borderFocusError:`1px solid ${y}`,boxShadowHoverError:"none",boxShadowActiveError:`0 0 8px 0 ${changeColor(g,{alpha:.4})}`,boxShadowFocusError:`0 0 8px 0 ${changeColor(g,{alpha:.4})}`,colorActiveError:changeColor(g,{alpha:.1}),caretColorError:g,clearColor:x,clearColorHover:C,clearColorPressed:w})}},dark_default7=internalSelectionDark,index_cssr_default12=c2([cB("base-selection",`
 position: relative;
 z-index: auto;
 box-shadow: none;
 width: 100%;
 max-width: 100%;
 display: inline-block;
 vertical-align: bottom;
 border-radius: var(--n-border-radius);
 min-height: var(--n-height);
 line-height: 1.5;
 font-size: var(--n-font-size);
 `,[cB("base-loading",`
 color: var(--n-loading-color);
 `),cB("base-selection-tags","min-height: var(--n-height);"),cE("border, state-border",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border: var(--n-border);
 border-radius: inherit;
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),cE("state-border",`
 z-index: 1;
 border-color: #0000;
 `),cB("base-suffix",`
 cursor: pointer;
 position: absolute;
 top: 50%;
 transform: translateY(-50%);
 right: 10px;
 `,[cE("arrow",`
 font-size: var(--n-arrow-size);
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 `)]),cB("base-selection-overlay",`
 display: flex;
 align-items: center;
 white-space: nowrap;
 pointer-events: none;
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 padding: var(--n-padding-single);
 transition: color .3s var(--n-bezier);
 `,[cE("wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 overflow: hidden;
 text-overflow: ellipsis;
 `)]),cB("base-selection-placeholder",`
 color: var(--n-placeholder-color);
 `),cB("base-selection-tags",`
 cursor: pointer;
 outline: none;
 box-sizing: border-box;
 position: relative;
 z-index: auto;
 display: flex;
 padding: var(--n-padding-multiple);
 flex-wrap: wrap;
 align-items: center;
 width: 100%;
 vertical-align: bottom;
 background-color: var(--n-color);
 border-radius: inherit;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),cB("base-selection-label",`
 height: var(--n-height);
 display: inline-flex;
 width: 100%;
 vertical-align: bottom;
 cursor: pointer;
 outline: none;
 z-index: auto;
 box-sizing: border-box;
 position: relative;
 transition:
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: inherit;
 background-color: var(--n-color);
 align-items: center;
 `,[cB("base-selection-input",`
 line-height: inherit;
 outline: none;
 cursor: pointer;
 box-sizing: border-box;
 border:none;
 width: 100%;
 padding: var(--n-padding-single);
 background-color: #0000;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 caret-color: var(--n-caret-color);
 `,[cE("content",`
 text-overflow: ellipsis;
 overflow: hidden;
 white-space: nowrap; 
 `)]),cE("render-label",`
 color: var(--n-text-color);
 `)]),cNotM("disabled",[c2("&:hover",[cE("state-border",`
 box-shadow: var(--n-box-shadow-hover);
 border: var(--n-border-hover);
 `)]),cM("focus",[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus);
 border: var(--n-border-focus);
 `)]),cM("active",[cE("state-border",`
 box-shadow: var(--n-box-shadow-active);
 border: var(--n-border-active);
 `),cB("base-selection-label","background-color: var(--n-color-active);"),cB("base-selection-tags","background-color: var(--n-color-active);")])]),cM("disabled","cursor: not-allowed;",[cE("arrow",`
 color: var(--n-arrow-color-disabled);
 `),cB("base-selection-label",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[cB("base-selection-input",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 `),cE("render-label",`
 color: var(--n-text-color-disabled);
 `)]),cB("base-selection-tags",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `),cB("base-selection-placeholder",`
 cursor: not-allowed;
 color: var(--n-placeholder-color-disabled);
 `)]),cB("base-selection-input-tag",`
 height: calc(var(--n-height) - 6px);
 line-height: calc(var(--n-height) - 6px);
 outline: none;
 display: none;
 position: relative;
 margin-bottom: 3px;
 max-width: 100%;
 vertical-align: bottom;
 `,[cE("input",`
 min-width: 1px;
 padding: 0;
 background-color: #0000;
 outline: none;
 border: none;
 max-width: 100%;
 overflow: hidden;
 width: 1em;
 line-height: inherit;
 cursor: pointer;
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 `),cE("mirror",`
 position: absolute;
 left: 0;
 top: 0;
 white-space: pre;
 visibility: hidden;
 user-select: none;
 opacity: 0;
 `)]),["warning","error"].map(n=>cM(`${n}-status`,[cE("state-border",`border: var(--n-border-${n});`),cNotM("disabled",[c2("&:hover",[cE("state-border",`
 box-shadow: var(--n-box-shadow-hover-${n});
 border: var(--n-border-hover-${n});
 `)]),cM("active",[cE("state-border",`
 box-shadow: var(--n-box-shadow-active-${n});
 border: var(--n-border-active-${n});
 `),cB("base-selection-label",`background-color: var(--n-color-active-${n});`),cB("base-selection-tags",`background-color: var(--n-color-active-${n});`)]),cM("focus",[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${n});
 border: var(--n-border-focus-${n});
 `)])])]))]),cB("base-selection-popover",`
 margin-bottom: -3px;
 display: flex;
 flex-wrap: wrap;
 `),cB("base-selection-tag-wrapper",`
 max-width: 100%;
 display: inline-flex;
 padding: 0 7px 3px 0;
 `,[c2("&:last-child","padding-right: 0;"),cB("tag",`
 font-size: 14px;
 max-width: 100%;
 `,[cE("content",`
 line-height: 1.25;
 text-overflow: ellipsis;
 overflow: hidden;
 `)])])]),Selection_default=defineComponent({name:"InternalSelection",props:Object.assign(Object.assign({},use_theme_default.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeyup:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,onResize:Function}),setup(n){const r=ref(null),a=ref(null),o=ref(null),s=ref(null),l=ref(null),u=ref(null),f=ref(null),d=ref(null),v=ref(null),g=ref(null),y=ref(!1),b=ref(!1),_=ref(!1),x=use_theme_default("InternalSelection","-internal-selection",index_cssr_default12,light_default7,n,toRef(n,"clsPrefix")),C=computed2(()=>n.clearable&&!n.disabled&&(_.value||n.active)),w=computed2(()=>n.selectedOption?n.renderTag?n.renderTag({option:n.selectedOption,handleClose:()=>{}}):n.renderLabel?n.renderLabel(n.selectedOption,!0):render2(n.selectedOption.label,n.selectedOption,!0):n.placeholder),S=computed2(()=>{const j=n.selectedOption;if(!!j)return j.label}),D=computed2(()=>n.multiple?!!(Array.isArray(n.selectedOptions)&&n.selectedOptions.length):n.selectedOption!==null);function A(){var j;const{value:K}=r;if(K){const{value:te}=a;te&&(te.style.width=`${K.offsetWidth}px`,n.maxTagCount!=="responsive"&&((j=v.value)===null||j===void 0||j.sync()))}}function T(){const{value:j}=g;j&&(j.style.display="none")}function M(){const{value:j}=g;j&&(j.style.display="inline-block")}watch(toRef(n,"active"),j=>{j||T()}),watch(toRef(n,"pattern"),()=>{n.multiple&&nextTick(A)});function E(j){const{onFocus:K}=n;K&&K(j)}function P(j){const{onBlur:K}=n;K&&K(j)}function I(j){const{onDeleteOption:K}=n;K&&K(j)}function F(j){const{onClear:K}=n;K&&K(j)}function L(j){const{onPatternInput:K}=n;K&&K(j)}function O(j){var K;(!j.relatedTarget||!((K=o.value)===null||K===void 0?void 0:K.contains(j.relatedTarget)))&&E(j)}function z(j){var K;((K=o.value)===null||K===void 0?void 0:K.contains(j.relatedTarget))||P(j)}function R(j){F(j)}function B(){_.value=!0}function N(){_.value=!1}function H(j){!n.active||!n.filterable||j.target!==a.value&&j.preventDefault()}function W(j){I(j)}function V(j){if(j.code==="Backspace"&&!G.value&&!n.pattern.length){const{selectedOptions:K}=n;(K==null?void 0:K.length)&&W(K[K.length-1])}}const G=ref(!1);let Y=null;function Q(j){const{value:K}=r;if(K){const te=j.target.value;K.textContent=te,A()}G.value?Y=j:L(j)}function q(){G.value=!0}function ne(){G.value=!1,L(Y),Y=null}function ve(j){var K;b.value=!0,(K=n.onPatternFocus)===null||K===void 0||K.call(n,j)}function fe(j){var K;b.value=!1,(K=n.onPatternBlur)===null||K===void 0||K.call(n,j)}function he(){var j,K;if(n.filterable)b.value=!1,(j=u.value)===null||j===void 0||j.blur(),(K=a.value)===null||K===void 0||K.blur();else if(n.multiple){const{value:te}=s;te==null||te.blur()}else{const{value:te}=l;te==null||te.blur()}}function pe(){var j,K,te;n.filterable?(b.value=!1,(j=u.value)===null||j===void 0||j.focus()):n.multiple?(K=s.value)===null||K===void 0||K.focus():(te=l.value)===null||te===void 0||te.focus()}function de(){const{value:j}=a;j&&(M(),j.focus())}function ue(){const{value:j}=a;j&&j.blur()}function be(j){const{value:K}=f;K&&K.setTextContent(`+${j}`)}function se(){const{value:j}=d;return j}function _e(){return a.value}let Me=null;function $(){Me!==null&&window.clearTimeout(Me)}function U(){n.disabled||n.active||($(),Me=window.setTimeout(()=>{y.value=!0},100))}function Z(){$()}function ee(j){j||($(),y.value=!1)}onMounted(()=>{watchEffect(()=>{const j=u.value;!j||(j.tabIndex=n.disabled||b.value?-1:0)})}),useOnResize(o,n.onResize);const{inlineThemeDisabled:re}=n,ie=computed2(()=>{const{size:j}=n,{common:{cubicBezierEaseInOut:K},self:{borderRadius:te,color:xe,placeholderColor:ye,textColor:Ce,paddingSingle:De,paddingMultiple:Ee,caretColor:Pe,colorDisabled:Fe,textColorDisabled:ae,placeholderColorDisabled:ge,colorActive:we,boxShadowFocus:J,boxShadowActive:ce,boxShadowHover:Se,border:Ae,borderFocus:me,borderHover:Ie,borderActive:Le,arrowColor:Ve,arrowColorDisabled:Oe,loadingColor:We,colorActiveWarning:qe,boxShadowFocusWarning:Xe,boxShadowActiveWarning:Ye,boxShadowHoverWarning:Ge,borderWarning:X,borderFocusWarning:le,borderHoverWarning:Te,borderActiveWarning:Re,colorActiveError:ke,boxShadowFocusError:Be,boxShadowActiveError:ze,boxShadowHoverError:Ne,borderError:He,borderFocusError:$e,borderHoverError:Ue,borderActiveError:je,clearColor:Ze,clearColorHover:Ke,clearColorPressed:Je,clearSize:Qe,arrowSize:et,[createKey("height",j)]:tt,[createKey("fontSize",j)]:nt}}=x.value;return{"--n-bezier":K,"--n-border":Ae,"--n-border-active":Le,"--n-border-focus":me,"--n-border-hover":Ie,"--n-border-radius":te,"--n-box-shadow-active":ce,"--n-box-shadow-focus":J,"--n-box-shadow-hover":Se,"--n-caret-color":Pe,"--n-color":xe,"--n-color-active":we,"--n-color-disabled":Fe,"--n-font-size":nt,"--n-height":tt,"--n-padding-single":De,"--n-padding-multiple":Ee,"--n-placeholder-color":ye,"--n-placeholder-color-disabled":ge,"--n-text-color":Ce,"--n-text-color-disabled":ae,"--n-arrow-color":Ve,"--n-arrow-color-disabled":Oe,"--n-loading-color":We,"--n-color-active-warning":qe,"--n-box-shadow-focus-warning":Xe,"--n-box-shadow-active-warning":Ye,"--n-box-shadow-hover-warning":Ge,"--n-border-warning":X,"--n-border-focus-warning":le,"--n-border-hover-warning":Te,"--n-border-active-warning":Re,"--n-color-active-error":ke,"--n-box-shadow-focus-error":Be,"--n-box-shadow-active-error":ze,"--n-box-shadow-hover-error":Ne,"--n-border-error":He,"--n-border-focus-error":$e,"--n-border-hover-error":Ue,"--n-border-active-error":je,"--n-clear-size":Qe,"--n-clear-color":Ze,"--n-clear-color-hover":Ke,"--n-clear-color-pressed":Je,"--n-arrow-size":et}}),oe=re?useThemeClass("internal-selection",computed2(()=>n.size[0]),ie,n):void 0;return{mergedTheme:x,mergedClearable:C,patternInputFocused:b,filterablePlaceholder:w,label:S,selected:D,showTagsPanel:y,isCompositing:G,counterRef:f,counterWrapperRef:d,patternInputMirrorRef:r,patternInputRef:a,selfRef:o,multipleElRef:s,singleElRef:l,patternInputWrapperRef:u,overflowRef:v,inputTagElRef:g,handleMouseDown:H,handleFocusin:O,handleClear:R,handleMouseEnter:B,handleMouseLeave:N,handleDeleteOption:W,handlePatternKeyDown:V,handlePatternInputInput:Q,handlePatternInputBlur:fe,handlePatternInputFocus:ve,handleMouseEnterCounter:U,handleMouseLeaveCounter:Z,handleFocusout:z,handleCompositionEnd:ne,handleCompositionStart:q,onPopoverUpdateShow:ee,focus:pe,focusInput:de,blur:he,blurInput:ue,updateCounter:be,getCounter:se,getTail:_e,renderLabel:n.renderLabel,cssVars:re?void 0:ie,themeClass:oe==null?void 0:oe.themeClass,onRender:oe==null?void 0:oe.onRender}},render(){const{status:n,multiple:r,size:a,disabled:o,filterable:s,maxTagCount:l,bordered:u,clsPrefix:f,onRender:d,renderTag:v,renderLabel:g}=this;d==null||d();const y=l==="responsive",b=typeof l=="number",_=y||b,x=h(Suffix_default,{clsPrefix:f,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var w,S;return(S=(w=this.$slots).arrow)===null||S===void 0?void 0:S.call(w)}});let C;if(r){const w=L=>h("div",{class:`${f}-base-selection-tag-wrapper`,key:L.value},v?v({option:L,handleClose:()=>this.handleDeleteOption(L)}):h(Tag_default,{size:a,closable:!L.disabled,disabled:o,internalStopClickPropagation:!0,onClose:()=>this.handleDeleteOption(L)},{default:()=>g?g(L,!0):render2(L.label,L,!0)})),S=(b?this.selectedOptions.slice(0,l):this.selectedOptions).map(w),D=s?h("div",{class:`${f}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:o,value:this.pattern,autofocus:this.autofocus,class:`${f}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),h("span",{ref:"patternInputMirrorRef",class:`${f}-base-selection-input-tag__mirror`},this.pattern)):null,A=y?()=>h("div",{class:`${f}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},h(Tag_default,{size:a,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:o})):void 0;let T;if(b){const L=this.selectedOptions.length-l;L>0&&(T=h("div",{class:`${f}-base-selection-tag-wrapper`,key:"__counter__"},h(Tag_default,{size:a,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:o},{default:()=>`+${L}`})))}const M=y?s?h(src_default2,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>S,counter:A,tail:()=>D}):h(src_default2,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:()=>S,counter:A}):b?S.concat(T):S,E=_?()=>h("div",{class:`${f}-base-selection-popover`},y?S:this.selectedOptions.map(w)):void 0,P=_?{show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover}:null,F=(this.selected?!1:this.active?!this.pattern&&!this.isCompositing:!0)?h("div",{class:`${f}-base-selection-placeholder ${f}-base-selection-overlay`},this.placeholder):null;if(s){const L=h("div",{ref:"patternInputWrapperRef",class:`${f}-base-selection-tags`},M,y?null:D,x);C=h(Fragment,null,_?h(Popover_default,Object.assign({},P),{trigger:()=>L,default:E}):L,F)}else{const L=h("div",{ref:"multipleElRef",class:`${f}-base-selection-tags`,tabindex:o?void 0:0},M,x);C=h(Fragment,null,_?h(Popover_default,Object.assign({},P),{trigger:()=>L,default:E}):L,F)}}else if(s){const w=this.pattern||this.isCompositing,S=this.active?!w:!this.selected,D=this.active?!1:this.selected;C=h("div",{ref:"patternInputWrapperRef",class:`${f}-base-selection-label`},h("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${f}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:o,disabled:o,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),D?h("div",{class:`${f}-base-selection-label__render-label ${f}-base-selection-overlay`,key:"input"},h("div",{class:`${f}-base-selection-overlay__wrapper`},v?v({option:this.selectedOption,handleClose:()=>{}}):g?g(this.selectedOption,!0):render2(this.label,this.selectedOption,!0))):null,S?h("div",{class:`${f}-base-selection-placeholder ${f}-base-selection-overlay`,key:"placeholder"},h("div",{class:`${f}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,x)}else C=h("div",{ref:"singleElRef",class:`${f}-base-selection-label`,tabindex:this.disabled?void 0:0},this.label!==void 0?h("div",{class:`${f}-base-selection-input`,title:getTitleAttribute(this.label),key:"input"},h("div",{class:`${f}-base-selection-input__content`},v?v({option:this.selectedOption,handleClose:()=>{}}):g?g(this.selectedOption,!0):render2(this.label,this.selectedOption,!0))):h("div",{class:`${f}-base-selection-placeholder ${f}-base-selection-overlay`,key:"placeholder"},this.placeholder),x);return h("div",{ref:"selfRef",class:[`${f}-base-selection`,this.themeClass,n&&`${f}-base-selection--${n}-status`,{[`${f}-base-selection--active`]:this.active,[`${f}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${f}-base-selection--disabled`]:this.disabled,[`${f}-base-selection--multiple`]:this.multiple,[`${f}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeyup:this.onKeyup,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},C,u?h("div",{class:`${f}-base-selection__border`}):null,u?h("div",{class:`${f}-base-selection__state-border`}):null)}}),{cubicBezierEaseInOut:cubicBezierEaseInOut3}=common_default;function fade_in_width_expand_cssr_default({duration:n=".2s",delay:r=".1s"}={}){return[c2("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),c2("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),c2("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${n} ${cubicBezierEaseInOut3},
 max-width ${n} ${cubicBezierEaseInOut3} ${r},
 margin-left ${n} ${cubicBezierEaseInOut3} ${r},
 margin-right ${n} ${cubicBezierEaseInOut3} ${r};
 `),c2("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${n} ${cubicBezierEaseInOut3} ${r},
 max-width ${n} ${cubicBezierEaseInOut3},
 margin-left ${n} ${cubicBezierEaseInOut3},
 margin-right ${n} ${cubicBezierEaseInOut3};
 `)]}var common_default7={iconMargin:"12px 8px 0 12px",iconMarginRtl:"12px 12px 0 8px",iconSize:"26px",closeSize:"16px",closeMargin:"14px 16px 0 0",closeMarginRtl:"14px 0 0 16px",padding:"15px"},alertDark={name:"Alert",common:dark_default,self(n){const{lineHeight:r,borderRadius:a,fontWeightStrong:o,dividerColor:s,inputColor:l,textColor1:u,textColor2:f,closeColor:d,closeColorHover:v,closeColorPressed:g,infoColorSuppl:y,successColorSuppl:b,warningColorSuppl:_,errorColorSuppl:x,fontSize:C}=n;return Object.assign(Object.assign({},common_default7),{fontSize:C,lineHeight:r,titleFontWeight:o,borderRadius:a,border:`1px solid ${s}`,color:l,titleTextColor:u,iconColor:f,contentTextColor:f,closeColor:d,closeColorHover:v,closeColorPressed:g,borderInfo:`1px solid ${changeColor(y,{alpha:.35})}`,colorInfo:changeColor(y,{alpha:.25}),titleTextColorInfo:u,iconColorInfo:y,contentTextColorInfo:f,closeColorInfo:d,closeColorHoverInfo:v,closeColorPressedInfo:g,borderSuccess:`1px solid ${changeColor(b,{alpha:.35})}`,colorSuccess:changeColor(b,{alpha:.25}),titleTextColorSuccess:u,iconColorSuccess:b,contentTextColorSuccess:f,closeColorSuccess:d,closeColorHoverSuccess:v,closeColorPressedSuccess:g,borderWarning:`1px solid ${changeColor(_,{alpha:.35})}`,colorWarning:changeColor(_,{alpha:.25}),titleTextColorWarning:u,iconColorWarning:_,contentTextColorWarning:f,closeColorWarning:d,closeColorHoverWarning:v,closeColorPressedWarning:g,borderError:`1px solid ${changeColor(x,{alpha:.35})}`,colorError:changeColor(x,{alpha:.25}),titleTextColorError:u,iconColorError:x,contentTextColorError:f,closeColorError:d,closeColorHoverError:v,closeColorPressedError:g})}},dark_default8=alertDark,common_default8={linkFontSize:"13px",linkPadding:"0 0 0 16px",railWidth:"4px"},self8=n=>{const{borderRadius:r,railColor:a,primaryColor:o,primaryColorHover:s,primaryColorPressed:l,textColor2:u}=n;return Object.assign(Object.assign({},common_default8),{borderRadius:r,railColor:a,railColorActive:o,linkColor:changeColor(o,{alpha:.15}),linkTextColor:u,linkTextColorHover:s,linkTextColorPressed:l,linkTextColorActive:o})},anchorDark={name:"Anchor",common:dark_default,self:self8},dark_default9=anchorDark;function getKey(n){return getIsGroup(n)?n.name||n.key||"key-required":n.value}function getIsGroup(n){return n.type==="group"}function getIgnored(n){return n.type==="ignored"}var tmOptions={getKey,getIsGroup,getIgnored};function patternMatched(n,r){try{return!!(1+r.toString().toLowerCase().indexOf(n.trim().toLowerCase()))}catch(a){return!1}}function filterOptions(n,r,a){if(!r)return n;function o(s){if(!Array.isArray(s))return[];const l=[];for(const u of s)if(getIsGroup(u)){const f=o(u.children);f.length&&l.push(Object.assign({},u,{children:f}))}else{if(getIgnored(u))continue;r(a,u)&&l.push(u)}return l}return o(n)}function createValOptMap(n){const r=new Map;return n.forEach(a=>{getIsGroup(a)?a.children.forEach(o=>{r.set(o.value,o)}):r.set(a.value,a)}),r}function defaultFilter(n,r){return r?typeof r.label=="string"?patternMatched(n,r.label):r.value!==void 0?patternMatched(n,String(r.value)):!1:!1}var common_default9={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},inputDark={name:"Input",common:dark_default,self(n){const{textColor2:r,textColor3:a,textColorDisabled:o,primaryColor:s,primaryColorHover:l,inputColor:u,inputColorDisabled:f,warningColor:d,warningColorHover:v,errorColor:g,errorColorHover:y,borderRadius:b,lineHeight:_,fontSizeTiny:x,fontSizeSmall:C,fontSizeMedium:w,fontSizeLarge:S,heightTiny:D,heightSmall:A,heightMedium:T,heightLarge:M,clearColor:E,clearColorHover:P,clearColorPressed:I,placeholderColor:F,placeholderColorDisabled:L,iconColor:O,iconColorDisabled:z,iconColorHover:R,iconColorPressed:B}=n;return Object.assign(Object.assign({},common_default9),{countTextColor:a,heightTiny:D,heightSmall:A,heightMedium:T,heightLarge:M,fontSizeTiny:x,fontSizeSmall:C,fontSizeMedium:w,fontSizeLarge:S,lineHeight:_,lineHeightTextarea:_,borderRadius:b,iconSize:"16px",groupLabelColor:u,textColor:r,textColorDisabled:o,textDecorationColor:r,groupLabelTextColor:r,caretColor:s,placeholderColor:F,placeholderColorDisabled:L,color:u,colorDisabled:f,colorFocus:changeColor(s,{alpha:.1}),groupLabelBorder:"1px solid #0000",border:"1px solid #0000",borderHover:`1px solid ${l}`,borderDisabled:"1px solid #0000",borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 8px 0 ${changeColor(s,{alpha:.3})}`,loadingColor:s,loadingColorWarning:d,borderWarning:`1px solid ${d}`,borderHoverWarning:`1px solid ${v}`,colorFocusWarning:changeColor(d,{alpha:.1}),borderFocusWarning:`1px solid ${v}`,boxShadowFocusWarning:`0 0 8px 0 ${changeColor(d,{alpha:.3})}`,caretColorWarning:d,loadingColorError:g,borderError:`1px solid ${g}`,borderHoverError:`1px solid ${y}`,colorFocusError:changeColor(g,{alpha:.1}),borderFocusError:`1px solid ${y}`,boxShadowFocusError:`0 0 8px 0 ${changeColor(g,{alpha:.3})}`,caretColorError:g,clearColor:E,clearColorHover:P,clearColorPressed:I,iconColor:O,iconColorDisabled:z,iconColorHover:R,iconColorPressed:B,suffixTextColor:r})}},dark_default10=inputDark,self9=n=>{const{textColor2:r,textColor3:a,textColorDisabled:o,primaryColor:s,primaryColorHover:l,inputColor:u,inputColorDisabled:f,borderColor:d,warningColor:v,warningColorHover:g,errorColor:y,errorColorHover:b,borderRadius:_,lineHeight:x,fontSizeTiny:C,fontSizeSmall:w,fontSizeMedium:S,fontSizeLarge:D,heightTiny:A,heightSmall:T,heightMedium:M,heightLarge:E,actionColor:P,clearColor:I,clearColorHover:F,clearColorPressed:L,placeholderColor:O,placeholderColorDisabled:z,iconColor:R,iconColorDisabled:B,iconColorHover:N,iconColorPressed:H}=n;return Object.assign(Object.assign({},common_default9),{countTextColor:a,heightTiny:A,heightSmall:T,heightMedium:M,heightLarge:E,fontSizeTiny:C,fontSizeSmall:w,fontSizeMedium:S,fontSizeLarge:D,lineHeight:x,lineHeightTextarea:x,borderRadius:_,iconSize:"16px",groupLabelColor:P,groupLabelTextColor:r,textColor:r,textColorDisabled:o,textDecorationColor:r,caretColor:s,placeholderColor:O,placeholderColorDisabled:z,color:u,colorDisabled:f,colorFocus:u,groupLabelBorder:`1px solid ${d}`,border:`1px solid ${d}`,borderHover:`1px solid ${l}`,borderDisabled:`1px solid ${d}`,borderFocus:`1px solid ${l}`,boxShadowFocus:`0 0 0 2px ${changeColor(s,{alpha:.2})}`,loadingColor:s,loadingColorWarning:v,borderWarning:`1px solid ${v}`,borderHoverWarning:`1px solid ${g}`,colorFocusWarning:u,borderFocusWarning:`1px solid ${g}`,boxShadowFocusWarning:`0 0 0 2px ${changeColor(v,{alpha:.2})}`,caretColorWarning:v,loadingColorError:y,borderError:`1px solid ${y}`,borderHoverError:`1px solid ${b}`,colorFocusError:u,borderFocusError:`1px solid ${b}`,boxShadowFocusError:`0 0 0 2px ${changeColor(y,{alpha:.2})}`,caretColorError:y,clearColor:I,clearColorHover:F,clearColorPressed:L,iconColor:R,iconColorDisabled:B,iconColorHover:N,iconColorPressed:H,suffixTextColor:r})},inputLight={name:"Input",common:light_default,self:self9},light_default8=inputLight,inputInjectionKey=createInjectionKey("n-input");function len(n){let r=0;for(const a of n)r++;return r}function isEmptyValue(n){return["",void 0,null].includes(n)}var WordCount_default=defineComponent({name:"InputWordCount",setup(n,{slots:r}){const{mergedValueRef:a,maxlengthRef:o,mergedClsPrefixRef:s}=inject(inputInjectionKey),l=computed2(()=>{const{value:u}=a;return u===null||Array.isArray(u)?0:len(u)});return()=>{const{value:u}=o,{value:f}=a;return h("span",{class:`${s.value}-input-word-count`},resolveSlotWithProps(r.default,{value:f===null||Array.isArray(f)?"":f},()=>[u===void 0?l.value:`${l.value} / ${u}`]))}}}),input_cssr_default=cB("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[cE("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),cE("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),cE("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[c2("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),c2("&::placeholder","color: #0000;"),c2("&:-webkit-autofill ~",[cE("placeholder","display: none;")])]),cM("round",[cNotM("textarea","border-radius: calc(var(--n-height) / 2);")]),cE("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[c2("span",`
 width: 100%;
 display: inline-block;
 `)]),cM("textarea",[cE("placeholder","overflow: visible;")]),cNotM("autosize","width: 100%;"),cM("autosize",[cE("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),cB("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),cE("input-mirror",`
 padding: 0;
 height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),cE("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[c2("+",[cE("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),cNotM("textarea",[cE("placeholder","white-space: nowrap;")]),cE("eye",`
 transition: color .3s var(--n-bezier);
 `),cM("textarea","width: 100%;",[cB("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),cM("resizable",[cB("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),cE("textarea",`
 position: static;
 `),cE("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 left: var(--n-padding-left);
 right: var(--n-padding-right);
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),cE("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),cM("pair",[cE("input-el, placeholder","text-align: center;"),cE("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `,[cB("icon",`
 color: var(--n-icon-color);
 `),cB("base-icon",`
 color: var(--n-icon-color);
 `)])]),cM("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[cE("border","border: var(--n-border-disabled);"),cE("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 `),cE("placeholder","color: var(--n-placeholder-color-disabled);"),cE("separator","color: var(--n-text-color-disabled);",[cB("icon",`
 color: var(--n-icon-color-disabled);
 `),cB("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),cE("suffix, prefix","color: var(--n-text-color-disabled);",[cB("icon",`
 color: var(--n-icon-color-disabled);
 `),cB("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),cNotM("disabled",[cE("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 color: var(--n-icon-color);
 cursor: pointer;
 `,[c2("&:hover",`
 color: var(--n-icon-color-hover);
 `),c2("&:active",`
 color: var(--n-icon-color-pressed);
 `),cB("icon",[c2("&:hover",`
 color: var(--n-icon-color-hover);
 `),c2("&:active",`
 color: var(--n-icon-color-pressed);
 `)])]),c2("&:hover",[cE("state-border","border: var(--n-border-hover);")]),cM("focus","background-color: var(--n-color-focus);",[cE("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),cE("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),cE("state-border",`
 border-color: #0000;
 z-index: 1;
 `),cE("prefix","margin-right: 4px;"),cE("suffix",`
 margin-left: 4px;
 `),cE("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[cB("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),cB("base-clear",`
 font-size: var(--n-icon-size);
 `,[cE("placeholder",[cB("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),c2(">",[cB("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),cB("base-icon",`
 font-size: var(--n-icon-size);
 `)]),cB("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(n=>cM(`${n}-status`,[cNotM("disabled",[cB("base-loading",`
 color: var(--n-loading-color-${n})
 `),cE("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${n});
 `),cE("state-border",`
 border: var(--n-border-${n});
 `),c2("&:hover",[cE("state-border",`
 border: var(--n-border-hover-${n});
 `)]),c2("&:focus",`
 background-color: var(--n-color-focus-${n});
 `,[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${n});
 border: var(--n-border-focus-${n});
 `)]),cM("focus",`
 background-color: var(--n-color-focus-${n});
 `,[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${n});
 border: var(--n-border-focus-${n});
 `)])])]))]),inputProps=Object.assign(Object.assign({},use_theme_default.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean}),Input_default=defineComponent({name:"Input",props:inputProps,setup(n){watchEffect(()=>{n.showPasswordToggle&&warnOnce("input",'`show-password-toggle` is deprecated, please use `showPasswordOn="click"` instead')});const{mergedClsPrefixRef:r,mergedBorderedRef:a,inlineThemeDisabled:o,mergedRtlRef:s}=useConfig(n),l=use_theme_default("Input","-input",input_cssr_default,light_default8,n,r),u=ref(null),f=ref(null),d=ref(null),v=ref(null),g=ref(null),y=ref(null),b=ref(null),{localeRef:_}=useLocale("Input"),x=ref(n.defaultValue),C=toRef(n,"value"),w=useMergedState(C,x),S=useFormItem(n),{mergedSizeRef:D,mergedDisabledRef:A,mergedStatusRef:T}=S,M=ref(!1),E=ref(!1),P=ref(!1),I=ref(!1);let F=null;const L=computed2(()=>{const{placeholder:X,pair:le}=n;return le?Array.isArray(X)?X:X===void 0?["",""]:[X,X]:X===void 0?[_.value.placeholder]:[X]}),O=computed2(()=>{const{value:X}=P,{value:le}=w,{value:Te}=L;return!X&&(isEmptyValue(le)||Array.isArray(le)&&isEmptyValue(le[0]))&&Te[0]}),z=computed2(()=>{const{value:X}=P,{value:le}=w,{value:Te}=L;return!X&&Te[1]&&(isEmptyValue(le)||Array.isArray(le)&&isEmptyValue(le[1]))}),R=use_memo_default(()=>n.internalForceFocus||M.value),B=use_memo_default(()=>{if(A.value||n.readonly||!n.clearable||!R.value&&!E.value)return!1;const{value:X}=w,{value:le}=R;return n.pair?!!(Array.isArray(X)&&(X[0]||X[1]))&&(E.value||le):!!X&&(E.value||le)}),N=computed2(()=>{const{showPasswordOn:X}=n;if(X)return X;if(n.showPasswordToggle)return"click"}),H=ref(!1),W=computed2(()=>{const{textDecoration:X}=n;return X?Array.isArray(X)?X.map(le=>({textDecoration:le})):[{textDecoration:X}]:["",""]}),V=ref(void 0),G=()=>{var X,le;if(n.type==="textarea"){const{autosize:Te}=n;if(Te&&(V.value=(le=(X=b.value)===null||X===void 0?void 0:X.$el)===null||le===void 0?void 0:le.offsetWidth),!f.value||typeof Te=="boolean")return;const{paddingTop:Re,paddingBottom:ke,lineHeight:Be}=window.getComputedStyle(f.value),ze=Number(Re.slice(0,-2)),Ne=Number(ke.slice(0,-2)),He=Number(Be.slice(0,-2)),{value:$e}=d;if(!$e)return;if(Te.minRows){const Ue=Math.max(Te.minRows,1),je=`${ze+Ne+He*Ue}px`;$e.style.minHeight=je}if(Te.maxRows){const Ue=`${ze+Ne+He*Te.maxRows}px`;$e.style.maxHeight=Ue}}},Y=computed2(()=>{const{maxlength:X}=n;return X===void 0?void 0:Number(X)});onMounted(()=>{const{value:X}=w;Array.isArray(X)||me(X)});const Q=getCurrentInstance().proxy;function q(X){const{onUpdateValue:le,"onUpdate:value":Te,onInput:Re}=n,{nTriggerFormInput:ke}=S;le&&call(le,X),Te&&call(Te,X),Re&&call(Re,X),x.value=X,ke()}function ne(X){const{onChange:le}=n,{nTriggerFormChange:Te}=S;le&&call(le,X),x.value=X,Te()}function ve(X){const{onBlur:le}=n,{nTriggerFormBlur:Te}=S;le&&call(le,X),Te()}function fe(X){const{onFocus:le}=n,{nTriggerFormFocus:Te}=S;le&&call(le,X),Te()}function he(X){const{onClear:le}=n;le&&call(le,X)}function pe(X){const{onInputBlur:le}=n;le&&call(le,X)}function de(X){const{onInputFocus:le}=n;le&&call(le,X)}function ue(){const{onDeactivate:X}=n;X&&call(X)}function be(){const{onActivate:X}=n;X&&call(X)}function se(X){const{onClick:le}=n;le&&call(le,X)}function _e(X){const{onWrapperFocus:le}=n;le&&call(le,X)}function Me(X){const{onWrapperBlur:le}=n;le&&call(le,X)}function $(){P.value=!0}function U(X){P.value=!1,X.target===y.value?Z(X,1):Z(X,0)}function Z(X,le=0,Te="input"){const Re=X.target.value;if(me(Re),n.type==="textarea"){const{value:Be}=b;Be&&Be.syncUnifiedContainer()}if(F=Re,P.value)return;const ke=Re;if(!n.pair)Te==="input"?q(ke):ne(ke);else{let{value:Be}=w;Array.isArray(Be)?Be=[...Be]:Be=["",""],Be[le]=ke,Te==="input"?q(Be):ne(Be)}Q.$forceUpdate()}function ee(X){pe(X),X.relatedTarget===u.value&&ue(),X.relatedTarget!==null&&(X.relatedTarget===g.value||X.relatedTarget===y.value||X.relatedTarget===f.value)||(I.value=!1),j(X,"blur")}function re(X){de(X),M.value=!0,I.value=!0,be(),j(X,"focus")}function ie(X){n.passivelyActivated&&(Me(X),j(X,"blur"))}function oe(X){n.passivelyActivated&&(M.value=!0,_e(X),j(X,"focus"))}function j(X,le){X.relatedTarget!==null&&(X.relatedTarget===g.value||X.relatedTarget===y.value||X.relatedTarget===f.value||X.relatedTarget===u.value)||(le==="focus"?(fe(X),M.value=!0):le==="blur"&&(ve(X),M.value=!1))}function K(X,le){Z(X,le,"change")}function te(X){se(X)}function xe(X){he(X),n.pair?(q(["",""]),ne(["",""])):(q(""),ne(""))}function ye(X){const{onMousedown:le}=n;le&&le(X);const{tagName:Te}=X.target;if(Te!=="INPUT"&&Te!=="TEXTAREA"){if(n.resizable){const{value:Re}=u;if(Re){const{left:ke,top:Be,width:ze,height:Ne}=Re.getBoundingClientRect(),He=14;if(ke+ze-He<X.clientX&&X.clientY<ke+ze&&Be+Ne-He<X.clientY&&X.clientY<Be+Ne)return}}X.preventDefault(),M.value||we()}}function Ce(){var X;E.value=!0,n.type==="textarea"&&((X=b.value)===null||X===void 0||X.handleMouseEnterWrapper())}function De(){var X;E.value=!1,n.type==="textarea"&&((X=b.value)===null||X===void 0||X.handleMouseLeaveWrapper())}function Ee(){A.value||N.value==="click"&&(H.value=!H.value)}function Pe(X){if(A.value)return;X.preventDefault();const le=Re=>{Re.preventDefault(),off("mouseup",document,le)};if(on("mouseup",document,le),N.value!=="mousedown")return;H.value=!0;const Te=()=>{H.value=!1,off("mouseup",document,Te)};on("mouseup",document,Te)}function Fe(X){var le;switch((le=n.onKeydown)===null||le===void 0||le.call(n,X),X.code){case"Escape":ge();break;case"Enter":case"NumpadEnter":ae(X);break}}function ae(X){var le,Te;if(n.passivelyActivated){const{value:Re}=I;if(Re){n.internalDeactivateOnEnter&&ge();return}X.preventDefault(),n.type==="textarea"?(le=f.value)===null||le===void 0||le.focus():(Te=g.value)===null||Te===void 0||Te.focus()}}function ge(){n.passivelyActivated&&(I.value=!1,nextTick(()=>{var X;(X=u.value)===null||X===void 0||X.focus()}))}function we(){var X,le,Te;A.value||(n.passivelyActivated?(X=u.value)===null||X===void 0||X.focus():((le=f.value)===null||le===void 0||le.focus(),(Te=g.value)===null||Te===void 0||Te.focus()))}function J(){var X;((X=u.value)===null||X===void 0?void 0:X.contains(document.activeElement))&&document.activeElement.blur()}function ce(){var X,le;(X=f.value)===null||X===void 0||X.select(),(le=g.value)===null||le===void 0||le.select()}function Se(){A.value||(f.value?f.value.focus():g.value&&g.value.focus())}function Ae(){const{value:X}=u;(X==null?void 0:X.contains(document.activeElement))&&X!==document.activeElement&&ge()}function me(X){const{type:le,pair:Te,autosize:Re}=n;if(!Te&&Re)if(le==="textarea"){const{value:ke}=d;ke&&(ke.textContent=(X!=null?X:"")+`\r
`)}else{const{value:ke}=v;ke&&(X?ke.textContent=X:ke.innerHTML="&nbsp;")}}function Ie(){G()}const Le=ref({top:"0"});function Ve(X){var le;const{scrollTop:Te}=X.target;Le.value.top=`${-Te}px`,(le=b.value)===null||le===void 0||le.syncUnifiedContainer()}let Oe=null;watchEffect(()=>{const{autosize:X,type:le}=n;X&&le==="textarea"?Oe=watch(w,Te=>{!Array.isArray(Te)&&Te!==F&&me(Te)}):Oe==null||Oe()});let We=null;watchEffect(()=>{n.type==="textarea"?We=watch(w,X=>{var le;!Array.isArray(X)&&X!==F&&((le=b.value)===null||le===void 0||le.syncUnifiedContainer())}):We==null||We()}),provide(inputInjectionKey,{mergedValueRef:w,maxlengthRef:Y,mergedClsPrefixRef:r});const qe={wrapperElRef:u,inputElRef:g,textareaElRef:f,isCompositing:P,focus:we,blur:J,select:ce,deactivate:Ae,activate:Se},Xe=useRtl("Input",s,r),Ye=computed2(()=>{const{value:X}=D,{common:{cubicBezierEaseInOut:le},self:{color:Te,borderRadius:Re,textColor:ke,caretColor:Be,caretColorError:ze,caretColorWarning:Ne,textDecorationColor:He,border:$e,borderDisabled:Ue,borderHover:je,borderFocus:Ze,placeholderColor:Ke,placeholderColorDisabled:Je,lineHeightTextarea:Qe,colorDisabled:et,colorFocus:tt,textColorDisabled:nt,boxShadowFocus:it,iconSize:at,colorFocusWarning:ot,boxShadowFocusWarning:st,borderWarning:ut,borderFocusWarning:ct,borderHoverWarning:ft,colorFocusError:dt,boxShadowFocusError:ht,borderError:vt,borderFocusError:pt,borderHoverError:gt,clearSize:mt,clearColor:yt,clearColorHover:bt,clearColorPressed:_t,iconColor:xt,iconColorDisabled:Ct,suffixTextColor:wt,countTextColor:St,iconColorHover:Dt,iconColorPressed:At,loadingColor:Tt,loadingColorError:Et,loadingColorWarning:Mt,[createKey("padding",X)]:Pt,[createKey("fontSize",X)]:It,[createKey("height",X)]:Ft}}=l.value,{left:Lt,right:Rt}=getMargin(Pt);return{"--n-bezier":le,"--n-count-text-color":St,"--n-color":Te,"--n-font-size":It,"--n-border-radius":Re,"--n-height":Ft,"--n-padding-left":Lt,"--n-padding-right":Rt,"--n-text-color":ke,"--n-caret-color":Be,"--n-text-decoration-color":He,"--n-border":$e,"--n-border-disabled":Ue,"--n-border-hover":je,"--n-border-focus":Ze,"--n-placeholder-color":Ke,"--n-placeholder-color-disabled":Je,"--n-icon-size":at,"--n-line-height-textarea":Qe,"--n-color-disabled":et,"--n-color-focus":tt,"--n-text-color-disabled":nt,"--n-box-shadow-focus":it,"--n-loading-color":Tt,"--n-caret-color-warning":Ne,"--n-color-focus-warning":ot,"--n-box-shadow-focus-warning":st,"--n-border-warning":ut,"--n-border-focus-warning":ct,"--n-border-hover-warning":ft,"--n-loading-color-warning":Mt,"--n-caret-color-error":ze,"--n-color-focus-error":dt,"--n-box-shadow-focus-error":ht,"--n-border-error":vt,"--n-border-focus-error":pt,"--n-border-hover-error":gt,"--n-loading-color-error":Et,"--n-clear-color":yt,"--n-clear-size":mt,"--n-clear-color-hover":bt,"--n-clear-color-pressed":_t,"--n-icon-color":xt,"--n-icon-color-hover":Dt,"--n-icon-color-pressed":At,"--n-icon-color-disabled":Ct,"--n-suffix-text-color":wt}}),Ge=o?useThemeClass("input",computed2(()=>{const{value:X}=D;return X[0]}),Ye,n):void 0;return Object.assign(Object.assign({},qe),{wrapperElRef:u,inputElRef:g,inputMirrorElRef:v,inputEl2Ref:y,textareaElRef:f,textareaMirrorElRef:d,textareaScrollbarInstRef:b,rtlEnabled:Xe,uncontrolledValue:x,mergedValue:w,passwordVisible:H,mergedPlaceholder:L,showPlaceholder1:O,showPlaceholder2:z,mergedFocus:R,isComposing:P,activated:I,showClearButton:B,mergedSize:D,mergedDisabled:A,textDecorationStyle:W,mergedClsPrefix:r,mergedBordered:a,mergedShowPasswordOn:N,placeholderStyle:Le,mergedStatus:T,textAreaScrollContainerWidth:V,handleTextAreaScroll:Ve,handleCompositionStart:$,handleCompositionEnd:U,handleInput:Z,handleInputBlur:ee,handleInputFocus:re,handleWrapperBlur:ie,handleWrapperFocus:oe,handleMouseEnter:Ce,handleMouseLeave:De,handleMouseDown:ye,handleChange:K,handleClick:te,handleClear:xe,handlePasswordToggleClick:Ee,handlePasswordToggleMousedown:Pe,handleWrapperKeyDown:Fe,handleTextAreaMirrorResize:Ie,getTextareaScrollContainer:()=>f.value,mergedTheme:l,cssVars:o?void 0:Ye,themeClass:Ge==null?void 0:Ge.themeClass,onRender:Ge==null?void 0:Ge.onRender})},render(){const{mergedClsPrefix:n,mergedStatus:r,themeClass:a,onRender:o,$slots:s}=this;return o==null||o(),h("div",{ref:"wrapperElRef",class:[`${n}-input`,a,r&&`${n}-input--${r}-status`,{[`${n}-input--rtl`]:this.rtlEnabled,[`${n}-input--disabled`]:this.mergedDisabled,[`${n}-input--textarea`]:this.type==="textarea",[`${n}-input--resizable`]:this.resizable&&!this.autosize,[`${n}-input--autosize`]:this.autosize,[`${n}-input--round`]:this.round&&this.type!=="textarea",[`${n}-input--pair`]:this.pair,[`${n}-input--focus`]:this.mergedFocus,[`${n}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeyDown},h("div",{class:`${n}-input-wrapper`},resolveWrappedSlot(s.prefix,l=>l&&h("div",{class:`${n}-input__prefix`},l)),this.type==="textarea"?h(ScrollBar_default,{ref:"textareaScrollbarInstRef",class:`${n}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0},{default:()=>{const{textAreaScrollContainerWidth:l}=this,u={width:this.autosize&&l&&`${l}px`};return h(Fragment,null,h("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:`${n}-input__textarea-el`,autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],u],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?h("div",{class:`${n}-input__placeholder`,style:[this.placeholderStyle,u],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?h(VResizeObserver_default,{onResize:this.handleTextAreaMirrorResize},{default:()=>h("div",{ref:"textareaMirrorElRef",class:`${n}-input__textarea-mirror`,key:"mirror"})}):null)}}):h("div",{class:`${n}-input__input`},h("input",Object.assign({type:this.type==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":this.type},this.inputProps,{ref:"inputElRef",class:`${n}-input__input-el`,style:this.textDecorationStyle[0],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:l=>this.handleInput(l,0),onChange:l=>this.handleChange(l,0)})),this.showPlaceholder1?h("div",{class:`${n}-input__placeholder`},h("span",null,this.mergedPlaceholder[0])):null,this.autosize?h("div",{class:`${n}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&resolveWrappedSlot(s.suffix,l=>l||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?h("div",{class:`${n}-input__suffix`},[resolveWrappedSlot(s.clear,u=>(this.clearable||u)&&h(Clear_default2,{clsPrefix:n,show:this.showClearButton,onClear:this.handleClear},{default:()=>u})),this.internalLoadingBeforeSuffix?null:l,this.loading!==void 0?h(Suffix_default,{clsPrefix:n,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?l:null,this.showCount&&this.type!=="textarea"?h(WordCount_default,null,{default:u=>{var f;return(f=s.count)===null||f===void 0?void 0:f.call(s,u)}}):null,this.mergedShowPasswordOn&&this.type==="password"?h(Icon_default,{clsPrefix:n,class:`${n}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},{default:()=>this.passwordVisible?resolveSlot(s["password-visible-icon"],()=>[h(Eye_default,null)]):resolveSlot(s["password-invisible-icon"],()=>[h(EyeOff_default,null)])}):null]):null)),this.pair?h("span",{class:`${n}-input__separator`},resolveSlot(s.separator,()=>[this.separator])):null,this.pair?h("div",{class:`${n}-input-wrapper`},h("div",{class:`${n}-input__input`},h("input",{ref:"inputEl2Ref",type:this.type,class:`${n}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,onInput:l=>this.handleInput(l,1),onChange:l=>this.handleChange(l,1)}),this.showPlaceholder2?h("div",{class:`${n}-input__placeholder`},h("span",null,this.mergedPlaceholder[1])):null),resolveWrappedSlot(s.suffix,l=>(this.clearable||l)&&h("div",{class:`${n}-input__suffix`},[this.clearable&&h(Clear_default2,{clsPrefix:n,show:this.showClearButton,onClear:this.handleClear},{default:()=>{var u;return(u=s.clear)===null||u===void 0?void 0:u.call(s)}}),l]))):null,this.mergedBordered?h("div",{class:`${n}-input__border`}):null,this.mergedBordered?h("div",{class:`${n}-input__state-border`}):null,this.showCount&&this.type==="textarea"?h(WordCount_default,null,{default:l=>{var u;return(u=s.count)===null||u===void 0?void 0:u.call(s,l)}}):null)}});function self10(n){const{boxShadow2:r}=n;return{menuBoxShadow:r}}var autoCompleteLight=createTheme({name:"AutoComplete",common:light_default,peers:{InternalSelectMenu:light_default4,Input:light_default8},self:self10}),autoCompleteDark={name:"AutoComplete",common:dark_default,peers:{InternalSelectMenu:dark_default4,Input:dark_default10},self:self10},dark_default11=autoCompleteDark,self11=n=>{const{borderRadius:r,avatarColor:a,cardColor:o,fontSize:s,heightTiny:l,heightSmall:u,heightMedium:f,heightLarge:d,heightHuge:v,modalColor:g,popoverColor:y}=n;return{borderRadius:r,fontSize:s,border:`2px solid ${o}`,heightTiny:l,heightSmall:u,heightMedium:f,heightLarge:d,heightHuge:v,color:composite(o,a),colorModal:composite(g,a),colorPopover:composite(y,a)}},avatarDark={name:"Avatar",common:dark_default,self:self11},dark_default12=avatarDark,avatarGroupDark={name:"AvatarGroup",common:dark_default,peers:{Avatar:dark_default12}},dark_default13=avatarGroupDark,common_default10={width:"44px",height:"44px",borderRadius:"22px",iconSize:"26px"},backTopDark={name:"BackTop",common:dark_default,self(n){const{popoverColor:r,textColor2:a,primaryColorHover:o,primaryColorPressed:s}=n;return Object.assign(Object.assign({},common_default10),{color:r,textColor:a,iconColor:a,iconColorHover:o,iconColorPressed:s,boxShadow:"0 2px 8px 0px rgba(0, 0, 0, .12)",boxShadowHover:"0 2px 12px 0px rgba(0, 0, 0, .18)",boxShadowPressed:"0 2px 12px 0px rgba(0, 0, 0, .18)"})}},dark_default14=backTopDark,badgeDark={name:"Badge",common:dark_default,self(n){const{errorColorSuppl:r,infoColorSuppl:a,successColorSuppl:o,warningColorSuppl:s,fontFamily:l}=n;return{color:r,colorInfo:a,colorSuccess:o,colorError:r,colorWarning:s,fontSize:"12px",fontFamily:l}}},dark_default15=badgeDark,common_default11={fontWeightActive:"400"},self12=n=>{const{fontSize:r,textColor3:a,primaryColorHover:o,primaryColorPressed:s,textColor2:l}=n;return Object.assign(Object.assign({},common_default11),{fontSize:r,itemTextColor:a,itemTextColorHover:o,itemTextColorPressed:s,itemTextColorActive:l,separatorColor:a})},breadcrumbDark={name:"Breadcrumb",common:dark_default,self:self12},dark_default16=breadcrumbDark;function createHoverColor(n){return composite(n,[255,255,255,.16])}function createPressedColor(n){return composite(n,[0,0,0,.12])}var common_default12={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},self13=n=>{const{heightTiny:r,heightSmall:a,heightMedium:o,heightLarge:s,borderRadius:l,fontSizeTiny:u,fontSizeSmall:f,fontSizeMedium:d,fontSizeLarge:v,opacityDisabled:g,textColor2:y,textColor3:b,primaryColorHover:_,primaryColorPressed:x,borderColor:C,primaryColor:w,baseColor:S,infoColor:D,infoColorHover:A,infoColorPressed:T,successColor:M,successColorHover:E,successColorPressed:P,warningColor:I,warningColorHover:F,warningColorPressed:L,errorColor:O,errorColorHover:z,errorColorPressed:R,fontWeight:B,buttonColor2:N,buttonColor2Hover:H,buttonColor2Pressed:W,fontWeightStrong:V}=n;return Object.assign(Object.assign({},common_default12),{heightTiny:r,heightSmall:a,heightMedium:o,heightLarge:s,borderRadiusTiny:l,borderRadiusSmall:l,borderRadiusMedium:l,borderRadiusLarge:l,fontSizeTiny:u,fontSizeSmall:f,fontSizeMedium:d,fontSizeLarge:v,opacityDisabled:g,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:N,colorSecondaryHover:H,colorSecondaryPressed:W,colorTertiary:N,colorTertiaryHover:H,colorTertiaryPressed:W,colorQuaternary:"#0000",colorQuaternaryHover:H,colorQuaternaryPressed:W,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:y,textColorTertiary:b,textColorHover:_,textColorPressed:x,textColorFocus:_,textColorDisabled:y,textColorText:y,textColorTextHover:_,textColorTextPressed:x,textColorTextFocus:_,textColorTextDisabled:y,textColorGhost:y,textColorGhostHover:_,textColorGhostPressed:x,textColorGhostFocus:_,textColorGhostDisabled:y,border:`1px solid ${C}`,borderHover:`1px solid ${_}`,borderPressed:`1px solid ${x}`,borderFocus:`1px solid ${_}`,borderDisabled:`1px solid ${C}`,rippleColor:w,colorPrimary:w,colorHoverPrimary:_,colorPressedPrimary:x,colorFocusPrimary:_,colorDisabledPrimary:w,textColorPrimary:S,textColorHoverPrimary:S,textColorPressedPrimary:S,textColorFocusPrimary:S,textColorDisabledPrimary:S,textColorTextPrimary:w,textColorTextHoverPrimary:_,textColorTextPressedPrimary:x,textColorTextFocusPrimary:_,textColorTextDisabledPrimary:y,textColorGhostPrimary:w,textColorGhostHoverPrimary:_,textColorGhostPressedPrimary:x,textColorGhostFocusPrimary:_,textColorGhostDisabledPrimary:w,borderPrimary:`1px solid ${w}`,borderHoverPrimary:`1px solid ${_}`,borderPressedPrimary:`1px solid ${x}`,borderFocusPrimary:`1px solid ${_}`,borderDisabledPrimary:`1px solid ${w}`,rippleColorPrimary:w,colorInfo:D,colorHoverInfo:A,colorPressedInfo:T,colorFocusInfo:A,colorDisabledInfo:D,textColorInfo:S,textColorHoverInfo:S,textColorPressedInfo:S,textColorFocusInfo:S,textColorDisabledInfo:S,textColorTextInfo:D,textColorTextHoverInfo:A,textColorTextPressedInfo:T,textColorTextFocusInfo:A,textColorTextDisabledInfo:y,textColorGhostInfo:D,textColorGhostHoverInfo:A,textColorGhostPressedInfo:T,textColorGhostFocusInfo:A,textColorGhostDisabledInfo:D,borderInfo:`1px solid ${D}`,borderHoverInfo:`1px solid ${A}`,borderPressedInfo:`1px solid ${T}`,borderFocusInfo:`1px solid ${A}`,borderDisabledInfo:`1px solid ${D}`,rippleColorInfo:D,colorSuccess:M,colorHoverSuccess:E,colorPressedSuccess:P,colorFocusSuccess:E,colorDisabledSuccess:M,textColorSuccess:S,textColorHoverSuccess:S,textColorPressedSuccess:S,textColorFocusSuccess:S,textColorDisabledSuccess:S,textColorTextSuccess:M,textColorTextHoverSuccess:E,textColorTextPressedSuccess:P,textColorTextFocusSuccess:E,textColorTextDisabledSuccess:y,textColorGhostSuccess:M,textColorGhostHoverSuccess:E,textColorGhostPressedSuccess:P,textColorGhostFocusSuccess:E,textColorGhostDisabledSuccess:M,borderSuccess:`1px solid ${M}`,borderHoverSuccess:`1px solid ${E}`,borderPressedSuccess:`1px solid ${P}`,borderFocusSuccess:`1px solid ${E}`,borderDisabledSuccess:`1px solid ${M}`,rippleColorSuccess:M,colorWarning:I,colorHoverWarning:F,colorPressedWarning:L,colorFocusWarning:F,colorDisabledWarning:I,textColorWarning:S,textColorHoverWarning:S,textColorPressedWarning:S,textColorFocusWarning:S,textColorDisabledWarning:S,textColorTextWarning:I,textColorTextHoverWarning:F,textColorTextPressedWarning:L,textColorTextFocusWarning:F,textColorTextDisabledWarning:y,textColorGhostWarning:I,textColorGhostHoverWarning:F,textColorGhostPressedWarning:L,textColorGhostFocusWarning:F,textColorGhostDisabledWarning:I,borderWarning:`1px solid ${I}`,borderHoverWarning:`1px solid ${F}`,borderPressedWarning:`1px solid ${L}`,borderFocusWarning:`1px solid ${F}`,borderDisabledWarning:`1px solid ${I}`,rippleColorWarning:I,colorError:O,colorHoverError:z,colorPressedError:R,colorFocusError:z,colorDisabledError:O,textColorError:S,textColorHoverError:S,textColorPressedError:S,textColorFocusError:S,textColorDisabledError:S,textColorTextError:O,textColorTextHoverError:z,textColorTextPressedError:R,textColorTextFocusError:z,textColorTextDisabledError:y,textColorGhostError:O,textColorGhostHoverError:z,textColorGhostPressedError:R,textColorGhostFocusError:z,textColorGhostDisabledError:O,borderError:`1px solid ${O}`,borderHoverError:`1px solid ${z}`,borderPressedError:`1px solid ${R}`,borderFocusError:`1px solid ${z}`,borderDisabledError:`1px solid ${O}`,rippleColorError:O,waveOpacity:"0.6",fontWeight:B,fontWeightStrong:V})},buttonLight={name:"Button",common:light_default,self:self13},light_default9=buttonLight,buttonDark={name:"Button",common:dark_default,self(n){const r=self13(n);return r.waveOpacity="0.8",r.colorOpacitySecondary="0.16",r.colorOpacitySecondaryHover="0.2",r.colorOpacitySecondaryPressed="0.12",r}},dark_default17=buttonDark,buttonGroupInjectionKey=createInjectionKey("n-button-group"),index_cssr_default13=c2([cB("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[cM("color",[cE("border",{borderColor:"var(--n-border-color)"}),cM("disabled",[cE("border",{borderColor:"var(--n-border-color-disabled)"})]),cNotM("disabled",[c2("&:focus",[cE("state-border",{borderColor:"var(--n-border-color-focus)"})]),c2("&:hover",[cE("state-border",{borderColor:"var(--n-border-color-hover)"})]),c2("&:active",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})]),cM("pressed",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),cM("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[cE("border",{border:"var(--n-border-disabled)"})]),cNotM("disabled",[c2("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[cE("state-border",{border:"var(--n-border-focus)"})]),c2("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[cE("state-border",{border:"var(--n-border-hover)"})]),c2("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})]),cM("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})])]),cM("loading",{"pointer-events":"none"}),cB("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[cM("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),typeof window!="undefined"&&"MozBoxSizing"in document.createElement("div").style?c2("&::moz-focus-inner",{border:0}):null,cE("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),cE("border",{border:"var(--n-border)"}),cE("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),cE("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[cB("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 `,[icon_switch_cssr_default({top:"50%",originalTransform:"translateY(-50%)"})]),fade_in_width_expand_cssr_default()]),cE("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 `,[c2("~",[cE("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),cM("block",`
 display: flex;
 width: 100%;
 `),cM("dashed",[cE("border, state-border",{borderStyle:"dashed !important"})]),cM("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),c2("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),c2("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),buttonProps=Object.assign(Object.assign({},use_theme_default.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],internalAutoFocus:Boolean}),Button=defineComponent({name:"Button",props:buttonProps,setup(n){watchEffect(()=>{const{dashed:T,ghost:M,text:E,secondary:P,tertiary:I,quaternary:F}=n;(T||M||E)&&(P||I||F)&&warnOnce("button","`dashed`, `ghost` and `text` props can't be used along with `secondary`, `tertiary` and `quaterary` props.")});const r=ref(null),a=ref(null),o=ref(!1);onMounted(()=>{const{value:T}=r;T&&!n.disabled&&n.focusable&&n.internalAutoFocus&&T.focus({preventScroll:!0})});const s=use_memo_default(()=>!n.quaternary&&!n.tertiary&&!n.secondary&&!n.text&&(!n.color||n.ghost||n.dashed)&&n.bordered),l=inject(buttonGroupInjectionKey,{}),{mergedSizeRef:u}=useFormItem({},{defaultSize:"medium",mergedSize:T=>{const{size:M}=n;if(M)return M;const{size:E}=l;if(E)return E;const{mergedSize:P}=T||{};return P?P.value:"medium"}}),f=computed2(()=>n.focusable&&!n.disabled),d=T=>{var M;T.preventDefault(),!n.disabled&&f.value&&((M=r.value)===null||M===void 0||M.focus({preventScroll:!0}))},v=T=>{var M;if(!n.disabled&&!n.loading){const{onClick:E}=n;E&&call(E,T),n.text||(M=a.value)===null||M===void 0||M.play()}},g=T=>{switch(T.code){case"Enter":case"NumpadEnter":if(!n.keyboard)return;o.value=!1}},y=T=>{switch(T.code){case"Enter":case"NumpadEnter":if(!n.keyboard||n.loading){T.preventDefault();return}o.value=!0}},b=()=>{o.value=!1},{inlineThemeDisabled:_,mergedClsPrefixRef:x,mergedRtlRef:C}=useConfig(n),w=use_theme_default("Button","-button",index_cssr_default13,light_default9,n,x),S=useRtl("Button",C,x),D=computed2(()=>{const T=w.value,{common:{cubicBezierEaseInOut:M,cubicBezierEaseOut:E},self:P}=T,{rippleDuration:I,opacityDisabled:F,fontWeight:L,fontWeightStrong:O}=P,z=u.value,{dashed:R,type:B,ghost:N,text:H,color:W,round:V,circle:G,textColor:Y,secondary:Q,tertiary:q,quaternary:ne,strong:ve}=n,fe={"font-weight":ve?O:L};let he={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const pe=B==="tertiary",de=B==="default",ue=pe?"default":B;if(H){const oe=Y||W,j=oe||P[createKey("textColorText",ue)];he={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":j,"--n-text-color-hover":oe?createHoverColor(oe):P[createKey("textColorTextHover",ue)],"--n-text-color-pressed":oe?createPressedColor(oe):P[createKey("textColorTextPressed",ue)],"--n-text-color-focus":oe?createHoverColor(oe):P[createKey("textColorTextHover",ue)],"--n-text-color-disabled":oe||P[createKey("textColorTextDisabled",ue)]}}else if(N||R){const oe=Y||W;he={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":W||P[createKey("rippleColor",ue)],"--n-text-color":oe||P[createKey("textColorGhost",ue)],"--n-text-color-hover":oe?createHoverColor(oe):P[createKey("textColorGhostHover",ue)],"--n-text-color-pressed":oe?createPressedColor(oe):P[createKey("textColorGhostPressed",ue)],"--n-text-color-focus":oe?createHoverColor(oe):P[createKey("textColorGhostHover",ue)],"--n-text-color-disabled":oe||P[createKey("textColorGhostDisabled",ue)]}}else if(Q){const oe=de?P.textColor:pe?P.textColorTertiary:P[createKey("color",ue)],j=W||oe,K=B!=="default"&&B!=="tertiary";he={"--n-color":K?changeColor(j,{alpha:Number(P.colorOpacitySecondary)}):P.colorSecondary,"--n-color-hover":K?changeColor(j,{alpha:Number(P.colorOpacitySecondaryHover)}):P.colorSecondaryHover,"--n-color-pressed":K?changeColor(j,{alpha:Number(P.colorOpacitySecondaryPressed)}):P.colorSecondaryPressed,"--n-color-focus":K?changeColor(j,{alpha:Number(P.colorOpacitySecondaryHover)}):P.colorSecondaryHover,"--n-color-disabled":P.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":j,"--n-text-color-hover":j,"--n-text-color-pressed":j,"--n-text-color-focus":j,"--n-text-color-disabled":j}}else if(q||ne){const oe=de?P.textColor:pe?P.textColorTertiary:P[createKey("color",ue)],j=W||oe;q?(he["--n-color"]=P.colorTertiary,he["--n-color-hover"]=P.colorTertiaryHover,he["--n-color-pressed"]=P.colorTertiaryPressed,he["--n-color-focus"]=P.colorSecondaryHover,he["--n-color-disabled"]=P.colorTertiary):(he["--n-color"]=P.colorQuaternary,he["--n-color-hover"]=P.colorQuaternaryHover,he["--n-color-pressed"]=P.colorQuaternaryPressed,he["--n-color-focus"]=P.colorQuaternaryHover,he["--n-color-disabled"]=P.colorQuaternary),he["--n-ripple-color"]="#0000",he["--n-text-color"]=j,he["--n-text-color-hover"]=j,he["--n-text-color-pressed"]=j,he["--n-text-color-focus"]=j,he["--n-text-color-disabled"]=j}else he={"--n-color":W||P[createKey("color",ue)],"--n-color-hover":W?createHoverColor(W):P[createKey("colorHover",ue)],"--n-color-pressed":W?createPressedColor(W):P[createKey("colorPressed",ue)],"--n-color-focus":W?createHoverColor(W):P[createKey("colorFocus",ue)],"--n-color-disabled":W||P[createKey("colorDisabled",ue)],"--n-ripple-color":W||P[createKey("rippleColor",ue)],"--n-text-color":Y||(W?P.textColorPrimary:pe?P.textColorTertiary:P[createKey("textColor",ue)]),"--n-text-color-hover":Y||(W?P.textColorHoverPrimary:P[createKey("textColorHover",ue)]),"--n-text-color-pressed":Y||(W?P.textColorPressedPrimary:P[createKey("textColorPressed",ue)]),"--n-text-color-focus":Y||(W?P.textColorFocusPrimary:P[createKey("textColorFocus",ue)]),"--n-text-color-disabled":Y||(W?P.textColorDisabledPrimary:P[createKey("textColorDisabled",ue)])};let be={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};H?be={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:be={"--n-border":P[createKey("border",ue)],"--n-border-hover":P[createKey("borderHover",ue)],"--n-border-pressed":P[createKey("borderPressed",ue)],"--n-border-focus":P[createKey("borderFocus",ue)],"--n-border-disabled":P[createKey("borderDisabled",ue)]};const{[createKey("height",z)]:se,[createKey("fontSize",z)]:_e,[createKey("padding",z)]:Me,[createKey("paddingRound",z)]:$,[createKey("iconSize",z)]:U,[createKey("borderRadius",z)]:Z,[createKey("iconMargin",z)]:ee,waveOpacity:re}=P,ie={"--n-width":G&&!H?se:"initial","--n-height":H?"initial":se,"--n-font-size":_e,"--n-padding":G||H?"initial":V?$:Me,"--n-icon-size":U,"--n-icon-margin":ee,"--n-border-radius":H?"initial":G||V?se:Z};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":M,"--n-bezier-ease-out":E,"--n-ripple-duration":I,"--n-opacity-disabled":F,"--n-wave-opacity":re},fe),he),be),ie)}),A=_?useThemeClass("button",computed2(()=>{let T="";const{dashed:M,type:E,ghost:P,text:I,color:F,round:L,circle:O,textColor:z,secondary:R,tertiary:B,quaternary:N,strong:H}=n;M&&(T+="a"),P&&(T+="b"),I&&(T+="c"),L&&(T+="d"),O&&(T+="e"),R&&(T+="f"),B&&(T+="g"),N&&(T+="h"),H&&(T+="i"),F&&(T+="j"+color2Class(F)),z&&(T+="k"+color2Class(z));const{value:W}=u;return T+="l"+W[0],T+="m"+E[0],T}),D,n):void 0;return{selfElRef:r,waveElRef:a,mergedClsPrefix:x,mergedFocusable:f,mergedSize:u,showBorder:s,enterPressed:o,rtlEnabled:S,handleMousedown:d,handleKeydown:y,handleBlur:b,handleKeyup:g,handleClick:v,customColorCssVars:computed2(()=>{const{color:T}=n;if(!T)return null;const M=createHoverColor(T);return{"--n-border-color":T,"--n-border-color-hover":M,"--n-border-color-pressed":createPressedColor(T),"--n-border-color-focus":M,"--n-border-color-disabled":T}}),cssVars:_?void 0:D,themeClass:A==null?void 0:A.themeClass,onRender:A==null?void 0:A.onRender}},render(){const{mergedClsPrefix:n,tag:r,onRender:a}=this;a==null||a();const o=resolveWrappedSlot(this.$slots.default,s=>s&&h("span",{class:`${n}-button__content`},s));return h(r,{ref:"selfElRef",class:[this.themeClass,`${n}-button`,`${n}-button--${this.type}-type`,`${n}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${n}-button--rtl`,this.disabled&&`${n}-button--disabled`,this.block&&`${n}-button--block`,this.enterPressed&&`${n}-button--pressed`,!this.text&&this.dashed&&`${n}-button--dashed`,this.color&&`${n}-button--color`,this.secondary&&`${n}-button--secondary`,this.loading&&`${n}-button--loading`,this.ghost&&`${n}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&o,h(FadeInExpandTransition_default,{width:!0},{default:()=>resolveWrappedSlot(this.$slots.icon,s=>(this.loading||s)&&h("span",{class:`${n}-button__icon`,style:{margin:isSlotEmpty(this.$slots.default)?"0":""}},h(IconSwitchTransition_default,null,{default:()=>this.loading?h(Loading_default,{clsPrefix:n,key:"loading",class:`${n}-icon-slot`,strokeWidth:20}):h("div",{key:"icon",class:`${n}-icon-slot`,role:"none"},s)})))}),this.iconPlacement==="left"&&o,this.text?null:h(Wave_default,{ref:"waveElRef",clsPrefix:n}),this.showBorder?h("div",{"aria-hidden":!0,class:`${n}-button__border`,style:this.customColorCssVars}):null,this.showBorder?h("div",{"aria-hidden":!0,class:`${n}-button__state-border`,style:this.customColorCssVars}):null)}}),Button_default=Button,zero="0!important",n1="-1px!important";function createLeftBorderStyle(n){return cM(n+"-type",[c2("& +",[cB("button",{},[cM(n+"-type",[cE("border",{borderLeftWidth:zero}),cE("state-border",{left:n1})])])])])}function createTopBorderStyle(n){return cM(n+"-type",[c2("& +",[cB("button",[cM(n+"-type",[cE("border",{borderTopWidth:zero}),cE("state-border",{top:n1})])])])])}var index_cssr_default14=cB("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[cNotM("vertical",{flexDirection:"row"},[cNotM("rtl",[cB("button",[c2("&:first-child:not(:last-child)",`
 margin-right: ${zero};
 border-top-right-radius: ${zero};
 border-bottom-right-radius: ${zero};
 `),c2("&:last-child:not(:first-child)",`
 margin-left: ${zero};
 border-top-left-radius: ${zero};
 border-bottom-left-radius: ${zero};
 `),c2("&:not(:first-child):not(:last-child)",`
 margin-left: ${zero};
 margin-right: ${zero};
 border-radius: ${zero};
 `),createLeftBorderStyle("default"),cM("ghost",[createLeftBorderStyle("primary"),createLeftBorderStyle("info"),createLeftBorderStyle("success"),createLeftBorderStyle("warning"),createLeftBorderStyle("error")])])])]),cM("vertical",{flexDirection:"column"},[cB("button",[c2("&:first-child:not(:last-child)",`
 margin-bottom: ${zero};
 margin-left: ${zero};
 margin-right: ${zero};
 border-bottom-left-radius: ${zero};
 border-bottom-right-radius: ${zero};
 `),c2("&:last-child:not(:first-child)",`
 margin-top: ${zero};
 margin-left: ${zero};
 margin-right: ${zero};
 border-top-left-radius: ${zero};
 border-top-right-radius: ${zero};
 `),c2("&:not(:first-child):not(:last-child)",`
 margin: ${zero};
 border-radius: ${zero};
 `),createTopBorderStyle("default"),cM("ghost",[createTopBorderStyle("primary"),createTopBorderStyle("info"),createTopBorderStyle("success"),createTopBorderStyle("warning"),createTopBorderStyle("error")])])])]),buttonGroupProps={size:{type:String,default:void 0},vertical:Boolean},ButtonGroup_default=defineComponent({name:"ButtonGroup",props:buttonGroupProps,setup(n){const{mergedClsPrefixRef:r,mergedRtlRef:a}=useConfig(n);return useStyle("-button-group",index_cssr_default14,r),provide(buttonGroupInjectionKey,n),{rtlEnabled:useRtl("ButtonGroup",a,r),mergedClsPrefix:r}},render(){const{mergedClsPrefix:n}=this;return h("div",{class:[`${n}-button-group`,this.rtlEnabled&&`${n}-button-group--rtl`,this.vertical&&`${n}-button-group--vertical`],role:"group"},this.$slots)}}),common_default13={titleFontSize:"22px"},self14=n=>{const{borderRadius:r,fontSize:a,lineHeight:o,textColor2:s,textColor1:l,textColorDisabled:u,dividerColor:f,fontWeightStrong:d,primaryColor:v,baseColor:g,hoverColor:y,cardColor:b,modalColor:_,popoverColor:x}=n;return Object.assign(Object.assign({},common_default13),{borderRadius:r,borderColor:composite(b,f),borderColorModal:composite(_,f),borderColorPopover:composite(x,f),textColor:s,titleFontWeight:d,titleTextColor:l,dayTextColor:u,fontSize:a,lineHeight:o,dateColorCurrent:v,dateTextColorCurrent:g,cellColorHover:composite(b,y),cellColorHoverModal:composite(_,y),cellColorHoverPopover:composite(x,y),cellColor:b,cellColorModal:_,cellColorPopover:x,barColor:v})},calendarLight=createTheme({name:"Calendar",common:light_default,peers:{Button:light_default9},self:self14}),calendarDark={name:"Calendar",common:dark_default,peers:{Button:dark_default17},self:self14},dark_default18=calendarDark,self15=n=>{const{fontSize:r,boxShadow2:a,popoverColor:o,textColor2:s,borderRadius:l,borderColor:u,heightSmall:f,heightMedium:d,heightLarge:v,fontSizeSmall:g,fontSizeMedium:y,fontSizeLarge:b,dividerColor:_}=n;return{panelFontSize:r,boxShadow:a,color:o,textColor:s,borderRadius:l,border:`1px solid ${u}`,heightSmall:f,heightMedium:d,heightLarge:v,fontSizeSmall:g,fontSizeMedium:y,fontSizeLarge:b,dividerColor:_}},colorPickerLight=createTheme({name:"ColorPicker",common:light_default,peers:{Input:light_default8,Button:light_default9},self:self15}),colorPickerDark={name:"ColorPicker",common:dark_default,peers:{Input:dark_default10,Button:dark_default17},self:self15},dark_default19=colorPickerDark,common_default14={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeSize:"18px"},self16=n=>{const{primaryColor:r,borderRadius:a,lineHeight:o,fontSize:s,cardColor:l,textColor2:u,textColor1:f,dividerColor:d,fontWeightStrong:v,closeColor:g,closeColorHover:y,closeColorPressed:b,modalColor:_,boxShadow1:x,popoverColor:C,actionColor:w}=n;return Object.assign(Object.assign({},common_default14),{lineHeight:o,color:l,colorModal:_,colorPopover:C,colorTarget:r,colorEmbedded:w,textColor:u,titleTextColor:f,borderColor:d,actionColor:w,titleFontWeight:v,closeColor:g,closeColorHover:y,closeColorPressed:b,fontSizeSmall:s,fontSizeMedium:s,fontSizeLarge:s,fontSizeHuge:s,boxShadow:x,borderRadius:a})},cardLight={name:"Card",common:light_default,self:self16},light_default10=cardLight,cardDark={name:"Card",common:dark_default,self(n){const r=self16(n),{cardColor:a}=n;return r.colorEmbedded=a,r}},dark_default20=cardDark,self17=n=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),carouselDark={name:"Carousel",common:dark_default,self:self17},dark_default21=carouselDark,common_default15={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"},self18=n=>{const{baseColor:r,inputColorDisabled:a,cardColor:o,modalColor:s,popoverColor:l,textColorDisabled:u,borderColor:f,primaryColor:d,textColor2:v,fontSizeSmall:g,fontSizeMedium:y,fontSizeLarge:b,borderRadiusSmall:_,lineHeight:x}=n;return Object.assign(Object.assign({},common_default15),{labelLineHeight:x,fontSizeSmall:g,fontSizeMedium:y,fontSizeLarge:b,borderRadius:_,color:r,colorChecked:d,colorDisabled:a,colorDisabledChecked:a,colorTableHeader:o,colorTableHeaderModal:s,colorTableHeaderPopover:l,checkMarkColor:r,checkMarkColorDisabled:u,checkMarkColorDisabledChecked:u,border:`1px solid ${f}`,borderDisabled:`1px solid ${f}`,borderDisabledChecked:`1px solid ${f}`,borderChecked:`1px solid ${d}`,borderFocus:`1px solid ${d}`,boxShadowFocus:`0 0 0 2px ${changeColor(d,{alpha:.3})}`,textColor:v,textColorDisabled:u})},checkboxLight={name:"Checkbox",common:light_default,self:self18},light_default11=checkboxLight,checkboxDark={name:"Checkbox",common:dark_default,self(n){const{cardColor:r}=n,a=self18(n);return a.color="#0000",a.checkMarkColor=r,a}},dark_default22=checkboxDark,self19=n=>{const{borderRadius:r,boxShadow2:a,popoverColor:o,textColor2:s,textColor3:l,primaryColor:u,textColorDisabled:f,dividerColor:d,hoverColor:v,fontSizeMedium:g,heightMedium:y}=n;return{menuBorderRadius:r,menuColor:o,menuBoxShadow:a,menuDividerColor:d,menuHeight:"calc(var(--n-option-height) * 6.6)",optionArrowColor:l,optionHeight:y,optionFontSize:g,optionColorHover:v,optionTextColor:s,optionTextColorActive:u,optionTextColorDisabled:f,optionCheckMarkColor:u,loadingColor:u,columnWidth:"180px"}},cascaderLight=createTheme({name:"Cascader",common:light_default,peers:{InternalSelectMenu:light_default4,InternalSelection:light_default7,Scrollbar:light_default3,Checkbox:light_default11,Empty:light_default2},self:self19}),cascaderDark={name:"Cascader",common:dark_default,peers:{InternalSelectMenu:dark_default4,InternalSelection:dark_default7,Scrollbar:dark_default3,Checkbox:dark_default22,Empty:light_default2},self:self19},dark_default23=cascaderDark,codeDark={name:"Code",common:dark_default,self(n){const{textColor2:r,fontSize:a,fontWeightStrong:o}=n;return{textColor:r,fontSize:a,fontWeightStrong:o,"mono-3":"#5c6370","hue-1":"#56b6c2","hue-2":"#61aeee","hue-3":"#c678dd","hue-4":"#98c379","hue-5":"#e06c75","hue-5-2":"#be5046","hue-6":"#d19a66","hue-6-2":"#e6c07b"}}},dark_default24=codeDark,self20=n=>{const{fontWeight:r,textColor1:a,textColor2:o,dividerColor:s,fontSize:l}=n;return{titleFontSize:l,titleFontWeight:r,dividerColor:s,titleTextColor:a,fontSize:l,textColor:o,arrowColor:o}},collapseDark={name:"Collapse",common:dark_default,self:self20},dark_default25=collapseDark,self21=n=>{const{cubicBezierEaseInOut:r}=n;return{bezier:r}},collapseTransitionDark={name:"CollapseTransition",common:dark_default,self:self21},dark_default26=collapseTransitionDark,configProviderProps={abstract:Boolean,bordered:{type:Boolean,default:void 0},clsPrefix:String,locale:Object,dateLocale:Object,namespace:String,rtl:Array,tag:{type:String,default:"div"},hljs:Object,theme:Object,themeOverrides:Object,componentOptions:Object,icons:Object,breakpoints:Object,inlineThemeDisabled:{type:Boolean,default:void 0},as:{type:String,validator:()=>(warn3("config-provider","`as` is deprecated, please use `tag` instead."),!0),default:void 0}},ConfigProvider_default=defineComponent({name:"ConfigProvider",alias:["App"],props:configProviderProps,setup(n){const r=inject(configProviderInjectionKey,null),a=computed2(()=>{const{theme:_}=n;if(_===null)return;const x=r==null?void 0:r.mergedThemeRef.value;return _===void 0?x:x===void 0?_:Object.assign({},x,_)}),o=computed2(()=>{const{themeOverrides:_}=n;if(_!==null){if(_===void 0)return r==null?void 0:r.mergedThemeOverridesRef.value;{const x=r==null?void 0:r.mergedThemeOverridesRef.value;return x===void 0?_:merge_default({},x,_)}}}),s=use_memo_default(()=>{const{namespace:_}=n;return _===void 0?r==null?void 0:r.mergedNamespaceRef.value:_}),l=use_memo_default(()=>{const{bordered:_}=n;return _===void 0?r==null?void 0:r.mergedBorderedRef.value:_}),u=computed2(()=>{const{icons:_}=n;return _===void 0?r==null?void 0:r.mergedIconsRef.value:_}),f=computed2(()=>{const{componentOptions:_}=n;return _!==void 0?_:r==null?void 0:r.mergedComponentPropsRef.value}),d=computed2(()=>{const{clsPrefix:_}=n;return _!==void 0?_:r==null?void 0:r.mergedClsPrefixRef.value}),v=computed2(()=>{var _;const{rtl:x}=n;if(x===void 0)return r==null?void 0:r.mergedRtlRef.value;const C={};for(const w of x)C[w.name]=markRaw(w),(_=w.peers)===null||_===void 0||_.forEach(S=>{S.name in C||(C[S.name]=markRaw(S))});return C}),g=computed2(()=>n.breakpoints||(r==null?void 0:r.mergedBreakpointsRef.value)),y=n.inlineThemeDisabled||(r==null?void 0:r.inlineThemeDisabled),b=computed2(()=>{const{value:_}=a,{value:x}=o,C=x&&Object.keys(x).length!==0,w=_==null?void 0:_.name;return w?C?`${w}-${hash_browser_esm_default(JSON.stringify(o.value))}`:w:C?hash_browser_esm_default(JSON.stringify(o.value)):""});return provide(configProviderInjectionKey,{mergedThemeHashRef:b,mergedBreakpointsRef:g,mergedRtlRef:v,mergedIconsRef:u,mergedComponentPropsRef:f,mergedBorderedRef:l,mergedNamespaceRef:s,mergedClsPrefixRef:d,mergedLocaleRef:computed2(()=>{const{locale:_}=n;if(_!==null)return _===void 0?r==null?void 0:r.mergedLocaleRef.value:_}),mergedDateLocaleRef:computed2(()=>{const{dateLocale:_}=n;if(_!==null)return _===void 0?r==null?void 0:r.mergedDateLocaleRef.value:_}),mergedHljsRef:computed2(()=>{const{hljs:_}=n;return _===void 0?r==null?void 0:r.mergedHljsRef.value:_}),mergedThemeRef:a,mergedThemeOverridesRef:o,inlineThemeDisabled:y||!1}),{mergedClsPrefix:d,mergedBordered:l,mergedNamespace:s,mergedTheme:a,mergedThemeOverrides:o}},render(){var n,r,a,o;return this.abstract?(o=(a=this.$slots).default)===null||o===void 0?void 0:o.call(a):h(this.as||this.tag,{class:`${this.mergedClsPrefix||defaultClsPrefix}-config-provider`},(r=(n=this.$slots).default)===null||r===void 0?void 0:r.call(n))}});function self22(n){const{boxShadow2:r}=n;return{menuBoxShadow:r}}var selectLight=createTheme({name:"Select",common:light_default,peers:{InternalSelection:light_default7,InternalSelectMenu:light_default4},self:self22}),light_default12=selectLight,selectDark={name:"Select",common:dark_default,peers:{InternalSelection:dark_default7,InternalSelectMenu:dark_default4},self:self22},dark_default27=selectDark,index_cssr_default15=c2([cB("select",`
 z-index: auto;
 outline: none;
 width: 100%;
 position: relative;
 `),cB("select-menu",`
 margin: 4px 0;
 box-shadow: var(--n-menu-box-shadow);
 `,[fade_in_scale_up_cssr_default()])]),selectProps=Object.assign(Object.assign({},use_theme_default.props),{to:useAdjustedTo.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:{type:Function,default:defaultFilter},placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:{type:Function,default:n=>({label:n,value:n})},fallbackOption:{type:[Function,Boolean],default:()=>n=>({label:String(n),value:n})},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,onChange:[Function,Array],items:Array}),Select_default=defineComponent({name:"Select",props:selectProps,setup(n){watchEffect(()=>{n.items!==void 0&&warnOnce("select","`items` is deprecated, please use `options` instead."),n.onChange!==void 0&&warnOnce("select","`on-change` is deprecated, please use `on-update:value` instead.")});const{mergedClsPrefixRef:r,mergedBorderedRef:a,namespaceRef:o,inlineThemeDisabled:s}=useConfig(n),l=use_theme_default("Select","-select",index_cssr_default15,light_default12,n,r),u=ref(n.defaultValue),f=toRef(n,"value"),d=useMergedState(f,u),v=ref(!1),g=ref(""),y=computed2(()=>createTreeMate(L.value,tmOptions)),b=computed2(()=>createValOptMap(F.value)),_=ref(!1),x=useMergedState(toRef(n,"show"),_),C=ref(null),w=ref(null),S=ref(null),{localeRef:D}=useLocale("Select"),A=computed2(()=>{var J;return(J=n.placeholder)!==null&&J!==void 0?J:D.value.placeholder}),T=useCompitable(n,["items","options"]),M=ref([]),E=ref([]),P=ref(new Map),I=computed2(()=>{const{fallbackOption:J}=n;return J?ce=>Object.assign(J(ce),{value:ce}):!1}),F=computed2(()=>E.value.concat(M.value).concat(T.value)),L=computed2(()=>{if(n.remote)return T.value;{const{value:J}=F,{value:ce}=g;if(!ce.length||!n.filterable)return J;{const{filter:Se}=n;return filterOptions(J,Se,ce)}}});function O(J){const ce=n.remote,{value:Se}=P,{value:Ae}=b,{value:me}=I,Ie=[];return J.forEach(Le=>{if(Ae.has(Le))Ie.push(Ae.get(Le));else if(ce&&Se.has(Le))Ie.push(Se.get(Le));else if(me){const Ve=me(Le);Ve&&Ie.push(Ve)}}),Ie}const z=computed2(()=>{if(n.multiple){const{value:J}=d;return Array.isArray(J)?O(J):[]}return null}),R=computed2(()=>{const{value:J}=d;return!n.multiple&&!Array.isArray(J)?J===null?null:O([J])[0]||null:null}),B=useFormItem(n),{mergedSizeRef:N,mergedDisabledRef:H,mergedStatusRef:W}=B;function V(J,ce){const{onChange:Se,"onUpdate:value":Ae,onUpdateValue:me}=n,{nTriggerFormChange:Ie,nTriggerFormInput:Le}=B;Se&&call(Se,J,ce),me&&call(me,J,ce),Ae&&call(Ae,J,ce),u.value=J,Ie(),Le()}function G(J){const{onBlur:ce}=n,{nTriggerFormBlur:Se}=B;ce&&call(ce,J),Se()}function Y(){const{onClear:J}=n;J&&call(J)}function Q(J){const{onFocus:ce}=n,{nTriggerFormFocus:Se}=B;ce&&call(ce,J),Se()}function q(J){const{onSearch:ce}=n;ce&&call(ce,J)}function ne(J){const{onScroll:ce}=n;ce&&call(ce,J)}function ve(){var J;const{remote:ce,multiple:Se}=n;if(ce){const{value:Ae}=P;if(Se)(J=z.value)===null||J===void 0||J.forEach(me=>{Ae.set(me.value,me)});else{const me=R.value;me&&Ae.set(me.value,me)}}}function fe(J){const{onUpdateShow:ce,"onUpdate:show":Se}=n;ce&&call(ce,J),Se&&call(Se,J),_.value=J}function he(){H.value||(fe(!0),_.value=!0,n.filterable&&Pe())}function pe(){fe(!1)}function de(){g.value="",E.value=[]}const ue=ref(!1);function be(){n.filterable&&(ue.value=!0)}function se(){n.filterable&&(ue.value=!1,x.value||de())}function _e(){H.value||(x.value?n.filterable||pe():he())}function Me(J){var ce,Se;((Se=(ce=S.value)===null||ce===void 0?void 0:ce.selfRef)===null||Se===void 0?void 0:Se.contains(J.relatedTarget))||(v.value=!1,G(J),pe())}function $(J){Q(J),v.value=!0}function U(J){v.value=!0}function Z(J){var ce;((ce=C.value)===null||ce===void 0?void 0:ce.$el.contains(J.relatedTarget))||(v.value=!1,G(J),pe())}function ee(){var J;(J=C.value)===null||J===void 0||J.focus(),pe()}function re(J){var ce;x.value&&(((ce=C.value)===null||ce===void 0?void 0:ce.$el.contains(J.target))||pe())}function ie(J){if(!Array.isArray(J))return[];if(I.value)return Array.from(J);{const{remote:ce}=n,{value:Se}=b;if(ce){const{value:Ae}=P;return J.filter(me=>Se.has(me)||Ae.has(me))}else return J.filter(Ae=>Se.has(Ae))}}function oe(J){j(J.rawNode)}function j(J){if(H.value)return;const{tag:ce,remote:Se,clearFilterAfterSelect:Ae}=n;if(ce&&!Se){const{value:me}=E,Ie=me[0]||null;Ie&&(M.value.push(Ie),E.value=[])}if(Se&&P.value.set(J.value,J),n.multiple){const me=ie(d.value),Ie=me.findIndex(Le=>Le===J.value);if(~Ie){if(me.splice(Ie,1),ce&&!Se){const Le=K(J.value);~Le&&(M.value.splice(Le,1),Ae&&(g.value=""))}}else me.push(J.value),Ae&&(g.value="");V(me,O(me))}else{if(ce&&!Se){const me=K(J.value);~me?M.value=[M.value[me]]:M.value=[]}Ee(),pe(),V(J.value,J)}}function K(J){return M.value.findIndex(Se=>Se.value===J)}function te(J){x.value||he();const{value:ce}=J.target;g.value=ce;const{tag:Se,remote:Ae}=n;if(q(ce),Se&&!Ae){if(!ce){E.value=[];return}const me=n.onCreate(ce);T.value.some(Ie=>Ie.value===me.value)||M.value.some(Ie=>Ie.value===me.value)?E.value=[]:E.value=[me]}}function xe(J){J.stopPropagation();const{multiple:ce}=n;!ce&&n.filterable&&pe(),Y(),ce?V([],[]):V(null,null)}function ye(J){!happensIn(J,"action")&&!happensIn(J,"empty")&&J.preventDefault()}function Ce(J){ne(J)}function De(J){var ce,Se,Ae,me,Ie;switch(J.code){case"Space":if(n.filterable)break;J.preventDefault();case"Enter":case"NumpadEnter":if(!((ce=C.value)===null||ce===void 0?void 0:ce.isCompositing)){if(x.value){const Le=(Se=S.value)===null||Se===void 0?void 0:Se.getPendingTmNode();Le?oe(Le):n.filterable||(pe(),Ee())}else if(he(),n.tag&&ue.value){const Le=E.value[0];if(Le){const Ve=Le.value,{value:Oe}=d;n.multiple&&Array.isArray(Oe)&&Oe.some(We=>We===Ve)||j(Le)}}}J.preventDefault();break;case"ArrowUp":if(J.preventDefault(),n.loading)return;x.value&&((Ae=S.value)===null||Ae===void 0||Ae.prev());break;case"ArrowDown":if(J.preventDefault(),n.loading)return;x.value?(me=S.value)===null||me===void 0||me.next():he();break;case"Escape":pe(),(Ie=C.value)===null||Ie===void 0||Ie.focus();break}}function Ee(){var J;(J=C.value)===null||J===void 0||J.focus()}function Pe(){var J;(J=C.value)===null||J===void 0||J.focusInput()}function Fe(){var J;!x.value||(J=w.value)===null||J===void 0||J.syncPosition()}ve(),watch(toRef(n,"options"),ve);const ae={focus:()=>{var J;(J=C.value)===null||J===void 0||J.focus()},blur:()=>{var J;(J=C.value)===null||J===void 0||J.blur()}},ge=computed2(()=>{const{self:{menuBoxShadow:J}}=l.value;return{"--n-menu-box-shadow":J}}),we=s?useThemeClass("select",void 0,ge,n):void 0;return Object.assign(Object.assign({},ae),{mergedStatus:W,mergedClsPrefix:r,mergedBordered:a,namespace:o,treeMate:y,isMounted:isMounted(),triggerRef:C,menuRef:S,pattern:g,uncontrolledShow:_,mergedShow:x,adjustedTo:useAdjustedTo(n),uncontrolledValue:u,mergedValue:d,followerRef:w,localizedPlaceholder:A,selectedOption:R,selectedOptions:z,mergedSize:N,mergedDisabled:H,focused:v,activeWithoutMenuOpen:ue,inlineThemeDisabled:s,onTriggerInputFocus:be,onTriggerInputBlur:se,handleTriggerOrMenuResize:Fe,handleMenuFocus:U,handleMenuBlur:Z,handleMenuTabOut:ee,handleTriggerClick:_e,handleToggle:oe,handleDeleteOption:j,handlePatternInput:te,handleClear:xe,handleTriggerBlur:Me,handleTriggerFocus:$,handleKeydown:De,handleMenuAfterLeave:de,handleMenuClickOutside:re,handleMenuScroll:Ce,handleMenuKeydown:De,handleMenuMousedown:ye,mergedTheme:l,cssVars:s?void 0:ge,themeClass:we==null?void 0:we.themeClass,onRender:we==null?void 0:we.onRender})},render(){return h("div",{class:`${this.mergedClsPrefix}-select`},h(Binder_default,null,{default:()=>[h(Target_default,null,{default:()=>h(Selection_default,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus},{arrow:()=>{var n,r;return[(r=(n=this.$slots).arrow)===null||r===void 0?void 0:r.call(n)]}})}),h(Follower_default,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===useAdjustedTo.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>h(Transition,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var n,r,a;return this.mergedShow||this.displayDirective==="show"?((n=this.onRender)===null||n===void 0||n.call(this),withDirectives(h(SelectMenu_default,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,(r=this.menuProps)===null||r===void 0?void 0:r.class],clsPrefix:this.mergedClsPrefix,focusable:!0,autoPending:!0,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:"medium",renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[(a=this.menuProps)===null||a===void 0?void 0:a.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var o,s;return[(s=(o=this.$slots).empty)===null||s===void 0?void 0:s.call(o)]},action:()=>{var o,s;return[(s=(o=this.$slots).action)===null||s===void 0?void 0:s.call(o)]}}),this.displayDirective==="show"?[[vShow,this.mergedShow],[clickoutside_default,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[clickoutside_default,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),common_default16={itemSize:"28px",itemPadding:"0 4px",itemMargin:"0 0 0 8px",itemMarginRtl:"0 8px 0 0",buttonIconSize:"16px",inputWidth:"60px",selectWidth:"unset",inputMargin:"0 0 0 8px",inputMarginRtl:"0 8px 0 0",selectMargin:"0 0 0 8px",prefixMargin:"0 8px 0 0",suffixMargin:"0 0 0 8px",jumperFontSize:"14px"},self23=n=>{const{textColor2:r,primaryColor:a,primaryColorHover:o,primaryColorPressed:s,inputColorDisabled:l,textColorDisabled:u,borderColor:f,borderRadius:d,fontSize:v}=n;return Object.assign(Object.assign({},common_default16),{buttonColor:"#0000",buttonColorHover:"#0000",buttonColorPressed:"#0000",buttonBorder:`1px solid ${f}`,buttonBorderHover:`1px solid ${f}`,buttonBorderPressed:`1px solid ${f}`,buttonIconColor:r,buttonIconColorHover:r,buttonIconColorPressed:r,itemTextColor:r,itemTextColorHover:o,itemTextColorPressed:s,itemTextColorActive:a,itemTextColorDisabled:u,itemColor:"#0000",itemColorHover:"#0000",itemColorPressed:"#0000",itemColorActive:"#0000",itemColorActiveHover:"#0000",itemColorDisabled:l,itemBorder:"1px solid #0000",itemBorderHover:"1px solid #0000",itemBorderPressed:"1px solid #0000",itemBorderActive:`1px solid ${a}`,itemBorderDisabled:`1px solid ${f}`,itemBorderRadius:d,itemFontSize:v,jumperTextColor:r,jumperTextColorDisabled:u})},paginationLight=createTheme({name:"Pagination",common:light_default,peers:{Select:light_default12,Input:light_default8},self:self23}),light_default13=paginationLight,paginationDark={name:"Pagination",common:dark_default,peers:{Select:dark_default27,Input:dark_default10},self(n){const{primaryColor:r,opacity3:a}=n,o=changeColor(r,{alpha:Number(a)}),s=self23(n);return s.itemBorderActive=`1px solid ${o}`,s.itemBorderDisabled="1px solid #0000",s}},dark_default28=paginationDark,common_default17={padding:"8px 14px"},tooltipDark={name:"Tooltip",common:dark_default,peers:{Popover:dark_default5},self(n){const{borderRadius:r,boxShadow2:a,popoverColor:o,textColor2:s}=n;return Object.assign(Object.assign({},common_default17),{borderRadius:r,boxShadow:a,color:o,textColor:s})}},dark_default29=tooltipDark,self24=n=>{const{borderRadius:r,boxShadow2:a,baseColor:o}=n;return Object.assign(Object.assign({},common_default17),{borderRadius:r,boxShadow:a,color:composite(o,"rgba(0, 0, 0, .85)"),textColor:o})},tooltipLight=createTheme({name:"Tooltip",common:light_default,peers:{Popover:light_default5},self:self24}),light_default14=tooltipLight,ellipsisDark={name:"Ellipsis",common:dark_default,peers:{Tooltip:dark_default29}},dark_default30=ellipsisDark,ellipsisLight=createTheme({name:"Ellipsis",common:light_default,peers:{Tooltip:light_default14}}),light_default15=ellipsisLight,common_default18={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px"},radioDark={name:"Radio",common:dark_default,self(n){const{borderColor:r,primaryColor:a,baseColor:o,textColorDisabled:s,inputColorDisabled:l,textColor2:u,opacityDisabled:f,borderRadius:d,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:y,heightSmall:b,heightMedium:_,heightLarge:x,lineHeight:C}=n;return Object.assign(Object.assign({},common_default18),{labelLineHeight:C,buttonHeightSmall:b,buttonHeightMedium:_,buttonHeightLarge:x,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:y,boxShadow:`inset 0 0 0 1px ${r}`,boxShadowActive:`inset 0 0 0 1px ${a}`,boxShadowFocus:`inset 0 0 0 1px ${a}, 0 0 0 2px ${changeColor(a,{alpha:.3})}`,boxShadowHover:`inset 0 0 0 1px ${a}`,boxShadowDisabled:`inset 0 0 0 1px ${r}`,color:"#0000",colorDisabled:l,textColor:u,textColorDisabled:s,dotColorActive:a,dotColorDisabled:r,buttonBorderColor:r,buttonBorderColorActive:a,buttonBorderColorHover:a,buttonColor:"#0000",buttonColorActive:a,buttonTextColor:u,buttonTextColorActive:o,buttonTextColorHover:a,opacityDisabled:f,buttonBoxShadowFocus:`inset 0 0 0 1px ${a}, 0 0 0 2px ${changeColor(a,{alpha:.3})}`,buttonBoxShadowHover:`inset 0 0 0 1px ${a}`,buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:d})}},dark_default31=radioDark,self25=n=>{const{borderColor:r,primaryColor:a,baseColor:o,textColorDisabled:s,inputColorDisabled:l,textColor2:u,opacityDisabled:f,borderRadius:d,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:y,heightSmall:b,heightMedium:_,heightLarge:x,lineHeight:C}=n;return Object.assign(Object.assign({},common_default18),{labelLineHeight:C,buttonHeightSmall:b,buttonHeightMedium:_,buttonHeightLarge:x,fontSizeSmall:v,fontSizeMedium:g,fontSizeLarge:y,boxShadow:`inset 0 0 0 1px ${r}`,boxShadowActive:`inset 0 0 0 1px ${a}`,boxShadowFocus:`inset 0 0 0 1px ${a}, 0 0 0 2px ${changeColor(a,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${a}`,boxShadowDisabled:`inset 0 0 0 1px ${r}`,color:o,colorDisabled:l,textColor:u,textColorDisabled:s,dotColorActive:a,dotColorDisabled:r,buttonBorderColor:r,buttonBorderColorActive:a,buttonBorderColorHover:r,buttonColor:o,buttonColorActive:o,buttonTextColor:u,buttonTextColorActive:a,buttonTextColorHover:a,opacityDisabled:f,buttonBoxShadowFocus:`inset 0 0 0 1px ${a}, 0 0 0 2px ${changeColor(a,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:d})},radioLight={name:"Radio",common:light_default,self:self25},light_default16=radioLight,common_default19={thPaddingSmall:"8px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"8px",tdPaddingMedium:"12px",tdPaddingLarge:"12px",sorterSize:"15px",filterSize:"15px",paginationMargin:"12px 0 0 0",emptyPadding:"48px 0",actionPadding:"8px 12px",actionButtonMargin:"0 8px 0 0"},self26=n=>{const{cardColor:r,modalColor:a,popoverColor:o,textColor2:s,textColor1:l,tableHeaderColor:u,tableColorHover:f,iconColor:d,primaryColor:v,fontWeightStrong:g,borderRadius:y,lineHeight:b,fontSizeSmall:_,fontSizeMedium:x,fontSizeLarge:C,dividerColor:w,heightSmall:S,opacityDisabled:D,tableColorStriped:A}=n;return Object.assign(Object.assign({},common_default19),{actionDividerColor:w,lineHeight:b,borderRadius:y,fontSizeSmall:_,fontSizeMedium:x,fontSizeLarge:C,borderColor:composite(r,w),tdColorHover:composite(r,f),tdColorStriped:composite(r,A),thColor:composite(r,u),thColorHover:composite(composite(r,u),f),tdColor:r,tdTextColor:s,thTextColor:l,thFontWeight:g,thButtonColorHover:f,thIconColor:d,thIconColorActive:v,borderColorModal:composite(a,w),tdColorHoverModal:composite(a,f),tdColorStripedModal:composite(a,A),thColorModal:composite(a,u),thColorHoverModal:composite(composite(a,u),f),tdColorModal:a,borderColorPopover:composite(o,w),tdColorHoverPopover:composite(o,f),tdColorStripedPopover:composite(o,A),thColorPopover:composite(o,u),thColorHoverPopover:composite(composite(o,u),f),tdColorPopover:o,boxShadowBefore:"inset -12px 0 8px -12px rgba(0, 0, 0, .18)",boxShadowAfter:"inset 12px 0 8px -12px rgba(0, 0, 0, .18)",loadingColor:v,loadingSize:S,opacityLoading:D})},dataTableLight=createTheme({name:"DataTable",common:light_default,peers:{Button:light_default9,Checkbox:light_default11,Radio:light_default16,Pagination:light_default13,Scrollbar:light_default3,Empty:light_default2,Popover:light_default5,Ellipsis:light_default15},self:self26}),dataTableDark={name:"DataTable",common:dark_default,peers:{Button:dark_default17,Checkbox:dark_default22,Radio:dark_default31,Pagination:dark_default28,Scrollbar:dark_default3,Empty:dark_default2,Popover:dark_default5,Ellipsis:dark_default30},self(n){const r=self26(n);return r.boxShadowAfter="inset 12px 0 8px -12px rgba(0, 0, 0, .36)",r.boxShadowBefore="inset -12px 0 8px -12px rgba(0, 0, 0, .36)",r}},dark_default32=dataTableDark,radioProps={name:String,value:{type:[String,Number],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,validator:()=>(warn3("radio","`checked-value` is deprecated, please use `checked` instead."),!0),default:void 0}},radioGroupInjectionKey=createInjectionKey("n-radio-group");function setup(n){const r=useFormItem(n,{mergedSize(D){const{size:A}=n;if(A!==void 0)return A;if(u){const{mergedSizeRef:{value:T}}=u;if(T!==void 0)return T}return D?D.mergedSize.value:"medium"},mergedDisabled(D){return!!(n.disabled||(u==null?void 0:u.disabledRef.value)||(D==null?void 0:D.disabled.value))}}),{mergedSizeRef:a,mergedDisabledRef:o}=r,s=ref(null),l=ref(null),u=inject(radioGroupInjectionKey,null),f=ref(n.defaultChecked),d=toRef(n,"checked"),v=useMergedState(d,f),g=use_memo_default(()=>u?u.valueRef.value===n.value:v.value),y=use_memo_default(()=>{const{name:D}=n;if(D!==void 0)return D;if(u)return u.nameRef.value}),b=ref(!1);function _(){if(u){const{doUpdateValue:D}=u,{value:A}=n;call(D,A)}else{const{onUpdateChecked:D,"onUpdate:checked":A}=n,{nTriggerFormInput:T,nTriggerFormChange:M}=r;D&&call(D,!0),A&&call(A,!0),T(),M(),f.value=!0}}function x(){o.value||g.value||_()}function C(){x()}function w(){b.value=!1}function S(){b.value=!0}return{mergedClsPrefix:u?u.mergedClsPrefixRef:useConfig(n).mergedClsPrefixRef,inputRef:s,labelRef:l,mergedName:y,mergedDisabled:o,uncontrolledChecked:f,renderSafeChecked:g,focus:b,mergedSize:a,handleRadioInputChange:C,handleRadioInputBlur:w,handleRadioInputFocus:S}}setup.props=radioProps;var use_radio_default=setup,radio_cssr_default=cB("radio",`
 line-height: var(--n-label-line-height);
 outline: none;
 position: relative;
 user-select: none;
 display: inline-flex;
 align-items: flex-start;
 flex-wrap: nowrap;
 font-size: var(--n-font-size);
 word-break: break-word;
`,[cE("dot-wrapper",`
 position: relative;
 flex-shrink: 0;
 flex-grow: 0;
 width: var(--n-radio-size);
 `),cB("radio-input",`
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 cursor: pointer;
 `),cE("dot",`
 position: absolute;
 top: 50%;
 left: 0;
 transform: translateY(-50%);
 height: var(--n-radio-size);
 width: var(--n-radio-size);
 background: var(--n-color);
 box-shadow: var(--n-box-shadow);
 border-radius: 50%;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `,[c2("&::before",`
 content: "";
 opacity: 0;
 position: absolute;
 left: 4px;
 top: 4px;
 height: calc(100% - 8px);
 width: calc(100% - 8px);
 border-radius: 50%;
 transform: scale(.8);
 background: var(--n-dot-color-active);
 transition: 
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),cM("checked",{boxShadow:"var(--n-box-shadow-active)"},[c2("&::before",`
 opacity: 1;
 transform: scale(1);
 `)])]),cE("label",`
 color: var(--n-text-color);
 padding: var(--n-label-padding);
 display: inline-block;
 transition: color .3s var(--n-bezier);
 `),cNotM("disabled",`
 cursor: pointer;
 `,[c2("&:hover",[cE("dot",{boxShadow:"var(--n-box-shadow-hover)"})]),cM("focus",[c2("&:not(:active)",[cE("dot",{boxShadow:"var(--n-box-shadow-focus)"})])])]),cM("disabled",`
 cursor: not-allowed;
 `,[cE("dot",{boxShadow:"var(--n-box-shadow-disabled)",backgroundColor:"var(--n-color-disabled)"},[c2("&::before",{backgroundColor:"var(--n-dot-color-disabled)"}),cM("checked",`
 opacity: 1;
 `)]),cE("label",{color:"var(--n-text-color-disabled)"}),cB("radio-input",`
 cursor: not-allowed;
 `)])]),Radio_default=defineComponent({name:"Radio",props:Object.assign(Object.assign({},use_theme_default.props),use_radio_default.props),setup(n){const r=use_radio_default(n),a=use_theme_default("Radio","-radio",radio_cssr_default,light_default16,n,r.mergedClsPrefix),o=computed2(()=>{const{mergedSize:{value:v}}=r,{common:{cubicBezierEaseInOut:g},self:{boxShadow:y,boxShadowActive:b,boxShadowDisabled:_,boxShadowFocus:x,boxShadowHover:C,color:w,colorDisabled:S,textColor:D,textColorDisabled:A,dotColorActive:T,dotColorDisabled:M,labelPadding:E,labelLineHeight:P,[createKey("fontSize",v)]:I,[createKey("radioSize",v)]:F}}=a.value;return{"--n-bezier":g,"--n-label-line-height":P,"--n-box-shadow":y,"--n-box-shadow-active":b,"--n-box-shadow-disabled":_,"--n-box-shadow-focus":x,"--n-box-shadow-hover":C,"--n-color":w,"--n-color-disabled":S,"--n-dot-color-active":T,"--n-dot-color-disabled":M,"--n-font-size":I,"--n-radio-size":F,"--n-text-color":D,"--n-text-color-disabled":A,"--n-label-padding":E}}),{inlineThemeDisabled:s,mergedClsPrefixRef:l,mergedRtlRef:u}=useConfig(n),f=useRtl("Radio",u,l),d=s?useThemeClass("radio",computed2(()=>r.mergedSize.value[0]),o,n):void 0;return Object.assign(r,{rtlEnabled:f,cssVars:s?void 0:o,themeClass:d==null?void 0:d.themeClass,onRender:d==null?void 0:d.onRender})},render(){const{$slots:n,mergedClsPrefix:r,onRender:a,label:o}=this;return a==null||a(),h("label",{class:[`${r}-radio`,this.themeClass,{[`${r}-radio--rtl`]:this.rtlEnabled,[`${r}-radio--disabled`]:this.mergedDisabled,[`${r}-radio--checked`]:this.renderSafeChecked,[`${r}-radio--focus`]:this.focus}],style:this.cssVars},h("input",{ref:"inputRef",type:"radio",class:`${r}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),h("div",{class:`${r}-radio__dot-wrapper`},"\xA0",h("div",{class:[`${r}-radio__dot`,this.renderSafeChecked&&`${r}-radio__dot--checked`]})),resolveWrappedSlot(n.default,s=>!s&&!o?null:h("div",{ref:"labelRef",class:`${r}-radio__label`},s||o)))}}),radio_group_cssr_default=cB("radio-group",`
 display: inline-block;
 font-size: var(--n-font-size);
`,[cE("splitor",`
 display: inline-block;
 vertical-align: bottom;
 width: 1px;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 background: var(--n-button-border-color);
 `,[cM("checked",{backgroundColor:"var(--n-button-border-color-active)"}),cM("disabled",{opacity:"var(--n-opacity-disabled)"})]),cM("button-group",`
 white-space: nowrap;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[cB("radio-button",{height:"var(--n-height)",lineHeight:"var(--n-height)"}),cE("splitor",{height:"var(--n-height)"})]),cB("radio-button",`
 vertical-align: bottom;
 outline: none;
 position: relative;
 user-select: none;
 display: inline-block;
 box-sizing: border-box;
 padding-left: 14px;
 padding-right: 14px;
 white-space: nowrap;
 transition:
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 color: var(--n-button-text-color);
 border-top: 1px solid var(--n-button-border-color);
 border-bottom: 1px solid var(--n-button-border-color);
 `,[cB("radio-input",`
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 `),cE("state-border",`
 z-index: 1;
 pointer-events: none;
 position: absolute;
 box-shadow: var(--n-button-box-shadow);
 transition: box-shadow .3s var(--n-bezier);
 left: -1px;
 bottom: -1px;
 right: -1px;
 top: -1px;
 `),c2("&:first-child",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 border-left: 1px solid var(--n-button-border-color);
 `,[cE("state-border",`
 border-top-left-radius: var(--n-button-border-radius);
 border-bottom-left-radius: var(--n-button-border-radius);
 `)]),c2("&:last-child",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 border-right: 1px solid var(--n-button-border-color);
 `,[cE("state-border",`
 border-top-right-radius: var(--n-button-border-radius);
 border-bottom-right-radius: var(--n-button-border-radius);
 `)]),cNotM("disabled",`
 cursor: pointer;
 `,[c2("&:hover",[cE("state-border",`
 transition: box-shadow .3s var(--n-bezier);
 box-shadow: var(--n-button-box-shadow-hover);
 `),cNotM("checked",{color:"var(--n-button-text-color-hover)"})]),cM("focus",[c2("&:not(:active)",[cE("state-border",{boxShadow:"var(--n-button-box-shadow-focus)"})])])]),cM("checked",`
 background: var(--n-button-color-active);
 color: var(--n-button-text-color-active);
 border-color: var(--n-button-border-color-active);
 `),cM("disabled",`
 cursor: not-allowed;
 opacity: var(--n-opacity-disabled);
 `)])]);function mapSlot(n,r,a){var o;const s=[];let l=!1;for(let u=0;u<n.length;++u){const f=n[u],d=(o=f.type)===null||o===void 0?void 0:o.name;if(d==="RadioButton"&&(l=!0),l&&d!=="RadioButton"){warn3("radio-group","`n-radio-group` in button mode only takes `n-radio-button` as children.");continue}const v=f.props;if(d!=="RadioButton"){s.push(f);continue}if(u===0)s.push(f);else{const g=s[s.length-1].props,y=r===g.value,b=g.disabled,_=r===v.value,x=v.disabled,C=(y?2:0)+(b?0:1),w=(_?2:0)+(x?0:1),S={[`${a}-radio-group__splitor--disabled`]:b,[`${a}-radio-group__splitor--checked`]:y},D={[`${a}-radio-group__splitor--disabled`]:x,[`${a}-radio-group__splitor--checked`]:_},A=C<w?D:S;s.push(h("div",{class:[`${a}-radio-group__splitor`,A]}),f)}}return{children:s,isButtonGroup:l}}var radioGroupProps=Object.assign(Object.assign({},use_theme_default.props),{name:String,value:[String,Number],defaultValue:{type:[String,Number],default:null},size:String,disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),RadioGroup_default=defineComponent({name:"RadioGroup",props:radioGroupProps,setup(n){const r=ref(null),{mergedSizeRef:a,mergedDisabledRef:o,nTriggerFormChange:s,nTriggerFormInput:l,nTriggerFormBlur:u,nTriggerFormFocus:f}=useFormItem(n),{mergedClsPrefixRef:d,inlineThemeDisabled:v,mergedRtlRef:g}=useConfig(n),y=use_theme_default("Radio","-radio-group",radio_group_cssr_default,light_default16,n,d),b=ref(n.defaultValue),_=toRef(n,"value"),x=useMergedState(_,b);function C(M){const{onUpdateValue:E,"onUpdate:value":P}=n;E&&call(E,M),P&&call(P,M),b.value=M,s(),l()}function w(M){const{value:E}=r;!E||E.contains(M.relatedTarget)||f()}function S(M){const{value:E}=r;!E||E.contains(M.relatedTarget)||u()}provide(radioGroupInjectionKey,{mergedClsPrefixRef:d,nameRef:toRef(n,"name"),valueRef:x,disabledRef:o,mergedSizeRef:a,doUpdateValue:C});const D=useRtl("Radio",g,d),A=computed2(()=>{const{value:M}=a,{common:{cubicBezierEaseInOut:E},self:{buttonBorderColor:P,buttonBorderColorActive:I,buttonBorderRadius:F,buttonBoxShadow:L,buttonBoxShadowFocus:O,buttonBoxShadowHover:z,buttonColorActive:R,buttonTextColor:B,buttonTextColorActive:N,buttonTextColorHover:H,opacityDisabled:W,[createKey("buttonHeight",M)]:V,[createKey("fontSize",M)]:G}}=y.value;return{"--n-font-size":G,"--n-bezier":E,"--n-button-border-color":P,"--n-button-border-color-active":I,"--n-button-border-radius":F,"--n-button-box-shadow":L,"--n-button-box-shadow-focus":O,"--n-button-box-shadow-hover":z,"--n-button-color-active":R,"--n-button-text-color":B,"--n-button-text-color-hover":H,"--n-button-text-color-active":N,"--n-height":V,"--n-opacity-disabled":W}}),T=v?useThemeClass("radio-group",computed2(()=>a.value[0]),A,n):void 0;return{selfElRef:r,rtlEnabled:D,mergedClsPrefix:d,mergedValue:x,handleFocusout:S,handleFocusin:w,cssVars:v?void 0:A,themeClass:T==null?void 0:T.themeClass,onRender:T==null?void 0:T.onRender}},render(){var n;const{mergedValue:r,mergedClsPrefix:a,handleFocusin:o,handleFocusout:s}=this,{children:l,isButtonGroup:u}=mapSlot(flatten(getSlot(this)),r,a);return(n=this.onRender)===null||n===void 0||n.call(this),h("div",{onFocusin:o,onFocusout:s,ref:"selfElRef",class:[`${a}-radio-group`,this.rtlEnabled&&`${a}-radio-group--rtl`,this.themeClass,u&&`${a}-radio-group--button-group`],style:this.cssVars},l)}}),RadioButton_default=defineComponent({name:"RadioButton",props:use_radio_default.props,setup(n){return use_radio_default(n)},render(){const{mergedClsPrefix:n}=this;return h("label",{class:[`${n}-radio-button`,{[`${n}-radio-button--disabled`]:this.mergedDisabled,[`${n}-radio-button--checked`]:this.renderSafeChecked,[`${n}-radio-button--focus`]:this.focus}]},h("input",{ref:"inputRef",type:"radio",class:`${n}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),h("div",{class:`${n}-radio-button__state-border`}),resolveWrappedSlot(this.$slots.default,r=>!r&&!this.label?null:h("div",{ref:"labelRef",class:`${n}-radio__label`},r||this.label)))}}),common_default20={padding:"4px 0",optionIconSizeSmall:"14px",optionIconSizeMedium:"16px",optionIconSizeLarge:"16px",optionIconSizeHuge:"18px",optionSuffixWidthSmall:"14px",optionSuffixWidthMedium:"14px",optionSuffixWidthLarge:"16px",optionSuffixWidthHuge:"16px",optionIconSuffixWidthSmall:"32px",optionIconSuffixWidthMedium:"32px",optionIconSuffixWidthLarge:"36px",optionIconSuffixWidthHuge:"36px",optionPrefixWidthSmall:"14px",optionPrefixWidthMedium:"14px",optionPrefixWidthLarge:"16px",optionPrefixWidthHuge:"16px",optionIconPrefixWidthSmall:"36px",optionIconPrefixWidthMedium:"36px",optionIconPrefixWidthLarge:"40px",optionIconPrefixWidthHuge:"40px"},self27=n=>{const{primaryColor:r,textColor2:a,dividerColor:o,hoverColor:s,popoverColor:l,invertedColor:u,borderRadius:f,fontSizeSmall:d,fontSizeMedium:v,fontSizeLarge:g,fontSizeHuge:y,heightSmall:b,heightMedium:_,heightLarge:x,heightHuge:C,textColor3:w,opacityDisabled:S}=n;return Object.assign(Object.assign({},common_default20),{optionHeightSmall:b,optionHeightMedium:_,optionHeightLarge:x,optionHeightHuge:C,borderRadius:f,fontSizeSmall:d,fontSizeMedium:v,fontSizeLarge:g,fontSizeHuge:y,optionTextColor:a,optionTextColorHover:a,optionTextColorActive:r,optionTextColorChildActive:r,color:l,dividerColor:o,suffixColor:a,prefixColor:a,optionColorHover:s,optionColorActive:changeColor(r,{alpha:.1}),groupHeaderTextColor:w,optionTextColorInverted:"#BBB",optionTextColorHoverInverted:"#FFF",optionTextColorActiveInverted:"#FFF",optionTextColorChildActiveInverted:"#FFF",colorInverted:u,dividerColorInverted:"#BBB",suffixColorInverted:"#BBB",prefixColorInverted:"#BBB",optionColorHoverInverted:r,optionColorActiveInverted:r,groupHeaderTextColorInverted:"#AAA",optionOpacityDisabled:S})},dropdownLight=createTheme({name:"Dropdown",common:light_default,peers:{Popover:light_default5},self:self27}),light_default17=dropdownLight,dropdownDark={name:"Dropdown",common:dark_default,peers:{Popover:dark_default5},self(n){const{primaryColorSuppl:r,primaryColor:a,popoverColor:o}=n,s=self27(n);return s.colorInverted=o,s.optionColorActive=changeColor(a,{alpha:.15}),s.optionColorActiveInverted=r,s.optionColorHoverInverted=r,s}},dark_default33=dropdownDark,self28=n=>{const{textColorBase:r,opacity1:a,opacity2:o,opacity3:s,opacity4:l,opacity5:u}=n;return{color:r,opacity1Depth:a,opacity2Depth:o,opacity3Depth:s,opacity4Depth:l,opacity5Depth:u}},iconDark={name:"Icon",common:dark_default,self:self28},dark_default34=iconDark,common_default21={itemFontSize:"12px",itemHeight:"36px",itemWidth:"52px",panelActionPadding:"8px 0"},self29=n=>{const{popoverColor:r,textColor2:a,primaryColor:o,hoverColor:s,dividerColor:l,opacityDisabled:u,boxShadow2:f,borderRadius:d,iconColor:v,iconColorDisabled:g}=n;return Object.assign(Object.assign({},common_default21),{panelColor:r,panelBoxShadow:f,panelDividerColor:l,itemTextColor:a,itemTextColorActive:o,itemColorHover:s,itemOpacityDisabled:u,itemBorderRadius:d,borderRadius:d,iconColor:v,iconColorDisabled:g})},timePickerLight=createTheme({name:"TimePicker",common:light_default,peers:{Scrollbar:light_default3,Button:light_default9,Input:light_default8},self:self29}),light_default18=timePickerLight,timePickerDark={name:"TimePicker",common:dark_default,peers:{Scrollbar:dark_default3,Button:dark_default17,Input:dark_default10},self:self29},dark_default35=timePickerDark,common_default22={itemSize:"24px",itemCellWidth:"38px",itemCellHeight:"32px",scrollItemWidth:"80px",scrollItemHeight:"40px",panelExtraFooterPadding:"8px 12px",panelActionPadding:"8px 12px",calendarTitlePadding:"0",calendarTitleHeight:"28px",arrowSize:"14px",panelHeaderPadding:"8px 12px",calendarDaysHeight:"32px",calendarTitleGridTempateColumns:"28px 28px 1fr 28px 28px",calendarLeftPaddingDate:"6px 12px 4px 12px",calendarLeftPaddingDatetime:"4px 12px",calendarLeftPaddingDaterange:"6px 12px 4px 12px",calendarLeftPaddingDatetimerange:"4px 12px",calendarLeftPaddingMonth:"0",calendarLeftPaddingYear:"0",calendarLeftPaddingQuarter:"0",calendarRightPaddingDate:"6px 12px 4px 12px",calendarRightPaddingDatetime:"4px 12px",calendarRightPaddingDaterange:"6px 12px 4px 12px",calendarRightPaddingDatetimerange:"4px 12px",calendarRightPaddingMonth:"0",calendarRightPaddingYear:"0",calendarRightPaddingQuarter:"0"},self30=n=>{const{hoverColor:r,fontSize:a,textColor2:o,textColorDisabled:s,popoverColor:l,primaryColor:u,borderRadiusSmall:f,iconColor:d,iconColorDisabled:v,textColor1:g,dividerColor:y,boxShadow2:b,borderRadius:_,fontWeightStrong:x}=n;return Object.assign(Object.assign({},common_default22),{itemFontSize:a,calendarDaysFontSize:a,calendarTitleFontSize:a,itemTextColor:o,itemTextColorDisabled:s,itemTextColorActive:l,itemTextColorCurrent:u,itemColorIncluded:changeColor(u,{alpha:.1}),itemColorHover:r,itemColorDisabled:r,itemColorActive:u,itemBorderRadius:f,panelColor:l,panelTextColor:o,arrowColor:d,calendarTitleTextColor:g,calendarTitleColorHover:r,calendarDaysTextColor:o,panelHeaderDividerColor:y,calendarDaysDividerColor:y,calendarDividerColor:y,panelActionDividerColor:y,panelBoxShadow:b,panelBorderRadius:_,calendarTitleFontWeight:x,scrollItemBorderRadius:_,iconColor:d,iconColorDisabled:v})},datePickerLight=createTheme({name:"DatePicker",common:light_default,peers:{Input:light_default8,Button:light_default9,TimePicker:light_default18,Scrollbar:light_default3},self:self30}),datePickerDark={name:"DatePicker",common:dark_default,peers:{Input:dark_default10,Button:dark_default17,TimePicker:dark_default35,Scrollbar:dark_default3},self(n){const{popoverColor:r,hoverColor:a,primaryColor:o}=n,s=self30(n);return s.itemColorDisabled=composite(r,a),s.itemColorIncluded=changeColor(o,{alpha:.15}),s.itemColorHover=composite(r,a),s}},dark_default36=datePickerDark,common_default23={thPaddingBorderedSmall:"8px 12px",thPaddingBorderedMedium:"12px 16px",thPaddingBorderedLarge:"16px 24px",thPaddingSmall:"0",thPaddingMedium:"0",thPaddingLarge:"0",tdPaddingBorderedSmall:"8px 12px",tdPaddingBorderedMedium:"12px 16px",tdPaddingBorderedLarge:"16px 24px",tdPaddingSmall:"0 0 8px 0",tdPaddingMedium:"0 0 12px 0",tdPaddingLarge:"0 0 16px 0"},self31=n=>{const{tableHeaderColor:r,textColor2:a,textColor1:o,cardColor:s,modalColor:l,popoverColor:u,dividerColor:f,borderRadius:d,fontWeightStrong:v,lineHeight:g,fontSizeSmall:y,fontSizeMedium:b,fontSizeLarge:_}=n;return Object.assign(Object.assign({},common_default23),{lineHeight:g,fontSizeSmall:y,fontSizeMedium:b,fontSizeLarge:_,titleTextColor:o,thColor:composite(s,r),thColorModal:composite(l,r),thColorPopover:composite(u,r),thTextColor:o,thFontWeight:v,tdTextColor:a,tdColor:s,tdColorModal:l,tdColorPopover:u,borderColor:composite(s,f),borderColorModal:composite(l,f),borderColorPopover:composite(u,f),borderRadius:d})},descriptionsDark={name:"Descriptions",common:dark_default,self:self31},dark_default37=descriptionsDark,common_default24={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"18px",closeMargin:"22px 28px 0 0",closeMarginIconTop:"12px 18px 0 0"},self32=n=>{const{textColor1:r,textColor2:a,modalColor:o,closeColor:s,closeColorHover:l,closeColorPressed:u,infoColor:f,successColor:d,warningColor:v,errorColor:g,primaryColor:y,dividerColor:b,borderRadius:_,fontWeightStrong:x,lineHeight:C,fontSize:w}=n;return Object.assign(Object.assign({},common_default24),{fontSize:w,lineHeight:C,border:`1px solid ${b}`,titleTextColor:r,textColor:a,color:o,closeColor:s,closeColorHover:l,closeColorPressed:u,iconColor:y,iconColorInfo:f,iconColorSuccess:d,iconColorWarning:v,iconColorError:g,borderRadius:_,titleFontWeight:x})},dialogLight=createTheme({name:"Dialog",common:light_default,peers:{Button:light_default9},self:self32}),light_default19=dialogLight,dialogDark={name:"Dialog",common:dark_default,peers:{Button:dark_default17},self:self32},dark_default38=dialogDark,self33=n=>{const{modalColor:r,textColor2:a,boxShadow3:o}=n;return{color:r,textColor:a,boxShadow:o}},modalLight=createTheme({name:"Modal",common:light_default,peers:{Scrollbar:light_default3,Dialog:light_default19,Card:light_default10},self:self33}),modalDark={name:"Modal",common:dark_default,peers:{Scrollbar:dark_default3,Dialog:dark_default38,Card:dark_default20},self:self33},dark_default39=modalDark,self34=n=>{const{textColor1:r,dividerColor:a,fontWeightStrong:o}=n;return{textColor:r,color:a,fontWeight:o}},dividerDark={name:"Divider",common:dark_default,self:self34},dark_default40=dividerDark,self35=n=>{const{modalColor:r,textColor1:a,textColor2:o,boxShadow3:s,lineHeight:l,fontWeightStrong:u,dividerColor:f,closeColor:d,closeColorHover:v,closeColorPressed:g}=n;return{bodyPadding:"16px 24px",headerPadding:"16px 24px",footerPadding:"16px 24px",color:r,textColor:o,titleTextColor:a,titleFontSize:"18px",titleFontWeight:u,boxShadow:s,lineHeight:l,headerBorderBottom:`1px solid ${f}`,footerBorderTop:`1px solid ${f}`,closeColor:d,closeColorHover:v,closeColorPressed:g,closeSize:"18px"}},drawerLight=createTheme({name:"Drawer",common:light_default,peers:{Scrollbar:light_default3},self:self35}),drawerDark={name:"Drawer",common:dark_default,peers:{Scrollbar:dark_default3},self:self35},dark_default41=drawerDark,common_default25={actionMargin:"0 0 0 20px",actionMarginRtl:"0 20px 0 0"},dynamicInputDark={name:"DynamicInput",common:dark_default,peers:{Input:dark_default10,Button:dark_default17},self(){return common_default25}},dark_default42=dynamicInputDark,self36=()=>common_default25,dynamicInputLight=createTheme({name:"DynamicInput",common:light_default,peers:{Input:light_default8,Button:light_default9},self:self36}),light_default20=dynamicInputLight,dynamicInputInjectionKey=createInjectionKey("n-dynamic-input"),InputPreset_default=defineComponent({name:"DynamicInputInputPreset",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:""},parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(){const{mergedThemeRef:n,placeholderRef:r}=inject(dynamicInputInjectionKey);return{mergedTheme:n,placeholder:r}},render(){const{mergedTheme:n,placeholder:r,value:a,clsPrefix:o,onUpdateValue:s}=this;return h("div",{class:`${o}-dynamic-input-preset-input`},h(Input_default,{theme:n.peers.Input,"theme-overrides":n.peerOverrides.Input,value:a,placeholder:r,onUpdateValue:s}))}}),PairPreset_default=defineComponent({name:"DynamicInputPairPreset",props:{clsPrefix:{type:String,required:!0},value:{type:Object,default:()=>({key:"",value:""})},parentPath:String,path:String,onUpdateValue:{type:Function,required:!0}},setup(n){const{mergedThemeRef:r,keyPlaceholderRef:a,valuePlaceholderRef:o}=inject(dynamicInputInjectionKey);return{mergedTheme:r,keyPlaceholder:a,valuePlaceholder:o,handleKeyInput(s){n.onUpdateValue({key:s,value:n.value.value})},handleValueInput(s){n.onUpdateValue({key:n.value.key,value:s})}}},render(){const{mergedTheme:n,keyPlaceholder:r,valuePlaceholder:a,value:o,clsPrefix:s}=this;return h("div",{class:`${s}-dynamic-input-preset-pair`},h(Input_default,{theme:n.peers.Input,"theme-overrides":n.peerOverrides.Input,value:o.key,class:`${s}-dynamic-input-pair-input`,placeholder:r,onUpdateValue:this.handleKeyInput}),h(Input_default,{theme:n.peers.Input,"theme-overrides":n.peerOverrides.Input,value:o.value,class:`${s}-dynamic-input-pair-input`,placeholder:a,onUpdateValue:this.handleValueInput}))}}),index_cssr_default16=cB("dynamic-input",{width:"100%"},[cB("dynamic-input-item",`
 margin-bottom: 10px;
 display: flex;
 flex-wrap: nowrap;
 `,[cB("dynamic-input-preset-input",{flex:1,alignItems:"center"}),cB("dynamic-input-preset-pair",`
 flex: 1;
 display: flex;
 align-items: center;
 `,[cB("dynamic-input-pair-input",[c2("&:first-child",{"margin-right":"12px"})])]),cE("action",`
 align-self: flex-start;
 display: flex;
 justify-content: flex-end;
 flex-shrink: 0;
 flex-grow: 0;
 margin: var(--action-margin);
 `,[cM("icon",{cursor:"pointer"})]),c2("&:last-child",{marginBottom:0})]),cB("form-item",`
 padding-top: 0 !important;
 margin-right: 0 !important;
 `,[cB("form-item-blank",{paddingTop:"0 !important"})])]),globalDataKeyMap=new WeakMap,dynamicInputProps=Object.assign(Object.assign({},use_theme_default.props),{max:Number,min:{type:Number,default:0},value:Array,defaultValue:{type:Array,default:()=>[]},preset:{type:String,default:"input"},keyField:String,itemStyle:[String,Object],keyPlaceholder:{type:String,default:""},valuePlaceholder:{type:String,default:""},placeholder:{type:String,default:""},showSortButton:Boolean,createButtonProps:Object,onCreate:Function,onRemove:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClear:Function,onInput:[Function,Array]}),DynamicInput_default=defineComponent({name:"DynamicInput",props:dynamicInputProps,setup(n,{slots:r}){watchEffect(()=>{n.onClear!==void 0&&warnOnce("dynamic-input","`on-clear` is deprecated, it is out of usage anymore."),n.onInput!==void 0&&warnOnce("dynamic-input","`on-input` is deprecated, please use `on-update:value` instead.")});const{mergedComponentPropsRef:a,mergedClsPrefixRef:o,mergedRtlRef:s,inlineThemeDisabled:l}=useConfig(),u=inject(formItemInjectionKey,null),f=ref(n.defaultValue),d=toRef(n,"value"),v=useMergedState(d,f),g=use_theme_default("DynamicInput","-dynamic-input",index_cssr_default16,light_default20,n,o),y=computed2(()=>{const{value:F}=v;if(Array.isArray(F)){const{max:L}=n;return L!==void 0&&F.length>=L}return!1}),b=computed2(()=>{const{value:F}=v;return Array.isArray(F)?F.length<=n.min:!0}),_=computed2(()=>{var F,L;return(L=(F=a==null?void 0:a.value)===null||F===void 0?void 0:F.DynamicInput)===null||L===void 0?void 0:L.buttonSize});function x(F){const{onInput:L,"onUpdate:value":O,onUpdateValue:z}=n;L&&call(L,F),O&&call(O,F),z&&call(z,F),f.value=F}function C(F,L){if(F==null||typeof F!="object")return L;const O=isProxy(F)?toRaw(F):F;let z=globalDataKeyMap.get(O);return z===void 0&&globalDataKeyMap.set(O,z=createId()),z}function w(F,L){const{value:O}=v,z=Array.from(O!=null?O:[]),R=z[F];if(z[F]=L,R&&L&&typeof R=="object"&&typeof L=="object"){const B=isProxy(R)?toRaw(R):R,N=isProxy(L)?toRaw(L):L,H=globalDataKeyMap.get(B);H!==void 0&&globalDataKeyMap.set(N,H)}x(z)}function S(){D(0)}function D(F){const{value:L}=v,{onCreate:O}=n,z=Array.from(L!=null?L:[]);if(O)z.splice(F+1,0,O(F+1)),x(z);else if(r.default)z.splice(F+1,0,null),x(z);else switch(n.preset){case"input":z.splice(F+1,0,""),x(z);break;case"pair":z.splice(F+1,0,{key:"",value:""}),x(z);break}}function A(F){const{value:L}=v;if(!Array.isArray(L))return;const{min:O}=n;if(L.length<=O)return;const z=Array.from(L);z.splice(F,1),x(z);const{onRemove:R}=n;R&&R(F)}function T(F,L,O){if(L<0||O<0||L>=F.length||O>=F.length||L===O)return;const z=F[L];F[L]=F[O],F[O]=z}function M(F,L){const{value:O}=v;if(!Array.isArray(O))return;const z=Array.from(O);F==="up"&&T(z,L,L-1),F==="down"&&T(z,L,L+1),x(z)}provide(dynamicInputInjectionKey,{mergedThemeRef:g,keyPlaceholderRef:toRef(n,"keyPlaceholder"),valuePlaceholderRef:toRef(n,"valuePlaceholder"),placeholderRef:toRef(n,"placeholder")});const E=useRtl("DynamicInput",s,o),P=computed2(()=>{const{self:{actionMargin:F,actionMarginRtl:L}}=g.value;return{"--action-margin":F,"--action-margin-rtl":L}}),I=l?useThemeClass("dynamic-input",void 0,P,n):void 0;return{locale:useLocale("DynamicInput").localeRef,rtlEnabled:E,buttonSize:_,mergedClsPrefix:o,NFormItem:u,uncontrolledValue:f,mergedValue:v,insertionDisabled:y,removeDisabled:b,handleCreateClick:S,ensureKey:C,handleValueChange:w,remove:A,move:M,createItem:D,mergedTheme:g,cssVars:l?void 0:P,themeClass:I==null?void 0:I.themeClass,onRender:I==null?void 0:I.onRender}},render(){const{$slots:n,buttonSize:r,mergedClsPrefix:a,mergedValue:o,locale:s,mergedTheme:l,keyField:u,itemStyle:f,preset:d,showSortButton:v,NFormItem:g,ensureKey:y,handleValueChange:b,remove:_,createItem:x,move:C,onRender:w}=this;return w==null||w(),h("div",{class:[`${a}-dynamic-input`,this.rtlEnabled&&`${a}-dynamic-input--rtl`,this.themeClass],style:this.cssVars},!Array.isArray(o)||o.length===0?h(Button_default,Object.assign({block:!0,ghost:!0,dashed:!0,size:r},this.createButtonProps,{disabled:this.insertionDisabled,theme:l.peers.Button,themeOverrides:l.peerOverrides.Button,onClick:this.handleCreateClick}),{default:()=>resolveSlot(n["create-button-default"],()=>[s.create]),icon:()=>resolveSlot(n["create-button-icon"],()=>[h(Icon_default,{clsPrefix:a},{default:()=>h(Add_default,null)})])}):o.map((S,D)=>h("div",{key:u?S[u]:y(S,D),"data-key":u?S[u]:y(S,D),class:`${a}-dynamic-input-item`,style:f},resolveSlotWithProps(n.default,{value:o[D],index:D},()=>[d==="input"?h(InputPreset_default,{clsPrefix:a,value:o[D],parentPath:g?g.path.value:void 0,path:(g==null?void 0:g.path.value)?`${g.path.value}[${D}]`:void 0,onUpdateValue:A=>b(D,A)}):d==="pair"?h(PairPreset_default,{clsPrefix:a,value:o[D],parentPath:g?g.path.value:void 0,path:(g==null?void 0:g.path.value)?`${g.path.value}[${D}]`:void 0,onUpdateValue:A=>b(D,A)}):null]),h("div",{class:`${a}-dynamic-input-item__action`},h(ButtonGroup_default,{size:r},{default:()=>[h(Button_default,{disabled:this.removeDisabled,theme:l.peers.Button,themeOverrides:l.peerOverrides.Button,circle:!0,onClick:()=>_(D)},{icon:()=>h(Icon_default,{clsPrefix:a},{default:()=>h(Remove_default,null)})}),h(Button_default,{disabled:this.insertionDisabled,circle:!0,theme:l.peers.Button,themeOverrides:l.peerOverrides.Button,onClick:()=>x(D)},{icon:()=>h(Icon_default,{clsPrefix:a},{default:()=>h(Add_default,null)})}),v?h(Button_default,{disabled:D===0,circle:!0,theme:l.peers.Button,themeOverrides:l.peerOverrides.Button,onClick:()=>C("up",D)},{icon:()=>h(Icon_default,{clsPrefix:a},{default:()=>h(ArrowUp_default,null)})}):null,v?h(Button_default,{disabled:D===o.length-1,circle:!0,theme:l.peers.Button,themeOverrides:l.peerOverrides.Button,onClick:()=>C("down",D)},{icon:()=>h(Icon_default,{clsPrefix:a},{default:()=>h(ArrowDown_default,null)})}):null]})))))}}),common_default26={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},spaceDark={name:"Space",self(){return common_default26}},dark_default43=spaceDark,dynamicTagsDark={name:"DynamicTags",common:dark_default,peers:{Input:dark_default10,Button:dark_default17,Tag:dark_default6,Space:dark_default43},self(){return{inputWidth:"64px"}}},dark_default44=dynamicTagsDark,elementDark={name:"Element",common:dark_default},dark_default45=elementDark,common_default27={feedbackPadding:"4px 0 0 2px",feedbackHeightSmall:"24px",feedbackHeightMedium:"24px",feedbackHeightLarge:"26px",feedbackFontSizeSmall:"13px",feedbackFontSizeMedium:"14px",feedbackFontSizeLarge:"14px",labelFontSizeLeftSmall:"14px",labelFontSizeLeftMedium:"14px",labelFontSizeLeftLarge:"15px",labelFontSizeTopSmall:"13px",labelFontSizeTopMedium:"14px",labelFontSizeTopLarge:"14px",labelHeightSmall:"24px",labelHeightMedium:"26px",labelHeightLarge:"28px",labelPaddingVertical:"0 0 8px 2px",labelPaddingHorizontal:"0 12px 0 0",labelTextAlignVertical:"left",labelTextAlignHorizontal:"right"},self37=n=>{const{heightSmall:r,heightMedium:a,heightLarge:o,textColor1:s,errorColor:l,warningColor:u,lineHeight:f,textColor3:d}=n;return Object.assign(Object.assign({},common_default27),{blankHeightSmall:r,blankHeightMedium:a,blankHeightLarge:o,lineHeight:f,labelTextColor:s,asteriskColor:l,feedbackTextColorError:l,feedbackTextColorWarning:u,feedbackTextColor:d})},formLight={name:"Form",common:light_default,self:self37},light_default21=formLight,formItemDark={name:"Form",common:dark_default,self:self37},dark_default46=formItemDark,form_cssr_default=cB("form",[cM("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[cB("form-item",{width:"auto",marginRight:"18px"},[c2("&:last-child",{marginRight:0})])])]),formInjectionKey=createInjectionKey("n-form"),formItemInstsInjectionKey=createInjectionKey("n-form-item-insts"),__awaiter=function(n,r,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function f(g){try{v(o.next(g))}catch(y){u(y)}}function d(g){try{v(o.throw(g))}catch(y){u(y)}}function v(g){g.done?l(g.value):s(g.value).then(f,d)}v((o=o.apply(n,r||[])).next())})},formProps=Object.assign(Object.assign({},use_theme_default.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:n=>n.preventDefault()},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),Form_default=defineComponent({name:"Form",props:formProps,setup(n){const{mergedClsPrefixRef:r}=useConfig(n);use_theme_default("Form","-form",form_cssr_default,light_default21,n,r);const a={},o=ref(void 0),s=d=>{const v=o.value;(v===void 0||d>=v)&&(o.value=d)};function l(d,v=()=>!0){return __awaiter(this,void 0,void 0,function*(){return yield new Promise((g,y)=>{const b=[];for(const _ of keysOf(a)){const x=a[_];for(const C of x)C.path&&b.push(C.internalValidate(null,v))}Promise.all(b).then(_=>{if(_.some(x=>!x.valid)){const x=_.filter(C=>C.errors).map(C=>C.errors);d&&d(x),y(x)}else d&&d(),g()})})})}function u(){for(const d of keysOf(a)){const v=a[d];for(const g of v)g.restoreValidation()}}return provide(formInjectionKey,{props:n,maxChildLabelWidthRef:o,deriveMaxChildLabelWidth:s}),provide(formItemInstsInjectionKey,{formItems:a}),Object.assign({validate:l,restoreValidation:u},{mergedClsPrefix:r})},render(){const{mergedClsPrefix:n}=this;return h("form",{class:[`${n}-form`,this.inline&&`${n}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function _extends(){return _extends=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n},_extends.apply(this,arguments)}function _inheritsLoose(n,r){n.prototype=Object.create(r.prototype),n.prototype.constructor=n,_setPrototypeOf(n,r)}function _getPrototypeOf(n){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(n)}function _setPrototypeOf(n,r){return _setPrototypeOf=Object.setPrototypeOf||function(o,s){return o.__proto__=s,o},_setPrototypeOf(n,r)}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function _construct(n,r,a){return _isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(s,l,u){var f=[null];f.push.apply(f,l);var d=Function.bind.apply(s,f),v=new d;return u&&_setPrototypeOf(v,u.prototype),v},_construct.apply(null,arguments)}function _isNativeFunction(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function _wrapNativeSuper(n){var r=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(o){if(o===null||!_isNativeFunction(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r!="undefined"){if(r.has(o))return r.get(o);r.set(o,s)}function s(){return _construct(o,arguments,_getPrototypeOf(this).constructor)}return s.prototype=Object.create(o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(s,o)},_wrapNativeSuper(n)}var formatRegExp=/%[sdj%]/g,warning=function(){};typeof process!="undefined"&&process.env&&!0&&typeof window!="undefined"&&typeof document!="undefined"&&(warning=function(r,a){typeof console!="undefined"&&console.warn&&typeof ASYNC_VALIDATOR_NO_WARNING=="undefined"&&a.every(function(o){return typeof o=="string"})&&console.warn(r,a)});function convertFieldsError(n){if(!n||!n.length)return null;var r={};return n.forEach(function(a){var o=a.field;r[o]=r[o]||[],r[o].push(a)}),r}function format(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var s=0,l=a.length;if(typeof n=="function")return n.apply(null,a);if(typeof n=="string"){var u=n.replace(formatRegExp,function(f){if(f==="%%")return"%";if(s>=l)return f;switch(f){case"%s":return String(a[s++]);case"%d":return Number(a[s++]);case"%j":try{return JSON.stringify(a[s++])}catch(d){return"[Circular]"}break;default:return f}});return u}return n}function isNativeStringType(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function isEmptyValue2(n,r){return!!(n==null||r==="array"&&Array.isArray(n)&&!n.length||isNativeStringType(r)&&typeof n=="string"&&!n)}function asyncParallelArray(n,r,a){var o=[],s=0,l=n.length;function u(f){o.push.apply(o,f||[]),s++,s===l&&a(o)}n.forEach(function(f){r(f,u)})}function asyncSerialArray(n,r,a){var o=0,s=n.length;function l(u){if(u&&u.length){a(u);return}var f=o;o=o+1,f<s?r(n[f],l):a([])}l([])}function flattenObjArr(n){var r=[];return Object.keys(n).forEach(function(a){r.push.apply(r,n[a]||[])}),r}var AsyncValidationError=function(n){_inheritsLoose(r,n);function r(a,o){var s;return s=n.call(this,"Async Validation Error")||this,s.errors=a,s.fields=o,s}return r}(_wrapNativeSuper(Error));function asyncMap(n,r,a,o,s){if(r.first){var l=new Promise(function(b,_){var x=function(S){return o(S),S.length?_(new AsyncValidationError(S,convertFieldsError(S))):b(s)},C=flattenObjArr(n);asyncSerialArray(C,a,x)});return l.catch(function(b){return b}),l}var u=r.firstFields===!0?Object.keys(n):r.firstFields||[],f=Object.keys(n),d=f.length,v=0,g=[],y=new Promise(function(b,_){var x=function(w){if(g.push.apply(g,w),v++,v===d)return o(g),g.length?_(new AsyncValidationError(g,convertFieldsError(g))):b(s)};f.length||(o(g),b(s)),f.forEach(function(C){var w=n[C];u.indexOf(C)!==-1?asyncSerialArray(w,a,x):asyncParallelArray(w,a,x)})});return y.catch(function(b){return b}),y}function isErrorObj(n){return!!(n&&n.message!==void 0)}function getValue3(n,r){for(var a=n,o=0;o<r.length;o++){if(a==null)return a;a=a[r[o]]}return a}function complementError(n,r){return function(a){var o;return n.fullFields?o=getValue3(r,n.fullFields):o=r[a.field||n.fullField],isErrorObj(a)?(a.field=a.field||n.fullField,a.fieldValue=o,a):{message:typeof a=="function"?a():a,fieldValue:o,field:a.field||n.fullField}}}function deepMerge(n,r){if(r){for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];typeof o=="object"&&typeof n[a]=="object"?n[a]=_extends({},n[a],o):n[a]=o}}return n}var required$1=function(r,a,o,s,l,u){r.required&&(!o.hasOwnProperty(r.field)||isEmptyValue2(a,u||r.type))&&s.push(format(l.messages.required,r.fullField))},whitespace=function(r,a,o,s,l){(/^\s+$/.test(a)||a==="")&&s.push(format(l.messages.whitespace,r.fullField))},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function(r){return types.number(r)&&parseInt(r,10)===r},float:function(r){return types.number(r)&&!types.integer(r)},array:function(r){return Array.isArray(r)},regexp:function(r){if(r instanceof RegExp)return!0;try{return!!new RegExp(r)}catch(a){return!1}},date:function(r){return typeof r.getTime=="function"&&typeof r.getMonth=="function"&&typeof r.getYear=="function"&&!isNaN(r.getTime())},number:function(r){return isNaN(r)?!1:typeof r=="number"},object:function(r){return typeof r=="object"&&!types.array(r)},method:function(r){return typeof r=="function"},email:function(r){return typeof r=="string"&&r.length<=320&&!!r.match(pattern$2.email)},url:function(r){return typeof r=="string"&&r.length<=2048&&!!r.match(pattern$2.url)},hex:function(r){return typeof r=="string"&&!!r.match(pattern$2.hex)}},type$1=function(r,a,o,s,l){if(r.required&&a===void 0){required$1(r,a,o,s,l);return}var u=["integer","float","array","regexp","object","method","email","number","date","url","hex"],f=r.type;u.indexOf(f)>-1?types[f](a)||s.push(format(l.messages.types[f],r.fullField,r.type)):f&&typeof a!==r.type&&s.push(format(l.messages.types[f],r.fullField,r.type))},range=function(r,a,o,s,l){var u=typeof r.len=="number",f=typeof r.min=="number",d=typeof r.max=="number",v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g=a,y=null,b=typeof a=="number",_=typeof a=="string",x=Array.isArray(a);if(b?y="number":_?y="string":x&&(y="array"),!y)return!1;x&&(g=a.length),_&&(g=a.replace(v,"_").length),u?g!==r.len&&s.push(format(l.messages[y].len,r.fullField,r.len)):f&&!d&&g<r.min?s.push(format(l.messages[y].min,r.fullField,r.min)):d&&!f&&g>r.max?s.push(format(l.messages[y].max,r.fullField,r.max)):f&&d&&(g<r.min||g>r.max)&&s.push(format(l.messages[y].range,r.fullField,r.min,r.max))},ENUM$1="enum",enumerable$1=function(r,a,o,s,l){r[ENUM$1]=Array.isArray(r[ENUM$1])?r[ENUM$1]:[],r[ENUM$1].indexOf(a)===-1&&s.push(format(l.messages[ENUM$1],r.fullField,r[ENUM$1].join(", ")))},pattern$1=function(r,a,o,s,l){if(r.pattern){if(r.pattern instanceof RegExp)r.pattern.lastIndex=0,r.pattern.test(a)||s.push(format(l.messages.pattern.mismatch,r.fullField,a,r.pattern));else if(typeof r.pattern=="string"){var u=new RegExp(r.pattern);u.test(a)||s.push(format(l.messages.pattern.mismatch,r.fullField,a,r.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a,"string")&&!r.required)return o();rules.required(r,a,s,u,l,"string"),isEmptyValue2(a,"string")||(rules.type(r,a,s,u,l),rules.range(r,a,s,u,l),rules.pattern(r,a,s,u,l),r.whitespace===!0&&rules.whitespace(r,a,s,u,l))}o(u)},method2=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a)&&!r.required)return o();rules.required(r,a,s,u,l),a!==void 0&&rules.type(r,a,s,u,l)}o(u)},number2=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(a===""&&(a=void 0),isEmptyValue2(a)&&!r.required)return o();rules.required(r,a,s,u,l),a!==void 0&&(rules.type(r,a,s,u,l),rules.range(r,a,s,u,l))}o(u)},_boolean=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a)&&!r.required)return o();rules.required(r,a,s,u,l),a!==void 0&&rules.type(r,a,s,u,l)}o(u)},regexp2=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a)&&!r.required)return o();rules.required(r,a,s,u,l),isEmptyValue2(a)||rules.type(r,a,s,u,l)}o(u)},integer2=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a)&&!r.required)return o();rules.required(r,a,s,u,l),a!==void 0&&(rules.type(r,a,s,u,l),rules.range(r,a,s,u,l))}o(u)},floatFn=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a)&&!r.required)return o();rules.required(r,a,s,u,l),a!==void 0&&(rules.type(r,a,s,u,l),rules.range(r,a,s,u,l))}o(u)},array2=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(a==null&&!r.required)return o();rules.required(r,a,s,u,l,"array"),a!=null&&(rules.type(r,a,s,u,l),rules.range(r,a,s,u,l))}o(u)},object2=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a)&&!r.required)return o();rules.required(r,a,s,u,l),a!==void 0&&rules.type(r,a,s,u,l)}o(u)},ENUM="enum",enumerable2=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a)&&!r.required)return o();rules.required(r,a,s,u,l),a!==void 0&&rules[ENUM](r,a,s,u,l)}o(u)},pattern2=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a,"string")&&!r.required)return o();rules.required(r,a,s,u,l),isEmptyValue2(a,"string")||rules.pattern(r,a,s,u,l)}o(u)},date2=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a,"date")&&!r.required)return o();if(rules.required(r,a,s,u,l),!isEmptyValue2(a,"date")){var d;a instanceof Date?d=a:d=new Date(a),rules.type(r,d,s,u,l),d&&rules.range(r,d.getTime(),s,u,l)}}o(u)},required2=function(r,a,o,s,l){var u=[],f=Array.isArray(a)?"array":typeof a;rules.required(r,a,s,u,l,f),o(u)},type2=function(r,a,o,s,l){var u=r.type,f=[],d=r.required||!r.required&&s.hasOwnProperty(r.field);if(d){if(isEmptyValue2(a,u)&&!r.required)return o();rules.required(r,a,s,f,l,u),isEmptyValue2(a,u)||rules.type(r,a,s,f,l)}o(f)},any=function(r,a,o,s,l){var u=[],f=r.required||!r.required&&s.hasOwnProperty(r.field);if(f){if(isEmptyValue2(a)&&!r.required)return o();rules.required(r,a,s,u,l)}o(u)},validators={string,method:method2,number:number2,boolean:_boolean,regexp:regexp2,integer:integer2,float:floatFn,array:array2,object:object2,enum:enumerable2,pattern:pattern2,date:date2,url:type2,hex:type2,email:type2,required:required2,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var r=JSON.parse(JSON.stringify(this));return r.clone=this.clone,r}}}var messages=newMessages(),Schema=function(){function n(a){this.rules=null,this._messages=messages,this.define(a)}var r=n.prototype;return r.define=function(o){var s=this;if(!o)throw new Error("Cannot configure a schema with no rules");if(typeof o!="object"||Array.isArray(o))throw new Error("Rules must be an object");this.rules={},Object.keys(o).forEach(function(l){var u=o[l];s.rules[l]=Array.isArray(u)?u:[u]})},r.messages=function(o){return o&&(this._messages=deepMerge(newMessages(),o)),this._messages},r.validate=function(o,s,l){var u=this;s===void 0&&(s={}),l===void 0&&(l=function(){});var f=o,d=s,v=l;if(typeof d=="function"&&(v=d,d={}),!this.rules||Object.keys(this.rules).length===0)return v&&v(null,f),Promise.resolve(f);function g(C){var w=[],S={};function D(T){if(Array.isArray(T)){var M;w=(M=w).concat.apply(M,T)}else w.push(T)}for(var A=0;A<C.length;A++)D(C[A]);w.length?(S=convertFieldsError(w),v(w,S)):v(null,f)}if(d.messages){var y=this.messages();y===messages&&(y=newMessages()),deepMerge(y,d.messages),d.messages=y}else d.messages=this.messages();var b={},_=d.keys||Object.keys(this.rules);_.forEach(function(C){var w=u.rules[C],S=f[C];w.forEach(function(D){var A=D;typeof A.transform=="function"&&(f===o&&(f=_extends({},f)),S=f[C]=A.transform(S)),typeof A=="function"?A={validator:A}:A=_extends({},A),A.validator=u.getValidationMethod(A),!!A.validator&&(A.field=C,A.fullField=A.fullField||C,A.type=u.getType(A),b[C]=b[C]||[],b[C].push({rule:A,value:S,source:f,field:C}))})});var x={};return asyncMap(b,d,function(C,w){var S=C.rule,D=(S.type==="object"||S.type==="array")&&(typeof S.fields=="object"||typeof S.defaultField=="object");D=D&&(S.required||!S.required&&C.value),S.field=C.field;function A(E,P){return _extends({},P,{fullField:S.fullField+"."+E,fullFields:S.fullFields?[].concat(S.fullFields,[E]):[E]})}function T(E){E===void 0&&(E=[]);var P=Array.isArray(E)?E:[E];!d.suppressWarning&&P.length&&n.warning("async-validator:",P),P.length&&S.message!==void 0&&(P=[].concat(S.message));var I=P.map(complementError(S,f));if(d.first&&I.length)return x[S.field]=1,w(I);if(!D)w(I);else{if(S.required&&!C.value)return S.message!==void 0?I=[].concat(S.message).map(complementError(S,f)):d.error&&(I=[d.error(S,format(d.messages.required,S.field))]),w(I);var F={};S.defaultField&&Object.keys(C.value).map(function(z){F[z]=S.defaultField}),F=_extends({},F,C.rule.fields);var L={};Object.keys(F).forEach(function(z){var R=F[z],B=Array.isArray(R)?R:[R];L[z]=B.map(A.bind(null,z))});var O=new n(L);O.messages(d.messages),C.rule.options&&(C.rule.options.messages=d.messages,C.rule.options.error=d.error),O.validate(C.value,C.rule.options||d,function(z){var R=[];I&&I.length&&R.push.apply(R,I),z&&z.length&&R.push.apply(R,z),w(R.length?R:null)})}}var M;S.asyncValidator?M=S.asyncValidator(S,C.value,T,C.source,d):S.validator&&(M=S.validator(S,C.value,T,C.source,d),M===!0?T():M===!1?T(typeof S.message=="function"?S.message(S.fullField||S.field):S.message||(S.fullField||S.field)+" fails"):M instanceof Array?T(M):M instanceof Error&&T(M.message)),M&&M.then&&M.then(function(){return T()},function(E){return T(E)})},function(C){g(C)},f)},r.getType=function(o){if(o.type===void 0&&o.pattern instanceof RegExp&&(o.type="pattern"),typeof o.validator!="function"&&o.type&&!validators.hasOwnProperty(o.type))throw new Error(format("Unknown rule type %s",o.type));return o.type||"string"},r.getValidationMethod=function(o){if(typeof o.validator=="function")return o.validator;var s=Object.keys(o),l=s.indexOf("message");return l!==-1&&s.splice(l,1),s.length===1&&s[0]==="required"?validators.required:validators[this.getType(o)]||void 0},n}();Schema.register=function(r,a){if(typeof a!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[r]=a},Schema.warning=warning,Schema.messages=messages,Schema.validators=validators;function formItemSize(n){const r=inject(formInjectionKey,null);return{mergedSize:computed2(()=>n.size!==void 0?n.size:(r==null?void 0:r.props.size)!==void 0?r.props.size:"medium")}}function formItemMisc(n){const r=inject(formInjectionKey,null),a=computed2(()=>{if(o.value==="top")return;const{labelWidth:b}=n;if(b!==void 0&&b!=="auto")return formatLength(b);if(b==="auto"||(r==null?void 0:r.props.labelWidth)==="auto"){const _=r==null?void 0:r.maxChildLabelWidthRef.value;return _!==void 0?formatLength(_):void 0}if((r==null?void 0:r.props.labelWidth)!==void 0)return formatLength(r.props.labelWidth)}),o=computed2(()=>{const{labelPlacement:b}=n;return b!==void 0?b:(r==null?void 0:r.props.labelPlacement)?r.props.labelPlacement:"top"}),s=computed2(()=>{const{labelAlign:b}=n;if(b)return b;if(r==null?void 0:r.props.labelAlign)return r.props.labelAlign}),l=computed2(()=>{var b;return[(b=n.labelProps)===null||b===void 0?void 0:b.style,n.labelStyle,{width:a.value}]}),u=computed2(()=>{const{showRequireMark:b}=n;return b!==void 0?b:r==null?void 0:r.props.showRequireMark}),f=computed2(()=>{const{requireMarkPlacement:b}=n;return b!==void 0?b:(r==null?void 0:r.props.requireMarkPlacement)||"right"}),d=ref(!1),v=computed2(()=>{const{validationStatus:b}=n;if(b!==void 0)return b;if(d.value)return"error"}),g=computed2(()=>{const{showFeedback:b}=n;return b!==void 0?b:(r==null?void 0:r.props.showFeedback)!==void 0?r.props.showFeedback:!0}),y=computed2(()=>{const{showLabel:b}=n;return b!==void 0?b:(r==null?void 0:r.props.showLabel)!==void 0?r.props.showLabel:!0});return{validationErrored:d,mergedLabelStyle:l,mergedLabelPlacement:o,mergedLabelAlign:s,mergedShowRequireMark:u,mergedRequireMarkPlacement:f,mergedValidationStatus:v,mergedShowFeedback:g,mergedShowLabel:y}}function formItemRule(n){const r=inject(formInjectionKey,null),a=computed2(()=>{const{rulePath:u}=n;if(u!==void 0)return u;const{path:f}=n;if(f!==void 0)return f}),o=computed2(()=>{const u=[],{rule:f}=n;if(f!==void 0&&(Array.isArray(f)?u.push(...f):u.push(f)),r){const{rules:d}=r.props,{value:v}=a;if(d!==void 0&&v!==void 0){const g=get_default(d,v);g!==void 0&&(Array.isArray(g)?u.push(...g):u.push(g))}}return u}),s=computed2(()=>o.value.some(u=>u.required)),l=computed2(()=>s.value||n.required);return{mergedRules:o,mergedRequired:l}}var Feedbacks_default=defineComponent({name:"FormItemFeedback",props:{clsPrefix:{type:String,required:!0},explains:Array,feedback:String},render(){var n;const{$slots:r,feedback:a,clsPrefix:o}=this;return r.default?r.default():a?h("div",{key:a,class:`${o}-form-item-feedback__line`},a):(n=this.explains)===null||n===void 0?void 0:n.map(s=>h("div",{key:s,class:`${o}-form-item-feedback__line`},s))}}),{cubicBezierEaseInOut:cubicBezierEaseInOut4}=common_default;function fade_down_cssr_default({name:n="fade-down",fromOffset:r="-4px",enterDuration:a=".3s",leaveDuration:o=".3s",enterCubicBezier:s=cubicBezierEaseInOut4,leaveCubicBezier:l=cubicBezierEaseInOut4}={}){return[c2(`&.${n}-transition-enter-from, &.${n}-transition-leave-to`,{opacity:0,transform:`translateY(${r})`}),c2(`&.${n}-transition-enter-to, &.${n}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),c2(`&.${n}-transition-leave-active`,{transition:`opacity ${o} ${l}, transform ${o} ${l}`}),c2(`&.${n}-transition-enter-active`,{transition:`opacity ${a} ${s}, transform ${a} ${s}`})]}var form_item_cssr_default=cB("form-item",{display:"grid",lineHeight:"var(--n-line-height)"},[cB("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 `,[cE("asterisk",`
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),cE("asterisk-placeholder",`
 visibility: hidden; 
 `)]),cB("form-item-blank",{gridArea:"blank",minHeight:"var(--n-blank-height)"}),cM("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 `,[cB("form-item-label",`
 height: var(--n-blank-height);
 line-height: var(--n-blank-height);
 box-sizing: border-box;
 white-space: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `)]),cM("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: var(--n-label-height) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[cM("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),cB("form-item-label",{display:"flex",alignItems:"flex-end",justifyContent:"var(--n-label-text-align)"})]),cB("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),cB("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[c2("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),cB("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[cM("warning",{color:"var(--n-feedback-text-color-warning)"}),cM("error",{color:"var(--n-feedback-text-color-error)"}),fade_down_cssr_default({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]),__awaiter2=function(n,r,a,o){function s(l){return l instanceof a?l:new a(function(u){u(l)})}return new(a||(a=Promise))(function(l,u){function f(g){try{v(o.next(g))}catch(y){u(y)}}function d(g){try{v(o.throw(g))}catch(y){u(y)}}function v(g){g.done?l(g.value):s(g.value).then(f,d)}v((o=o.apply(n,r||[])).next())})},formItemProps=Object.assign(Object.assign({},use_theme_default.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,showLabel:{type:Boolean,default:void 0},labelProps:Object}),formItemPropKeys=keysOf(formItemProps);function wrapValidator(n,r){return(...a)=>{try{const o=n(...a);return!r&&(typeof o=="boolean"||o instanceof Error||Array.isArray(o))||(o==null?void 0:o.then)?o:(o===void 0||warn3("form-item/validate",`You return a ${typeof o} typed value in the validator method, which is not recommended. Please use `+(r?"`Promise`":"`boolean`, `Error` or `Promise`")+" typed value instead."),!0)}catch(o){warn3("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(o);return}}}var FormItem_default=defineComponent({name:"FormItem",props:formItemProps,setup(n){useInjectionInstanceCollection(formItemInstsInjectionKey,"formItems",toRef(n,"path"));const{mergedClsPrefixRef:r,inlineThemeDisabled:a}=useConfig(n),o=inject(formInjectionKey,null),s=formItemSize(n),l=formItemMisc(n),{validationErrored:u}=l,{mergedRequired:f,mergedRules:d}=formItemRule(n),{mergedSize:v}=s,{mergedLabelPlacement:g,mergedLabelAlign:y}=l,b=ref([]),_=ref(createId()),x=computed2(()=>{const{feedback:z}=n;return z!=null?!0:b.value.length}),C=o?toRef(o.props,"disabled"):ref(!1),w=use_theme_default("Form","-form-item",form_item_cssr_default,light_default21,n,r);watch(toRef(n,"path"),()=>{n.ignorePathChange||S()});function S(){b.value=[],u.value=!1,n.feedback&&(_.value=createId())}function D(){P("blur")}function A(){P("change")}function T(){P("focus")}function M(){P("input")}function E(z,R){return __awaiter2(this,void 0,void 0,function*(){let B,N,H,W;return typeof z=="string"?(B=z,N=R):z!==null&&typeof z=="object"&&(B=z.trigger,N=z.callback,H=z.shouldRuleBeApplied,W=z.options),yield new Promise((V,G)=>{P(B,H,W).then(({valid:Y,errors:Q})=>{Y?(N&&N(),V()):(N&&N(Q),G(Q))})})})}const P=(z=null,R=()=>!0,B={suppressWarning:!0})=>__awaiter2(this,void 0,void 0,function*(){const{path:N}=n;B?B.first||(B.first=n.first):B={};const{value:H}=d,W=o?get_default(o.props.model,N||""):void 0,V=(z?H.filter(q=>Array.isArray(q.trigger)?q.trigger.includes(z):q.trigger===z):H).filter(R).map(q=>{const ne=Object.assign({},q);return ne.validator&&(ne.validator=wrapValidator(ne.validator,!1)),ne.asyncValidator&&(ne.asyncValidator=wrapValidator(ne.asyncValidator,!0)),ne});if(!V.length)return yield Promise.resolve({valid:!0});const G=N!=null?N:"__n_no_path__",Y=new Schema({[G]:V}),{validateMessages:Q}=(o==null?void 0:o.props)||{};return Q&&Y.messages(Q),yield new Promise(q=>{Y.validate({[G]:W},B,(ne,ve)=>{(ne==null?void 0:ne.length)?(b.value=ne.map(fe=>(fe==null?void 0:fe.message)||""),u.value=!0,q({valid:!1,errors:ne})):(S(),q({valid:!0}))})})});provide(formItemInjectionKey,{path:toRef(n,"path"),disabled:C,mergedSize:s.mergedSize,mergedValidationStatus:l.mergedValidationStatus,restoreValidation:S,handleContentBlur:D,handleContentChange:A,handleContentFocus:T,handleContentInput:M});const I={validate:E,restoreValidation:S,internalValidate:P},F=ref(null);onMounted(()=>{F.value!==null&&(o==null||o.deriveMaxChildLabelWidth(Number(getComputedStyle(F.value).width.slice(0,-2))))});const L=computed2(()=>{var z;const{value:R}=v,{value:B}=g,N=B==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:H},self:{labelTextColor:W,asteriskColor:V,lineHeight:G,feedbackTextColor:Y,feedbackTextColorWarning:Q,feedbackTextColorError:q,feedbackPadding:ne,[createKey("labelHeight",R)]:ve,[createKey("blankHeight",R)]:fe,[createKey("feedbackFontSize",R)]:he,[createKey("feedbackHeight",R)]:pe,[createKey("labelPadding",N)]:de,[createKey("labelTextAlign",N)]:ue,[createKey(createKey("labelFontSize",B),R)]:be}}=w.value;let se=(z=y.value)!==null&&z!==void 0?z:ue;return B==="top"&&(se=se==="right"?"flex-end":"flex-start"),{"--n-bezier":H,"--n-line-height":G,"--n-blank-height":fe,"--n-label-font-size":be,"--n-label-text-align":se,"--n-label-height":ve,"--n-label-padding":de,"--n-asterisk-color":V,"--n-label-text-color":W,"--n-feedback-padding":ne,"--n-feedback-font-size":he,"--n-feedback-height":pe,"--n-feedback-text-color":Y,"--n-feedback-text-color-warning":Q,"--n-feedback-text-color-error":q}}),O=useThemeClass("form-item",computed2(()=>{var z;return`${v.value[0]}${g.value[0]}${((z=y.value)===null||z===void 0?void 0:z[0])||""}`}),L,n);return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:F,mergedClsPrefix:r,mergedRequired:f,hasFeedback:x,feedbackId:_,explains:b},l),s),I),{cssVars:a?void 0:L,themeClass:O==null?void 0:O.themeClass,onRender:O==null?void 0:O.onRender})},render(){var n;const{$slots:r,mergedClsPrefix:a,mergedShowLabel:o,mergedShowRequireMark:s,mergedRequireMarkPlacement:l,onRender:u}=this,f=s!==void 0?s:this.mergedRequired;return u==null||u(),h("div",{class:[`${a}-form-item`,this.themeClass,`${a}-form-item--${this.mergedSize}-size`,`${a}-form-item--${this.mergedLabelPlacement}-labelled`,!o&&`${a}-form-item--no-label`],style:this.cssVars},o&&(this.label||r.label)?h("label",Object.assign({},this.labelProps,{class:[(n=this.labelProps)===null||n===void 0?void 0:n.class,`${a}-form-item-label`],style:this.mergedLabelStyle,ref:"labelElementRef"}),l!=="left"?r.label?r.label():this.label:null,f?h("span",{class:`${a}-form-item-label__asterisk`},l!=="left"?"\xA0*":"*\xA0"):l==="right-hanging"&&h("span",{class:`${a}-form-item-label__asterisk-placeholder`},"\xA0*"),l==="left"?r.label?r.label():this.label:null):null,h("div",{class:[`${a}-form-item-blank`,this.mergedValidationStatus&&`${a}-form-item-blank--${this.mergedValidationStatus}`]},r),this.mergedShowFeedback?h("div",{key:this.feedbackId,class:`${a}-form-item-feedback-wrapper`},h(Transition,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const d=h(Feedbacks_default,{clsPrefix:a,explains:this.explains,feedback:this.feedback},{default:r.feedback}),{hasFeedback:v,mergedValidationStatus:g}=this;return v||r.feedback?g==="warning"?h("div",{key:"controlled-warning",class:`${a}-form-item-feedback ${a}-form-item-feedback--warning`},d):g==="error"?h("div",{key:"controlled-error",class:`${a}-form-item-feedback ${a}-form-item-feedback--error`},d):g==="success"?h("div",{key:"controlled-success",class:`${a}-form-item-feedback ${a}-form-item-feedback--success`},d):h("div",{key:"controlled-default",class:`${a}-form-item-feedback`},d):null}})):null)}}),gradientTextDark={name:"GradientText",common:dark_default,self(n){const{primaryColor:r,successColor:a,warningColor:o,errorColor:s,infoColor:l,primaryColorSuppl:u,successColorSuppl:f,warningColorSuppl:d,errorColorSuppl:v,infoColorSuppl:g,fontWeightStrong:y}=n;return{fontWeight:y,rotate:"252deg",colorStartPrimary:r,colorEndPrimary:u,colorStartInfo:l,colorEndInfo:g,colorStartWarning:o,colorEndWarning:d,colorStartError:s,colorEndError:v,colorStartSuccess:a,colorEndSuccess:f}}},dark_default47=gradientTextDark,self38=n=>{const{primaryColor:r,baseColor:a}=n;return{color:r,iconColor:a}},iconDark2={name:"IconWrapper",common:dark_default,self:self38},dark_default48=iconDark2,buttonGroupDark={name:"ButtonGroup",common:dark_default},dark_default49=buttonGroupDark,inputNumberDark={name:"InputNumber",common:dark_default,peers:{Button:dark_default17,Input:dark_default10},self(n){const{textColorDisabled:r}=n;return{iconColorDisabled:r}}},dark_default50=inputNumberDark,layoutDark={name:"Layout",common:dark_default,peers:{Scrollbar:dark_default3},self(n){const{textColor2:r,bodyColor:a,popoverColor:o,cardColor:s,dividerColor:l,scrollbarColor:u,scrollbarColorHover:f}=n;return{textColor:r,textColorInverted:r,color:a,colorEmbedded:a,headerColor:s,headerColorInverted:s,footerColor:s,footerColorInverted:s,headerBorderColor:l,headerBorderColorInverted:l,footerBorderColor:l,footerBorderColorInverted:l,siderBorderColor:l,siderBorderColorInverted:l,siderColor:s,siderColorInverted:s,siderToggleButtonBorder:"1px solid transparent",siderToggleButtonColor:o,siderToggleButtonIconColor:r,siderToggleButtonIconColorInverted:r,siderToggleBarColor:composite(a,u),siderToggleBarColorHover:composite(a,f),__invertScrollbar:"false"}}},dark_default51=layoutDark,self39=n=>{const{textColor2:r,cardColor:a,modalColor:o,popoverColor:s,dividerColor:l,borderRadius:u,fontSize:f}=n;return{textColor:r,color:a,colorModal:o,colorPopover:s,borderColor:l,borderColorModal:composite(o,l),borderColorPopover:composite(s,l),borderRadius:u,fontSize:f}},listDark={name:"List",common:dark_default,self:self39},dark_default52=listDark,loadingBarDark={name:"LoadingBar",common:dark_default,self(n){const{primaryColor:r}=n;return{colorError:"red",colorLoading:r,height:"2px"}}},dark_default53=loadingBarDark,logDark={name:"Log",common:dark_default,peers:{Scrollbar:dark_default3,Code:dark_default24},self(n){const{textColor2:r,inputColor:a,fontSize:o,primaryColor:s}=n;return{loaderFontSize:o,loaderTextColor:r,loaderColor:a,loaderBorder:"1px solid #0000",loadingColor:s}}},dark_default54=logDark,listDark2={name:"Mention",common:dark_default,peers:{InternalSelectMenu:dark_default4,Input:dark_default10},self(n){const{boxShadow2:r}=n;return{menuBoxShadow:r}}},dark_default55=listDark2;function createPartialInvertedVars(n,r,a,o){return{itemColorHoverInverted:"#0000",itemColorActiveInverted:r,itemColorActiveHoverInverted:r,itemColorActiveCollapsedInverted:r,itemTextColorInverted:n,itemTextColorHoverInverted:a,itemTextColorChildActiveInverted:a,itemTextColorActiveInverted:a,itemTextColorActiveHoverInverted:a,itemTextColorHorizontalInverted:n,itemTextColorHoverHorizontalInverted:a,itemTextColorChildActiveHorizontalInverted:a,itemTextColorActiveHorizontalInverted:a,itemTextColorActiveHoverHorizontalInverted:a,itemIconColorInverted:n,itemIconColorHoverInverted:a,itemIconColorActiveInverted:a,itemIconColorActiveHoverInverted:a,itemIconColorChildActiveInverted:a,itemIconColorCollapsedInverted:n,itemIconColorHorizontalInverted:n,itemIconColorHoverHorizontalInverted:a,itemIconColorActiveHorizontalInverted:a,itemIconColorActiveHoverHorizontalInverted:a,itemIconColorChildActiveHorizontalInverted:a,arrowColorInverted:n,arrowColorHoverInverted:a,arrowColorActiveInverted:a,arrowColorActiveHoverInverted:a,arrowColorChildActiveInverted:a,groupTextColorInverted:o}}var self40=n=>{const{borderRadius:r,textColor3:a,primaryColor:o,textColor2:s,textColor1:l,fontSize:u,dividerColor:f,hoverColor:d,primaryColorHover:v}=n;return Object.assign({borderRadius:r,color:"#0000",groupTextColor:a,itemColorHover:d,itemColorActive:changeColor(o,{alpha:.1}),itemColorActiveHover:changeColor(o,{alpha:.1}),itemColorActiveCollapsed:changeColor(o,{alpha:.1}),itemTextColor:s,itemTextColorHover:s,itemTextColorActive:o,itemTextColorActiveHover:o,itemTextColorChildActive:o,itemTextColorHorizontal:s,itemTextColorHoverHorizontal:v,itemTextColorActiveHorizontal:o,itemTextColorActiveHoverHorizontal:o,itemTextColorChildActiveHorizontal:o,itemIconColor:l,itemIconColorHover:l,itemIconColorActive:o,itemIconColorActiveHover:o,itemIconColorChildActive:o,itemIconColorCollapsed:l,itemIconColorHorizontal:l,itemIconColorHoverHorizontal:v,itemIconColorActiveHorizontal:o,itemIconColorActiveHoverHorizontal:o,itemIconColorChildActiveHorizontal:o,itemHeight:"42px",arrowColor:s,arrowColorHover:s,arrowColorActive:o,arrowColorActiveHover:o,arrowColorChildActive:o,colorInverted:"#0000",borderColorHorizontal:"#0000",fontSize:u,dividerColor:f},createPartialInvertedVars("#BBB",o,"#FFF","#AAA"))},menuLight=createTheme({name:"Menu",common:light_default,peers:{Tooltip:light_default14,Dropdown:light_default17},self:self40}),menuDark={name:"Menu",common:dark_default,peers:{Tooltip:dark_default29,Dropdown:dark_default33},self(n){const{primaryColor:r,primaryColorSuppl:a}=n,o=self40(n);return o.itemColorActive=changeColor(r,{alpha:.15}),o.itemColorActiveHover=changeColor(r,{alpha:.15}),o.itemColorActiveCollapsed=changeColor(r,{alpha:.15}),o.itemColorActiveInverted=a,o.itemColorActiveHoverInverted=a,o.itemColorActiveCollapsedInverted=a,o}},dark_default56=menuDark,common_default28={margin:"0 0 8px 0",padding:"10px 20px",maxWidth:"720px",minWidth:"420px",iconMargin:"0 10px 0 0",closeMargin:"0 0 0 12px",closeSize:"16px",iconSize:"20px",fontSize:"14px"},self41=n=>{const{textColor2:r,closeColor:a,closeColorHover:o,closeColorPressed:s,infoColor:l,successColor:u,errorColor:f,warningColor:d,popoverColor:v,boxShadow2:g,primaryColor:y,lineHeight:b,borderRadius:_}=n;return Object.assign(Object.assign({},common_default28),{textColor:r,textColorInfo:r,textColorSuccess:r,textColorError:r,textColorWarning:r,textColorLoading:r,color:v,colorInfo:v,colorSuccess:v,colorError:v,colorWarning:v,colorLoading:v,boxShadow:g,boxShadowInfo:g,boxShadowSuccess:g,boxShadowError:g,boxShadowWarning:g,boxShadowLoading:g,iconColor:r,iconColorInfo:l,iconColorSuccess:u,iconColorWarning:d,iconColorError:f,iconColorLoading:y,closeColor:a,closeColorHover:o,closeColorPressed:s,closeColorInfo:a,closeColorHoverInfo:o,closeColorPressedInfo:s,closeColorSuccess:a,closeColorHoverSuccess:o,closeColorPressedSuccess:s,closeColorError:a,closeColorHoverError:o,closeColorPressedError:s,closeColorWarning:a,closeColorHoverWarning:o,closeColorPressedWarning:s,closeColorLoading:a,closeColorHoverLoading:o,closeColorPressedLoading:s,loadingColor:y,lineHeight:b,borderRadius:_})},messageDark={name:"Message",common:dark_default,self:self41},dark_default57=messageDark,common_default29={closeMargin:"18px 14px",closeSize:"16px",width:"365px",padding:"16px"},self42=n=>{const{textColor2:r,successColor:a,infoColor:o,warningColor:s,errorColor:l,popoverColor:u,closeColor:f,closeColorHover:d,textColor1:v,textColor3:g,borderRadius:y,fontWeightStrong:b,boxShadow2:_,lineHeight:x,fontSize:C}=n;return Object.assign(Object.assign({},common_default29),{borderRadius:y,lineHeight:x,fontSize:C,headerFontWeight:b,iconColor:r,iconColorSuccess:a,iconColorInfo:o,iconColorWarning:s,iconColorError:l,color:u,textColor:r,closeColor:f,closeColorHover:d,closeColorPressed:f,headerTextColor:v,descriptionTextColor:g,actionTextColor:r,boxShadow:_})},notificationLight=createTheme({name:"Notification",common:light_default,peers:{Scrollbar:light_default3},self:self42}),notificationDark={name:"Notification",common:dark_default,peers:{Scrollbar:dark_default3},self:self42},dark_default58=notificationDark,common_default30={titleFontSize:"18px",backSize:"22px"};function self43(n){const{textColor1:r,textColor2:a,textColor3:o,fontSize:s,fontWeightStrong:l,primaryColorHover:u,primaryColorPressed:f}=n;return Object.assign(Object.assign({},common_default30),{titleFontWeight:l,fontSize:s,titleTextColor:r,backColor:a,backColorHover:u,backColorPressed:f,subtitleTextColor:o})}var pageHeaderLight=createTheme({name:"PageHeader",common:light_default,self:self43}),pageHeaderDark={name:"PageHeader",common:dark_default,self:self43},common_default31={iconSize:"22px"},self44=n=>{const{fontSize:r,warningColor:a}=n;return Object.assign(Object.assign({},common_default31),{fontSize:r,iconColor:a})},popconfirmLight=createTheme({name:"Popconfirm",common:light_default,peers:{Button:light_default9,Popover:light_default5},self:self44}),popconfirmDark={name:"Popconfirm",common:dark_default,peers:{Button:dark_default17,Popover:dark_default5},self:self44},dark_default59=popconfirmDark,popselect={name:"Popselect",common:dark_default,peers:{Popover:dark_default5,InternalSelectMenu:dark_default4}},dark_default60=popselect,self45=n=>{const{infoColor:r,successColor:a,warningColor:o,errorColor:s,textColor2:l,progressRailColor:u,fontSize:f,fontWeight:d}=n;return{fontSize:f,fontSizeCircle:"28px",fontWeightCircle:d,railColor:u,railHeight:"8px",iconSizeCircle:"36px",iconSizeLine:"18px",iconColor:r,iconColorInfo:r,iconColorSuccess:a,iconColorWarning:o,iconColorError:s,textColorCircle:l,textColorLineInner:"rgb(255, 255, 255)",textColorLineOuter:l,fillColor:r,fillColorInfo:r,fillColorSuccess:a,fillColorWarning:o,fillColorError:s,lineBgProcessing:"linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)"}},progressLight={name:"Progress",common:light_default,self:self45},light_default22=progressLight,progressDark={name:"Progress",common:dark_default,self(n){const r=self45(n);return r.textColorLineInner="rgb(0, 0, 0)",r.lineBgProcessing="linear-gradient(90deg, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, .5) 100%)",r}},dark_default61=progressDark,rateDark={name:"Rate",common:dark_default,self(n){const{railColor:r}=n;return{itemColor:r,itemColorActive:"#CCAA33",itemSize:"20px",sizeSmall:"16px",sizeMedium:"20px",sizeLarge:"24px"}}},dark_default62=rateDark,common_default32={titleFontSizeSmall:"26px",titleFontSizeMedium:"32px",titleFontSizeLarge:"40px",titleFontSizeHuge:"48px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",iconSizeSmall:"64px",iconSizeMedium:"80px",iconSizeLarge:"100px",iconSizeHuge:"125px",iconColor418:void 0,iconColor404:void 0,iconColor403:void 0,iconColor500:void 0},self46=n=>{const{textColor2:r,textColor1:a,errorColor:o,successColor:s,infoColor:l,warningColor:u,lineHeight:f,fontWeightStrong:d}=n;return Object.assign(Object.assign({},common_default32),{lineHeight:f,titleFontWeight:d,titleTextColor:a,textColor:r,iconColorError:o,iconColorSuccess:s,iconColorInfo:l,iconColorWarning:u})},resultDark={name:"Result",common:dark_default,self:self46},dark_default63=resultDark,common_default33={railHeight:"4px",railWidthVertical:"4px",handleSize:"18px",dotHeight:"8px",dotWidth:"8px",dotBorderRadius:"4px"},sliderDark={name:"Slider",common:dark_default,self(n){const r="0 2px 8px 0 rgba(0, 0, 0, 0.12)",{railColor:a,modalColor:o,primaryColorSuppl:s,popoverColor:l,textColor2:u,cardColor:f,borderRadius:d,fontSize:v,opacityDisabled:g}=n;return Object.assign(Object.assign({},common_default33),{fontSize:v,railColor:a,railColorHover:a,fillColor:s,fillColorHover:s,opacityDisabled:g,handleColor:"#FFF",dotColor:f,dotColorModal:o,dotColorPopover:l,handleBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowHover:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowActive:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",handleBoxShadowFocus:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",indicatorColor:l,indicatorBoxShadow:r,indicatorTextColor:u,indicatorBorderRadius:d,dotBorder:`2px solid ${a}`,dotBorderActive:`2px solid ${s}`,dotBoxShadow:""})}},dark_default64=sliderDark,self47=n=>{const{opacityDisabled:r,heightTiny:a,heightSmall:o,heightMedium:s,heightLarge:l,heightHuge:u,primaryColor:f,fontSize:d}=n;return{fontSize:d,textColor:f,sizeTiny:a,sizeSmall:o,sizeMedium:s,sizeLarge:l,sizeHuge:u,color:f,opacitySpinning:r}},spinDark={name:"Spin",common:dark_default,self:self47},dark_default65=spinDark,self48=n=>{const{textColor2:r,textColor3:a,fontSize:o,fontWeight:s}=n;return{labelFontSize:o,labelFontWeight:s,valueFontWeight:s,labelTextColor:a,valuePrefixTextColor:r,valueSuffixTextColor:r,valueTextColor:r}},statisticDark={name:"Statistic",common:dark_default,self:self48},dark_default66=statisticDark,common_default34={stepHeaderFontSizeSmall:"14px",stepHeaderFontSizeMedium:"16px",indicatorIndexFontSizeSmall:"14px",indicatorIndexFontSizeMedium:"16px",indicatorSizeSmall:"22px",indicatorSizeMedium:"28px",indicatorIconSizeSmall:"14px",indicatorIconSizeMedium:"18px"},self49=n=>{const{fontWeightStrong:r,baseColor:a,textColorDisabled:o,primaryColor:s,errorColor:l,textColor1:u,textColor2:f}=n;return Object.assign(Object.assign({},common_default34),{stepHeaderFontWeight:r,indicatorTextColorProcess:a,indicatorTextColorWait:o,indicatorTextColorFinish:s,indicatorTextColorError:l,indicatorBorderColorProcess:s,indicatorBorderColorWait:o,indicatorBorderColorFinish:s,indicatorBorderColorError:l,indicatorColorProcess:s,indicatorColorWait:"#0000",indicatorColorFinish:"#0000",indicatorColorError:"#0000",splitorColorProcess:o,splitorColorWait:o,splitorColorFinish:s,splitorColorError:o,headerTextColorProcess:u,headerTextColorWait:o,headerTextColorFinish:o,headerTextColorError:l,descriptionTextColorProcess:f,descriptionTextColorWait:o,descriptionTextColorFinish:o,descriptionTextColorError:l})},stepsDark={name:"Steps",common:dark_default,self:self49},dark_default67=stepsDark,common_default35={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"},switchDark={name:"Switch",common:dark_default,self(n){const{primaryColorSuppl:r,opacityDisabled:a,borderRadius:o,primaryColor:s,textColor2:l,baseColor:u}=n,f="rgba(255, 255, 255, .20)";return Object.assign(Object.assign({},common_default35),{iconColor:u,textColor:l,loadingColor:r,opacityDisabled:a,railColor:f,railColorActive:r,buttonBoxShadow:"0px 2px 4px 0 rgba(0, 0, 0, 0.4)",buttonColor:"#FFF",railBorderRadiusSmall:o,railBorderRadiusMedium:o,railBorderRadiusLarge:o,buttonBorderRadiusSmall:o,buttonBorderRadiusMedium:o,buttonBorderRadiusLarge:o,boxShadowFocus:`0 0 8px 0 ${changeColor(s,{alpha:.3})}`})}},dark_default68=switchDark,common_default36={thPaddingSmall:"6px",thPaddingMedium:"12px",thPaddingLarge:"12px",tdPaddingSmall:"6px",tdPaddingMedium:"12px",tdPaddingLarge:"12px"},self50=n=>{const{dividerColor:r,cardColor:a,modalColor:o,popoverColor:s,tableHeaderColor:l,tableColorStriped:u,textColor1:f,textColor2:d,borderRadius:v,fontWeightStrong:g,lineHeight:y,fontSizeSmall:b,fontSizeMedium:_,fontSizeLarge:x}=n;return Object.assign(Object.assign({},common_default36),{fontSizeSmall:b,fontSizeMedium:_,fontSizeLarge:x,lineHeight:y,borderRadius:v,borderColor:composite(a,r),borderColorModal:composite(o,r),borderColorPopover:composite(s,r),tdColor:a,tdColorModal:o,tdColorPopover:s,tdColorStriped:composite(a,u),tdColorStripedModal:composite(o,u),tdColorStripedPopover:composite(s,u),thColor:composite(a,l),thColorModal:composite(o,l),thColorPopover:composite(s,l),thTextColor:f,tdTextColor:d,thFontWeight:g})},tableDark={name:"Table",common:dark_default,self:self50},dark_default69=tableDark,common_default37={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabPaddingSmallCard:"6px 10px",tabPaddingMediumCard:"8px 12px",tabPaddingLargeCard:"8px 16px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0"},self51=n=>{const{textColor2:r,primaryColor:a,textColorDisabled:o,closeColor:s,closeColorHover:l,closeColorPressed:u,tabColor:f,baseColor:d,dividerColor:v,fontWeight:g,textColor1:y,borderRadius:b,fontSize:_,fontWeightStrong:x}=n;return Object.assign(Object.assign({},common_default37),{colorSegment:f,tabFontSizeCard:_,tabTextColorLine:y,tabTextColorActiveLine:a,tabTextColorHoverLine:a,tabTextColorDisabledLine:o,tabTextColorSegment:y,tabTextColorActiveSegment:r,tabTextColorHoverSegment:r,tabTextColorDisabledSegment:o,tabTextColorBar:y,tabTextColorActiveBar:a,tabTextColorHoverBar:a,tabTextColorDisabledBar:o,tabTextColorCard:y,tabTextColorHoverCard:y,tabTextColorActiveCard:a,tabTextColorDisabledCard:o,barColor:a,closeColor:s,closeColorHover:l,closeColorPressed:u,tabColor:f,tabColorSegment:d,tabBorderColor:v,tabFontWeightActive:g,tabFontWeight:g,tabBorderRadius:b,paneTextColor:r,fontWeightStrong:x})},tabsDark={name:"Tabs",common:dark_default,self(n){const r=self51(n),{inputColor:a}=n;return r.colorSegment=a,r.tabColorSegment=a,r}},dark_default70=tabsDark,self52=n=>{const{textColor1:r,textColor2:a,fontWeightStrong:o,fontSize:s}=n;return{fontSize:s,titleTextColor:r,textColor:a,titleFontWeight:o}},thingDark={name:"Thing",common:dark_default,self:self52},dark_default71=thingDark,common_default38={titleMarginMedium:"0",titleMarginLarge:"-2px 0 0 0",titleFontSizeMedium:"14px",titleFontSizeLarge:"16px",iconSizeMedium:"14px",iconSizeLarge:"14px"},timelineDark={name:"Timeline",common:dark_default,self(n){const{textColor3:r,infoColorSuppl:a,errorColorSuppl:o,successColorSuppl:s,warningColorSuppl:l,textColor1:u,textColor2:f,railColor:d,fontWeightStrong:v,fontSize:g}=n;return Object.assign(Object.assign({},common_default38),{contentFontSize:g,titleFontWeight:v,circleBorder:`2px solid ${r}`,circleBorderInfo:`2px solid ${a}`,circleBorderError:`2px solid ${o}`,circleBorderSuccess:`2px solid ${s}`,circleBorderWarning:`2px solid ${l}`,iconColor:r,iconColorInfo:a,iconColorError:o,iconColorSuccess:s,iconColorWarning:l,titleTextColor:u,contentTextColor:f,metaTextColor:r,lineColor:d})}},dark_default72=timelineDark,common_default39={extraFontSize:"12px",width:"440px"},transferDark={name:"Transfer",common:dark_default,peers:{Checkbox:dark_default22,Scrollbar:dark_default3,Input:dark_default10,Empty:dark_default2,Button:dark_default17},self(n){const{iconColorDisabled:r,iconColor:a,fontWeight:o,fontSizeLarge:s,fontSizeMedium:l,fontSizeSmall:u,heightLarge:f,heightMedium:d,heightSmall:v,borderRadius:g,inputColor:y,tableHeaderColor:b,textColor1:_,textColorDisabled:x,textColor2:C,hoverColor:w}=n;return Object.assign(Object.assign({},common_default39),{itemHeightSmall:v,itemHeightMedium:d,itemHeightLarge:f,fontSizeSmall:u,fontSizeMedium:l,fontSizeLarge:s,borderRadius:g,borderColor:"#0000",listColor:y,headerColor:b,titleTextColor:_,titleTextColorDisabled:x,extraTextColor:C,filterDividerColor:"#0000",itemTextColor:C,itemTextColorDisabled:x,itemColorPending:w,titleFontWeight:o,iconColor:a,iconColorDisabled:r})}},dark_default73=transferDark,self53=n=>{const{borderRadiusSmall:r,hoverColor:a,pressedColor:o,primaryColor:s,textColor3:l,textColor2:u,textColorDisabled:f,fontSize:d}=n;return{fontSize:d,nodeBorderRadius:r,nodeColorHover:a,nodeColorPressed:o,nodeColorActive:changeColor(s,{alpha:.1}),arrowColor:l,nodeTextColor:u,nodeTextColorDisabled:f,loadingColor:s,dropMarkColor:s}},treeLight=createTheme({name:"Tree",common:light_default,peers:{Checkbox:light_default11,Scrollbar:light_default3,Empty:light_default2},self:self53}),treeDark={name:"Tree",common:dark_default,peers:{Checkbox:dark_default22,Scrollbar:dark_default3,Empty:dark_default2},self(n){const{primaryColor:r}=n,a=self53(n);return a.nodeColorActive=changeColor(r,{alpha:.15}),a}},dark_default74=treeDark,treeSelectDark={name:"TreeSelect",common:dark_default,peers:{Tree:dark_default74,Empty:dark_default2,InternalSelection:dark_default7}},dark_default75=treeSelectDark,common_default40={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},self54=n=>{const{primaryColor:r,textColor2:a,borderColor:o,lineHeight:s,fontSize:l,borderRadiusSmall:u,dividerColor:f,fontWeightStrong:d,textColor1:v,textColor3:g,infoColor:y,warningColor:b,errorColor:_,successColor:x,codeColor:C}=n;return Object.assign(Object.assign({},common_default40),{aTextColor:r,blockquoteTextColor:a,blockquotePrefixColor:o,blockquoteLineHeight:s,blockquoteFontSize:l,codeBorderRadius:u,liTextColor:a,liLineHeight:s,liFontSize:l,hrColor:f,headerFontWeight:d,headerTextColor:v,pTextColor:a,pTextColor1Depth:v,pTextColor2Depth:a,pTextColor3Depth:g,pLineHeight:s,pFontSize:l,headerBarColor:r,headerBarColorPrimary:r,headerBarColorInfo:y,headerBarColorError:_,headerBarColorWarning:b,headerBarColorSuccess:x,textColor:a,textColor1Depth:v,textColor2Depth:a,textColor3Depth:g,textColorPrimary:r,textColorInfo:y,textColorSuccess:x,textColorWarning:b,textColorError:_,codeTextColor:a,codeColor:C,codeBorder:"1px solid #0000"})},typographyDark={name:"Typography",common:dark_default,self:self54},dark_default76=typographyDark,self55=n=>{const{iconColor:r,primaryColor:a,errorColor:o,textColor2:s,successColor:l,opacityDisabled:u,actionColor:f,borderColor:d,hoverColor:v,lineHeight:g,borderRadius:y,fontSize:b}=n;return{fontSize:b,lineHeight:g,borderRadius:y,draggerColor:f,draggerBorder:`1px dashed ${d}`,draggerBorderHover:`1px dashed ${a}`,itemColorHover:v,itemColorHoverError:changeColor(o,{alpha:.06}),itemTextColor:s,itemTextColorError:o,itemTextColorSuccess:l,itemIconColor:r,itemDisabledOpacity:u,itemBorderImageCardError:`1px solid ${o}`,itemBorderImageCard:`1px solid ${d}`}},uploadLight=createTheme({name:"Upload",common:light_default,peers:{Button:light_default9,Progress:light_default22},self:self55}),uploadDark={name:"Upload",common:dark_default,peers:{Button:dark_default17,Progress:dark_default61},self(n){const{errorColor:r}=n,a=self55(n);return a.itemColorHoverError=changeColor(r,{alpha:.09}),a}},dark_default77=uploadDark,watermarkDark={name:"Watermark",common:dark_default,self(n){const{fontFamily:r}=n;return{fontFamily:r}}},dark_default78=watermarkDark,imageDark={name:"Image",common:dark_default,peers:{Tooltip:dark_default29},self:n=>{const{textColor2:r}=n;return{toolbarIconColor:r,toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}},skeletonDark={name:"Skeleton",common:dark_default,self(n){const{heightSmall:r,heightMedium:a,heightLarge:o,borderRadius:s}=n;return{color:"rgba(255, 255, 255, 0.12)",colorEnd:"rgba(255, 255, 255, 0.18)",borderRadius:s,heightSmall:r,heightMedium:a,heightLarge:o}}},darkTheme={name:"dark",common:dark_default,Alert:dark_default8,Anchor:dark_default9,AutoComplete:dark_default11,Avatar:dark_default12,AvatarGroup:dark_default13,BackTop:dark_default14,Badge:dark_default15,Breadcrumb:dark_default16,Button:dark_default17,ButtonGroup:dark_default49,Calendar:dark_default18,Card:dark_default20,Carousel:dark_default21,Cascader:dark_default23,Checkbox:dark_default22,Code:dark_default24,Collapse:dark_default25,CollapseTransition:dark_default26,ColorPicker:dark_default19,DataTable:dark_default32,DatePicker:dark_default36,Descriptions:dark_default37,Dialog:dark_default38,Divider:dark_default40,Drawer:dark_default41,Dropdown:dark_default33,DynamicInput:dark_default42,DynamicTags:dark_default44,Element:dark_default45,Empty:dark_default2,Ellipsis:dark_default30,Form:dark_default46,GradientText:dark_default47,Icon:dark_default34,IconWrapper:dark_default48,Image:imageDark,Input:dark_default10,InputNumber:dark_default50,Layout:dark_default51,List:dark_default52,LoadingBar:dark_default53,Log:dark_default54,Menu:dark_default56,Mention:dark_default55,Message:dark_default57,Modal:dark_default39,Notification:dark_default58,PageHeader:pageHeaderDark,Pagination:dark_default28,Popconfirm:dark_default59,Popover:dark_default5,Popselect:dark_default60,Progress:dark_default61,Radio:dark_default31,Rate:dark_default62,Result:dark_default63,Scrollbar:dark_default3,Select:dark_default27,Skeleton:skeletonDark,Slider:dark_default64,Space:dark_default43,Spin:dark_default65,Statistic:dark_default66,Steps:dark_default67,Switch:dark_default68,Table:dark_default69,Tabs:dark_default70,Tag:dark_default6,Thing:dark_default71,TimePicker:dark_default35,Timeline:dark_default72,Tooltip:dark_default29,Transfer:dark_default73,Tree:dark_default74,TreeSelect:dark_default75,Typography:dark_default76,Upload:dark_default77,Watermark:dark_default78},Collins_default=defineComponent({props:{mydata:{type:Object,default:()=>[]}},setup(n,{expose:r}){r();const a=n;let o=ref("word"),s=computed2(()=>a.mydata.langth===0?"":a.mydata.length===2&&o.value==="phase"?a.mydata[1].content:a.mydata[0].content);const l={props:a,mode:o,showedHTML:s};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),_hoisted_12={class:"wrapper"},_hoisted_22=createBaseVNode("option",{value:"word"},"\u5355\u8BCD",-1),_hoisted_3=createBaseVNode("option",{value:"phase"},"\u77ED\u8BED",-1),_hoisted_4=[_hoisted_22,_hoisted_3],_hoisted_5=["innerHTML"];function render4(n,r,a,o,s,l){return openBlock(),createElementBlock("div",_hoisted_12,[o.props.mydata.length>1?withDirectives((openBlock(),createElementBlock("select",{key:0,"onUpdate:modelValue":r[0]||(r[0]=u=>o.mode=u)},_hoisted_4,512)),[[vModelSelect,o.mode]]):createCommentVNode("v-if",!0),createBaseVNode("div",{class:"content",innerHTML:o.showedHTML},null,8,_hoisted_5)])}Collins_default.render=render4,Collins_default.__file="src\\views\\Collins.vue";var Collins_default2=Collins_default,import_obsidian2=__toModule(require("obsidian")),import_obsidian=__toModule(require("obsidian"));function fetchDirtyDOM(n){return __async(this,null,function*(){const r={url:n,method:"GET"};let a=yield(0,import_obsidian.request)(r);return(0,import_obsidian.sanitizeHTMLToDom)(a)})}function isTagName(n,r){return(n.tagName||"").toLowerCase()===r.toLowerCase()}var isInternalPage=()=>!1;function getText(n,r){if(!n)return"";const a=r?n.querySelector(r):n;return a&&a.textContent||""}function getFullLink(n,r,a){n.endsWith("/")&&(n=n.slice(0,-1));const o=n.startsWith("https")?"https:":"http:",s=r.getAttribute(a);return s?/^[a-zA-Z0-9]+:/.test(s)?s:s.startsWith("//")?o+s:/^.?\/+/.test(s)?n+"/"+s.replace(/^.?\/+/,""):n+"/"+s:""}function getHTML(n,{mode:r="innerHTML",selector:a,transform:o,host:s}={}){const l=a?n.querySelector(a):n;if(!l)return"";if(s){const d=v=>{v.getAttribute("href")&&v.setAttribute("href",getFullLink(s,v,"href")),v.getAttribute("src")&&v.setAttribute("src",getFullLink(s,v,"src")),isInternalPage()&&v.getAttribute("srcset")&&v.setAttribute("srcset",v.getAttribute("srcset").replace(/(,| |^)\/\//g,(g,y)=>y+"https://"))};(isTagName(l,"a")||isTagName(l,"img"))&&d(l),l.querySelectorAll("a").forEach(d),l.querySelectorAll("img").forEach(d)}const u=(0,import_obsidian.sanitizeHTMLToDom)(l.outerHTML),f=u.firstChild?u.firstChild[r]:"";return o?o(f):f}function getInnerHTML(n,r,a={}){return getHTML(r,typeof a=="string"?{selector:a,host:n,mode:"innerHTML"}:__spreadProps(__spreadValues({},a),{host:n,mode:"innerHTML"}))}function handleNoResult(){return Promise.reject(new Error("NO_RESULT"))}function handleNetWorkError(){return Promise.reject(new Error("NETWORK_ERROR"))}function removeChild(n,r){const a=n.querySelector(r);a&&a.remove()}var HOST="http://www.youdao.com",search=n=>__async(void 0,null,function*(){const r={basic:!0,collins:!0,discrimination:!0,sentence:!0,translation:!0};return fetchDirtyDOM("https://dict.youdao.com/w/"+encodeURIComponent(n.replace(/\s+/g," "))).catch(handleNetWorkError).then(a=>checkResult(a,r)).catch(()=>{new import_obsidian2.Notice("Dictionary No Result.\u{1F61F}")})});function checkResult(n,r,a){const o=n.querySelector(".error-typo");if(o){if(r.related)return{result:{type:"related",list:getInnerHTML(HOST,o,{transform:a})}}}else return handleDOM(n,r,a);return handleNoResult()}function handleDOM(n,r,a){const o={type:"lex",title:getText(n,".keyword"),stars:0,rank:getText(n,".rank"),pattern:getText(n,".pattern"),prons:[],collins:[]},s={},l=n.querySelector(".star");return l&&(o.stars=Number((l.className.match(/\d+/)||[0])[0])),n.querySelectorAll(".baav .pronounce").forEach(u=>{const f=u.textContent||"",d=u.querySelector(".dictvoice");if(d&&d.dataset.rel){const v="https://dict.youdao.com/dictvoice?audio="+d.dataset.rel;o.prons.push({phsym:f,url:v}),f.includes("\u82F1")?s.uk=v:f.includes("\u7F8E")&&(s.us=v)}}),r.basic&&(o.basic=getInnerHTML(HOST,n,{selector:"#phrsListTab .trans-container",transform:a})),r.collins&&n.querySelectorAll("#collinsResult .wt-container").forEach(u=>{const f={title:"",content:""},d=u.querySelector(":scope > .title.trans-tip");d&&(removeChild(d,".do-detail"),f.title=getText(d),d.remove());const v=u.querySelector(".star");if(v){const g=/star(\d+)/.exec(String(v.className));if(g){const y=+g[1];let b="";for(let _=0;_<5;_++)b+=`<svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 426.67 426.67"
              width="1em"
              height="1em"
              style="${_===4?"":"margin-right: 1px"}"
            >
              <path
                fill=${_<y?"#FAC917":"#d1d8de"}
                d="M213.33 10.44l65.92 133.58 147.42 21.42L320 269.4l25.17 146.83-131.84-69.32-131.85 69.34 25.2-146.82L0 165.45l147.4-21.42"
              />
            </svg>`;v.innerHTML=b}}f.content=getInnerHTML(HOST,u,{transform:a}),f.content&&o.collins.push(f)}),n.querySelectorAll("#discriminate .wt-container .title a").forEach(u=>{u.remove()}),r.discrimination&&(o.discrimination=getInnerHTML(HOST,n,{selector:"#discriminate",transform:a})),r.sentence&&(o.sentence=getInnerHTML(HOST,n,{selector:"#authority .ol",transform:a})),r.translation&&(o.translation=getInnerHTML(HOST,n,{selector:"#fanyiToggle .trans-container",transform:a})),o.title||o.translation?{result:o,audio:s}:handleNoResult()}var zh_default={"Open word search panel":"\u6253\u5F00\u67E5\u8BCD\u9762\u677F","Open new word panel":"\u6253\u5F00\u65B0\u8BCD\u9762\u677F","Open statistics":"\u6253\u5F00\u7EDF\u8BA1","Open as Reading View":"\u6253\u5F00\u4E3A\u9605\u8BFB\u6A21\u5F0F","Search word":"\u67E5\u627E\u5355\u8BCD/\u77ED\u8BED","Refresh Word Database":"\u5237\u65B0\u5355\u8BCD\u6570\u636E\u5E93","Search Panel":"\u67E5\u8BCD\u9762\u677F",Search:"\u641C\u7D22","Finish Reading":"\u5B8C\u6210\u9605\u8BFB","Return Markdown View":"\u8FD4\u56DEMarkdown\u6A21\u5F0F","Learning New Words":"\u5B66\u4E60\u65B0\u5355\u8BCD",Expression:"\u8868\u8FBE","A word or a phrase":"\u8F93\u5165\u4E00\u4E2A\u5355\u8BCD\u6216\u77ED\u8BED",Meaning:"\u542B\u4E49","A short definition":"\u7ED9\u4E00\u4E2A\u7B80\u77ED\u7684\u5B9A\u4E49",Type:"\u7C7B\u522B",Word:"\u5355\u8BCD",Phrase:"\u77ED\u8BED",Status:"\u5B66\u4E60\u72B6\u6001",Ignore:"\u65E0\u89C6",Learning:"\u65B0\u5B66",Familiar:"\u773C\u719F",Known:"\u638C\u63E1",Learned:"\u4F1A\u4E86",Tags:"\u6807\u7B7E","Input or select some tags":"\u8F93\u5165\u6216\u9009\u62E9\u82E5\u5E72\u6807\u7B7E",Notes:"\u7B14\u8BB0",Create:"\u6DFB\u52A0","Write a new note":"\u8BB0\u4E00\u6761\u7B14\u8BB0\u5427",Sentences:"\u4F8B\u53E5","Origin sentence":"\u6E90\u53E5","Translation (Optional)":"\u7FFB\u8BD1(\u53EF\u9009)","Origin (Optional)":"\u51FA\u5904(\u53EF\u9009)","Expression is empty!":"\u5355\u8BCD\u5FD8\u8F93\u5165\u4E86\u5427","It looks more like a PHRASE than a WORD":"\u8FD9\u770B\u8D77\u6765\u66F4\u50CF\u662F\u4E2A\u8BCD\u7EC4\u800C\u4E0D\u662F\u5355\u8BCD","Meaning is empty":"\u542B\u4E49\u4E0D\u5E94\u4E3A\u7A7A",Submit:"\u63D0\u4EA4","Single day":"\u5355\u65E5",Accumulated:"\u7D2F\u8BA1",Statistics:"\u7EDF\u8BA1"},en_default={"Open word search panel":"Open word search panel","Open new word panel":"Open new word panel","Open statistics":"Open statistics","Open as Reading View":"Open as Reading View","Search word":"Search word","Refresh Word Database":"Refresh Word Database","Search Panel":"Search Panel",Search:"Search","Finish Reading":"Finish Reading","Return Markdown View":"Return Markdown View","Learning New Words":"Learning New Words",Expression:"Expression","A word or a phrase":"A word or a phrase",Meaning:"Meaning","A short definition":"A short definition",Type:"Type",Word:"Word",Phrase:"Phrase",Status:"Status",Ignore:"Ignore",Learning:"Learning",Familiar:"Familiar",Known:"Known",Learned:"Learned",Tags:"Tags","Input or select some tags":"Input or select some tags",Notes:"Notes",Create:"Create","Write a new note":"Write a new note",Sentences:"Sentences","Origin sentence":"Origin sentence","Translation (Optional)":"Translation (Optional)","Origin (Optional)":"Origin (Optional)","It looks more like a PHRASE than a WORD":"It looks more like a PHRASE than a WORD","Meaning is empty!":"Meaning is empty",Submit:"Submit","Single day":"Single day",Accumulated:"Accumulated","Expression is empty!":"Expression is empty",Statistics:"Statistics"},localeMap={en:en_default,zh:zh_default},lang=window.localStorage.getItem("language"),locale=localeMap[lang||"en"];function t(n){return locale&&locale[n]||en_default[n]}var SearchPanel_default=defineComponent({setup(n,{expose:r}){r();function a(D){new Audio(d.value[D].url).play()}let o=ref(""),s=ref("");function l(){return __async(this,null,function*(){let D={url:`http://localhost:3000/words/${o.value}`,method:"GET"};try{let T=(yield(0,import_obsidian3.requestUrl)(D)).json.meanings;T.length===0?s.value="Not found in database.":s.value=T}catch(A){s.value="Failed. Check your server or network."}})}let u=ref(""),f=ref(null),d=ref([]),v=ref("\u67EF\u6797\u65AF"),g=ref([{}]),y=ref(""),b=ref("");function _(D){return __async(this,null,function*(){let A=yield search(D);if(!A)return;let T=A.result;f.value.innerHTML=T.basic,d.value=T.prons,g.value=T.collins,y.value=T.discrimination,b.value=T.sentence})}let x=ref(null);const C=getCurrentInstance().appContext.config.globalProperties.plugin,w=D=>__async(this,null,function*(){let A=D.detail.selection;yield _(A),u.value=A});onMounted(()=>{addEventListener("obsidian-langr-search",w)}),onUnmounted(()=>{removeEventListener("obsidian-langr-search",w)});const S={play:a,word:o,meaning:s,send:l,word2:u,meaning2:f,prons:d,curPanel:v,collins:g,discriminationHTML:y,sentencesHTML:b,searchWord:_,panel:x,plugin:C,onSearch:w,NInput:Input_default,NButton:Button_default,Collins:Collins_default2,t};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),_hoisted_13={class:"container",ref:"panel"},_hoisted_23={class:"search-bar",style:{display:"flex"}},_hoisted_32={class:"pronunces"},_hoisted_42=["onClick"],_hoisted_52={ref:"meaning2",style:{"margin-bottom":"10px"}},_hoisted_6=["onClick"],_hoisted_7=["innerHTML"],_hoisted_8=["innerHTML"],_hoisted_9=createBaseVNode("div",{class:"jukuu"},null,-1);function render5(n,r,a,o,s,l){return openBlock(),createElementBlock("div",_hoisted_13,[createBaseVNode("div",_hoisted_23,[createVNode(o.NInput,{type:"text",placeholder:"\u8F93\u5165\u5355\u8BCD",value:o.word2,"onUpdate:value":r[0]||(r[0]=u=>o.word2=u),style:{flex:"1"}},null,8,["value"]),createVNode(o.NButton,{onClick:r[1]||(r[1]=u=>o.searchWord(o.word2)),style:{"margin-left":"5px"}},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Search")),1)]),_:1})]),createBaseVNode("h2",null,toDisplayString(o.word2),1),createBaseVNode("div",_hoisted_32,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.prons.length,u=>(openBlock(),createElementBlock("span",{class:"pron",onClick:f=>o.play(u-1)},toDisplayString(o.prons[u-1].phsym),9,_hoisted_42))),256))]),createBaseVNode("div",_hoisted_52,null,512),(openBlock(),createElementBlock(Fragment,null,renderList(["\u67EF\u6797\u65AF","\u8FA8\u6790","\u4F8B\u53E5","\u53E5\u9177"],u=>createBaseVNode("button",{onClick:f=>o.curPanel=u,style:normalizeStyle(o.curPanel===u?"background-color:lightblue;":"")},toDisplayString(u),13,_hoisted_6)),64)),o.curPanel==="\u67EF\u6797\u65AF"?(openBlock(),createBlock(o.Collins,{key:0,class:"collins",mydata:o.collins},null,8,["mydata"])):o.curPanel==="\u8FA8\u6790"?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(`<div class="collins" v-html="collinsHTML" v-if="subPanel==='\u67EF\u6797\u65AF'"></div>`),createBaseVNode("div",{class:"diff",innerHTML:o.discriminationHTML},null,8,_hoisted_7)],2112)):o.curPanel==="\u4F8B\u53E5"?(openBlock(),createElementBlock("div",{key:2,class:"stn-examle",innerHTML:o.sentencesHTML},null,8,_hoisted_8)):createCommentVNode("v-if",!0),_hoisted_9],512)}SearchPanel_default.render=render5,SearchPanel_default.__file="src\\views\\SearchPanel.vue";var SearchPanel_default2=SearchPanel_default,SEARCH_PANEL_VIEW="langr-panel",SearchPanelView=class extends import_obsidian4.ItemView{constructor(n,r){super(n);this.plugin=r}query(n){dispatchEvent(new CustomEvent("obsidian-langr-search",{detail:{selection:n}}))}getViewType(){return SEARCH_PANEL_VIEW}getDisplayText(){return t("Search Panel")}getIcon(){return"logo-crystal"}onOpen(){return __async(this,null,function*(){const n=this.containerEl.children[1];n.empty();const r=n.createEl("div",{cls:"langr-search"});this.vueapp=createApp(SearchPanel_default2),this.vueapp.config.globalProperties.plugin=this.plugin,this.vueapp.mount(r)})}onClose(){return __async(this,null,function*(){this.vueapp.unmount()})}},import_obsidian6=__toModule(require("obsidian"));function bail(n){if(n)throw n}var import_is_buffer2=__toModule(require_is_buffer()),import_extend=__toModule(require_extend());function isPlainObject3(n){if(Object.prototype.toString.call(n)!=="[object Object]")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype}function trough(){const n=[],r={run:a,use:o};return r;function a(...s){let l=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...s);function f(d,...v){const g=n[++l];let y=-1;if(d){u(d);return}for(;++y<s.length;)(v[y]===null||v[y]===void 0)&&(v[y]=s[y]);s=v,g?wrap(g,f)(...v):u(null,...v)}}function o(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return n.push(s),r}}function wrap(n,r){let a;return o;function o(...u){const f=n.length>u.length;let d;f&&u.push(s);try{d=n.apply(this,u)}catch(v){const g=v;if(f&&a)throw g;return s(g)}f||(d instanceof Promise?d.then(l,s):d instanceof Error?s(d):l(d))}function s(u,...f){a||(a=!0,r(u,...f))}function l(u){s(null,u)}}var import_is_buffer=__toModule(require_is_buffer());function stringifyPosition(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?position(n.position):"start"in n||"end"in n?position(n):"line"in n||"column"in n?point(n):""}function point(n){return index(n&&n.line)+":"+index(n&&n.column)}function position(n){return point(n&&n.start)+"-"+point(n&&n.end)}function index(n){return n&&typeof n=="number"?n:1}var VFileMessage=class extends Error{constructor(n,r,a){const o=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};super();if(typeof r=="string"&&(a=r,r=void 0),typeof a=="string"){const l=a.indexOf(":");l===-1?o[1]=a:(o[0]=a.slice(0,l),o[1]=a.slice(l+1))}r&&("type"in r||"position"in r?r.position&&(s=r.position):"start"in r||"end"in r?s=r:("line"in r||"column"in r)&&(s.start=r)),this.name=stringifyPosition(r)||"1:1",this.message=typeof n=="object"?n.message:n,this.stack=typeof n=="object"?n.stack:"",this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.source=o[0],this.ruleId=o[1],this.position=s,this.actual,this.expected,this.file,this.url,this.note}};VFileMessage.prototype.file="",VFileMessage.prototype.name="",VFileMessage.prototype.reason="",VFileMessage.prototype.message="",VFileMessage.prototype.stack="",VFileMessage.prototype.fatal=null,VFileMessage.prototype.column=null,VFileMessage.prototype.line=null,VFileMessage.prototype.source=null,VFileMessage.prototype.ruleId=null,VFileMessage.prototype.position=null;var path={basename,dirname,extname,join,sep:"/"};function basename(n,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');assertPath(n);let a=0,o=-1,s=n.length,l;if(r===void 0||r.length===0||r.length>n.length){for(;s--;)if(n.charCodeAt(s)===47){if(l){a=s+1;break}}else o<0&&(l=!0,o=s+1);return o<0?"":n.slice(a,o)}if(r===n)return"";let u=-1,f=r.length-1;for(;s--;)if(n.charCodeAt(s)===47){if(l){a=s+1;break}}else u<0&&(l=!0,u=s+1),f>-1&&(n.charCodeAt(s)===r.charCodeAt(f--)?f<0&&(o=s):(f=-1,o=u));return a===o?o=u:o<0&&(o=n.length),n.slice(a,o)}function dirname(n){if(assertPath(n),n.length===0)return".";let r=-1,a=n.length,o;for(;--a;)if(n.charCodeAt(a)===47){if(o){r=a;break}}else o||(o=!0);return r<0?n.charCodeAt(0)===47?"/":".":r===1&&n.charCodeAt(0)===47?"//":n.slice(0,r)}function extname(n){assertPath(n);let r=n.length,a=-1,o=0,s=-1,l=0,u;for(;r--;){const f=n.charCodeAt(r);if(f===47){if(u){o=r+1;break}continue}a<0&&(u=!0,a=r+1),f===46?s<0?s=r:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||a<0||l===0||l===1&&s===a-1&&s===o+1?"":n.slice(s,a)}function join(...n){let r=-1,a;for(;++r<n.length;)assertPath(n[r]),n[r]&&(a=a===void 0?n[r]:a+"/"+n[r]);return a===void 0?".":normalize(a)}function normalize(n){assertPath(n);const r=n.charCodeAt(0)===47;let a=normalizeString(n,!r);return a.length===0&&!r&&(a="."),a.length>0&&n.charCodeAt(n.length-1)===47&&(a+="/"),r?"/"+a:a}function normalizeString(n,r){let a="",o=0,s=-1,l=0,u=-1,f,d;for(;++u<=n.length;){if(u<n.length)f=n.charCodeAt(u);else{if(f===47)break;f=47}if(f===47){if(!(s===u-1||l===1))if(s!==u-1&&l===2){if(a.length<2||o!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){if(d=a.lastIndexOf("/"),d!==a.length-1){d<0?(a="",o=0):(a=a.slice(0,d),o=a.length-1-a.lastIndexOf("/")),s=u,l=0;continue}}else if(a.length>0){a="",o=0,s=u,l=0;continue}}r&&(a=a.length>0?a+"/..":"..",o=2)}else a.length>0?a+="/"+n.slice(s+1,u):a=n.slice(s+1,u),o=u-s-1;s=u,l=0}else f===46&&l>-1?l++:l=-1}return a}function assertPath(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}var proc={cwd};function cwd(){return"/"}function isUrl(n){return n!==null&&typeof n=="object"&&n.href&&n.origin}function urlToPath(n){if(typeof n=="string")n=new URL(n);else if(!isUrl(n)){const r=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw r.code="ERR_INVALID_ARG_TYPE",r}if(n.protocol!=="file:"){const r=new TypeError("The URL must be of scheme file");throw r.code="ERR_INVALID_URL_SCHEME",r}return getPathFromURLPosix(n)}function getPathFromURLPosix(n){if(n.hostname!==""){const o=new TypeError('File URL host must be "localhost" or empty on darwin');throw o.code="ERR_INVALID_FILE_URL_HOST",o}const r=n.pathname;let a=-1;for(;++a<r.length;)if(r.charCodeAt(a)===37&&r.charCodeAt(a+1)===50){const o=r.charCodeAt(a+2);if(o===70||o===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(r)}var order=["history","path","basename","stem","extname","dirname"],VFile=class{constructor(n){let r;n?typeof n=="string"||(0,import_is_buffer.default)(n)?r={value:n}:isUrl(n)?r={path:n}:r=n:r={},this.data={},this.messages=[],this.history=[],this.cwd=proc.cwd(),this.value,this.stored,this.result,this.map;let a=-1;for(;++a<order.length;){const s=order[a];s in r&&r[s]!==void 0&&(this[s]=s==="history"?[...r[s]]:r[s])}let o;for(o in r)order.includes(o)||(this[o]=r[o])}get path(){return this.history[this.history.length-1]}set path(n){isUrl(n)&&(n=urlToPath(n)),assertNonEmpty(n,"path"),this.path!==n&&this.history.push(n)}get dirname(){return typeof this.path=="string"?path.dirname(this.path):void 0}set dirname(n){assertPath2(this.basename,"dirname"),this.path=path.join(n||"",this.basename)}get basename(){return typeof this.path=="string"?path.basename(this.path):void 0}set basename(n){assertNonEmpty(n,"basename"),assertPart(n,"basename"),this.path=path.join(this.dirname||"",n)}get extname(){return typeof this.path=="string"?path.extname(this.path):void 0}set extname(n){if(assertPart(n,"extname"),assertPath2(this.dirname,"extname"),n){if(n.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=path.join(this.dirname,this.stem+(n||""))}get stem(){return typeof this.path=="string"?path.basename(this.path,this.extname):void 0}set stem(n){assertNonEmpty(n,"stem"),assertPart(n,"stem"),this.path=path.join(this.dirname||"",n+(this.extname||""))}toString(n){return(this.value||"").toString(n)}message(n,r,a){const o=new VFileMessage(n,r,a);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}info(n,r,a){const o=this.message(n,r,a);return o.fatal=null,o}fail(n,r,a){const o=this.message(n,r,a);throw o.fatal=!0,o}};function assertPart(n,r){if(n&&n.includes(path.sep))throw new Error("`"+r+"` cannot be a path: did not expect `"+path.sep+"`")}function assertNonEmpty(n,r){if(!n)throw new Error("`"+r+"` cannot be empty")}function assertPath2(n,r){if(!n)throw new Error("Setting `"+r+"` requires `path` to be set too")}var unified=base3().freeze(),own={}.hasOwnProperty;function base3(){const n=trough(),r=[];let a={},o,s=-1;return l.data=u,l.Parser=void 0,l.Compiler=void 0,l.freeze=f,l.attachers=r,l.use=d,l.parse=v,l.stringify=g,l.run=y,l.runSync=b,l.process=_,l.processSync=x,l;function l(){const C=base3();let w=-1;for(;++w<r.length;)C.use(...r[w]);return C.data((0,import_extend.default)(!0,{},a)),C}function u(C,w){return typeof C=="string"?arguments.length===2?(assertUnfrozen("data",o),a[C]=w,l):own.call(a,C)&&a[C]||null:C?(assertUnfrozen("data",o),a=C,l):a}function f(){if(o)return l;for(;++s<r.length;){const[C,...w]=r[s];if(w[0]===!1)continue;w[0]===!0&&(w[0]=void 0);const S=C.call(l,...w);typeof S=="function"&&n.use(S)}return o=!0,s=Number.POSITIVE_INFINITY,l}function d(C,...w){let S;if(assertUnfrozen("use",o),C!=null)if(typeof C=="function")M(C,...w);else if(typeof C=="object")Array.isArray(C)?T(C):A(C);else throw new TypeError("Expected usable value, not `"+C+"`");return S&&(a.settings=Object.assign(a.settings||{},S)),l;function D(E){if(typeof E=="function")M(E);else if(typeof E=="object")if(Array.isArray(E)){const[P,...I]=E;M(P,...I)}else A(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function A(E){T(E.plugins),E.settings&&(S=Object.assign(S||{},E.settings))}function T(E){let P=-1;if(E!=null)if(Array.isArray(E))for(;++P<E.length;){const I=E[P];D(I)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function M(E,P){let I=-1,F;for(;++I<r.length;)if(r[I][0]===E){F=r[I];break}F?(isPlainObject3(F[1])&&isPlainObject3(P)&&(P=(0,import_extend.default)(!0,F[1],P)),F[1]=P):r.push([...arguments])}}function v(C){l.freeze();const w=vfile(C),S=l.Parser;return assertParser("parse",S),newable(S,"parse")?new S(String(w),w).parse():S(String(w),w)}function g(C,w){l.freeze();const S=vfile(w),D=l.Compiler;return assertCompiler("stringify",D),assertNode(C),newable(D,"compile")?new D(C,S).compile():D(C,S)}function y(C,w,S){if(assertNode(C),l.freeze(),!S&&typeof w=="function"&&(S=w,w=void 0),!S)return new Promise(D);D(null,S);function D(A,T){n.run(C,vfile(w),M);function M(E,P,I){P=P||C,E?T(E):A?A(P):S(null,P,I)}}}function b(C,w){let S,D;return l.run(C,w,A),assertDone("runSync","run",D),S;function A(T,M){bail(T),S=M,D=!0}}function _(C,w){if(l.freeze(),assertParser("process",l.Parser),assertCompiler("process",l.Compiler),!w)return new Promise(S);S(null,w);function S(D,A){const T=vfile(C);l.run(l.parse(T),T,(E,P,I)=>{if(E||!P||!I)M(E);else{const F=l.stringify(P,I);F==null||(looksLikeAVFileValue(F)?I.value=F:I.result=F),M(E,I)}});function M(E,P){E||!P?A(E):D?D(P):w(null,P)}}}function x(C){let w;l.freeze(),assertParser("processSync",l.Parser),assertCompiler("processSync",l.Compiler);const S=vfile(C);return l.process(S,D),assertDone("processSync","process",w),S;function D(A){w=!0,bail(A)}}}function newable(n,r){return typeof n=="function"&&n.prototype&&(keys2(n.prototype)||r in n.prototype)}function keys2(n){let r;for(r in n)if(own.call(n,r))return!0;return!1}function assertParser(n,r){if(typeof r!="function")throw new TypeError("Cannot `"+n+"` without `Parser`")}function assertCompiler(n,r){if(typeof r!="function")throw new TypeError("Cannot `"+n+"` without `Compiler`")}function assertUnfrozen(n,r){if(r)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(n){if(!isPlainObject3(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function assertDone(n,r,a){if(!a)throw new Error("`"+n+"` finished async. Use `"+r+"` instead")}function vfile(n){return looksLikeAVFile(n)?n:new VFile(n)}function looksLikeAVFile(n){return Boolean(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function looksLikeAVFileValue(n){return typeof n=="string"||(0,import_is_buffer2.default)(n)}function unherit(n){const r=class extends n{},a=r.prototype;let o;for(o in a){const s=a[o];s&&typeof s=="object"&&(a[o]="concat"in s?s.concat():Object.assign({},s))}return r}var import_nlcst_to_string=__toModule(require_nlcst_to_string()),import_unist_util_modify_children=__toModule(require_unist_util_modify_children()),mergeInitialWordSymbol=(0,import_unist_util_modify_children.default)(function(n,r,a){var o,s;if(!(n.type!=="SymbolNode"&&n.type!=="PunctuationNode"||(0,import_nlcst_to_string.default)(n)!=="&")&&(o=a.children,s=o[r+1],!(r>0&&o[r-1].type==="WordNode"||!(s&&s.type==="WordNode"))))return o.splice(r,1),s.children.unshift(n),s.position&&n.position&&(s.position.start=n.position.start),r-1}),import_nlcst_to_string2=__toModule(require_nlcst_to_string()),import_unist_util_modify_children2=__toModule(require_unist_util_modify_children()),mergeFinalWordSymbol=(0,import_unist_util_modify_children2.default)(function(n,r,a){var o,s,l;if(r>0&&(n.type==="SymbolNode"||n.type==="PunctuationNode")&&(0,import_nlcst_to_string2.default)(n)==="-"&&(o=a.children,s=o[r-1],l=o[r+1],(!l||l.type!=="WordNode")&&s&&s.type==="WordNode"))return o.splice(r,1),s.children.push(n),s.position&&n.position&&(s.position.end=n.position.end),r}),import_nlcst_to_string3=__toModule(require_nlcst_to_string()),import_unist_util_modify_children3=__toModule(require_unist_util_modify_children()),affixSymbol=/^([!"').?\u00BB\u0F3B\u0F3D\u169C\u2019\u201D\u2026\u203A\u203D\u2046\u207E\u208E\u2309\u230B\u232A\u2769\u276B\u276D\u276F\u2771\u2773\u2775\u27C6\u27E7\u27E9\u27EB\u27ED\u27EF\u2984\u2986\u2988\u298A\u298C\u298E\u2990\u2992\u2994\u2996\u2998\u29D9\u29DB\u29FD\u2E03\u2E05\u2E0A\u2E0D\u2E1D\u2E21\u2E23\u2E25\u2E27\u2E29\u3009\u300B\u300D\u300F\u3011\u3015\u3017\u3019\u301B\u301E\u301F\uFD3E\uFE18\uFE36\uFE38\uFE3A\uFE3C\uFE3E\uFE40\uFE42\uFE44\uFE48\uFE5A\uFE5C\uFE5E\uFF09\uFF3D\uFF5D\uFF60\uFF63\]}])\1*$/,newLine=/^[ \t]*((\r?\n|\r)[\t ]*)+$/,newLineMulti=/^[ \t]*((\r?\n|\r)[\t ]*){2,}$/,terminalMarker=/^([!.?\u2026\u203D]+)$/,wordSymbolInner=/^([&'\-.:=?@\u00AD\u00B7\u2010\u2011\u2019\u2027]|_+)$/,numerical=/^(?:[\d\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])+$/,digitStart=/^\d/,lowerInitial=/^(?:[a-z\u00B5\u00DF-\u00F6\u00F8-\u00FF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C3\uA7C8\uA7CA\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/,surrogates=/[\uD800-\uDFFF]/,punctuation=/[!"'-),-/:;?[-\]_{}\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u201F\u2022-\u2027\u2032-\u203A\u203C-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDFFF]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,word=/[\dA-Za-z\u00AA\u00B2\u00B3\u00B5\u00B9\u00BA\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09F4-\u09F9\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71-\u0B77\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BF2\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C78-\u0C7E\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D63\u0D66-\u0D78\u0D7A-\u0D7F\u0D81-\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F33\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u17F0-\u17F9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1AC0\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u20D0-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA672\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA827\uA82C\uA830-\uA835\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE6\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD27\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEAB\uDEAC\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC52-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD47\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDCE-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E-\uDC61\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF3B]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD35\uDD37\uDD38\uDD3B-\uDD43\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3\uDFE4\uDFF0\uDFF1]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A]|\uDB40[\uDD00-\uDDEF]/,whiteSpace=/[\t-\r \u0085\u00A0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,mergeInnerWordSymbol=(0,import_unist_util_modify_children3.default)(function(n,r,a){var o,s,l,u,f,d,v;if(r>0&&(n.type==="SymbolNode"||n.type==="PunctuationNode")&&(o=a.children,l=o[r-1],l&&l.type==="WordNode")){for(f=r-1,d=[],v=[];o[++f];)if(s=o[f],s.type==="WordNode")d=d.concat(v,s.children),v=[];else if((s.type==="SymbolNode"||s.type==="PunctuationNode")&&wordSymbolInner.test((0,import_nlcst_to_string3.default)(s)))v.push(s);else break;if(d.length>0)return v.length>0&&(f-=v.length),o.splice(r,f-r),l.children=l.children.concat(d),u=d[d.length-1],l.position&&u.position&&(l.position.end=u.position.end),r}}),import_nlcst_to_string4=__toModule(require_nlcst_to_string()),import_unist_util_modify_children4=__toModule(require_unist_util_modify_children()),slash="/",mergeInnerWordSlash=(0,import_unist_util_modify_children4.default)(function(n,r,a){var o=a.children,s,l,u,f,d,v,g;if(s=o[r-1],l=o[r+1],s&&s.type==="WordNode"&&(n.type==="SymbolNode"||n.type==="PunctuationNode")&&(0,import_nlcst_to_string4.default)(n)===slash&&(u=(0,import_nlcst_to_string4.default)(s),v=n,d=[n],g=1,l&&l.type==="WordNode"&&(f=(0,import_nlcst_to_string4.default)(l),v=l,d=d.concat(l.children),g++),u.length<3&&(!f||f.length<3)))return s.children=s.children.concat(d),o.splice(r,g),s.position&&v.position&&(s.position.end=v.position.end),r}),import_nlcst_to_string5=__toModule(require_nlcst_to_string()),import_unist_util_modify_children5=__toModule(require_unist_util_modify_children()),mergeInitialisms=(0,import_unist_util_modify_children5.default)(function(n,r,a){var o,s,l,u,f,d,v;if(r>0&&(0,import_nlcst_to_string5.default)(n)==="."&&(o=a.children,s=o[r-1],l=s.children,s.type==="WordNode"&&l&&l.length!==1&&l.length%2!=0)){for(u=l.length,d=!0;l[--u];)if(f=l[u],v=(0,import_nlcst_to_string5.default)(f),u%2==0){if(v.length>1)return;numerical.test(v)||(d=!1)}else if(v!=="."){if(u<l.length-2)break;return}if(!d)return o.splice(r,1),l.push(n),s.position&&n.position&&(s.position.end=n.position.end),r}}),import_unist_util_modify_children6=__toModule(require_unist_util_modify_children()),mergeWords=(0,import_unist_util_modify_children6.default)(function(n,r,a){var o=a.children,s;if(n.type==="WordNode"&&(s=o[r+1],s&&s.type==="WordNode"))return o.splice(r+1,1),n.children=n.children.concat(s.children),s.position&&n.position&&(n.position.end=s.position.end),r}),import_unist_util_visit_children=__toModule(require_unist_util_visit_children()),patchPosition=(0,import_unist_util_visit_children.default)(function(n,r,a){var o=a.children;!n.position||(r<1&&(!a.position||!a.position.start)&&(patch(a),a.position.start=n.position.start),r===o.length-1&&(!a.position||!a.position.end)&&(patch(a),a.position.end=n.position.end))});function patch(n){n.position||(n.position={})}var import_unist_util_modify_children7=__toModule(require_unist_util_modify_children()),mergeNonWordSentences=(0,import_unist_util_modify_children7.default)(function(n,r,a){for(var o=n.children,s=-1,l,u;o[++s];)if(o[s].type==="WordNode")return;if(l=a.children[r-1],l)return l.children=l.children.concat(o),a.children.splice(r,1),l.position&&n.position&&(l.position.end=n.position.end),r;u=a.children[r+1],u&&(u.children=o.concat(u.children),u.position&&n.position&&(u.position.start=n.position.start),a.children.splice(r,1))}),import_nlcst_to_string6=__toModule(require_nlcst_to_string()),import_unist_util_modify_children8=__toModule(require_unist_util_modify_children()),mergeAffixSymbol=(0,import_unist_util_modify_children8.default)(function(n,r,a){var o=n.children,s,l,u;if(o&&o.length>0&&r>0&&(s=o[0],l=o[1],u=a.children[r-1],(s.type==="SymbolNode"||s.type==="PunctuationNode")&&affixSymbol.test((0,import_nlcst_to_string6.default)(s))))return u.children.push(o.shift()),s.position&&u.position&&(u.position.end=s.position.end),l&&l.position&&n.position&&(n.position.start=l.position.start),r-1}),import_nlcst_to_string7=__toModule(require_nlcst_to_string()),import_unist_util_modify_children9=__toModule(require_unist_util_modify_children()),mergeInitialLowerCaseLetterSentences=(0,import_unist_util_modify_children9.default)(function(n,r,a){var o=n.children,s,l,u,f;if(o&&o.length>0&&r>0)for(s=-1;o[++s];){if(l=o[s],l.type==="WordNode")return lowerInitial.test((0,import_nlcst_to_string7.default)(l))?(u=a.children,f=u[r-1],f.children=f.children.concat(o),u.splice(r,1),f.position&&n.position&&(f.position.end=n.position.end),r):void 0;if(l.type==="SymbolNode"||l.type==="PunctuationNode")return}}),import_nlcst_to_string8=__toModule(require_nlcst_to_string()),import_unist_util_modify_children10=__toModule(require_unist_util_modify_children()),mergeInitialDigitSentences=(0,import_unist_util_modify_children10.default)(function(n,r,a){var o=n.children,s=a.children,l=s[r-1],u=o[0];if(l&&u&&u.type==="WordNode"&&digitStart.test((0,import_nlcst_to_string8.default)(u)))return l.children=l.children.concat(o),s.splice(r,1),l.position&&n.position&&(l.position.end=n.position.end),r}),import_nlcst_to_string9=__toModule(require_nlcst_to_string()),import_unist_util_modify_children11=__toModule(require_unist_util_modify_children()),abbreviationPrefix=new RegExp("^([0-9]{1,3}|[a-z]|al|ca|cap|cca|cent|cf|cit|con|cp|cwt|ead|etc|ff|fl|ibid|id|nem|op|pro|seq|sic|stat|tem|viz)$"),mergePrefixExceptions=(0,import_unist_util_modify_children11.default)(function(n,r,a){var o=n.children,s,l,u;if(o&&o.length>1&&(s=o[o.length-1],s&&(0,import_nlcst_to_string9.default)(s)==="."&&(l=o[o.length-2],l&&l.type==="WordNode"&&abbreviationPrefix.test((0,import_nlcst_to_string9.default)(l).toLowerCase())&&(l.children.push(s),o.pop(),s.position&&l.position&&(l.position.end=s.position.end),u=a.children[r+1],u))))return n.children=o.concat(u.children),a.children.splice(r+1,1),u.position&&n.position&&(n.position.end=u.position.end),r-1}),import_nlcst_to_string10=__toModule(require_nlcst_to_string()),import_unist_util_modify_children12=__toModule(require_unist_util_modify_children()),mergeAffixExceptions=(0,import_unist_util_modify_children12.default)(function(n,r,a){var o=n.children,s,l,u,f;if(!(!o||o.length===0||r<1))for(l=-1;o[++l];){if(s=o[l],s.type==="WordNode")return;if(s.type==="SymbolNode"||s.type==="PunctuationNode")return u=(0,import_nlcst_to_string10.default)(s),u!==","&&u!==";"?void 0:(f=a.children[r-1],f.children=f.children.concat(o),f.position&&n.position&&(f.position.end=n.position.end),a.children.splice(r,1),r)}}),import_nlcst_to_string11=__toModule(require_nlcst_to_string()),import_unist_util_visit_children2=__toModule(require_unist_util_visit_children()),mergeRemainingFullStops=(0,import_unist_util_visit_children2.default)(function(n){for(var r=n.children,a=r.length,o=!1,s,l,u,f;r[--a];){if(s=r[a],s.type!=="SymbolNode"&&s.type!=="PunctuationNode"){s.type==="WordNode"&&(o=!0);continue}if(!!terminalMarker.test((0,import_nlcst_to_string11.default)(s))){if(!o){o=!0;continue}if((0,import_nlcst_to_string11.default)(s)===".")if(l=r[a-1],u=r[a+1],l&&l.type==="WordNode"){if(f=r[a+2],u&&f&&u.type==="WhiteSpaceNode"&&(0,import_nlcst_to_string11.default)(f)===".")continue;r.splice(a,1),l.children.push(s),s.position&&l.position&&(l.position.end=s.position.end),a--}else u&&u.type==="WordNode"&&(r.splice(a,1),u.children.unshift(s),s.position&&u.position&&(u.position.start=s.position.start))}}}),import_unist_util_visit_children3=__toModule(require_unist_util_visit_children()),makeInitialWhiteSpaceSiblings=(0,import_unist_util_visit_children3.default)(function(n,r,a){var o=n.children,s;o&&o.length>0&&o[0].type==="WhiteSpaceNode"&&(a.children.splice(r,0,o.shift()),s=o[0],s&&s.position&&n.position&&(n.position.start=s.position.start))}),import_unist_util_modify_children13=__toModule(require_unist_util_modify_children()),makeFinalWhiteSpaceSiblings=(0,import_unist_util_modify_children13.default)(function(n,r,a){var o=n.children,s;if(o&&o.length>0&&o[o.length-1].type==="WhiteSpaceNode")return a.children.splice(r+1,0,n.children.pop()),s=o[o.length-1],s&&s.position&&n.position&&(n.position.end=s.position.end),r}),import_nlcst_to_string12=__toModule(require_nlcst_to_string()),import_unist_util_modify_children14=__toModule(require_unist_util_modify_children()),breakImplicitSentences=(0,import_unist_util_modify_children14.default)(function(n,r,a){var o,s,l,u,f,d,v;if(n.type==="SentenceNode"){for(o=n.children,s=0;++s<o.length-1;)if(v=o[s],!(v.type!=="WhiteSpaceNode"||!newLineMulti.test((0,import_nlcst_to_string12.default)(v))))return n.children=o.slice(0,s),d={type:"SentenceNode",children:o.slice(s+1)},l=o[s-1],u=o[s+1],a.children.splice(r+1,0,v,d),n.position&&l.position&&u.position&&(f=n.position.end,n.position.end=l.position.end,d.position={start:u.position.start,end:f}),r+1}}),import_unist_util_modify_children15=__toModule(require_unist_util_modify_children()),removeEmptyNodes=(0,import_unist_util_modify_children15.default)(function(n,r,a){if("children"in n&&n.children.length===0)return a.children.splice(r,1),r}),import_nlcst_to_string13=__toModule(require_nlcst_to_string());function tokenizerFactory(n,r){return a;function a(o){for(var s=[],l=o.children,u=o.type,f=-1,d=l.length-1,v=0,g,y,b;++f<l.length;)(f===d||l[f].type===n&&r.test((0,import_nlcst_to_string13.default)(l[f])))&&(g=l[v],y=l[f],b={type:u,children:l.slice(v,f+1)},g.position&&y.position&&(b.position={start:g.position.start,end:y.position.end}),s.push(b),v=f+1);return s}}function parserFactory(n){var r=n.type,a=n.tokenizer,o=n.delimiter,s=o&&tokenizerFactory(n.delimiterType,o);return l;function l(u){var f=this[a](u);return{type:r,children:s?s(f):f}}}var ParseLatin=class{constructor(n,r){var a=r||n;this.doc=a?String(a):null}run(n,r){var a=n+"Plugins",o=this[a],s=-1;if(o)for(;o[++s];)o[s](r);return r}parse(n){return this.tokenizeRoot(n||this.doc)}tokenize(n){var r=this,a=[],o=0,s=0,l=1,u=1,f,d,v,g,y,b;if(n==null?n="":n instanceof String&&(n=n.toString()),typeof n!="string"){if("length"in n&&(!n[0]||n[0].type))return n;throw new Error("Illegal invocation: '"+n+"' is not a valid argument for 'ParseLatin'")}if(!n)return a;for(b=this.position?x:C,v="",d="";o<n.length;)f=n.charAt(o),whiteSpace.test(f)?y="WhiteSpace":punctuation.test(f)?y="Punctuation":word.test(f)?y="Word":y="Symbol",_(),v=f,f="",g=y,y=null,o++;return _(),a;function _(){g===y&&(g==="Word"||g==="WhiteSpace"||f===v||surrogates.test(f))?d+=f:(d&&r["tokenize"+g](d,b),d=f)}function x(M){var E=S();return D(M),P;function P(...I){return E(w(...I))}}function C(){return w}function w(M,E){return E?E.children.push(M):a.push(M),M}function S(){var M=T();function E(P){return P.position=new A(M),P}return E}function D(M){var E=-1,P=-1;for(s+=M.length;++E<M.length;)M.charAt(E)===`
`&&(P=E,l++);P<0?u+=M.length:u=M.length-P}function A(M){this.start=M,this.end=T()}function T(){return{line:l,column:u,offset:s}}}};ParseLatin.prototype.position=!0,ParseLatin.prototype.tokenizeSymbol=createTextFactory("Symbol"),ParseLatin.prototype.tokenizeWhiteSpace=createTextFactory("WhiteSpace"),ParseLatin.prototype.tokenizePunctuation=createTextFactory("Punctuation"),ParseLatin.prototype.tokenizeSource=createTextFactory("Source"),ParseLatin.prototype.tokenizeText=createTextFactory("Text"),ParseLatin.prototype.use=useFactory(function(n,r,a){n[r]=n[r].concat(a)}),ParseLatin.prototype.useFirst=useFactory(function(n,r,a){n[r]=a.concat(n[r])}),pluggable(ParseLatin,"tokenizeWord",function(n,r){var a=(r||noopEat)(""),o={type:"WordNode",children:[]};return this.tokenizeText(n,r,o),a(o)}),pluggable(ParseLatin,"tokenizeSentence",parserFactory({type:"SentenceNode",tokenizer:"tokenize"})),pluggable(ParseLatin,"tokenizeParagraph",parserFactory({type:"ParagraphNode",delimiter:terminalMarker,delimiterType:"PunctuationNode",tokenizer:"tokenizeSentence"})),pluggable(ParseLatin,"tokenizeRoot",parserFactory({type:"RootNode",delimiter:newLine,delimiterType:"WhiteSpaceNode",tokenizer:"tokenizeParagraph"})),ParseLatin.prototype.use("tokenizeSentence",[mergeInitialWordSymbol,mergeFinalWordSymbol,mergeInnerWordSymbol,mergeInnerWordSlash,mergeInitialisms,mergeWords,patchPosition]),ParseLatin.prototype.use("tokenizeParagraph",[mergeNonWordSentences,mergeAffixSymbol,mergeInitialLowerCaseLetterSentences,mergeInitialDigitSentences,mergePrefixExceptions,mergeAffixExceptions,mergeRemainingFullStops,makeInitialWhiteSpaceSiblings,makeFinalWhiteSpaceSiblings,breakImplicitSentences,removeEmptyNodes,patchPosition]),ParseLatin.prototype.use("tokenizeRoot",[makeInitialWhiteSpaceSiblings,makeFinalWhiteSpaceSiblings,removeEmptyNodes,patchPosition]);function createTextFactory(n){return n+="Node",r;function r(a,o,s){return a==null&&(a=""),(o||noopEat)(a)({type:n,value:String(a)},s)}}function pluggable(n,r,a){n.prototype[r]=function(...o){return this.run(r,a.apply(this,o))}}function useFactory(n){return r;function r(a,o){var s;if(!(a in this))throw new Error("Illegal Invocation: Unsupported `key` for `use(key, plugins)`. Make sure `key` is a supported function");!o||(s=a+"Plugins",o=typeof o=="function"?[o]:o.concat(),this[s]||(this[s]=[]),n(this,s,o))}}function noopAdd(n,r){return r&&r.children.push(n),n}function noopEat(){return noopAdd}var import_nlcst_to_string14=__toModule(require_nlcst_to_string2()),import_unist_util_visit_children4=__toModule(require_unist_util_visit_children()),import_unist_util_modify_children16=__toModule(require_unist_util_modify_children2()),ParseEnglish=class extends ParseLatin{};ParseEnglish.prototype.tokenizeSentencePlugins=[(0,import_unist_util_visit_children4.default)(mergeEnglishElisionExceptions)].concat(ParseEnglish.prototype.tokenizeSentencePlugins),ParseEnglish.prototype.tokenizeParagraphPlugins=[(0,import_unist_util_modify_children16.default)(mergeEnglishPrefixExceptions)].concat(ParseEnglish.prototype.tokenizeParagraphPlugins);var abbreviations=new RegExp("^(inc|ltd|bbls?|cu|doz|fl|ft|gal|gr|gro|in|kt|lbs?|mi|oz|pt|qt|sq|tbsp|tsp|yds?|sec|min|hr|mon|tue|tues|wed|thu|thurs|fri|sat|sun|jan|feb|mar|apr|jun|jul|aug|sep|sept|oct|nov|dec)$"),abbreviationsSensitive=new RegExp("^(Mr|Mrs|Miss|Ms|Mss|Mses|Mlle|Mme|M|Messrs|Mmes|Jr|Sr|Snr|Dr|Mgr|Atty|Prof|Hon|Rev|Fr|Msgr|Sr|Br|St|Pres|Supt|Rep|Sen|Gov|Amb|Treas|Sec|Amd|Brig|Gen|Cdr|Col|Capt|Lt|Maj|Sgt|Po|Wo|Ph|Ave|Blvd|Mt|Rd|Bldgs?|Nat|Natl|Rt|Rte|Co|Pk|Sq|Dr|Pt|St|Ft|Pen|Terr|Hwy|Fwy|Pkwy|Ala|Ariz|Ark|Cal|Calif|Col|Colo|Conn|Del|Fla|Ga|Ida|Id|Ill|Ind|Ia|Kan|Kans|Ken|Ky|La|Me|Md|Mass|Mich|Minn|Miss|Mo|Mont|Neb|Nebr|Nev|Mex|Dak|Okla|Ok|Ore|Penna|Penn|Pa|Tenn|Tex|Ut|Vt|Va|Wash|Wis|Wisc|Wyo|Alta|Man|Ont|Qu\xE9|Que|Sask|Yuk|Beds|Berks|Bucks|Cambs|Ches|Corn|Cumb|Derbys|Derbs|Dev|Dor|Dur|Glos|Hants|Here|Heref|Herts|Hunts|Lancs|Leics|Lincs|Mx|Middx|Mddx|Norf|Northants|Northumb|Northd|Notts|Oxon|Rut|Shrops|Salop|Som|Staffs|Staf|Suff|Sy|Sx|Ssx|Warks|War|Warw|Westm|Wilts|Worcs|Yorks)$"),elisionPrefix=new RegExp("^(o|ol)$"),elisionAffix=new RegExp("^(im|er|em|cause|twas|tis|twere|\\d\\ds?)$"),apostrophe=/^['\u2019]$/;function mergeEnglishPrefixExceptions(n,r,a){var o=n.children,s=o[o.length-1],l=o[o.length-2],u,f;if(s&&(0,import_nlcst_to_string14.default)(s)==="."&&l&&l.type==="WordNode"&&(u=(0,import_nlcst_to_string14.default)(l),(abbreviations.test(lower(u))||abbreviationsSensitive.test(u))&&(l.children.push(s),o.pop(),s.position&&l.position&&(l.position.end=s.position.end),f=a.children[r+1],f)))return n.children=o.concat(f.children),a.children.splice(r+1,1),f.position&&n.position&&(n.position.end=f.position.end),r-1}function mergeEnglishElisionExceptions(n,r,a){var o,s,l,u,f;if(!(n.type!=="PunctuationNode"&&n.type!=="SymbolNode")){if(o=a.children,u=o.length,f=(0,import_nlcst_to_string14.default)(n),f==="/")s=o[r-1],s&&lower((0,import_nlcst_to_string14.default)(s))==="w"&&(o.splice(r,1),s.children.push(n),s.position&&n.position&&(s.position.end=n.position.end));else if(apostrophe.test(f)){if(s=o[r-1],r>2&&r<u-1&&s.type==="WordNode"&&o[r-2].type==="WhiteSpaceNode"&&o[r+1].type==="WhiteSpaceNode"&&elisionPrefix.test(lower((0,import_nlcst_to_string14.default)(s)))){o.splice(r,1),s.children.push(n),s.position&&n.position&&(s.position.end=n.position.end);return}r!==u-1&&o[r+1].type==="WordNode"&&(r===0||o[r-1].type!=="WordNode")&&(s=o[r+1],f=lower((0,import_nlcst_to_string14.default)(s)),elisionAffix.test(f)?(o.splice(r,1),s.children=[n].concat(s.children),s.position&&n.position&&(s.position.start=n.position.start)):f==="n"&&r<u-2&&apostrophe.test((0,import_nlcst_to_string14.default)(o[r+2]))&&(l=o[r+2],o.splice(r,1),o.splice(r+1,1),s.children=[n].concat(s.children,l),s.position&&(n.position&&(s.position.start=n.position.start),l.position&&(s.position.end=l.position.end))))}}}function lower(n){return n.toLowerCase()}function retextEnglish(){Object.assign(this,{Parser:unherit(ParseEnglish)})}var retext_english_default=retextEnglish,own2={}.hasOwnProperty;function arrayIterate(n,r,a){let o=-1;if(!n)throw new Error("Iterate requires that |this| not be "+n);if(!own2.call(n,"length"))throw new Error("Iterate requires that |this| has a `length`");if(typeof r!="function")throw new TypeError("`callback` must be a function");for(;++o<n.length;){if(!(o in n))continue;const s=r.call(a,n[o],o,n);typeof s=="number"&&(s<0&&(o=0),o=s-1)}}function modifyChildren17(n){return r;function r(o){if(!o||!o.children)throw new Error("Missing children in `parent` for `modifier`");arrayIterate(o.children,a,o)}function a(o,s){return n(o,s,this)}}var convert=function(n){if(n==null)return ok;if(typeof n=="string")return typeFactory(n);if(typeof n=="object")return Array.isArray(n)?anyFactory(n):propsFactory(n);if(typeof n=="function")return castFactory(n);throw new Error("Expected function, string, or object as test")};function anyFactory(n){const r=[];let a=-1;for(;++a<n.length;)r[a]=convert(n[a]);return castFactory(o);function o(...s){let l=-1;for(;++l<r.length;)if(r[l].call(this,...s))return!0;return!1}}function propsFactory(n){return castFactory(r);function r(a){let o;for(o in n)if(a[o]!==n[o])return!1;return!0}}function typeFactory(n){return castFactory(r);function r(a){return a&&a.type===n}}function castFactory(n){return r;function r(...a){return Boolean(n.call(this,...a))}}function ok(){return!0}function color(n){return n}var CONTINUE=!0,SKIP="skip",EXIT=!1,visitParents=function(n,r,a,o){typeof r=="function"&&typeof a!="function"&&(o=a,a=r,r=null);const s=convert(r),l=o?-1:1;u(n,null,[])();function u(f,d,v){const g=typeof f=="object"&&f!==null?f:{};let y;return typeof g.type=="string"&&(y=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0,Object.defineProperty(b,"name",{value:"node ("+color(g.type+(y?"<"+y+">":""))+")"})),b;function b(){let _=[],x,C,w;if((!r||s(f,d,v[v.length-1]||null))&&(_=toResult(a(f,v)),_[0]===EXIT))return _;if(f.children&&_[0]!==SKIP)for(C=(o?f.children.length:-1)+l,w=v.concat(f);C>-1&&C<f.children.length;){if(x=u(f.children[C],C,w)(),x[0]===EXIT)return x;C=typeof x[1]=="number"?x[1]:C+l}return _}}};function toResult(n){return Array.isArray(n)?n:typeof n=="number"?[CONTINUE,n]:[n]}var visit=function(n,r,a,o){typeof r=="function"&&typeof a!="function"&&(o=a,a=r,r=null),visitParents(n,r,s,o);function s(l,u){const f=u[u.length-1];return a(l,f?f.children.indexOf(l):null,f)}};function toString16(n,r=""){let a=-1;if(!n||!Array.isArray(n)&&!n.type)throw new Error("Expected node, not `"+n+"`");if(typeof n.value=="string")return n.value;const o=(Array.isArray(n)?n:n.children)||[];if(o.length===1&&"value"in o[0])return o[0].value;const s=[];for(;++a<o.length;)s[a]=toString16(o[a],r);return s.join(r)}var import_obsidian5=__toModule(require("obsidian"));function getStoredWords(n){return __async(this,null,function*(){let r={url:"http://localhost:3000/word_phrase",method:"POST",body:JSON.stringify(n),contentType:"application/json"};try{return(yield(0,import_obsidian5.requestUrl)(r)).json}catch(a){console.warn("Error when getting parse info from server:"+a)}})}function getExpression(n){return __async(this,null,function*(){let r={url:"http://localhost:3000/words",method:"POST",body:JSON.stringify(n.toLowerCase()),contentType:"application/json"};try{return(yield(0,import_obsidian5.requestUrl)(r)).json}catch(a){console.warn("Error while getting data to server."+a)}})}function getExpressionSimple(n){return __async(this,null,function*(){let a={url:`http://localhost:3000/words_simple/${n?"all":"no_ignore"}`,method:"GET"};try{let o=yield(0,import_obsidian5.requestUrl)(a);return console.log(o),o.json}catch(o){console.warn("Error while getting data to server."+o)}})}function postExpression(n){return __async(this,null,function*(){n.expression=n.expression.toLowerCase();let r={url:"http://localhost:3000/update",method:"POST",body:JSON.stringify(n),contentType:"application/json"};try{return(yield(0,import_obsidian5.requestUrl)(r)).status}catch(a){console.warn("Error while saving data to server."+a)}})}function getTags(){return __async(this,null,function*(){let n={url:"http://localhost:3000/tags",method:"GET"};try{return(yield(0,import_obsidian5.requestUrl)(n)).json}catch(r){console.warn("Error getting tags from server."+r)}})}function postIgnoreWords(n){return __async(this,null,function*(){let r={url:"http://localhost:3000/ignores",method:"POST",body:JSON.stringify(n),contentType:"application/json"};try{yield(0,import_obsidian5.requestUrl)(r)}catch(a){console.warn("Error sending ignore words"+a)}})}function count_seven(){return __async(this,null,function*(){let n=[];n=[0,1,2,3,4,5,6].map(a=>{let s=(0,import_obsidian5.moment)().subtract(6,"days").startOf("day").add(a,"days");return{from:s.unix(),to:s.endOf("day").unix()}});let r={url:"http://localhost:3000/count_time",method:"POST",body:JSON.stringify(n),contentType:"application/json"};try{return(yield(0,import_obsidian5.requestUrl)(r)).json}catch(a){}})}var processor=unified().use(retext_english_default).use(addPhrases).use(stringfy2HTML),phrases=[],words=new Map,pIdx=0;function text2HTML(n){return __async(this,null,function*(){pIdx=0,words.clear(),phrases=yield(yield getStoredWords({article:n,words:[]})).phrases;const r=processor.parse(n);let a=new Set;return visit(r,"WordNode",l=>{a.add(toString16(l).toLowerCase())}),(yield getStoredWords({article:n,words:[...a]})).words.forEach(l=>words.set(l.text,l)),processor.stringify(r)})}function addPhrases(n={}){this.Parser.prototype.useFirst("tokenizeParagraph",phraseModifier)}var phraseModifier=modifyChildren17(wrapWord2Phrase);function wrapWord2Phrase(n,r,a){if(!n.hasOwnProperty("children")||pIdx>=phrases.length||n.position.end.offset<=phrases[pIdx].offset)return;let o=n.children,s;for(;(s=o.findIndex(l=>l.position.start.offset===phrases[pIdx].offset))!==-1;){let l=o.findIndex(f=>f.position.end.offset===phrases[pIdx].offset+phrases[pIdx].text.length);if(l===-1){pIdx++;return}let u=o.slice(s,l+1);if(o.splice(s,l-s+1,{type:"PhraseNode",children:u,position:{start:__spreadValues({},u.first().position.start),end:__spreadValues({},u.last().position.end)}}),pIdx++,pIdx>=phrases.length||n.position.end.offset<=phrases[pIdx].offset)return}}function stringfy2HTML(){Object.assign(this,{Compiler:compileHTML})}function compileHTML(n){return toHTMLString(n)}var statusMap=["ignore","learning","familiar","known","learned"];function toHTMLString(n){if(n.hasOwnProperty("value"))return n.value;if(n.hasOwnProperty("children")){let r=n;switch(r.type){case"WordNode":{let a=toString16(r.children),o=words.has(a.toLowerCase())?statusMap[words.get(a.toLowerCase()).status]:"new";return/^[0-9]+$/.test(a)?`<span>${a}</span>`:`<span class="word ${o}">${a}</span>`}case"PhraseNode":{let a=toString16(r.children),o=toHTMLString(r.children),s=phrases.find(u=>u.text===a.toLowerCase());return`<span class="phrase ${statusMap[s.status]}">${o}</span>`}case"SentenceNode":return`<span class="stns">${toHTMLString(r.children)}</span>`;case"ParagraphNode":return`<p>${toHTMLString(r.children)}</p>`;default:return`<div class="article">${toHTMLString(r.children)}</div>`}}if(Array.isArray(n))return n.map(a=>toHTMLString(a)).join("")}function parse(n){return __async(this,null,function*(){let r=n.split(`
`),a=r.indexOf("^^^article")+1,o=r.indexOf("^^^words"),s=r.slice(a,o).join(`
`);return yield text2HTML(s.trim())})}var parser_default=parse,READING_VIEW_TYPE="langr-reading",READING_ICON="highlight-glyph",ReadingView=class extends import_obsidian6.TextFileView{constructor(n,r){super(n);this.refresh=a=>{let o=a.detail.expression.toLowerCase(),s=a.detail.type,l=a.detail.status;const u=["ignore","learning","familiar","known","learned"];if(s==="WORD"){let f=this.contentEl.querySelectorAll(".word");if(f.length===0)return;f.forEach(d=>{d.textContent.toLowerCase()===o&&(d.className=`word ${u[l]}`)})}else if(s==="PHRASE"){let f=this.contentEl.querySelectorAll(".phrase");if(f.length>0){f.forEach(y=>{y.textContent.toLowerCase()===o&&(y.className=`phrase ${u[l]}`)});return}this.removeSelect();let d=[];o.split(" ").forEach(y=>{y!==""&&d.push(y," ")}),d.pop();let v=(y,b)=>{let _=y,x=[];for(let C of b){if(!_||_.textContent!==C)return null;x.push(_),_=_.nextSibling}return x};this.containerEl.querySelectorAll(".stns").forEach(y=>{let b=y.children,_=-1;for(;_++<b.length;){let x;if(x=v(b[_],d)){let C=createSpan({cls:`phrase ${u[l]}`});y.insertBefore(C,b[_]),x.forEach(w=>{w.remove(),C.appendChild(w)}),_+=d.length-1}}})}},this.plugin=r}getIcon(){return READING_ICON}getViewData(){return this.data}setViewData(n,r){return __async(this,null,function*(){this.data=n,n=yield parser_default(n);let a=this.plugin.app.metadataCache.getFileCache(this.file).frontmatter,o="";a["langr-audio"]&&(o=`<audio controls src="${a["langr-audio"]}">Your browser does not support the <code>audio</code> element.</audio>`);let s=`<button class="finish-reading">${t("Finish Reading")}</button>`,l=`<divclass="func-area"style="padding-bottom:20px;border-bottom:2px solid gray;">${o}${s}</div>`,u=`<divclass="text-area"style="overflow:auto;flex:1;padding-top:20px;padding-left:5%;padding-right:5%;">${n}</div>`,f=`<div id="langr-reading"style="height:100%;width:100%;overflow:hidden;display:flex;flex-direction:column;">${l}${u}</div>`;this.contentEl.innerHTML=f;let d=this.contentEl.querySelector(".finish-reading");d&&d.addEventListener("click",()=>__async(this,null,function*(){let v=this.containerEl.querySelectorAll(".word.new"),g=[];v.forEach(y=>{g.push(y.textContent.toLowerCase())}),yield postIgnoreWords(g),this.setViewData(this.data),dispatchEvent(new CustomEvent("obsidian-langr-refresh-stat"))}))})}getViewType(){return READING_VIEW_TYPE}onMoreOptionsMenu(n){n.addItem(r=>{r.setTitle(t("Return Markdown View")).setIcon("document").onClick(()=>{this.plugin.setMarkdownView(this.leaf)})}).addSeparator(),super.onMoreOptionsMenu(n)}clear(){}removeSelect(){this.contentEl.querySelectorAll("span.select").forEach(r=>{let a=r.parentElement,o=[];r.childNodes.forEach(s=>{o.push(s)});for(let s of o)a.insertBefore(s,r);r.remove()})}onOpen(){return __async(this,null,function*(){addEventListener("obsidian-langr-refresh",this.refresh)})}onClose(){return __async(this,null,function*(){removeEventListener("obsidian-langr-refresh",this.refresh)})}},import_obsidian8=__toModule(require("obsidian")),import_obsidian7=__toModule(require("obsidian")),LearnPanel_default=defineComponent({setup(n,{expose:r}){r(),onMounted(()=>{let M=document.getElementById("nima")});const a=document.body.hasClass("theme-dark")?darkTheme:null;let o=ref({expression:null,meaning:null,status:0,t:"WORD",tags:[],notes:[],sentences:[]}),s={expression:{required:!0,trigger:["blur","input"],message:"Please input a word/phrase"},meaning:{required:!0,trigger:["blur","input"],message:"A short definition is needed"},t:{required:!0,trigger:"change",message:"Expression can be a word or phrase"},status:{required:!0}},l={required:!0,trigger:["blur","input"],message:"At least input a source sentence"},u={fontSize:"16px",fontWeight:"bold",padding:"0 0 8px 2px"};function f(){return{text:"",trans:"",origin:""}}const d={},v={backgroundColor:"#ff980055"},g={backgroundColor:"#ffeb3c55"},y={backgroundColor:"#9eda5855"},b={backgroundColor:"#4cb05155"};let _=ref([]),x=ref(!1),C=[];function w(M){return __async(this,null,function*(){if(x.value=!0,M.length<2&&(C=yield getTags()),x.value=!1,!M.length){_.value=C.map(E=>({label:E,value:E}));return}_.value=C.filter(E=>~E.indexOf(M)).map(E=>({label:E,value:E}))})}let S=ref(!1);function D(){return __async(this,null,function*(){if(!o.value.expression){new import_obsidian7.Notice(t("Expression is empty!"));return}if(!o.value.meaning){new import_obsidian7.Notice(t("Meaning is empty!"));return}if(o.value.expression.trim().split(" ").length>1&&o.value.t==="WORD"){new import_obsidian7.Notice(t("It looks more like a PHRASE than a WORD"));return}S.value=!0;let M=yield postExpression(o.value);S.value=!1,M!==200&&(new import_obsidian7.Notice("Submit failed"),console.warn("Submit failed, please check server status")),dispatchEvent(new CustomEvent("obsidian-langr-refresh",{detail:{expression:o.value.expression,type:o.value.t,status:o.value.status}})),dispatchEvent(new CustomEvent("obsidian-langr-refresh-stat"))})}function A(M){return __async(this,null,function*(){let E=M.detail.selection,P=yield getExpression(E),I=M.detail.target;if(!P){let L=(I.parentElement.hasClass("stns")?I.parentElement:I.parentElement.parentElement).textContent;o.value={expression:E,meaning:"",status:0,t:"WORD",tags:[],notes:[],sentences:[{text:L,trans:null,origin:null}]};return}o.value=P})}onMounted(()=>{addEventListener("obsidian-langr-search",A)}),onUnmounted(()=>{removeEventListener("obsidian-langr-search",A)});const T={theme:a,model:o,rules:s,sourceRule:l,labelStyle:u,onCreateSentence:f,basicStyle:d,learningStyle:v,familiarStyle:g,knownStyle:y,LearnedStyle:b,tagOptions:_,tagLoading:x,tags:C,tagSearch:w,submitLoading:S,submit:D,onSearch:A,NForm:Form_default,NFormItem:FormItem_default,NInput:Input_default,NRadio:Radio_default,NRadioButton:RadioButton_default,NRadioGroup:RadioGroup_default,NButton:Button_default,NDynamicInput:DynamicInput_default,NSelect:Select_default,NConfigProvider:ConfigProvider_default,t};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}}),_hoisted_14=createBaseVNode("div",{id:"nima"},null,-1),_hoisted_24={id:"langr-learn-panel"},_hoisted_33={style:{"margin-bottom":"8px"}},_hoisted_43={style:{display:"flex","flex-direction":"column",flex:"1",border:"2px solid gray","border-radius":"3px",padding:"3px"}},_hoisted_53={style:{"margin-top":"10px"}};function render6(n,r,a,o,s,l){return openBlock(),createElementBlock(Fragment,null,[_hoisted_14,createBaseVNode("div",_hoisted_24,[createVNode(o.NConfigProvider,{theme:o.theme},{default:withCtx(()=>[createVNode(o.NForm,{model:o.model,"label-placement":"top","label-width":"auto",rules:o.rules,"require-mark-placement":"right-hanging"},{default:withCtx(()=>[createCommentVNode(" \u4E00\u4E2A\u5355\u8BCD\u6216\u77ED\u8BED\u5B57\u7B26\u4E32 "),createVNode(o.NFormItem,{label:o.t("Expression"),"label-style":o.labelStyle,path:"expression"},{default:withCtx(()=>[createVNode(o.NInput,{value:o.model.expression,"onUpdate:value":r[0]||(r[0]=u=>o.model.expression=u),placeholder:o.t("A word or a phrase")},null,8,["value","placeholder"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u5355\u8BCD\u6216\u77ED\u8BED\u7684\u542B\u4E49(\u7CBE\u7B80) "),createVNode(o.NFormItem,{label:o.t("Meaning"),"label-style":o.labelStyle,path:"meaning"},{default:withCtx(()=>[createVNode(o.NInput,{value:o.model.meaning,"onUpdate:value":r[1]||(r[1]=u=>o.model.meaning=u),placeholder:o.t("A short definition")},null,8,["value","placeholder"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u7C7B\u522B\uFF0C\u53EF\u4EE5\u662FWord\u6216Phrase "),createVNode(o.NFormItem,{label:o.t("Type"),"label-style":o.labelStyle,path:"t"},{default:withCtx(()=>[createVNode(o.NRadioGroup,{value:o.model.t,"onUpdate:value":r[2]||(r[2]=u=>o.model.t=u)},{default:withCtx(()=>[createVNode(o.NRadio,{value:"WORD"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Word")),1)]),_:1}),createVNode(o.NRadio,{value:"PHRASE"},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Phrase")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u5F53\u524D\u5355\u8BCD\u7684\u5B66\u4E60\u72B6\u6001 "),createVNode(o.NFormItem,{label:o.t("Status"),"label-style":o.labelStyle,path:"status"},{default:withCtx(()=>[createVNode(o.NRadioGroup,{value:o.model.status,"onUpdate:value":r[3]||(r[3]=u=>o.model.status=u),size:"small"},{default:withCtx(()=>[createVNode(o.NRadioButton,{value:0},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Ignore")),1)]),_:1}),createVNode(o.NRadioButton,{style:o.learningStyle,value:1},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Learning")),1)]),_:1}),createVNode(o.NRadioButton,{style:o.familiarStyle,value:2},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Familiar")),1)]),_:1}),createVNode(o.NRadioButton,{style:o.knownStyle,value:3},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Known")),1)]),_:1}),createVNode(o.NRadioButton,{style:o.LearnedStyle,value:4},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Learned")),1)]),_:1})]),_:1},8,["value"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u52A0\u4E00\u4E9Btag, \u53EF\u4EE5\u7528\u6765\u641C\u7D22 "),createVNode(o.NFormItem,{label:o.t("Tags"),"label-style":o.labelStyle,path:"tags"},{default:withCtx(()=>[createCommentVNode(' <NDynamicTags v-model:value="model.tags"/> '),createVNode(o.NSelect,{value:o.model.tags,"onUpdate:value":r[4]||(r[4]=u=>o.model.tags=u),filterable:"",multiple:"",tag:"",placeholder:o.t("Input or select some tags"),loading:o.tagLoading,options:o.tagOptions,onSearch:o.tagSearch},null,8,["value","placeholder","loading","options"])]),_:1},8,["label","label-style"]),createCommentVNode(" \u53EF\u9009,\u53EF\u4EE5\u8BB0\u591A\u6761\u7B14\u8BB0 "),createVNode(o.NFormItem,{label:o.t("Notes"),"label-style":o.labelStyle,path:"tags"},{default:withCtx(()=>[createVNode(o.NDynamicInput,{value:o.model.notes,"onUpdate:value":r[5]||(r[5]=u=>o.model.notes=u)},{"create-button-default":withCtx(()=>[createTextVNode(toDisplayString(o.t("Create")),1)]),default:withCtx(({index:u,value:f})=>[createVNode(o.NInput,{xxx:"xxxx",type:"textarea",placeholder:o.t("Write a new note"),value:o.model.notes[u],"onUpdate:value":d=>o.model.notes[u]=d},null,8,["placeholder","value","onUpdate:value"])]),_:1},8,["value"]),createCommentVNode(" \u53EF\u9009,\u4F8B\u53E5\u4E5F\u53EF\u4EE5\u8BB0\u591A\u6761 ")]),_:1},8,["label","label-style"]),createBaseVNode("div",_hoisted_33,[createBaseVNode("label",{for:"Sentences",style:normalizeStyle([o.labelStyle])},toDisplayString(o.t("Sentences")),5)]),createVNode(o.NDynamicInput,{name:"Sentences",value:o.model.sentences,"onUpdate:value":r[6]||(r[6]=u=>o.model.sentences=u),"on-create":o.onCreateSentence},{"create-button-default":withCtx(()=>[createTextVNode(toDisplayString(o.t("Create")),1)]),default:withCtx(({index:u,value:f})=>[createBaseVNode("div",_hoisted_43,[createVNode(o.NFormItem,{"show-label":!1,path:`sentences[${u}].text`,rule:o.sourceRule},{default:withCtx(()=>[createVNode(o.NInput,{type:"textarea",value:o.model.sentences[u].text,"onUpdate:value":d=>o.model.sentences[u].text=d,placeholder:o.t("Origin sentence"),autosize:{minRows:1,maxRows:3}},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["path","rule"]),createVNode(o.NFormItem,{"show-feedback":!1,"show-label":!1,path:`sentences[${u}].trans`},{default:withCtx(()=>[createVNode(o.NInput,{type:"textarea",value:o.model.sentences[u].trans,"onUpdate:value":d=>o.model.sentences[u].trans=d,placeholder:o.t("Translation (Optional)"),autosize:{minRows:1,maxRows:3}},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["path"]),createVNode(o.NFormItem,{"show-feedback":!1,"show-label":!1,path:`sentences[${u}].origin`},{default:withCtx(()=>[createVNode(o.NInput,{type:"textarea",value:o.model.sentences[u].origin,"onUpdate:value":d=>o.model.sentences[u].origin=d,placeholder:o.t("Origin (Optional)"),autosize:{minRows:1,maxRows:3}},null,8,["value","onUpdate:value","placeholder"])]),_:2},1032,["path"])])]),_:1},8,["value"])]),_:1},8,["model","rules"]),createBaseVNode("div",_hoisted_53,[createVNode(o.NButton,{style:{"--n-width":"100%"},type:"primary","attr-type":"submit",size:"large",onClick:o.submit,loading:o.submitLoading},{default:withCtx(()=>[createTextVNode(toDisplayString(o.t("Submit")),1)]),_:1},8,["loading"])])]),_:1},8,["theme"]),createBaseVNode("div",null,toDisplayString(o.model),1)])],64)}LearnPanel_default.render=render6,LearnPanel_default.__file="src\\views\\LearnPanel.vue";var LearnPanel_default2=LearnPanel_default,LEARN_PANEL_VIEW="langr-learn-panel",LearnPanelView=class extends import_obsidian8.ItemView{constructor(n,r){super(n);this.plugin=r}getViewType(){return LEARN_PANEL_VIEW}getDisplayText(){return t("Learning New Words")}getIcon(){return"reading-glasses"}onOpen(){return __async(this,null,function*(){const n=this.containerEl.children[1];n.empty();const r=n.createEl("div",{cls:"langr-learn"});this.vueapp=createApp(LearnPanel_default2),this.vueapp.config.globalProperties.plugin=this.plugin,this.vueapp.mount(r)})}onClose(){return __async(this,null,function*(){this.vueapp.unmount()})}},import_obsidian10=__toModule(require("obsidian")),import_obsidian9=__toModule(require("obsidian")),import_tslib=__toModule(require_tslib()),{__extends,__assign,__rest,__decorate,__param,__metadata,__awaiter:__awaiter3,__generator,__exportStar,__createBinding,__values,__read,__spread,__spreadArrays,__spreadArray,__await,__asyncGenerator,__asyncDelegator,__asyncValues,__makeTemplateObject,__importStar,__importDefault,__classPrivateFieldGet,__classPrivateFieldSet}=import_tslib.default,Browser=function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n}(),Env=function(){function n(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window!="undefined"}return n}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document=="undefined"&&typeof self!="undefined"?env.worker=!0:typeof navigator=="undefined"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(n,r){var a=r.browser,o=n.match(/Firefox\/([\d.]+)/),s=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),l=n.match(/Edge?\/([\d.]+)/),u=/micromessenger/i.test(n);o&&(a.firefox=!0,a.version=o[1]),s&&(a.ie=!0,a.version=s[1]),l&&(a.edge=!0,a.version=l[1],a.newEdge=+l[1].split(".")[0]>18),u&&(a.weChat=!0),r.svgSupported=typeof SVGRect!="undefined",r.touchEventsSupported="ontouchstart"in window&&!a.ie&&!a.edge,r.pointerEventsSupported="onpointerdown"in window&&(a.edge||a.ie&&+a.version>=11),r.domSupported=typeof document!="undefined";var f=document.documentElement.style;r.transform3dSupported=(a.ie&&"transition"in f||a.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in f)&&!("OTransition"in f),r.transformSupported=r.transform3dSupported||a.ie&&+a.version>=9}var env_default=env,DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(n){var r={};if(typeof JSON=="undefined")return r;for(var a=0;a<n.length;a++){var o=String.fromCharCode(a+32),s=(n.charCodeAt(a)-OFFSET)/SCALE;r[o]=s}return r}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document!="undefined"&&document.createElement("canvas")},measureText:function(){var n,r;return function(a,o){if(!n){var s=platformApi.createCanvas();n=s&&s.getContext("2d")}if(n)return r!==o&&(r=n.font=o||DEFAULT_FONT),n.measureText(a);a=a||"",o=o||DEFAULT_FONT;var l=/^([0-9]*?)px$/.exec(o),u=+(l&&l[1])||DEFAULT_FONT_SIZE,f=0;if(o.indexOf("mono")>=0)f=u*a.length;else for(var d=0;d<a.length;d++){var v=DEFAULT_TEXT_WIDTH_MAP[a[d]];f+=v==null?u:v*u}return{width:f}}}(),loadImage:function(n,r,a){var o=new Image;return o.onload=r,o.onerror=a,o.src=n,o}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,r){return n["[object "+r+"]"]=!0,n},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,r){return n["[object "+r+"Array]"]=!0,n},{}),objToString=Object.prototype.toString,arrayProto2=Array.prototype,nativeForEach=arrayProto2.forEach,nativeFilter=arrayProto2.filter,nativeSlice=arrayProto2.slice,nativeMap=arrayProto2.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError2(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];typeof console!="undefined"&&console.error.apply(console,n)}function clone(n){if(n==null||typeof n!="object")return n;var r=n,a=objToString.call(n);if(a==="[object Array]"){if(!isPrimitive(n)){r=[];for(var o=0,s=n.length;o<s;o++)r[o]=clone(n[o])}}else if(TYPED_ARRAY[a]){if(!isPrimitive(n)){var l=n.constructor;if(l.from)r=l.from(n);else{r=new l(n.length);for(var o=0,s=n.length;o<s;o++)r[o]=n[o]}}}else if(!BUILTIN_OBJECT[a]&&!isPrimitive(n)&&!isDom(n)){r={};for(var u in n)n.hasOwnProperty(u)&&u!==protoKey&&(r[u]=clone(n[u]))}return r}function merge3(n,r,a){if(!isObject3(r)||!isObject3(n))return a?clone(r):n;for(var o in r)if(r.hasOwnProperty(o)&&o!==protoKey){var s=n[o],l=r[o];isObject3(l)&&isObject3(s)&&!isArray3(l)&&!isArray3(s)&&!isDom(l)&&!isDom(s)&&!isBuiltInObject(l)&&!isBuiltInObject(s)&&!isPrimitive(l)&&!isPrimitive(s)?merge3(s,l,a):(a||!(o in n))&&(n[o]=clone(r[o]))}return n}function mergeAll(n,r){for(var a=n[0],o=1,s=n.length;o<s;o++)a=merge3(a,n[o],r);return a}function extend3(n,r){if(Object.assign)Object.assign(n,r);else for(var a in r)r.hasOwnProperty(a)&&a!==protoKey&&(n[a]=r[a]);return n}function defaults(n,r,a){for(var o=keys3(r),s=0;s<o.length;s++){var l=o[s];(a?r[l]!=null:n[l]==null)&&(n[l]=r[l])}return n}var createCanvas=platformApi.createCanvas;function indexOf(n,r){if(n){if(n.indexOf)return n.indexOf(r);for(var a=0,o=n.length;a<o;a++)if(n[a]===r)return a}return-1}function inherits(n,r){var a=n.prototype;function o(){}o.prototype=r.prototype,n.prototype=new o;for(var s in a)a.hasOwnProperty(s)&&(n.prototype[s]=a[s]);n.prototype.constructor=n,n.superClass=r}function mixin(n,r,a){if(n="prototype"in n?n.prototype:n,r="prototype"in r?r.prototype:r,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(r),s=0;s<o.length;s++){var l=o[s];l!=="constructor"&&(a?r[l]!=null:n[l]==null)&&(n[l]=r[l])}else defaults(n,r,a)}function isArrayLike2(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function each(n,r,a){if(!!(n&&r))if(n.forEach&&n.forEach===nativeForEach)n.forEach(r,a);else if(n.length===+n.length)for(var o=0,s=n.length;o<s;o++)r.call(a,n[o],o,n);else for(var l in n)n.hasOwnProperty(l)&&r.call(a,n[l],l,n)}function map3(n,r,a){if(!n)return[];if(!r)return slice(n);if(n.map&&n.map===nativeMap)return n.map(r,a);for(var o=[],s=0,l=n.length;s<l;s++)o.push(r.call(a,n[s],s,n));return o}function reduce(n,r,a,o){if(!!(n&&r)){for(var s=0,l=n.length;s<l;s++)a=r.call(o,a,n[s],s,n);return a}}function filter(n,r,a){if(!n)return[];if(!r)return slice(n);if(n.filter&&n.filter===nativeFilter)return n.filter(r,a);for(var o=[],s=0,l=n.length;s<l;s++)r.call(a,n[s],s,n)&&o.push(n[s]);return o}function keys3(n){if(!n)return[];if(Object.keys)return Object.keys(n);var r=[];for(var a in n)n.hasOwnProperty(a)&&r.push(a);return r}function bindPolyfill(n,r){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];return function(){return n.apply(r,a.concat(nativeSlice.call(arguments)))}}var bind=protoFunction&&isFunction3(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry(n){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return function(){return n.apply(this,r.concat(nativeSlice.call(arguments)))}}function isArray3(n){return Array.isArray?Array.isArray(n):objToString.call(n)==="[object Array]"}function isFunction3(n){return typeof n=="function"}function isString2(n){return typeof n=="string"}function isStringSafe(n){return objToString.call(n)==="[object String]"}function isNumber(n){return typeof n=="number"}function isObject3(n){var r=typeof n;return r==="function"||!!n&&r==="object"}function isBuiltInObject(n){return!!BUILTIN_OBJECT[objToString.call(n)]}function isTypedArray2(n){return!!TYPED_ARRAY[objToString.call(n)]}function isDom(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function isGradientObject(n){return n.colorStops!=null}function isImagePatternObject(n){return n.image!=null}function isRegExp(n){return objToString.call(n)==="[object RegExp]"}function eqNaN(n){return n!==n}function retrieve(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var a=0,o=n.length;a<o;a++)if(n[a]!=null)return n[a]}function retrieve2(n,r){return n!=null?n:r}function retrieve3(n,r,a){return n!=null?n:r!=null?r:a}function slice(n){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return nativeSlice.apply(n,r)}function normalizeCssArray(n){if(typeof n=="number")return[n,n,n,n];var r=n.length;return r===2?[n[0],n[1],n[0],n[1]]:r===3?[n[0],n[1],n[2],n[1]]:n}function assert(n,r){if(!n)throw new Error(r)}function trim(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(n){n[primitiveKey]=!0}function isPrimitive(n){return n[primitiveKey]}var HashMap=function(){function n(r){this.data={};var a=isArray3(r);this.data={};var o=this;r instanceof n?r.each(s):r&&each(r,s);function s(l,u){a?o.set(l,u):o.set(u,l)}}return n.prototype.get=function(r){return this.data.hasOwnProperty(r)?this.data[r]:null},n.prototype.set=function(r,a){return this.data[r]=a},n.prototype.each=function(r,a){for(var o in this.data)this.data.hasOwnProperty(o)&&r.call(a,this.data[o],o)},n.prototype.keys=function(){return keys3(this.data)},n.prototype.removeKey=function(r){delete this.data[r]},n}();function createHashMap(n){return new HashMap(n)}function concatArray(n,r){for(var a=new n.constructor(n.length+r.length),o=0;o<n.length;o++)a[o]=n[o];for(var s=n.length,o=0;o<r.length;o++)a[o+s]=r[o];return a}function createObject(n,r){var a;if(Object.create)a=Object.create(n);else{var o=function(){};o.prototype=n,a=new o}return r&&extend3(a,r),a}function disableUserSelect(n){var r=n.style;r.webkitUserSelect="none",r.userSelect="none",r.webkitTapHighlightColor="rgba(0,0,0,0)",r["-webkit-touch-callout"]="none"}function hasOwn2(n,r){return n.hasOwnProperty(r)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI,import_tslib2=__toModule(require_tslib2()),{__extends:__extends2,__assign:__assign2,__rest:__rest2,__decorate:__decorate2,__param:__param2,__metadata:__metadata2,__awaiter:__awaiter4,__generator:__generator2,__exportStar:__exportStar2,__createBinding:__createBinding2,__values:__values2,__read:__read2,__spread:__spread2,__spreadArrays:__spreadArrays2,__spreadArray:__spreadArray2,__await:__await2,__asyncGenerator:__asyncGenerator2,__asyncDelegator:__asyncDelegator2,__asyncValues:__asyncValues2,__makeTemplateObject:__makeTemplateObject2,__importStar:__importStar2,__importDefault:__importDefault2,__classPrivateFieldGet:__classPrivateFieldGet2,__classPrivateFieldSet:__classPrivateFieldSet2}=import_tslib2.default;function create(n,r){return n==null&&(n=0),r==null&&(r=0),[n,r]}function copy(n,r){return n[0]=r[0],n[1]=r[1],n}function clone2(n){return[n[0],n[1]]}function add2(n,r,a){return n[0]=r[0]+a[0],n[1]=r[1]+a[1],n}function scaleAndAdd(n,r,a,o){return n[0]=r[0]+a[0]*o,n[1]=r[1]+a[1]*o,n}function sub(n,r,a){return n[0]=r[0]-a[0],n[1]=r[1]-a[1],n}function len2(n){return Math.sqrt(lenSquare(n))}function lenSquare(n){return n[0]*n[0]+n[1]*n[1]}function scale(n,r,a){return n[0]=r[0]*a,n[1]=r[1]*a,n}function normalize2(n,r){var a=len2(r);return a===0?(n[0]=0,n[1]=0):(n[0]=r[0]/a,n[1]=r[1]/a),n}function distance(n,r){return Math.sqrt((n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1]))}var dist=distance;function distanceSquare(n,r){return(n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1])}var distSquare=distanceSquare;function lerp(n,r,a,o){return n[0]=r[0]+o*(a[0]-r[0]),n[1]=r[1]+o*(a[1]-r[1]),n}function applyTransform(n,r,a){var o=r[0],s=r[1];return n[0]=a[0]*o+a[2]*s+a[4],n[1]=a[1]*o+a[3]*s+a[5],n}function min(n,r,a){return n[0]=Math.min(r[0],a[0]),n[1]=Math.min(r[1],a[1]),n}function max(n,r,a){return n[0]=Math.max(r[0],a[0]),n[1]=Math.max(r[1],a[1]),n}var Param=function(){function n(r,a){this.target=r,this.topTarget=a&&a.topTarget}return n}(),Draggable=function(){function n(r){this.handler=r,r.on("mousedown",this._dragStart,this),r.on("mousemove",this._drag,this),r.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(r){for(var a=r.target;a&&!a.draggable;)a=a.parent||a.__hostTarget;a&&(this._draggingTarget=a,a.dragging=!0,this._x=r.offsetX,this._y=r.offsetY,this.handler.dispatchToElement(new Param(a,r),"dragstart",r.event))},n.prototype._drag=function(r){var a=this._draggingTarget;if(a){var o=r.offsetX,s=r.offsetY,l=o-this._x,u=s-this._y;this._x=o,this._y=s,a.drift(l,u,r),this.handler.dispatchToElement(new Param(a,r),"drag",r.event);var f=this.handler.findHover(o,s,a).target,d=this._dropTarget;this._dropTarget=f,a!==f&&(d&&f!==d&&this.handler.dispatchToElement(new Param(d,r),"dragleave",r.event),f&&f!==d&&this.handler.dispatchToElement(new Param(f,r),"dragenter",r.event))}},n.prototype._dragEnd=function(r){var a=this._draggingTarget;a&&(a.dragging=!1),this.handler.dispatchToElement(new Param(a,r),"dragend",r.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,r),"drop",r.event),this._draggingTarget=null,this._dropTarget=null},n}(),Draggable_default=Draggable,Eventful=function(){function n(r){r&&(this._$eventProcessor=r)}return n.prototype.on=function(r,a,o,s){this._$handlers||(this._$handlers={});var l=this._$handlers;if(typeof a=="function"&&(s=o,o=a,a=null),!o||!r)return this;var u=this._$eventProcessor;a!=null&&u&&u.normalizeQuery&&(a=u.normalizeQuery(a)),l[r]||(l[r]=[]);for(var f=0;f<l[r].length;f++)if(l[r][f].h===o)return this;var d={h:o,query:a,ctx:s||this,callAtLast:o.zrEventfulCallAtLast},v=l[r].length-1,g=l[r][v];return g&&g.callAtLast?l[r].splice(v,0,d):l[r].push(d),this},n.prototype.isSilent=function(r){var a=this._$handlers;return!a||!a[r]||!a[r].length},n.prototype.off=function(r,a){var o=this._$handlers;if(!o)return this;if(!r)return this._$handlers={},this;if(a){if(o[r]){for(var s=[],l=0,u=o[r].length;l<u;l++)o[r][l].h!==a&&s.push(o[r][l]);o[r]=s}o[r]&&o[r].length===0&&delete o[r]}else delete o[r];return this},n.prototype.trigger=function(r){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[r],l=this._$eventProcessor;if(s)for(var u=a.length,f=s.length,d=0;d<f;d++){var v=s[d];if(!(l&&l.filter&&v.query!=null&&!l.filter(r,v.query)))switch(u){case 0:v.h.call(v.ctx);break;case 1:v.h.call(v.ctx,a[0]);break;case 2:v.h.call(v.ctx,a[0],a[1]);break;default:v.h.apply(v.ctx,a);break}}return l&&l.afterTrigger&&l.afterTrigger(r),this},n.prototype.triggerWithContext=function(r){for(var a=[],o=1;o<arguments.length;o++)a[o-1]=arguments[o];if(!this._$handlers)return this;var s=this._$handlers[r],l=this._$eventProcessor;if(s)for(var u=a.length,f=a[u-1],d=s.length,v=0;v<d;v++){var g=s[v];if(!(l&&l.filter&&g.query!=null&&!l.filter(r,g.query)))switch(u){case 0:g.h.call(f);break;case 1:g.h.call(f,a[0]);break;case 2:g.h.call(f,a[0],a[1]);break;default:g.h.apply(f,a.slice(1,u-1));break}}return l&&l.afterTrigger&&l.afterTrigger(r),this},n}(),Eventful_default=Eventful,LN2=Math.log(2);function determinant(n,r,a,o,s,l){var u=o+"-"+s,f=n.length;if(l.hasOwnProperty(u))return l[u];if(r===1){var d=Math.round(Math.log((1<<f)-1&~s)/LN2);return n[a][d]}for(var v=o|1<<a,g=a+1;o&1<<g;)g++;for(var y=0,b=0,_=0;b<f;b++){var x=1<<b;x&s||(y+=(_%2?-1:1)*n[a][b]*determinant(n,r-1,g,v,s|x,l),_++)}return l[u]=y,y}function buildTransformer(n,r){var a=[[n[0],n[1],1,0,0,0,-r[0]*n[0],-r[0]*n[1]],[0,0,0,n[0],n[1],1,-r[1]*n[0],-r[1]*n[1]],[n[2],n[3],1,0,0,0,-r[2]*n[2],-r[2]*n[3]],[0,0,0,n[2],n[3],1,-r[3]*n[2],-r[3]*n[3]],[n[4],n[5],1,0,0,0,-r[4]*n[4],-r[4]*n[5]],[0,0,0,n[4],n[5],1,-r[5]*n[4],-r[5]*n[5]],[n[6],n[7],1,0,0,0,-r[6]*n[6],-r[6]*n[7]],[0,0,0,n[6],n[7],1,-r[7]*n[6],-r[7]*n[7]]],o={},s=determinant(a,8,0,0,0,o);if(s!==0){for(var l=[],u=0;u<8;u++)for(var f=0;f<8;f++)l[f]==null&&(l[f]=0),l[f]+=((u+f)%2?-1:1)*determinant(a,7,u===0?1:0,1<<u,1<<f,o)/s*r[u];return function(d,v,g){var y=v*l[6]+g*l[7]+1;d[0]=(v*l[0]+g*l[1]+l[2])/y,d[1]=(v*l[3]+g*l[4]+l[5])/y}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut=[];function transformLocalCoord(n,r,a,o,s){return transformCoordWithViewport(_calcOut,r,o,s,!0)&&transformCoordWithViewport(n,a,_calcOut[0],_calcOut[1])}function transformCoordWithViewport(n,r,a,o,s){if(r.getBoundingClientRect&&env_default.domSupported&&!isCanvasEl(r)){var l=r[EVENT_SAVED_PROP]||(r[EVENT_SAVED_PROP]={}),u=prepareCoordMarkers(r,l),f=preparePointerTransformer(u,l,s);if(f)return f(n,a,o),!0}return!1}function prepareCoordMarkers(n,r){var a=r.markers;if(a)return a;a=r.markers=[];for(var o=["left","right"],s=["top","bottom"],l=0;l<4;l++){var u=document.createElement("div"),f=u.style,d=l%2,v=(l>>1)%2;f.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[d]+":0",s[v]+":0",o[1-d]+":auto",s[1-v]+":auto",""].join("!important;"),n.appendChild(u),a.push(u)}return a}function preparePointerTransformer(n,r,a){for(var o=a?"invTrans":"trans",s=r[o],l=r.srcCoords,u=[],f=[],d=!0,v=0;v<4;v++){var g=n[v].getBoundingClientRect(),y=2*v,b=g.left,_=g.top;u.push(b,_),d=d&&l&&b===l[y]&&_===l[y+1],f.push(n[v].offsetLeft,n[v].offsetTop)}return d&&s?s:(r.srcCoords=u,r[o]=a?buildTransformer(f,u):buildTransformer(u,f))}function isCanvasEl(n){return n.nodeName.toUpperCase()==="CANVAS"}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut2=[],firefoxNotSupportOffsetXY=env_default.browser.firefox&&+env_default.browser.version.split(".")[0]<39;function clientToLocal(n,r,a,o){return a=a||{},o?calculateZrXY(n,r,a):firefoxNotSupportOffsetXY&&r.layerX!=null&&r.layerX!==r.offsetX?(a.zrX=r.layerX,a.zrY=r.layerY):r.offsetX!=null?(a.zrX=r.offsetX,a.zrY=r.offsetY):calculateZrXY(n,r,a),a}function calculateZrXY(n,r,a){if(env_default.domSupported&&n.getBoundingClientRect){var o=r.clientX,s=r.clientY;if(isCanvasEl(n)){var l=n.getBoundingClientRect();a.zrX=o-l.left,a.zrY=s-l.top;return}else if(transformCoordWithViewport(_calcOut2,n,o,s)){a.zrX=_calcOut2[0],a.zrY=_calcOut2[1];return}}a.zrX=a.zrY=0}function getNativeEvent(n){return n||window.event}function normalizeEvent(n,r,a){if(r=getNativeEvent(r),r.zrX!=null)return r;var o=r.type,s=o&&o.indexOf("touch")>=0;if(s){var u=o!=="touchend"?r.targetTouches[0]:r.changedTouches[0];u&&clientToLocal(n,u,r,a)}else{clientToLocal(n,r,r,a);var l=getWheelDeltaMayPolyfill(r);r.zrDelta=l?l/120:-(r.detail||0)/3}var f=r.button;return r.which==null&&f!==void 0&&MOUSE_EVENT_REG.test(r.type)&&(r.which=f&1?1:f&2?3:f&4?2:0),r}function getWheelDeltaMayPolyfill(n){var r=n.wheelDelta;if(r)return r;var a=n.deltaX,o=n.deltaY;if(a==null||o==null)return r;var s=Math.abs(o!==0?o:a),l=o>0?-1:o<0?1:a>0?-1:1;return 3*s*l}function addEventListener3(n,r,a,o){n.addEventListener(r,a,o)}function removeEventListener3(n,r,a,o){n.removeEventListener(r,a,o)}var stop2=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(n){return n.which===2||n.which===3}var GestureMgr=function(){function n(){this._track=[]}return n.prototype.recognize=function(r,a,o){return this._doTrack(r,a,o),this._recognize(r)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(r,a,o){var s=r.touches;if(!!s){for(var l={points:[],touches:[],target:a,event:r},u=0,f=s.length;u<f;u++){var d=s[u],v=clientToLocal(o,d,{});l.points.push([v.zrX,v.zrY]),l.touches.push(d)}this._track.push(l)}},n.prototype._recognize=function(r){for(var a in recognizers)if(recognizers.hasOwnProperty(a)){var o=recognizers[a](this._track,r);if(o)return o}},n}();function dist2(n){var r=n[1][0]-n[0][0],a=n[1][1]-n[0][1];return Math.sqrt(r*r+a*a)}function center(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var recognizers={pinch:function(n,r){var a=n.length;if(!!a){var o=(n[a-1]||{}).points,s=(n[a-2]||{}).points||o;if(s&&s.length>1&&o&&o.length>1){var l=dist2(o)/dist2(s);!isFinite(l)&&(l=1),r.pinchScale=l;var u=center(o);return r.pinchX=u[0],r.pinchY=u[1],{type:"pinch",target:n[0].target,event:r}}}}},SILENT="silent";function makeEventPacket(n,r,a){return{type:n,event:a,target:r.target,topTarget:r.topTarget,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch,which:a.which,stop:stopEvent}}function stopEvent(){stop2(this.event)}var EmptyProxy=function(n){__extends2(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.handler=null,a}return r.prototype.dispose=function(){},r.prototype.setCursor=function(){},r}(Eventful_default),HoveredResult=function(){function n(r,a){this.x=r,this.y=a}return n}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Handler=function(n){__extends2(r,n);function r(a,o,s,l){var u=n.call(this)||this;return u._hovered=new HoveredResult(0,0),u.storage=a,u.painter=o,u.painterRoot=l,s=s||new EmptyProxy,u.proxy=null,u.setHandlerProxy(s),u._draggingMgr=new Draggable_default(u),u}return r.prototype.setHandlerProxy=function(a){this.proxy&&this.proxy.dispose(),a&&(each(handlerNames,function(o){a.on&&a.on(o,this[o],this)},this),a.handler=this),this.proxy=a},r.prototype.mousemove=function(a){var o=a.zrX,s=a.zrY,l=isOutsideBoundary(this,o,s),u=this._hovered,f=u.target;f&&!f.__zr&&(u=this.findHover(u.x,u.y),f=u.target);var d=this._hovered=l?new HoveredResult(o,s):this.findHover(o,s),v=d.target,g=this.proxy;g.setCursor&&g.setCursor(v?v.cursor:"default"),f&&v!==f&&this.dispatchToElement(u,"mouseout",a),this.dispatchToElement(d,"mousemove",a),v&&v!==f&&this.dispatchToElement(d,"mouseover",a)},r.prototype.mouseout=function(a){var o=a.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",a),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:a})},r.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},r.prototype.dispatch=function(a,o){var s=this[a];s&&s.call(this,o)},r.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},r.prototype.setCursorStyle=function(a){var o=this.proxy;o.setCursor&&o.setCursor(a)},r.prototype.dispatchToElement=function(a,o,s){a=a||{};var l=a.target;if(!(l&&l.silent)){for(var u="on"+o,f=makeEventPacket(o,a,s);l&&(l[u]&&(f.cancelBubble=!!l[u].call(l,f)),l.trigger(o,f),l=l.__hostTarget?l.__hostTarget:l.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(o,f),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(d){typeof d[u]=="function"&&d[u].call(d,f),d.trigger&&d.trigger(o,f)}))}},r.prototype.findHover=function(a,o,s){for(var l=this.storage.getDisplayList(),u=new HoveredResult(a,o),f=l.length-1;f>=0;f--){var d=void 0;if(l[f]!==s&&!l[f].ignore&&(d=isHover(l[f],a,o))&&(!u.topTarget&&(u.topTarget=l[f]),d!==SILENT)){u.target=l[f];break}}return u},r.prototype.processGesture=function(a,o){this._gestureMgr||(this._gestureMgr=new GestureMgr);var s=this._gestureMgr;o==="start"&&s.clear();var l=s.recognize(a,this.findHover(a.zrX,a.zrY,null).target,this.proxy.dom);if(o==="end"&&s.clear(),l){var u=l.type;a.gestureEvent=u;var f=new HoveredResult;f.target=l.target,this.dispatchToElement(f,u,l.event)}},r}(Eventful_default);each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){Handler.prototype[n]=function(r){var a=r.zrX,o=r.zrY,s=isOutsideBoundary(this,a,o),l,u;if((n!=="mouseup"||!s)&&(l=this.findHover(a,o),u=l.target),n==="mousedown")this._downEl=u,this._downPoint=[r.zrX,r.zrY],this._upEl=u;else if(n==="mouseup")this._upEl=u;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist(this._downPoint,[r.zrX,r.zrY])>4)return;this._downPoint=null}this.dispatchToElement(l,n,r)}});function isHover(n,r,a){if(n[n.rectHover?"rectContain":"contain"](r,a)){for(var o=n,s=void 0,l=!1;o;){if(o.ignoreClip&&(l=!0),!l){var u=o.getClipPath();if(u&&!u.contain(r,a))return!1;o.silent&&(s=!0)}var f=o.__hostTarget;o=f||o.parent}return s?SILENT:!0}return!1}function isOutsideBoundary(n,r,a){var o=n.painter;return r<0||r>o.getWidth()||a<0||a>o.getHeight()}var Handler_default=Handler,DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7,DEFAULT_TMP_STORAGE_LENGTH=256;function minRunLength(n){for(var r=0;n>=DEFAULT_MIN_MERGE;)r|=n&1,n>>=1;return n+r}function makeAscendingRun(n,r,a,o){var s=r+1;if(s===a)return 1;if(o(n[s++],n[r])<0){for(;s<a&&o(n[s],n[s-1])<0;)s++;reverseRun(n,r,s)}else for(;s<a&&o(n[s],n[s-1])>=0;)s++;return s-r}function reverseRun(n,r,a){for(a--;r<a;){var o=n[r];n[r++]=n[a],n[a--]=o}}function binaryInsertionSort(n,r,a,o,s){for(o===r&&o++;o<a;o++){for(var l=n[o],u=r,f=o,d;u<f;)d=u+f>>>1,s(l,n[d])<0?f=d:u=d+1;var v=o-u;switch(v){case 3:n[u+3]=n[u+2];case 2:n[u+2]=n[u+1];case 1:n[u+1]=n[u];break;default:for(;v>0;)n[u+v]=n[u+v-1],v--}n[u]=l}}function gallopLeft(n,r,a,o,s,l){var u=0,f=0,d=1;if(l(n,r[a+s])>0){for(f=o-s;d<f&&l(n,r[a+s+d])>0;)u=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),u+=s,d+=s}else{for(f=s+1;d<f&&l(n,r[a+s-d])<=0;)u=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var v=u;u=s-d,d=s-v}for(u++;u<d;){var g=u+(d-u>>>1);l(n,r[a+g])>0?u=g+1:d=g}return d}function gallopRight(n,r,a,o,s,l){var u=0,f=0,d=1;if(l(n,r[a+s])<0){for(f=s+1;d<f&&l(n,r[a+s-d])<0;)u=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var v=u;u=s-d,d=s-v}else{for(f=o-s;d<f&&l(n,r[a+s+d])>=0;)u=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),u+=s,d+=s}for(u++;u<d;){var g=u+(d-u>>>1);l(n,r[a+g])<0?d=g:u=g+1}return d}function TimSort(n,r){var a=DEFAULT_MIN_GALLOPING,o=0,s=DEFAULT_TMP_STORAGE_LENGTH,l=0,u,f,d=0;o=n.length,o<2*DEFAULT_TMP_STORAGE_LENGTH&&(s=o>>>1);var v=[];l=o<120?5:o<1542?10:o<119151?19:40,u=[],f=[];function g(w,S){u[d]=w,f[d]=S,d+=1}function y(){for(;d>1;){var w=d-2;if(w>=1&&f[w-1]<=f[w]+f[w+1]||w>=2&&f[w-2]<=f[w]+f[w-1])f[w-1]<f[w+1]&&w--;else if(f[w]>f[w+1])break;_(w)}}function b(){for(;d>1;){var w=d-2;w>0&&f[w-1]<f[w+1]&&w--,_(w)}}function _(w){var S=u[w],D=f[w],A=u[w+1],T=f[w+1];f[w]=D+T,w===d-3&&(u[w+1]=u[w+2],f[w+1]=f[w+2]),d--;var M=gallopRight(n[A],n,S,D,0,r);S+=M,D-=M,D!==0&&(T=gallopLeft(n[S+D-1],n,A,T,T-1,r),T!==0&&(D<=T?x(S,D,A,T):C(S,D,A,T)))}function x(w,S,D,A){var T=0;for(T=0;T<S;T++)v[T]=n[w+T];var M=0,E=D,P=w;if(n[P++]=n[E++],--A==0){for(T=0;T<S;T++)n[P+T]=v[M+T];return}if(S===1){for(T=0;T<A;T++)n[P+T]=n[E+T];n[P+A]=v[M];return}for(var I=a,F,L,O;;){F=0,L=0,O=!1;do if(r(n[E],v[M])<0){if(n[P++]=n[E++],L++,F=0,--A==0){O=!0;break}}else if(n[P++]=v[M++],F++,L=0,--S==1){O=!0;break}while((F|L)<I);if(O)break;do{if(F=gallopRight(n[E],v,M,S,0,r),F!==0){for(T=0;T<F;T++)n[P+T]=v[M+T];if(P+=F,M+=F,S-=F,S<=1){O=!0;break}}if(n[P++]=n[E++],--A==0){O=!0;break}if(L=gallopLeft(v[M],n,E,A,0,r),L!==0){for(T=0;T<L;T++)n[P+T]=n[E+T];if(P+=L,E+=L,A-=L,A===0){O=!0;break}}if(n[P++]=v[M++],--S==1){O=!0;break}I--}while(F>=DEFAULT_MIN_GALLOPING||L>=DEFAULT_MIN_GALLOPING);if(O)break;I<0&&(I=0),I+=2}if(a=I,a<1&&(a=1),S===1){for(T=0;T<A;T++)n[P+T]=n[E+T];n[P+A]=v[M]}else{if(S===0)throw new Error;for(T=0;T<S;T++)n[P+T]=v[M+T]}}function C(w,S,D,A){var T=0;for(T=0;T<A;T++)v[T]=n[D+T];var M=w+S-1,E=A-1,P=D+A-1,I=0,F=0;if(n[P--]=n[M--],--S==0){for(I=P-(A-1),T=0;T<A;T++)n[I+T]=v[T];return}if(A===1){for(P-=S,M-=S,F=P+1,I=M+1,T=S-1;T>=0;T--)n[F+T]=n[I+T];n[P]=v[E];return}for(var L=a;;){var O=0,z=0,R=!1;do if(r(v[E],n[M])<0){if(n[P--]=n[M--],O++,z=0,--S==0){R=!0;break}}else if(n[P--]=v[E--],z++,O=0,--A==1){R=!0;break}while((O|z)<L);if(R)break;do{if(O=S-gallopRight(v[E],n,w,S,S-1,r),O!==0){for(P-=O,M-=O,S-=O,F=P+1,I=M+1,T=O-1;T>=0;T--)n[F+T]=n[I+T];if(S===0){R=!0;break}}if(n[P--]=v[E--],--A==1){R=!0;break}if(z=A-gallopLeft(n[M],v,0,A,A-1,r),z!==0){for(P-=z,E-=z,A-=z,F=P+1,I=E+1,T=0;T<z;T++)n[F+T]=v[I+T];if(A<=1){R=!0;break}}if(n[P--]=n[M--],--S==0){R=!0;break}L--}while(O>=DEFAULT_MIN_GALLOPING||z>=DEFAULT_MIN_GALLOPING);if(R)break;L<0&&(L=0),L+=2}if(a=L,a<1&&(a=1),A===1){for(P-=S,M-=S,F=P+1,I=M+1,T=S-1;T>=0;T--)n[F+T]=n[I+T];n[P]=v[E]}else{if(A===0)throw new Error;for(I=P-(A-1),T=0;T<A;T++)n[I+T]=v[T]}}return{mergeRuns:y,forceMergeRuns:b,pushRun:g}}function sort(n,r,a,o){a||(a=0),o||(o=n.length);var s=o-a;if(!(s<2)){var l=0;if(s<DEFAULT_MIN_MERGE){l=makeAscendingRun(n,a,o,r),binaryInsertionSort(n,a,o,a+l,r);return}var u=TimSort(n,r),f=minRunLength(s);do{if(l=makeAscendingRun(n,a,o,r),l<f){var d=s;d>f&&(d=f),binaryInsertionSort(n,a,a+d,a+l,r),l=d}u.pushRun(a,l),u.mergeRuns(),s-=l,a+=l}while(s!==0);u.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(n,r){return n.zlevel===r.zlevel?n.z===r.z?n.z2-r.z2:n.z-r.z:n.zlevel-r.zlevel}var Storage=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return n.prototype.traverse=function(r,a){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(r,a)},n.prototype.getDisplayList=function(r,a){a=a||!1;var o=this._displayList;return(r||!o.length)&&this.updateDisplayList(a),o},n.prototype.updateDisplayList=function(r){this._displayListLen=0;for(var a=this._roots,o=this._displayList,s=0,l=a.length;s<l;s++)this._updateAndAddDisplayable(a[s],null,r);o.length=this._displayListLen,sort(o,shapeCompareFunc)},n.prototype._updateAndAddDisplayable=function(r,a,o){if(!(r.ignore&&!o)){r.beforeUpdate(),r.update(),r.afterUpdate();var s=r.getClipPath();if(r.ignoreClip)a=null;else if(s){a?a=a.slice():a=[];for(var l=s,u=r;l;)l.parent=u,l.updateTransform(),a.push(l),u=l,l=l.getClipPath()}if(r.childrenRef){for(var f=r.childrenRef(),d=0;d<f.length;d++){var v=f[d];r.__dirty&&(v.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(v,a,o)}r.__dirty=0}else{var g=r;a&&a.length?g.__clipPaths=a:g.__clipPaths&&g.__clipPaths.length>0&&(g.__clipPaths=[]),isNaN(g.z)&&(logInvalidZError(),g.z=0),isNaN(g.z2)&&(logInvalidZError(),g.z2=0),isNaN(g.zlevel)&&(logInvalidZError(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var y=r.getDecalElement&&r.getDecalElement();y&&this._updateAndAddDisplayable(y,a,o);var b=r.getTextGuideLine();b&&this._updateAndAddDisplayable(b,a,o);var _=r.getTextContent();_&&this._updateAndAddDisplayable(_,a,o)}},n.prototype.addRoot=function(r){r.__zr&&r.__zr.storage===this||this._roots.push(r)},n.prototype.delRoot=function(r){if(r instanceof Array){for(var a=0,o=r.length;a<o;a++)this.delRoot(r[a]);return}var s=indexOf(this._roots,r);s>=0&&this._roots.splice(s,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}(),Storage_default=Storage,requestAnimationFrame2;requestAnimationFrame2=env_default.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};var requestAnimationFrame_default=requestAnimationFrame2,easingFuncs={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var r,a=.1,o=.4;return n===0?0:n===1?1:(!a||a<1?(a=1,r=o/4):r=o*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(n-=1))*Math.sin((n-r)*(2*Math.PI)/o)))},elasticOut:function(n){var r,a=.1,o=.4;return n===0?0:n===1?1:(!a||a<1?(a=1,r=o/4):r=o*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*n)*Math.sin((n-r)*(2*Math.PI)/o)+1)},elasticInOut:function(n){var r,a=.1,o=.4;return n===0?0:n===1?1:(!a||a<1?(a=1,r=o/4):r=o*Math.asin(1/a)/(2*Math.PI),(n*=2)<1?-.5*(a*Math.pow(2,10*(n-=1))*Math.sin((n-r)*(2*Math.PI)/o)):a*Math.pow(2,-10*(n-=1))*Math.sin((n-r)*(2*Math.PI)/o)*.5+1)},backIn:function(n){var r=1.70158;return n*n*((r+1)*n-r)},backOut:function(n){var r=1.70158;return--n*n*((r+1)*n+r)+1},backInOut:function(n){var r=1.70158*1.525;return(n*=2)<1?.5*(n*n*((r+1)*n-r)):.5*((n-=2)*n*((r+1)*n+r)+2)},bounceIn:function(n){return 1-easingFuncs.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?easingFuncs.bounceIn(n*2)*.5:easingFuncs.bounceOut(n*2-1)*.5+.5}},easing_default=easingFuncs,mathPow=Math.pow,mathSqrt=Math.sqrt,EPSILON=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt(3),ONE_THIRD=1/3,_v0=create(),_v1=create(),_v2=create();function isAroundZero(n){return n>-EPSILON&&n<EPSILON}function isNotAroundZero(n){return n>EPSILON||n<-EPSILON}function cubicAt(n,r,a,o,s){var l=1-s;return l*l*(l*n+3*s*r)+s*s*(s*o+3*l*a)}function cubicDerivativeAt(n,r,a,o,s){var l=1-s;return 3*(((r-n)*l+2*(a-r)*s)*l+(o-a)*s*s)}function cubicRootAt(n,r,a,o,s,l){var u=o+3*(r-a)-n,f=3*(a-r*2+n),d=3*(r-n),v=n-s,g=f*f-3*u*d,y=f*d-9*u*v,b=d*d-3*f*v,_=0;if(isAroundZero(g)&&isAroundZero(y))if(isAroundZero(f))l[0]=0;else{var x=-d/f;x>=0&&x<=1&&(l[_++]=x)}else{var C=y*y-4*g*b;if(isAroundZero(C)){var w=y/g,x=-f/u+w,S=-w/2;x>=0&&x<=1&&(l[_++]=x),S>=0&&S<=1&&(l[_++]=S)}else if(C>0){var D=mathSqrt(C),A=g*f+1.5*u*(-y+D),T=g*f+1.5*u*(-y-D);A<0?A=-mathPow(-A,ONE_THIRD):A=mathPow(A,ONE_THIRD),T<0?T=-mathPow(-T,ONE_THIRD):T=mathPow(T,ONE_THIRD);var x=(-f-(A+T))/(3*u);x>=0&&x<=1&&(l[_++]=x)}else{var M=(2*g*f-3*u*y)/(2*mathSqrt(g*g*g)),E=Math.acos(M)/3,P=mathSqrt(g),I=Math.cos(E),x=(-f-2*P*I)/(3*u),S=(-f+P*(I+THREE_SQRT*Math.sin(E)))/(3*u),F=(-f+P*(I-THREE_SQRT*Math.sin(E)))/(3*u);x>=0&&x<=1&&(l[_++]=x),S>=0&&S<=1&&(l[_++]=S),F>=0&&F<=1&&(l[_++]=F)}}return _}function cubicExtrema(n,r,a,o,s){var l=6*a-12*r+6*n,u=9*r+3*o-3*n-9*a,f=3*r-3*n,d=0;if(isAroundZero(u)){if(isNotAroundZero(l)){var v=-f/l;v>=0&&v<=1&&(s[d++]=v)}}else{var g=l*l-4*u*f;if(isAroundZero(g))s[0]=-l/(2*u);else if(g>0){var y=mathSqrt(g),v=(-l+y)/(2*u),b=(-l-y)/(2*u);v>=0&&v<=1&&(s[d++]=v),b>=0&&b<=1&&(s[d++]=b)}}return d}function cubicSubdivide(n,r,a,o,s,l){var u=(r-n)*s+n,f=(a-r)*s+r,d=(o-a)*s+a,v=(f-u)*s+u,g=(d-f)*s+f,y=(g-v)*s+v;l[0]=n,l[1]=u,l[2]=v,l[3]=y,l[4]=y,l[5]=g,l[6]=d,l[7]=o}function cubicProjectPoint(n,r,a,o,s,l,u,f,d,v,g){var y,b=.005,_=1/0,x,C,w,S;_v0[0]=d,_v0[1]=v;for(var D=0;D<1;D+=.05)_v1[0]=cubicAt(n,a,s,u,D),_v1[1]=cubicAt(r,o,l,f,D),w=distSquare(_v0,_v1),w<_&&(y=D,_=w);_=1/0;for(var A=0;A<32&&!(b<EPSILON_NUMERIC);A++)x=y-b,C=y+b,_v1[0]=cubicAt(n,a,s,u,x),_v1[1]=cubicAt(r,o,l,f,x),w=distSquare(_v1,_v0),x>=0&&w<_?(y=x,_=w):(_v2[0]=cubicAt(n,a,s,u,C),_v2[1]=cubicAt(r,o,l,f,C),S=distSquare(_v2,_v0),C<=1&&S<_?(y=C,_=S):b*=.5);return g&&(g[0]=cubicAt(n,a,s,u,y),g[1]=cubicAt(r,o,l,f,y)),mathSqrt(_)}function cubicLength(n,r,a,o,s,l,u,f,d){for(var v=n,g=r,y=0,b=1/d,_=1;_<=d;_++){var x=_*b,C=cubicAt(n,a,s,u,x),w=cubicAt(r,o,l,f,x),S=C-v,D=w-g;y+=Math.sqrt(S*S+D*D),v=C,g=w}return y}function quadraticAt(n,r,a,o){var s=1-o;return s*(s*n+2*o*r)+o*o*a}function quadraticDerivativeAt(n,r,a,o){return 2*((1-o)*(r-n)+o*(a-r))}function quadraticRootAt(n,r,a,o,s){var l=n-2*r+a,u=2*(r-n),f=n-o,d=0;if(isAroundZero(l)){if(isNotAroundZero(u)){var v=-f/u;v>=0&&v<=1&&(s[d++]=v)}}else{var g=u*u-4*l*f;if(isAroundZero(g)){var v=-u/(2*l);v>=0&&v<=1&&(s[d++]=v)}else if(g>0){var y=mathSqrt(g),v=(-u+y)/(2*l),b=(-u-y)/(2*l);v>=0&&v<=1&&(s[d++]=v),b>=0&&b<=1&&(s[d++]=b)}}return d}function quadraticExtremum(n,r,a){var o=n+a-2*r;return o===0?.5:(n-r)/o}function quadraticSubdivide(n,r,a,o,s){var l=(r-n)*o+n,u=(a-r)*o+r,f=(u-l)*o+l;s[0]=n,s[1]=l,s[2]=f,s[3]=f,s[4]=u,s[5]=a}function quadraticProjectPoint(n,r,a,o,s,l,u,f,d){var v,g=.005,y=1/0;_v0[0]=u,_v0[1]=f;for(var b=0;b<1;b+=.05){_v1[0]=quadraticAt(n,a,s,b),_v1[1]=quadraticAt(r,o,l,b);var _=distSquare(_v0,_v1);_<y&&(v=b,y=_)}y=1/0;for(var x=0;x<32&&!(g<EPSILON_NUMERIC);x++){var C=v-g,w=v+g;_v1[0]=quadraticAt(n,a,s,C),_v1[1]=quadraticAt(r,o,l,C);var _=distSquare(_v1,_v0);if(C>=0&&_<y)v=C,y=_;else{_v2[0]=quadraticAt(n,a,s,w),_v2[1]=quadraticAt(r,o,l,w);var S=distSquare(_v2,_v0);w<=1&&S<y?(v=w,y=S):g*=.5}}return d&&(d[0]=quadraticAt(n,a,s,v),d[1]=quadraticAt(r,o,l,v)),mathSqrt(y)}function quadraticLength(n,r,a,o,s,l,u){for(var f=n,d=r,v=0,g=1/u,y=1;y<=u;y++){var b=y*g,_=quadraticAt(n,a,s,b),x=quadraticAt(r,o,l,b),C=_-f,w=x-d;v+=Math.sqrt(C*C+w*w),f=_,d=x}return v}var regexp4=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(n){var r=n&&regexp4.exec(n);if(r){var a=r[1].split(","),o=+trim(a[0]),s=+trim(a[1]),l=+trim(a[2]),u=+trim(a[3]);if(isNaN(o+s+l+u))return;var f=[];return function(d){return d<=0?0:d>=1?1:cubicRootAt(0,o,l,1,d,f)&&cubicAt(0,s,u,1,f[0])}}}var Clip=function(){function n(r){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=r.life||1e3,this._delay=r.delay||0,this.loop=r.loop||!1,this.onframe=r.onframe||noop,this.ondestroy=r.ondestroy||noop,this.onrestart=r.onrestart||noop,r.easing&&this.setEasing(r.easing)}return n.prototype.step=function(r,a){if(this._inited||(this._startTime=r+this._delay,this._inited=!0),this._paused){this._pausedTime+=a;return}var o=this._life,s=r-this._startTime-this._pausedTime,l=s/o;l<0&&(l=0),l=Math.min(l,1);var u=this.easingFunc,f=u?u(l):l;if(this.onframe(f),l===1)if(this.loop){var d=s%o;this._startTime=r-d,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(r){this.easing=r,this.easingFunc=isFunction3(r)?r:easing_default[r]||createCubicEasingFunc(r)},n}(),Clip_default=Clip,Entry=function(){function n(r){this.value=r}return n}(),LinkedList=function(){function n(){this._len=0}return n.prototype.insert=function(r){var a=new Entry(r);return this.insertEntry(a),a},n.prototype.insertEntry=function(r){this.head?(this.tail.next=r,r.prev=this.tail,r.next=null,this.tail=r):this.head=this.tail=r,this._len++},n.prototype.remove=function(r){var a=r.prev,o=r.next;a?a.next=o:this.head=o,o?o.prev=a:this.tail=a,r.next=r.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),LRU=function(){function n(r){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=r}return n.prototype.put=function(r,a){var o=this._list,s=this._map,l=null;if(s[r]==null){var u=o.len(),f=this._lastRemovedEntry;if(u>=this._maxSize&&u>0){var d=o.head;o.remove(d),delete s[d.key],l=d.value,this._lastRemovedEntry=d}f?f.value=a:f=new Entry(a),f.key=r,o.insertEntry(f),s[r]=f}return l},n.prototype.get=function(r){var a=this._map[r],o=this._list;if(a!=null)return a!==o.tail&&(o.remove(a),o.insertEntry(a)),a.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}(),LRU_default=LRU,kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(n){return n=Math.round(n),n<0?0:n>255?255:n}function clampCssAngle(n){return n=Math.round(n),n<0?0:n>360?360:n}function clampCssFloat(n){return n<0?0:n>1?1:n}function parseCssInt(n){var r=n;return r.length&&r.charAt(r.length-1)==="%"?clampCssByte(parseFloat(r)/100*255):clampCssByte(parseInt(r,10))}function parseCssFloat(n){var r=n;return r.length&&r.charAt(r.length-1)==="%"?clampCssFloat(parseFloat(r)/100):clampCssFloat(parseFloat(r))}function cssHueToRgb(n,r,a){return a<0?a+=1:a>1&&(a-=1),a*6<1?n+(r-n)*a*6:a*2<1?r:a*3<2?n+(r-n)*(2/3-a)*6:n}function lerpNumber(n,r,a){return n+(r-n)*a}function setRgba(n,r,a,o,s){return n[0]=r,n[1]=a,n[2]=o,n[3]=s,n}function copyRgba(n,r){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n}var colorCache=new LRU_default(20),lastRemovedArr=null;function putToCache(n,r){lastRemovedArr&&copyRgba(lastRemovedArr,r),lastRemovedArr=colorCache.put(n,lastRemovedArr||r.slice())}function parse2(n,r){if(!!n){r=r||[];var a=colorCache.get(n);if(a)return copyRgba(r,a);n=n+"";var o=n.replace(/ /g,"").toLowerCase();if(o in kCSSColorTable)return copyRgba(r,kCSSColorTable[o]),putToCache(n,r),r;var s=o.length;if(o.charAt(0)==="#"){if(s===4||s===5){var l=parseInt(o.slice(1,4),16);if(!(l>=0&&l<=4095)){setRgba(r,0,0,0,1);return}return setRgba(r,(l&3840)>>4|(l&3840)>>8,l&240|(l&240)>>4,l&15|(l&15)<<4,s===5?parseInt(o.slice(4),16)/15:1),putToCache(n,r),r}else if(s===7||s===9){var l=parseInt(o.slice(1,7),16);if(!(l>=0&&l<=16777215)){setRgba(r,0,0,0,1);return}return setRgba(r,(l&16711680)>>16,(l&65280)>>8,l&255,s===9?parseInt(o.slice(7),16)/255:1),putToCache(n,r),r}return}var u=o.indexOf("("),f=o.indexOf(")");if(u!==-1&&f+1===s){var d=o.substr(0,u),v=o.substr(u+1,f-(u+1)).split(","),g=1;switch(d){case"rgba":if(v.length!==4)return v.length===3?setRgba(r,+v[0],+v[1],+v[2],1):setRgba(r,0,0,0,1);g=parseCssFloat(v.pop());case"rgb":if(v.length!==3){setRgba(r,0,0,0,1);return}return setRgba(r,parseCssInt(v[0]),parseCssInt(v[1]),parseCssInt(v[2]),g),putToCache(n,r),r;case"hsla":if(v.length!==4){setRgba(r,0,0,0,1);return}return v[3]=parseCssFloat(v[3]),hsla2rgba(v,r),putToCache(n,r),r;case"hsl":if(v.length!==3){setRgba(r,0,0,0,1);return}return hsla2rgba(v,r),putToCache(n,r),r;default:return}}setRgba(r,0,0,0,1)}}function hsla2rgba(n,r){var a=(parseFloat(n[0])%360+360)%360/360,o=parseCssFloat(n[1]),s=parseCssFloat(n[2]),l=s<=.5?s*(o+1):s+o-s*o,u=s*2-l;return r=r||[],setRgba(r,clampCssByte(cssHueToRgb(u,l,a+1/3)*255),clampCssByte(cssHueToRgb(u,l,a)*255),clampCssByte(cssHueToRgb(u,l,a-1/3)*255),1),n.length===4&&(r[3]=n[3]),r}function rgba2hsla(n){if(!!n){var r=n[0]/255,a=n[1]/255,o=n[2]/255,s=Math.min(r,a,o),l=Math.max(r,a,o),u=l-s,f=(l+s)/2,d,v;if(u===0)d=0,v=0;else{f<.5?v=u/(l+s):v=u/(2-l-s);var g=((l-r)/6+u/2)/u,y=((l-a)/6+u/2)/u,b=((l-o)/6+u/2)/u;r===l?d=b-y:a===l?d=1/3+g-b:o===l&&(d=2/3+y-g),d<0&&(d+=1),d>1&&(d-=1)}var _=[d*360,v,f];return n[3]!=null&&_.push(n[3]),_}}function lift(n,r){var a=parse2(n);if(a){for(var o=0;o<3;o++)r<0?a[o]=a[o]*(1-r)|0:a[o]=(255-a[o])*r+a[o]|0,a[o]>255?a[o]=255:a[o]<0&&(a[o]=0);return stringify(a,a.length===4?"rgba":"rgb")}}function fastLerp(n,r,a){if(!(!(r&&r.length)||!(n>=0&&n<=1))){a=a||[];var o=n*(r.length-1),s=Math.floor(o),l=Math.ceil(o),u=r[s],f=r[l],d=o-s;return a[0]=clampCssByte(lerpNumber(u[0],f[0],d)),a[1]=clampCssByte(lerpNumber(u[1],f[1],d)),a[2]=clampCssByte(lerpNumber(u[2],f[2],d)),a[3]=clampCssFloat(lerpNumber(u[3],f[3],d)),a}}function lerp2(n,r,a){if(!(!(r&&r.length)||!(n>=0&&n<=1))){var o=n*(r.length-1),s=Math.floor(o),l=Math.ceil(o),u=parse2(r[s]),f=parse2(r[l]),d=o-s,v=stringify([clampCssByte(lerpNumber(u[0],f[0],d)),clampCssByte(lerpNumber(u[1],f[1],d)),clampCssByte(lerpNumber(u[2],f[2],d)),clampCssFloat(lerpNumber(u[3],f[3],d))],"rgba");return a?{color:v,leftIndex:s,rightIndex:l,value:o}:v}}function modifyHSL(n,r,a,o){var s=parse2(n);if(n)return s=rgba2hsla(s),r!=null&&(s[0]=clampCssAngle(r)),a!=null&&(s[1]=parseCssFloat(a)),o!=null&&(s[2]=parseCssFloat(o)),stringify(hsla2rgba(s),"rgba")}function modifyAlpha(n,r){var a=parse2(n);if(a&&r!=null)return a[3]=clampCssFloat(r),stringify(a,"rgba")}function stringify(n,r){if(!(!n||!n.length)){var a=n[0]+","+n[1]+","+n[2];return(r==="rgba"||r==="hsva"||r==="hsla")&&(a+=","+n[3]),r+"("+a+")"}}function lum(n,r){var a=parse2(n);return a?(.299*a[0]+.587*a[1]+.114*a[2])*a[3]/255+(1-a[3])*r:0}function isLinearGradient(n){return n.type==="linear"}function isRadialGradient(n){return n.type==="radial"}var encodeBase64=function(){return env_default.hasGlobalWindow&&isFunction3(window.btoa)?function(n){return window.btoa(unescape(n))}:typeof Buffer!="undefined"?function(n){return Buffer.from(n).toString("base64")}:function(n){return logError2("Base64 isn't natively supported in the current environment."),null}}(),arraySlice=Array.prototype.slice;function interpolateNumber(n,r,a){return(r-n)*a+n}function interpolate1DArray(n,r,a,o){for(var s=r.length,l=0;l<s;l++)n[l]=interpolateNumber(r[l],a[l],o);return n}function interpolate2DArray(n,r,a,o){for(var s=r.length,l=s&&r[0].length,u=0;u<s;u++){n[u]||(n[u]=[]);for(var f=0;f<l;f++)n[u][f]=interpolateNumber(r[u][f],a[u][f],o)}return n}function add1DArray(n,r,a,o){for(var s=r.length,l=0;l<s;l++)n[l]=r[l]+a[l]*o;return n}function add2DArray(n,r,a,o){for(var s=r.length,l=s&&r[0].length,u=0;u<s;u++){n[u]||(n[u]=[]);for(var f=0;f<l;f++)n[u][f]=r[u][f]+a[u][f]*o}return n}function fillColorStops(n,r){for(var a=n.length,o=r.length,s=a>o?r:n,l=Math.min(a,o),u=s[l-1]||{color:[0,0,0,0],offset:0},f=l;f<Math.max(a,o);f++)s.push({offset:u.offset,color:u.color.slice()})}function fillArray(n,r,a){var o=n,s=r;if(!(!o.push||!s.push)){var l=o.length,u=s.length;if(l!==u){var f=l>u;if(f)o.length=u;else for(var d=l;d<u;d++)o.push(a===1?s[d]:arraySlice.call(s[d]))}for(var v=o[0]&&o[0].length,d=0;d<o.length;d++)if(a===1)isNaN(o[d])&&(o[d]=s[d]);else for(var g=0;g<v;g++)isNaN(o[d][g])&&(o[d][g]=s[d][g])}}function cloneValue(n){if(isArrayLike2(n)){var r=n.length;if(isArrayLike2(n[0])){for(var a=[],o=0;o<r;o++)a.push(arraySlice.call(n[o]));return a}return arraySlice.call(n)}return n}function rgba2String(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function guessArrayDim(n){return isArrayLike2(n&&n[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(n){return n===VALUE_TYPE_LINEAR_GRADIENT||n===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(n){return n===VALUE_TYPE_1D_ARRAY||n===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function n(r){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=r}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(r,a,o){this._needsSort=!0;var s=this.keyframes,l=s.length,u=!1,f=VALUE_TYPE_UNKOWN,d=a;if(isArrayLike2(a)){var v=guessArrayDim(a);f=v,(v===1&&!isNumber(a[0])||v===2&&!isNumber(a[0][0]))&&(u=!0)}else if(isNumber(a)&&!eqNaN(a))f=VALUE_TYPE_NUMBER;else if(isString2(a))if(!isNaN(+a))f=VALUE_TYPE_NUMBER;else{var g=parse2(a);g&&(d=g,f=VALUE_TYPE_COLOR)}else if(isGradientObject(a)){var y=extend3({},d);y.colorStops=map3(a.colorStops,function(_){return{offset:_.offset,color:parse2(_.color)}}),isLinearGradient(a)?f=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(a)&&(f=VALUE_TYPE_RADIAL_GRADIENT),d=y}l===0?this.valType=f:(f!==this.valType||f===VALUE_TYPE_UNKOWN)&&(u=!0),this.discrete=this.discrete||u;var b={time:r,value:d,rawValue:a,percent:0};return o&&(b.easing=o,b.easingFunc=isFunction3(o)?o:easing_default[o]||createCubicEasingFunc(o)),s.push(b),b},n.prototype.prepare=function(r,a){var o=this.keyframes;this._needsSort&&o.sort(function(C,w){return C.time-w.time});for(var s=this.valType,l=o.length,u=o[l-1],f=this.discrete,d=isArrayValueType(s),v=isGradientValueType(s),g=0;g<l;g++){var y=o[g],b=y.value,_=u.value;y.percent=y.time/r,f||(d&&g!==l-1?fillArray(b,_,s):v&&fillColorStops(b.colorStops,_.colorStops))}if(!f&&s!==VALUE_TYPE_RADIAL_GRADIENT&&a&&this.needsAnimate()&&a.needsAnimate()&&s===a.valType&&!a._finished){this._additiveTrack=a;for(var x=o[0].value,g=0;g<l;g++)s===VALUE_TYPE_NUMBER?o[g].additiveValue=o[g].value-x:s===VALUE_TYPE_COLOR?o[g].additiveValue=add1DArray([],o[g].value,x,-1):isArrayValueType(s)&&(o[g].additiveValue=s===VALUE_TYPE_1D_ARRAY?add1DArray([],o[g].value,x,-1):add2DArray([],o[g].value,x,-1))}},n.prototype.step=function(r,a){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,s=o?"additiveValue":"value",l=this.valType,u=this.keyframes,f=u.length,d=this.propName,v=l===VALUE_TYPE_COLOR,g,y=this._lastFr,b=Math.min,_,x;if(f===1)_=x=u[0];else{if(a<0)g=0;else if(a<this._lastFrP){var C=b(y+1,f-1);for(g=C;g>=0&&!(u[g].percent<=a);g--);g=b(g,f-2)}else{for(g=y;g<f&&!(u[g].percent>a);g++);g=b(g-1,f-2)}x=u[g+1],_=u[g]}if(!!(_&&x)){this._lastFr=g,this._lastFrP=a;var w=x.percent-_.percent,S=w===0?1:b((a-_.percent)/w,1);x.easingFunc&&(S=x.easingFunc(S));var D=o?this._additiveValue:v?tmpRgba:r[d];if((isArrayValueType(l)||v)&&!D&&(D=this._additiveValue=[]),this.discrete)r[d]=S<1?_.rawValue:x.rawValue;else if(isArrayValueType(l))l===VALUE_TYPE_1D_ARRAY?interpolate1DArray(D,_[s],x[s],S):interpolate2DArray(D,_[s],x[s],S);else if(isGradientValueType(l)){var A=_[s],T=x[s],M=l===VALUE_TYPE_LINEAR_GRADIENT;r[d]={type:M?"linear":"radial",x:interpolateNumber(A.x,T.x,S),y:interpolateNumber(A.y,T.y,S),colorStops:map3(A.colorStops,function(P,I){var F=T.colorStops[I];return{offset:interpolateNumber(P.offset,F.offset,S),color:rgba2String(interpolate1DArray([],P.color,F.color,S))}}),global:T.global},M?(r[d].x2=interpolateNumber(A.x2,T.x2,S),r[d].y2=interpolateNumber(A.y2,T.y2,S)):r[d].r=interpolateNumber(A.r,T.r,S)}else if(v)interpolate1DArray(D,_[s],x[s],S),o||(r[d]=rgba2String(D));else{var E=interpolateNumber(_[s],x[s],S);o?this._additiveValue=E:r[d]=E}o&&this._addToTarget(r)}}},n.prototype._addToTarget=function(r){var a=this.valType,o=this.propName,s=this._additiveValue;a===VALUE_TYPE_NUMBER?r[o]=r[o]+s:a===VALUE_TYPE_COLOR?(parse2(r[o],tmpRgba),add1DArray(tmpRgba,tmpRgba,s,1),r[o]=rgba2String(tmpRgba)):a===VALUE_TYPE_1D_ARRAY?add1DArray(r[o],r[o],s,1):a===VALUE_TYPE_2D_ARRAY&&add2DArray(r[o],r[o],s,1)},n}(),Animator=function(){function n(r,a,o,s){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=r,this._loop=a,a&&s){logError2("Can' use additive animation on looped animation.");return}this._additiveAnimators=s,this._allowDiscrete=o}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(r){this._target=r},n.prototype.when=function(r,a,o){return this.whenWithKeys(r,a,keys3(a),o)},n.prototype.whenWithKeys=function(r,a,o,s){for(var l=this._tracks,u=0;u<o.length;u++){var f=o[u],d=l[f];if(!d){d=l[f]=new Track(f);var v=void 0,g=this._getAdditiveTrack(f);if(g){var y=g.keyframes,b=y[y.length-1];v=b&&b.value,g.valType===VALUE_TYPE_COLOR&&v&&(v=rgba2String(v))}else v=this._target[f];if(v==null)continue;r>0&&d.addKeyframe(0,cloneValue(v),s),this._trackKeys.push(f)}d.addKeyframe(r,cloneValue(a[f]),s)}return this._maxTime=Math.max(this._maxTime,r),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(r){return this._maxTime=r,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var r=this._doneCbs;if(r)for(var a=r.length,o=0;o<a;o++)r[o].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var r=this.animation,a=this._abortedCbs;if(r&&r.removeClip(this._clip),this._clip=null,a)for(var o=0;o<a.length;o++)a[o].call(this)},n.prototype._setTracksFinished=function(){for(var r=this._tracks,a=this._trackKeys,o=0;o<a.length;o++)r[a[o]].setFinished()},n.prototype._getAdditiveTrack=function(r){var a,o=this._additiveAnimators;if(o)for(var s=0;s<o.length;s++){var l=o[s].getTrack(r);l&&(a=l)}return a},n.prototype.start=function(r){if(!(this._started>0)){this._started=1;for(var a=this,o=[],s=this._maxTime||0,l=0;l<this._trackKeys.length;l++){var u=this._trackKeys[l],f=this._tracks[u],d=this._getAdditiveTrack(u),v=f.keyframes,g=v.length;if(f.prepare(s,d),f.needsAnimate())if(!this._allowDiscrete&&f.discrete){var y=v[g-1];y&&(a._target[f.propName]=y.rawValue),f.setFinished()}else o.push(f)}if(o.length||this._force){var b=new Clip_default({life:s,loop:this._loop,delay:this._delay||0,onframe:function(_){a._started=2;var x=a._additiveAnimators;if(x){for(var C=!1,w=0;w<x.length;w++)if(x[w]._clip){C=!0;break}C||(a._additiveAnimators=null)}for(var w=0;w<o.length;w++)o[w].step(a._target,_);var S=a._onframeCbs;if(S)for(var w=0;w<S.length;w++)S[w](a._target,_)},ondestroy:function(){a._doneCallback()}});this._clip=b,this.animation&&this.animation.addClip(b),r&&b.setEasing(r)}else this._doneCallback();return this}},n.prototype.stop=function(r){if(!!this._clip){var a=this._clip;r&&a.onframe(1),this._abortedCallback()}},n.prototype.delay=function(r){return this._delay=r,this},n.prototype.during=function(r){return r&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(r)),this},n.prototype.done=function(r){return r&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(r)),this},n.prototype.aborted=function(r){return r&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(r)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(r){return this._tracks[r]},n.prototype.getTracks=function(){var r=this;return map3(this._trackKeys,function(a){return r._tracks[a]})},n.prototype.stopTracks=function(r,a){if(!r.length||!this._clip)return!0;for(var o=this._tracks,s=this._trackKeys,l=0;l<r.length;l++){var u=o[r[l]];u&&!u.isFinished()&&(a?u.step(this._target,1):this._started===1&&u.step(this._target,0),u.setFinished())}for(var f=!0,l=0;l<s.length;l++)if(!o[s[l]].isFinished()){f=!1;break}return f&&this._abortedCallback(),f},n.prototype.saveTo=function(r,a,o){if(!!r){a=a||this._trackKeys;for(var s=0;s<a.length;s++){var l=a[s],u=this._tracks[l];if(!(!u||u.isFinished())){var f=u.keyframes,d=f[o?0:f.length-1];d&&(r[l]=cloneValue(d.rawValue))}}}},n.prototype.__changeFinalValue=function(r,a){a=a||keys3(r);for(var o=0;o<a.length;o++){var s=a[o],l=this._tracks[s];if(!!l){var u=l.keyframes;if(u.length>1){var f=u.pop();l.addKeyframe(f.time,r[s]),l.prepare(this._maxTime,l.getAdditiveTrack())}}}},n}(),Animator_default=Animator;function getTime(){return new Date().getTime()}var Animation=function(n){__extends2(r,n);function r(a){var o=n.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,a=a||{},o.stage=a.stage||{},o}return r.prototype.addClip=function(a){a.animation&&this.removeClip(a),this._head?(this._tail.next=a,a.prev=this._tail,a.next=null,this._tail=a):this._head=this._tail=a,a.animation=this},r.prototype.addAnimator=function(a){a.animation=this;var o=a.getClip();o&&this.addClip(o)},r.prototype.removeClip=function(a){if(!!a.animation){var o=a.prev,s=a.next;o?o.next=s:this._head=s,s?s.prev=o:this._tail=o,a.next=a.prev=a.animation=null}},r.prototype.removeAnimator=function(a){var o=a.getClip();o&&this.removeClip(o),a.animation=null},r.prototype.update=function(a){for(var o=getTime()-this._pausedTime,s=o-this._time,l=this._head;l;){var u=l.next,f=l.step(o,s);f&&(l.ondestroy(),this.removeClip(l)),l=u}this._time=o,a||(this.trigger("frame",s),this.stage.update&&this.stage.update())},r.prototype._startLoop=function(){var a=this;this._running=!0;function o(){a._running&&(requestAnimationFrame_default(o),!a._paused&&a.update())}requestAnimationFrame_default(o)},r.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},r.prototype.stop=function(){this._running=!1},r.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},r.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},r.prototype.clear=function(){for(var a=this._head;a;){var o=a.next;a.prev=a.next=a.animation=null,a=o}this._head=this._tail=null},r.prototype.isFinished=function(){return this._head==null},r.prototype.animate=function(a,o){o=o||{},this.start();var s=new Animator_default(a,o.loop);return this.addAnimator(s),s},r}(Eventful_default),Animation_default=Animation,TOUCH_CLICK_DELAY=300,globalEventSupported=env_default.domSupported,localNativeListenerNames=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],r=["touchstart","touchend","touchmove"],a={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=map3(n,function(s){var l=s.replace("mouse","pointer");return a.hasOwnProperty(l)?l:s});return{mouse:n,touch:r,pointer:o}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(n){var r=n.pointerType;return r==="pen"||r==="touch"}function setTouchTimer(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function markTouch(n){n&&(n.zrByTouch=!0)}function normalizeGlobalEvent(n,r){return normalizeEvent(n.dom,new FakeGlobalEvent(n,r),!0)}function isLocalEl(n,r){for(var a=r,o=!1;a&&a.nodeType!==9&&!(o=a.domBelongToZr||a!==r&&a===n.painterRoot);)a=a.parentNode;return o}var FakeGlobalEvent=function(){function n(r,a){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=a.type,this.target=this.currentTarget=r.dom,this.pointerType=a.pointerType,this.clientX=a.clientX,this.clientY=a.clientY}return n}(),localDOMHandlers={mousedown:function(n){n=normalizeEvent(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=normalizeEvent(this.dom,n);var r=this.__mayPointerCapture;r&&(n.zrX!==r[0]||n.zrY!==r[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=normalizeEvent(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=normalizeEvent(this.dom,n);var r=n.toElement||n.relatedTarget;isLocalEl(this,r)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){wheelEventSupported=!0,n=normalizeEvent(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){wheelEventSupported||(n=normalizeEvent(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=normalizeEvent(this.dom,n),markTouch(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),localDOMHandlers.mousemove.call(this,n),localDOMHandlers.mousedown.call(this,n)},touchmove:function(n){n=normalizeEvent(this.dom,n),markTouch(n),this.handler.processGesture(n,"change"),localDOMHandlers.mousemove.call(this,n)},touchend:function(n){n=normalizeEvent(this.dom,n),markTouch(n),this.handler.processGesture(n,"end"),localDOMHandlers.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,n)},pointerdown:function(n){localDOMHandlers.mousedown.call(this,n)},pointermove:function(n){isPointerFromTouch(n)||localDOMHandlers.mousemove.call(this,n)},pointerup:function(n){localDOMHandlers.mouseup.call(this,n)},pointerout:function(n){isPointerFromTouch(n)||localDOMHandlers.mouseout.call(this,n)}};each(["click","dblclick","contextmenu"],function(n){localDOMHandlers[n]=function(r){r=normalizeEvent(this.dom,r),this.trigger(n,r)}});var globalDOMHandlers={pointermove:function(n){isPointerFromTouch(n)||globalDOMHandlers.mousemove.call(this,n)},pointerup:function(n){globalDOMHandlers.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var r=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),r&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function mountLocalDOMEventListeners(n,r){var a=r.domHandlers;env_default.pointerEventsSupported?each(localNativeListenerNames.pointer,function(o){mountSingleDOMEventListener(r,o,function(s){a[o].call(n,s)})}):(env_default.touchEventsSupported&&each(localNativeListenerNames.touch,function(o){mountSingleDOMEventListener(r,o,function(s){a[o].call(n,s),setTouchTimer(r)})}),each(localNativeListenerNames.mouse,function(o){mountSingleDOMEventListener(r,o,function(s){s=getNativeEvent(s),r.touching||a[o].call(n,s)})}))}function mountGlobalDOMEventListeners(n,r){env_default.pointerEventsSupported?each(globalNativeListenerNames.pointer,a):env_default.touchEventsSupported||each(globalNativeListenerNames.mouse,a);function a(o){function s(l){l=getNativeEvent(l),isLocalEl(n,l.target)||(l=normalizeGlobalEvent(n,l),r.domHandlers[o].call(n,l))}mountSingleDOMEventListener(r,o,s,{capture:!0})}}function mountSingleDOMEventListener(n,r,a,o){n.mounted[r]=a,n.listenerOpts[r]=o,addEventListener3(n.domTarget,r,a,o)}function unmountDOMEventListeners(n){var r=n.mounted;for(var a in r)r.hasOwnProperty(a)&&removeEventListener3(n.domTarget,a,r[a],n.listenerOpts[a]);n.mounted={}}var DOMHandlerScope=function(){function n(r,a){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=r,this.domHandlers=a}return n}(),HandlerDomProxy=function(n){__extends2(r,n);function r(a,o){var s=n.call(this)||this;return s.__pointerCapturing=!1,s.dom=a,s.painterRoot=o,s._localHandlerScope=new DOMHandlerScope(a,localDOMHandlers),globalEventSupported&&(s._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(s,s._localHandlerScope),s}return r.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},r.prototype.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")},r.prototype.__togglePointerCapture=function(a){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+a){this.__pointerCapturing=a;var o=this._globalHandlerScope;a?mountGlobalDOMEventListeners(this,o):unmountDOMEventListeners(o)}},r}(Eventful_default),HandlerProxy_default=HandlerDomProxy,dpr=1;env_default.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio2=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee";function create2(){return[1,0,0,1,0,0]}function identity2(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function copy2(n,r){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n}function mul(n,r,a){var o=r[0]*a[0]+r[2]*a[1],s=r[1]*a[0]+r[3]*a[1],l=r[0]*a[2]+r[2]*a[3],u=r[1]*a[2]+r[3]*a[3],f=r[0]*a[4]+r[2]*a[5]+r[4],d=r[1]*a[4]+r[3]*a[5]+r[5];return n[0]=o,n[1]=s,n[2]=l,n[3]=u,n[4]=f,n[5]=d,n}function translate(n,r,a){return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4]+a[0],n[5]=r[5]+a[1],n}function rotate(n,r,a){var o=r[0],s=r[2],l=r[4],u=r[1],f=r[3],d=r[5],v=Math.sin(a),g=Math.cos(a);return n[0]=o*g+u*v,n[1]=-o*v+u*g,n[2]=s*g+f*v,n[3]=-s*v+g*f,n[4]=g*l+v*d,n[5]=g*d-v*l,n}function scale2(n,r,a){var o=a[0],s=a[1];return n[0]=r[0]*o,n[1]=r[1]*s,n[2]=r[2]*o,n[3]=r[3]*s,n[4]=r[4]*o,n[5]=r[5]*s,n}function invert(n,r){var a=r[0],o=r[2],s=r[4],l=r[1],u=r[3],f=r[5],d=a*u-l*o;return d?(d=1/d,n[0]=u*d,n[1]=-l*d,n[2]=-o*d,n[3]=a*d,n[4]=(o*f-u*s)*d,n[5]=(l*s-a*f)*d,n):null}function clone3(n){var r=create2();return copy2(r,n),r}var mIdentity=identity2,EPSILON2=5e-5;function isNotAroundZero2(n){return n>EPSILON2||n<-EPSILON2}var scaleTmp=[],tmpTransform=[],originTransform=create2(),abs=Math.abs,Transformable=function(){function n(){}return n.prototype.getLocalTransform=function(r){return n.getLocalTransform(this,r)},n.prototype.setPosition=function(r){this.x=r[0],this.y=r[1]},n.prototype.setScale=function(r){this.scaleX=r[0],this.scaleY=r[1]},n.prototype.setSkew=function(r){this.skewX=r[0],this.skewY=r[1]},n.prototype.setOrigin=function(r){this.originX=r[0],this.originY=r[1]},n.prototype.needLocalTransform=function(){return isNotAroundZero2(this.rotation)||isNotAroundZero2(this.x)||isNotAroundZero2(this.y)||isNotAroundZero2(this.scaleX-1)||isNotAroundZero2(this.scaleY-1)||isNotAroundZero2(this.skewX)||isNotAroundZero2(this.skewY)},n.prototype.updateTransform=function(){var r=this.parent&&this.parent.transform,a=this.needLocalTransform(),o=this.transform;if(!(a||r)){o&&mIdentity(o);return}o=o||create2(),a?this.getLocalTransform(o):mIdentity(o),r&&(a?mul(o,r,o):copy2(o,r)),this.transform=o,this._resolveGlobalScaleRatio(o)},n.prototype._resolveGlobalScaleRatio=function(r){var a=this.globalScaleRatio;if(a!=null&&a!==1){this.getGlobalScale(scaleTmp);var o=scaleTmp[0]<0?-1:1,s=scaleTmp[1]<0?-1:1,l=((scaleTmp[0]-o)*a+o)/scaleTmp[0]||0,u=((scaleTmp[1]-s)*a+s)/scaleTmp[1]||0;r[0]*=l,r[1]*=l,r[2]*=u,r[3]*=u}this.invTransform=this.invTransform||create2(),invert(this.invTransform,r)},n.prototype.getComputedTransform=function(){for(var r=this,a=[];r;)a.push(r),r=r.parent;for(;r=a.pop();)r.updateTransform();return this.transform},n.prototype.setLocalTransform=function(r){if(!!r){var a=r[0]*r[0]+r[1]*r[1],o=r[2]*r[2]+r[3]*r[3],s=Math.atan2(r[1],r[0]),l=Math.PI/2+s-Math.atan2(r[3],r[2]);o=Math.sqrt(o)*Math.cos(l),a=Math.sqrt(a),this.skewX=l,this.skewY=0,this.rotation=-s,this.x=+r[4],this.y=+r[5],this.scaleX=a,this.scaleY=o,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(!!this.transform){var r=this.parent,a=this.transform;r&&r.transform&&(mul(tmpTransform,r.invTransform,a),a=tmpTransform);var o=this.originX,s=this.originY;(o||s)&&(originTransform[4]=o,originTransform[5]=s,mul(tmpTransform,a,originTransform),tmpTransform[4]-=o,tmpTransform[5]-=s,a=tmpTransform),this.setLocalTransform(a)}},n.prototype.getGlobalScale=function(r){var a=this.transform;return r=r||[],a?(r[0]=Math.sqrt(a[0]*a[0]+a[1]*a[1]),r[1]=Math.sqrt(a[2]*a[2]+a[3]*a[3]),a[0]<0&&(r[0]=-r[0]),a[3]<0&&(r[1]=-r[1]),r):(r[0]=1,r[1]=1,r)},n.prototype.transformCoordToLocal=function(r,a){var o=[r,a],s=this.invTransform;return s&&applyTransform(o,o,s),o},n.prototype.transformCoordToGlobal=function(r,a){var o=[r,a],s=this.transform;return s&&applyTransform(o,o,s),o},n.prototype.getLineScale=function(){var r=this.transform;return r&&abs(r[0]-1)>1e-10&&abs(r[3]-1)>1e-10?Math.sqrt(abs(r[0]*r[3]-r[2]*r[1])):1},n.prototype.copyTransform=function(r){copyTransform(this,r)},n.getLocalTransform=function(r,a){a=a||[];var o=r.originX||0,s=r.originY||0,l=r.scaleX,u=r.scaleY,f=r.anchorX,d=r.anchorY,v=r.rotation||0,g=r.x,y=r.y,b=r.skewX?Math.tan(r.skewX):0,_=r.skewY?Math.tan(-r.skewY):0;if(o||s||f||d){var x=o+f,C=s+d;a[4]=-x*l-b*C*u,a[5]=-C*u-_*x*l}else a[4]=a[5]=0;return a[0]=l,a[3]=u,a[1]=_*l,a[2]=b*u,v&&rotate(a,a,v),a[4]+=o+g,a[5]+=s+y,a},n.initDefaultProps=function(){var r=n.prototype;r.scaleX=r.scaleY=r.globalScaleRatio=1,r.x=r.y=r.originX=r.originY=r.skewX=r.skewY=r.rotation=r.anchorX=r.anchorY=0}(),n}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(n,r){for(var a=0;a<TRANSFORMABLE_PROPS.length;a++){var o=TRANSFORMABLE_PROPS[a];n[o]=r[o]}}var Transformable_default=Transformable,Point=function(){function n(r,a){this.x=r||0,this.y=a||0}return n.prototype.copy=function(r){return this.x=r.x,this.y=r.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(r,a){return this.x=r,this.y=a,this},n.prototype.equal=function(r){return r.x===this.x&&r.y===this.y},n.prototype.add=function(r){return this.x+=r.x,this.y+=r.y,this},n.prototype.scale=function(r){this.x*=r,this.y*=r},n.prototype.scaleAndAdd=function(r,a){this.x+=r.x*a,this.y+=r.y*a},n.prototype.sub=function(r){return this.x-=r.x,this.y-=r.y,this},n.prototype.dot=function(r){return this.x*r.x+this.y*r.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var r=this.len();return this.x/=r,this.y/=r,this},n.prototype.distance=function(r){var a=this.x-r.x,o=this.y-r.y;return Math.sqrt(a*a+o*o)},n.prototype.distanceSquare=function(r){var a=this.x-r.x,o=this.y-r.y;return a*a+o*o},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(r){if(!!r){var a=this.x,o=this.y;return this.x=r[0]*a+r[2]*o+r[4],this.y=r[1]*a+r[3]*o+r[5],this}},n.prototype.toArray=function(r){return r[0]=this.x,r[1]=this.y,r},n.prototype.fromArray=function(r){this.x=r[0],this.y=r[1]},n.set=function(r,a,o){r.x=a,r.y=o},n.copy=function(r,a){r.x=a.x,r.y=a.y},n.len=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},n.lenSquare=function(r){return r.x*r.x+r.y*r.y},n.dot=function(r,a){return r.x*a.x+r.y*a.y},n.add=function(r,a,o){r.x=a.x+o.x,r.y=a.y+o.y},n.sub=function(r,a,o){r.x=a.x-o.x,r.y=a.y-o.y},n.scale=function(r,a,o){r.x=a.x*o,r.y=a.y*o},n.scaleAndAdd=function(r,a,o,s){r.x=a.x+o.x*s,r.y=a.y+o.y*s},n.lerp=function(r,a,o,s){var l=1-s;r.x=l*a.x+s*o.x,r.y=l*a.y+s*o.y},n}(),Point_default=Point,mathMin=Math.min,mathMax=Math.max,lt=new Point_default,rb=new Point_default,lb=new Point_default,rt=new Point_default,minTv=new Point_default,maxTv=new Point_default,BoundingRect=function(){function n(r,a,o,s){o<0&&(r=r+o,o=-o),s<0&&(a=a+s,s=-s),this.x=r,this.y=a,this.width=o,this.height=s}return n.prototype.union=function(r){var a=mathMin(r.x,this.x),o=mathMin(r.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax(r.x+r.width,this.x+this.width)-a:this.width=r.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax(r.y+r.height,this.y+this.height)-o:this.height=r.height,this.x=a,this.y=o},n.prototype.applyTransform=function(r){n.applyTransform(this,this,r)},n.prototype.calculateTransform=function(r){var a=this,o=r.width/a.width,s=r.height/a.height,l=create2();return translate(l,l,[-a.x,-a.y]),scale2(l,l,[o,s]),translate(l,l,[r.x,r.y]),l},n.prototype.intersect=function(r,a){if(!r)return!1;r instanceof n||(r=n.create(r));var o=this,s=o.x,l=o.x+o.width,u=o.y,f=o.y+o.height,d=r.x,v=r.x+r.width,g=r.y,y=r.y+r.height,b=!(l<d||v<s||f<g||y<u);if(a){var _=1/0,x=0,C=Math.abs(l-d),w=Math.abs(v-s),S=Math.abs(f-g),D=Math.abs(y-u),A=Math.min(C,w),T=Math.min(S,D);l<d||v<s?A>x&&(x=A,C<w?Point_default.set(maxTv,-C,0):Point_default.set(maxTv,w,0)):A<_&&(_=A,C<w?Point_default.set(minTv,C,0):Point_default.set(minTv,-w,0)),f<g||y<u?T>x&&(x=T,S<D?Point_default.set(maxTv,0,-S):Point_default.set(maxTv,0,D)):A<_&&(_=A,S<D?Point_default.set(minTv,0,S):Point_default.set(minTv,0,-D))}return a&&Point_default.copy(a,b?minTv:maxTv),b},n.prototype.contain=function(r,a){var o=this;return r>=o.x&&r<=o.x+o.width&&a>=o.y&&a<=o.y+o.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(r){n.copy(this,r)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(r){return new n(r.x,r.y,r.width,r.height)},n.copy=function(r,a){r.x=a.x,r.y=a.y,r.width=a.width,r.height=a.height},n.applyTransform=function(r,a,o){if(!o){r!==a&&n.copy(r,a);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var s=o[0],l=o[3],u=o[4],f=o[5];r.x=a.x*s+u,r.y=a.y*l+f,r.width=a.width*s,r.height=a.height*l,r.width<0&&(r.x+=r.width,r.width=-r.width),r.height<0&&(r.y+=r.height,r.height=-r.height);return}lt.x=lb.x=a.x,lt.y=rt.y=a.y,rb.x=rt.x=a.x+a.width,rb.y=lb.y=a.y+a.height,lt.transform(o),rt.transform(o),rb.transform(o),lb.transform(o),r.x=mathMin(lt.x,rb.x,lb.x,rt.x),r.y=mathMin(lt.y,rb.y,lb.y,rt.y);var d=mathMax(lt.x,rb.x,lb.x,rt.x),v=mathMax(lt.y,rb.y,lb.y,rt.y);r.width=d-r.x,r.height=v-r.y},n}(),BoundingRect_default=BoundingRect,textWidthCache={};function getWidth(n,r){r=r||DEFAULT_FONT;var a=textWidthCache[r];a||(a=textWidthCache[r]=new LRU_default(500));var o=a.get(n);return o==null&&(o=platformApi.measureText(n,r).width,a.put(n,o)),o}function innerGetBoundingRect(n,r,a,o){var s=getWidth(n,r),l=getLineHeight(r),u=adjustTextX(0,s,a),f=adjustTextY(0,l,o),d=new BoundingRect_default(u,f,s,l);return d}function getBoundingRect(n,r,a,o){var s=((n||"")+"").split(`
`),l=s.length;if(l===1)return innerGetBoundingRect(s[0],r,a,o);for(var u=new BoundingRect_default(0,0,0,0),f=0;f<s.length;f++){var d=innerGetBoundingRect(s[f],r,a,o);f===0?u.copy(d):u.union(d)}return u}function adjustTextX(n,r,a){return a==="right"?n-=r:a==="center"&&(n-=r/2),n}function adjustTextY(n,r,a){return a==="middle"?n-=r/2:a==="bottom"&&(n-=r),n}function getLineHeight(n){return getWidth("\u56FD",n)}function parsePercent(n,r){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*r:parseFloat(n):n}function calculateTextPosition(n,r,a){var o=r.position||"inside",s=r.distance!=null?r.distance:5,l=a.height,u=a.width,f=l/2,d=a.x,v=a.y,g="left",y="top";if(o instanceof Array)d+=parsePercent(o[0],a.width),v+=parsePercent(o[1],a.height),g=null,y=null;else switch(o){case"left":d-=s,v+=f,g="right",y="middle";break;case"right":d+=s+u,v+=f,y="middle";break;case"top":d+=u/2,v-=s,g="center",y="bottom";break;case"bottom":d+=u/2,v+=l+s,g="center";break;case"inside":d+=u/2,v+=f,g="center",y="middle";break;case"insideLeft":d+=s,v+=f,y="middle";break;case"insideRight":d+=u-s,v+=f,g="right",y="middle";break;case"insideTop":d+=u/2,v+=s,g="center";break;case"insideBottom":d+=u/2,v+=l-s,g="center",y="bottom";break;case"insideTopLeft":d+=s,v+=s;break;case"insideTopRight":d+=u-s,v+=s,g="right";break;case"insideBottomLeft":d+=s,v+=l-s,y="bottom";break;case"insideBottomRight":d+=u-s,v+=l-s,g="right",y="bottom";break}return n=n||{},n.x=d,n.y=v,n.align=g,n.verticalAlign=y,n}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(n,r){return n[r]=!0,n},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect_default(0,0,0,0),Element2=function(){function n(r){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(r)}return n.prototype._init=function(r){this.attr(r)},n.prototype.drift=function(r,a,o){switch(this.draggable){case"horizontal":a=0;break;case"vertical":r=0;break}var s=this.transform;s||(s=this.transform=[1,0,0,1,0,0]),s[4]+=r,s[5]+=a,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(r){var a=this._textContent;if(a&&(!a.ignore||r)){this.textConfig||(this.textConfig={});var o=this.textConfig,s=o.local,l=a.innerTransformable,u=void 0,f=void 0,d=!1;l.parent=s?this:null;var v=!1;if(l.copyTransform(a),o.position!=null){var g=tmpBoundingRect;o.layoutRect?g.copy(o.layoutRect):g.copy(this.getBoundingRect()),s||g.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,o,g):calculateTextPosition(tmpTextPosCalcRes,o,g),l.x=tmpTextPosCalcRes.x,l.y=tmpTextPosCalcRes.y,u=tmpTextPosCalcRes.align,f=tmpTextPosCalcRes.verticalAlign;var y=o.origin;if(y&&o.rotation!=null){var b=void 0,_=void 0;y==="center"?(b=g.width*.5,_=g.height*.5):(b=parsePercent(y[0],g.width),_=parsePercent(y[1],g.height)),v=!0,l.originX=-l.x+b+(s?0:g.x),l.originY=-l.y+_+(s?0:g.y)}}o.rotation!=null&&(l.rotation=o.rotation);var x=o.offset;x&&(l.x+=x[0],l.y+=x[1],v||(l.originX=-x[0],l.originY=-x[1]));var C=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,w=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),S=void 0,D=void 0,A=void 0;C&&this.canBeInsideText()?(S=o.insideFill,D=o.insideStroke,(S==null||S==="auto")&&(S=this.getInsideTextFill()),(D==null||D==="auto")&&(D=this.getInsideTextStroke(S),A=!0)):(S=o.outsideFill,D=o.outsideStroke,(S==null||S==="auto")&&(S=this.getOutsideFill()),(D==null||D==="auto")&&(D=this.getOutsideStroke(S),A=!0)),S=S||"#000",(S!==w.fill||D!==w.stroke||A!==w.autoStroke||u!==w.align||f!==w.verticalAlign)&&(d=!0,w.fill=S,w.stroke=D,w.autoStroke=A,w.align=u,w.verticalAlign=f,a.setDefaultTextStyle(w)),a.__dirty|=REDRAW_BIT,d&&a.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(r){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},n.prototype.getOutsideStroke=function(r){var a=this.__zr&&this.__zr.getBackgroundColor(),o=typeof a=="string"&&parse2(a);o||(o=[255,255,255,1]);for(var s=o[3],l=this.__zr.isDarkMode(),u=0;u<3;u++)o[u]=o[u]*s+(l?0:255)*(1-s);return o[3]=1,stringify(o,"rgba")},n.prototype.traverse=function(r,a){},n.prototype.attrKV=function(r,a){r==="textConfig"?this.setTextConfig(a):r==="textContent"?this.setTextContent(a):r==="clipPath"?this.setClipPath(a):r==="extra"?(this.extra=this.extra||{},extend3(this.extra,a)):this[r]=a},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(r,a){if(typeof r=="string")this.attrKV(r,a);else if(isObject3(r))for(var o=r,s=keys3(o),l=0;l<s.length;l++){var u=s[l];this.attrKV(u,r[u])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(r){this._innerSaveToNormal(r);for(var a=this._normalState,o=0;o<this.animators.length;o++){var s=this.animators[o],l=s.__fromStateTransition;if(!(s.getLoop()||l&&l!==PRESERVED_NORMAL_STATE)){var u=s.targetName,f=u?a[u]:a;s.saveTo(f)}}},n.prototype._innerSaveToNormal=function(r){var a=this._normalState;a||(a=this._normalState={}),r.textConfig&&!a.textConfig&&(a.textConfig=this.textConfig),this._savePrimaryToNormal(r,a,PRIMARY_STATES_KEYS)},n.prototype._savePrimaryToNormal=function(r,a,o){for(var s=0;s<o.length;s++){var l=o[s];r[l]!=null&&!(l in a)&&(a[l]=this[l])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(r){return this.states[r]},n.prototype.ensureState=function(r){var a=this.states;return a[r]||(a[r]={}),a[r]},n.prototype.clearStates=function(r){this.useState(PRESERVED_NORMAL_STATE,!1,r)},n.prototype.useState=function(r,a,o,s){var l=r===PRESERVED_NORMAL_STATE,u=this.hasState();if(!(!u&&l)){var f=this.currentStates,d=this.stateTransition;if(!(indexOf(f,r)>=0&&(a||f.length===1))){var v;if(this.stateProxy&&!l&&(v=this.stateProxy(r)),v||(v=this.states&&this.states[r]),!v&&!l){logError2("State "+r+" not exists.");return}l||this.saveCurrentToNormalState(v);var g=!!(v&&v.hoverLayer||s);g&&this._toggleHoverLayerFlag(!0),this._applyStateObj(r,v,this._normalState,a,!o&&!this.__inHover&&d&&d.duration>0,d);var y=this._textContent,b=this._textGuide;return y&&y.useState(r,a,o,g),b&&b.useState(r,a,o,g),l?(this.currentStates=[],this._normalState={}):a?this.currentStates.push(r):this.currentStates=[r],this._updateAnimationTargets(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),v}}},n.prototype.useStates=function(r,a,o){if(!r.length)this.clearStates();else{var s=[],l=this.currentStates,u=r.length,f=u===l.length;if(f){for(var d=0;d<u;d++)if(r[d]!==l[d]){f=!1;break}}if(f)return;for(var d=0;d<u;d++){var v=r[d],g=void 0;this.stateProxy&&(g=this.stateProxy(v,r)),g||(g=this.states[v]),g&&s.push(g)}var y=s[u-1],b=!!(y&&y.hoverLayer||o);b&&this._toggleHoverLayerFlag(!0);var _=this._mergeStates(s),x=this.stateTransition;this.saveCurrentToNormalState(_),this._applyStateObj(r.join(","),_,this._normalState,!1,!a&&!this.__inHover&&x&&x.duration>0,x);var C=this._textContent,w=this._textGuide;C&&C.useStates(r,a,b),w&&w.useStates(r,a,b),this._updateAnimationTargets(),this.currentStates=r.slice(),this.markRedraw(),!b&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},n.prototype._updateAnimationTargets=function(){for(var r=0;r<this.animators.length;r++){var a=this.animators[r];a.targetName&&a.changeTarget(this[a.targetName])}},n.prototype.removeState=function(r){var a=indexOf(this.currentStates,r);if(a>=0){var o=this.currentStates.slice();o.splice(a,1),this.useStates(o)}},n.prototype.replaceState=function(r,a,o){var s=this.currentStates.slice(),l=indexOf(s,r),u=indexOf(s,a)>=0;l>=0?u?s.splice(l,1):s[l]=a:o&&!u&&s.push(a),this.useStates(s)},n.prototype.toggleState=function(r,a){a?this.useState(r,!0):this.removeState(r)},n.prototype._mergeStates=function(r){for(var a={},o,s=0;s<r.length;s++){var l=r[s];extend3(a,l),l.textConfig&&(o=o||{},extend3(o,l.textConfig))}return o&&(a.textConfig=o),a},n.prototype._applyStateObj=function(r,a,o,s,l,u){var f=!(a&&s);a&&a.textConfig?(this.textConfig=extend3({},s?this.textConfig:o.textConfig),extend3(this.textConfig,a.textConfig)):f&&o.textConfig&&(this.textConfig=o.textConfig);for(var d={},v=!1,g=0;g<PRIMARY_STATES_KEYS.length;g++){var y=PRIMARY_STATES_KEYS[g],b=l&&DEFAULT_ANIMATABLE_MAP[y];a&&a[y]!=null?b?(v=!0,d[y]=a[y]):this[y]=a[y]:f&&o[y]!=null&&(b?(v=!0,d[y]=o[y]):this[y]=o[y])}if(!l)for(var g=0;g<this.animators.length;g++){var _=this.animators[g],x=_.targetName;_.getLoop()||_.__changeFinalValue(x?(a||o)[x]:a||o)}v&&this._transitionState(r,d,u)},n.prototype._attachComponent=function(r){if(r.__zr&&!r.__hostTarget)throw new Error("Text element has been added to zrender.");if(r===this)throw new Error("Recursive component attachment.");var a=this.__zr;a&&r.addSelfToZr(a),r.__zr=a,r.__hostTarget=this},n.prototype._detachComponent=function(r){r.__zr&&r.removeSelfFromZr(r.__zr),r.__zr=null,r.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(r){this._clipPath&&this._clipPath!==r&&this.removeClipPath(),this._attachComponent(r),this._clipPath=r,this.markRedraw()},n.prototype.removeClipPath=function(){var r=this._clipPath;r&&(this._detachComponent(r),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(r){var a=this._textContent;if(a!==r){if(a&&a!==r&&this.removeTextContent(),r.__zr&&!r.__hostTarget)throw new Error("Text element has been added to zrender.");r.innerTransformable=new Transformable_default,this._attachComponent(r),this._textContent=r,this.markRedraw()}},n.prototype.setTextConfig=function(r){this.textConfig||(this.textConfig={}),extend3(this.textConfig,r),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var r=this._textContent;r&&(r.innerTransformable=null,this._detachComponent(r),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(r){this._textGuide&&this._textGuide!==r&&this.removeTextGuideLine(),this._attachComponent(r),this._textGuide=r,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var r=this._textGuide;r&&(this._detachComponent(r),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var r=this.__zr;r&&(this.__inHover?r.refreshHover():r.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(r){this.__inHover=r;var a=this._textContent,o=this._textGuide;a&&(a.__inHover=r),o&&(o.__inHover=r)},n.prototype.addSelfToZr=function(r){if(this.__zr!==r){this.__zr=r;var a=this.animators;if(a)for(var o=0;o<a.length;o++)r.animation.addAnimator(a[o]);this._clipPath&&this._clipPath.addSelfToZr(r),this._textContent&&this._textContent.addSelfToZr(r),this._textGuide&&this._textGuide.addSelfToZr(r)}},n.prototype.removeSelfFromZr=function(r){if(!!this.__zr){this.__zr=null;var a=this.animators;if(a)for(var o=0;o<a.length;o++)r.animation.removeAnimator(a[o]);this._clipPath&&this._clipPath.removeSelfFromZr(r),this._textContent&&this._textContent.removeSelfFromZr(r),this._textGuide&&this._textGuide.removeSelfFromZr(r)}},n.prototype.animate=function(r,a,o){var s=r?this[r]:this;if(!s){logError2('Property "'+r+'" is not existed in element '+this.id);return}var l=new Animator_default(s,a,o);return r&&(l.targetName=r),this.addAnimator(l,r),l},n.prototype.addAnimator=function(r,a){var o=this.__zr,s=this;r.during(function(){s.updateDuringAnimation(a)}).done(function(){var l=s.animators,u=indexOf(l,r);u>=0&&l.splice(u,1)}),this.animators.push(r),o&&o.animation.addAnimator(r),o&&o.wakeUp()},n.prototype.updateDuringAnimation=function(r){this.markRedraw()},n.prototype.stopAnimation=function(r,a){for(var o=this.animators,s=o.length,l=[],u=0;u<s;u++){var f=o[u];!r||r===f.scope?f.stop(a):l.push(f)}return this.animators=l,this},n.prototype.animateTo=function(r,a,o){animateTo(this,r,a,o)},n.prototype.animateFrom=function(r,a,o){animateTo(this,r,a,o,!0)},n.prototype._transitionState=function(r,a,o,s){for(var l=animateTo(this,a,o,s),u=0;u<l.length;u++)l[u].__fromStateTransition=r},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var r=n.prototype;r.type="element",r.name="",r.ignore=r.silent=r.isGroup=r.draggable=r.dragging=r.ignoreClip=r.__inHover=!1,r.__dirty=REDRAW_BIT;var a={};function o(l,u,f){a[l+u+f]||(console.warn("DEPRECATED: '"+l+"' has been deprecated. use '"+u+"', '"+f+"' instead"),a[l+u+f]=!0)}function s(l,u,f,d){Object.defineProperty(r,l,{get:function(){if(o(l,f,d),!this[u]){var g=this[u]=[];v(this,g)}return this[u]},set:function(g){o(l,f,d),this[f]=g[0],this[d]=g[1],this[u]=g,v(this,g)}});function v(g,y){Object.defineProperty(y,0,{get:function(){return g[f]},set:function(b){g[f]=b}}),Object.defineProperty(y,1,{get:function(){return g[d]},set:function(b){g[d]=b}})}}Object.defineProperty&&(s("position","_legacyPos","x","y"),s("scale","_legacyScale","scaleX","scaleY"),s("origin","_legacyOrigin","originX","originY"))}(),n}();mixin(Element2,Eventful_default),mixin(Element2,Transformable_default);function animateTo(n,r,a,o,s){a=a||{};var l=[];animateToShallow(n,"",n,r,a,o,l,s);var u=l.length,f=!1,d=a.done,v=a.aborted,g=function(){f=!0,u--,u<=0&&(f?d&&d():v&&v())},y=function(){u--,u<=0&&(f?d&&d():v&&v())};u||d&&d(),l.length>0&&a.during&&l[0].during(function(x,C){a.during(C)});for(var b=0;b<l.length;b++){var _=l[b];g&&_.done(g),y&&_.aborted(y),a.force&&_.duration(a.duration),_.start(a.easing)}return l}function copyArrShallow(n,r,a){for(var o=0;o<a;o++)n[o]=r[o]}function is2DArray(n){return isArrayLike2(n[0])}function copyValue(n,r,a){if(isArrayLike2(r[a]))if(isArrayLike2(n[a])||(n[a]=[]),isTypedArray2(r[a])){var o=r[a].length;n[a].length!==o&&(n[a]=new r[a].constructor(o),copyArrShallow(n[a],r[a],o))}else{var s=r[a],l=n[a],u=s.length;if(is2DArray(s))for(var f=s[0].length,d=0;d<u;d++)l[d]?copyArrShallow(l[d],s[d],f):l[d]=Array.prototype.slice.call(s[d]);else copyArrShallow(l,s,u);l.length=s.length}else n[a]=r[a]}function isValueSame(n,r){return n===r||isArrayLike2(n)&&isArrayLike2(r)&&is1DArraySame(n,r)}function is1DArraySame(n,r){var a=n.length;if(a!==r.length)return!1;for(var o=0;o<a;o++)if(n[o]!==r[o])return!1;return!0}function animateToShallow(n,r,a,o,s,l,u,f){for(var d=keys3(o),v=s.duration,g=s.delay,y=s.additive,b=s.setToFinal,_=!isObject3(l),x=n.animators,C=[],w=0;w<d.length;w++){var S=d[w],D=o[S];if(D!=null&&a[S]!=null&&(_||l[S]))if(isObject3(D)&&!isArrayLike2(D)&&!isGradientObject(D)){if(r){f||(a[S]=D,n.updateDuringAnimation(r));continue}animateToShallow(n,S,a[S],D,s,l&&l[S],u,f)}else C.push(S);else f||(a[S]=D,n.updateDuringAnimation(r),C.push(S))}var A=C.length;if(!y&&A)for(var T=0;T<x.length;T++){var M=x[T];if(M.targetName===r){var E=M.stopTracks(C);if(E){var P=indexOf(x,M);x.splice(P,1)}}}if(s.force||(C=filter(C,function(O){return!isValueSame(o[O],a[O])}),A=C.length),A>0||s.force&&!u.length){var I=void 0,F=void 0,L=void 0;if(f){F={},b&&(I={});for(var T=0;T<A;T++){var S=C[T];F[S]=a[S],b?I[S]=o[S]:a[S]=o[S]}}else if(b){L={};for(var T=0;T<A;T++){var S=C[T];L[S]=cloneValue(a[S]),copyValue(a,o,S)}}var M=new Animator_default(a,!1,!1,y?filter(x,function(z){return z.targetName===r}):null);M.targetName=r,s.scope&&(M.scope=s.scope),b&&I&&M.whenWithKeys(0,I,C),L&&M.whenWithKeys(0,L,C),M.whenWithKeys(v==null?500:v,f?F:o,C).delay(g||0),n.addAnimator(M,r),u.push(M)}}var Element_default=Element2,Group=function(n){__extends2(r,n);function r(a){var o=n.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(a),o}return r.prototype.childrenRef=function(){return this._children},r.prototype.children=function(){return this._children.slice()},r.prototype.childAt=function(a){return this._children[a]},r.prototype.childOfName=function(a){for(var o=this._children,s=0;s<o.length;s++)if(o[s].name===a)return o[s]},r.prototype.childCount=function(){return this._children.length},r.prototype.add=function(a){if(a&&(a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),a.__hostTarget))throw"This elemenet has been used as an attachment";return this},r.prototype.addBefore=function(a,o){if(a&&a!==this&&a.parent!==this&&o&&o.parent===this){var s=this._children,l=s.indexOf(o);l>=0&&(s.splice(l,0,a),this._doAdd(a))}return this},r.prototype.replace=function(a,o){var s=indexOf(this._children,a);return s>=0&&this.replaceAt(o,s),this},r.prototype.replaceAt=function(a,o){var s=this._children,l=s[o];if(a&&a!==this&&a.parent!==this&&a!==l){s[o]=a,l.parent=null;var u=this.__zr;u&&l.removeSelfFromZr(u),this._doAdd(a)}return this},r.prototype._doAdd=function(a){a.parent&&a.parent.remove(a),a.parent=this;var o=this.__zr;o&&o!==a.__zr&&a.addSelfToZr(o),o&&o.refresh()},r.prototype.remove=function(a){var o=this.__zr,s=this._children,l=indexOf(s,a);return l<0?this:(s.splice(l,1),a.parent=null,o&&a.removeSelfFromZr(o),o&&o.refresh(),this)},r.prototype.removeAll=function(){for(var a=this._children,o=this.__zr,s=0;s<a.length;s++){var l=a[s];o&&l.removeSelfFromZr(o),l.parent=null}return a.length=0,this},r.prototype.eachChild=function(a,o){for(var s=this._children,l=0;l<s.length;l++){var u=s[l];a.call(o,u,l)}return this},r.prototype.traverse=function(a,o){for(var s=0;s<this._children.length;s++){var l=this._children[s],u=a.call(o,l);l.isGroup&&!u&&l.traverse(a,o)}return this},r.prototype.addSelfToZr=function(a){n.prototype.addSelfToZr.call(this,a);for(var o=0;o<this._children.length;o++){var s=this._children[o];s.addSelfToZr(a)}},r.prototype.removeSelfFromZr=function(a){n.prototype.removeSelfFromZr.call(this,a);for(var o=0;o<this._children.length;o++){var s=this._children[o];s.removeSelfFromZr(a)}},r.prototype.getBoundingRect=function(a){for(var o=new BoundingRect_default(0,0,0,0),s=a||this._children,l=[],u=null,f=0;f<s.length;f++){var d=s[f];if(!(d.ignore||d.invisible)){var v=d.getBoundingRect(),g=d.getLocalTransform(l);g?(BoundingRect_default.applyTransform(o,v,g),u=u||o.clone(),u.union(o)):(u=u||v.clone(),u.union(v))}}return u||o},r}(Element_default);Group.prototype.type="group";var Group_default=Group,painterCtors={},instances={};function delInstance(n){delete instances[n]}function isDarkMode(n){if(!n)return!1;if(typeof n=="string")return lum(n,1)<DARK_MODE_THRESHOLD;if(n.colorStops){for(var r=n.colorStops,a=0,o=r.length,s=0;s<o;s++)a+=lum(r[s].color,1);return a/=o,a<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function n(r,a,o){var s=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=a,this.id=r;var l=new Storage_default,u=o.renderer||"canvas";if(painterCtors[u]||(u=keys3(painterCtors)[0]),!painterCtors[u])throw new Error("Renderer '"+u+"' is not imported. Please import it first.");o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var f=new painterCtors[u](a,l,o,r),d=o.ssr||f.ssrOnly;this.storage=l,this.painter=f;var v=!env_default.node&&!env_default.worker&&!d?new HandlerProxy_default(f.getViewportRoot(),f.root):null;this.handler=new Handler_default(l,f,v,f.root),this.animation=new Animation_default({stage:{update:d?null:function(){return s._flush(!0)}}}),d||this.animation.start()}return n.prototype.add=function(r){!r||(this.storage.addRoot(r),r.addSelfToZr(this),this.refresh())},n.prototype.remove=function(r){!r||(this.storage.delRoot(r),r.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(r,a){this.painter.configLayer&&this.painter.configLayer(r,a),this.refresh()},n.prototype.setBackgroundColor=function(r){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(r),this.refresh(),this._backgroundColor=r,this._darkMode=isDarkMode(r)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(r){this._darkMode=r},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(r){r||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(r){var a,o=getTime();this._needsRefresh&&(a=!0,this.refreshImmediately(r)),this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately());var s=getTime();a?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:s-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(r){this._sleepAfterStill=r},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},n.prototype.resize=function(r){r=r||{},this.painter.resize(r.width,r.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(r){this.handler.setCursorStyle(r)},n.prototype.findHover=function(r,a){return this.handler.findHover(r,a)},n.prototype.on=function(r,a,o){return this.handler.on(r,a,o),this},n.prototype.off=function(r,a){this.handler.off(r,a)},n.prototype.trigger=function(r,a){this.handler.trigger(r,a)},n.prototype.clear=function(){for(var r=this.storage.getRoots(),a=0;a<r.length;a++)r[a]instanceof Group_default&&r[a].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},n}();function init2(n,r){var a=new ZRender(guid(),n,r);return instances[a.id]=a,a}function registerPainter(n,r){painterCtors[n]=r}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(n){return n.replace(/^\s+|\s+$/g,"")}function linearMap(n,r,a,o){var s=r[0],l=r[1],u=a[0],f=a[1],d=l-s,v=f-u;if(d===0)return v===0?u:(u+f)/2;if(o)if(d>0){if(n<=s)return u;if(n>=l)return f}else{if(n>=s)return u;if(n<=l)return f}else{if(n===s)return u;if(n===l)return f}return(n-s)/d*v+u}function parsePercent2(n,r){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return isString2(n)?_trim(n).match(/%$/)?parseFloat(n)/100*r:parseFloat(n):n==null?NaN:+n}function round(n,r,a){return r==null&&(r=10),r=Math.min(Math.max(0,r),ROUND_SUPPORTED_PRECISION_MAX),n=(+n).toFixed(r),a?n:+n}function asc(n){return n.sort(function(r,a){return r-a}),n}function getPrecision(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var r=1,a=0;a<15;a++,r*=10)if(Math.round(n*r)/r===n)return a}return getPrecisionSafe(n)}function getPrecisionSafe(n){var r=n.toString().toLowerCase(),a=r.indexOf("e"),o=a>0?+r.slice(a+1):0,s=a>0?a:r.length,l=r.indexOf("."),u=l<0?0:s-1-l;return Math.max(0,u-o)}function getPixelPrecision(n,r){var a=Math.log,o=Math.LN10,s=Math.floor(a(n[1]-n[0])/o),l=Math.round(a(Math.abs(r[1]-r[0]))/o),u=Math.min(Math.max(-s+l,0),20);return isFinite(u)?u:20}function getPercentWithPrecision(n,r,a){if(!n[r])return 0;var o=reduce(n,function(x,C){return x+(isNaN(C)?0:C)},0);if(o===0)return 0;for(var s=Math.pow(10,a),l=map3(n,function(x){return(isNaN(x)?0:x)/o*s*100}),u=s*100,f=map3(l,function(x){return Math.floor(x)}),d=reduce(f,function(x,C){return x+C},0),v=map3(l,function(x,C){return x-f[C]});d<u;){for(var g=Number.NEGATIVE_INFINITY,y=null,b=0,_=v.length;b<_;++b)v[b]>g&&(g=v[b],y=b);++f[y],v[y]=0,++d}return f[r]/s}function addSafe(n,r){var a=Math.max(getPrecision(n),getPrecision(r)),o=n+r;return a>ROUND_SUPPORTED_PRECISION_MAX?o:round(o,a)}function remRadian(n){var r=Math.PI*2;return(n%r+r)%r}function isRadianAroundZero(n){return n>-RADIAN_EPSILON&&n<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(n){if(n instanceof Date)return n;if(isString2(n)){var r=TIME_REG.exec(n);if(!r)return new Date(NaN);if(r[8]){var a=+r[4]||0;return r[8].toUpperCase()!=="Z"&&(a-=+r[8].slice(0,3)),new Date(Date.UTC(+r[1],+(r[2]||1)-1,+r[3]||1,a,+(r[5]||0),+r[6]||0,r[7]?+r[7].substring(0,3):0))}else return new Date(+r[1],+(r[2]||1)-1,+r[3]||1,+r[4]||0,+(r[5]||0),+r[6]||0,r[7]?+r[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function quantity(n){return Math.pow(10,quantityExponent(n))}function quantityExponent(n){if(n===0)return 0;var r=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,r)>=10&&r++,r}function nice(n,r){var a=quantityExponent(n),o=Math.pow(10,a),s=n/o,l;return r?s<1.5?l=1:s<2.5?l=2:s<4?l=3:s<7?l=5:l=10:s<1?l=1:s<2?l=2:s<3?l=3:s<5?l=5:l=10,n=l*o,a>=-20?+n.toFixed(a<0?-a:0):n}function reformIntervals(n){n.sort(function(d,v){return f(d,v,0)?-1:1});for(var r=-1/0,a=1,o=0;o<n.length;){for(var s=n[o].interval,l=n[o].close,u=0;u<2;u++)s[u]<=r&&(s[u]=r,l[u]=u?1:1-a),r=s[u],a=l[u];s[0]===s[1]&&l[0]*l[1]!=1?n.splice(o,1):o++}return n;function f(d,v,g){return d.interval[g]<v.interval[g]||d.interval[g]===v.interval[g]&&(d.close[g]-v.close[g]==(g?-1:1)||!g&&f(d,v,1))}}function numericToNumber(n){var r=parseFloat(n);return r==n&&(r!==0||!isString2(n)||n.indexOf("x")<=0)?r:NaN}function isNumeric(n){return!isNaN(numericToNumber(n))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(n,r){return r===0?n:getGreatestCommonDividor(r,n%r)}function getLeastCommonMultiple(n,r){return n==null?r:r==null?n:n*r/getGreatestCommonDividor(n,r)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console!="undefined"&&console.warn&&console.log;function outputLog(n,r,a){if(hasConsole){if(a){if(storedLogs[r])return;storedLogs[r]=!0}console[n](ECHARTS_PREFIX+r)}}function log(n,r){outputLog("log",n,r)}function warn6(n,r){outputLog("warn",n,r)}function error(n,r){outputLog("error",n,r)}function deprecateLog(n){outputLog("warn","DEPRECATED: "+n,!0)}function deprecateReplaceLog(n,r,a){deprecateLog((a?"["+a+"]":"")+(n+" is deprecated, use "+r+" instead."))}function makePrintable(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a="",o=function(s){return s===void 0?"undefined":s===1/0?"Infinity":s===-1/0?"-Infinity":eqNaN(s)?"NaN":s instanceof Date?"Date("+s.toISOString()+")":isFunction3(s)?"function () { ... }":isRegExp(s)?s+"":null};return a=map3(n,function(s){if(isString2(s))return s;var l=o(s);if(l!=null)return l;if(typeof JSON!="undefined"&&JSON.stringify)try{return JSON.stringify(s,function(u,f){var d=o(f);return d==null?f:d})}catch(u){return"?"}else return"?"}).join(" "),a}function throwError2(n){throw new Error(n)}function interpolateNumber2(n,r,a){return(r-n)*a+n}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(n){return n instanceof Array?n:n==null?[]:[n]}function defaultEmphasis(n,r,a){if(n){n[r]=n[r]||{},n.emphasis=n.emphasis||{},n.emphasis[r]=n.emphasis[r]||{};for(var o=0,s=a.length;o<s;o++){var l=a[o];!n.emphasis[r].hasOwnProperty(l)&&n[r].hasOwnProperty(l)&&(n.emphasis[r][l]=n[r][l])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(n){return isObject3(n)&&!isArray3(n)&&!(n instanceof Date)?n.value:n}function isDataItemOption(n){return isObject3(n)&&!(n instanceof Array)}function mappingToExists(n,r,a){var o=a==="normalMerge",s=a==="replaceMerge",l=a==="replaceAll";n=n||[],r=(r||[]).slice();var u=createHashMap();each(r,function(d,v){if(!isObject3(d)){r[v]=null;return}d.id!=null&&!isValidIdOrName(d.id)&&warnInvalidateIdOrName(d.id),d.name!=null&&!isValidIdOrName(d.name)&&warnInvalidateIdOrName(d.name)});var f=prepareResult(n,u,a);return(o||s)&&mappingById(f,n,u,r),o&&mappingByName(f,r),o||s?mappingByIndex(f,r,s):l&&mappingInReplaceAllMode(f,r),makeIdAndName(f),f}function prepareResult(n,r,a){var o=[];if(a==="replaceAll")return o;for(var s=0;s<n.length;s++){var l=n[s];l&&l.id!=null&&r.set(l.id,s),o.push({existing:a==="replaceMerge"||isComponentIdInternal(l)?null:l,newOption:null,keyInfo:null,brandNew:null})}return o}function mappingById(n,r,a,o){each(o,function(s,l){if(!(!s||s.id==null)){var u=makeComparableKey(s.id),f=a.get(u);if(f!=null){var d=n[f];assert(!d.newOption,'Duplicated option on id "'+u+'".'),d.newOption=s,d.existing=r[f],o[l]=null}}})}function mappingByName(n,r){each(r,function(a,o){if(!(!a||a.name==null))for(var s=0;s<n.length;s++){var l=n[s].existing;if(!n[s].newOption&&l&&(l.id==null||a.id==null)&&!isComponentIdInternal(a)&&!isComponentIdInternal(l)&&keyExistAndEqual("name",l,a)){n[s].newOption=a,r[o]=null;return}}})}function mappingByIndex(n,r,a){each(r,function(o){if(!!o){for(var s,l=0;(s=n[l])&&(s.newOption||isComponentIdInternal(s.existing)||s.existing&&o.id!=null&&!keyExistAndEqual("id",o,s.existing));)l++;s?(s.newOption=o,s.brandNew=a):n.push({newOption:o,brandNew:a,existing:null,keyInfo:null}),l++}})}function mappingInReplaceAllMode(n,r){each(r,function(a){n.push({newOption:a,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(n){var r=createHashMap();each(n,function(a){var o=a.existing;o&&r.set(o.id,a)}),each(n,function(a){var o=a.newOption;assert(!o||o.id==null||!r.get(o.id)||r.get(o.id)===a,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&r.set(o.id,a),!a.keyInfo&&(a.keyInfo={})}),each(n,function(a,o){var s=a.existing,l=a.newOption,u=a.keyInfo;if(!!isObject3(l)){if(u.name=l.name!=null?makeComparableKey(l.name):s?s.name:DUMMY_COMPONENT_NAME_PREFIX+o,s)u.id=makeComparableKey(s.id);else if(l.id!=null)u.id=makeComparableKey(l.id);else{var f=0;do u.id="\0"+u.name+"\0"+f++;while(r.get(u.id))}r.set(u.id,a)}})}function keyExistAndEqual(n,r,a){var o=convertOptionIdName(r[n],null),s=convertOptionIdName(a[n],null);return o!=null&&s!=null&&o===s}function makeComparableKey(n){if(n==null)throw new Error;return convertOptionIdName(n,"")}function convertOptionIdName(n,r){return n==null?r:isString2(n)?n:isNumber(n)||isStringSafe(n)?n+"":r}function warnInvalidateIdOrName(n){warn6("`"+n+"` is invalid id or name. Must be a string or number.")}function isValidIdOrName(n){return isStringSafe(n)||isNumeric(n)}function isNameSpecified(n){var r=n.name;return!!(r&&r.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(n){return n&&n.id!=null&&makeComparableKey(n.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(n){return INTERNAL_COMPONENT_ID_PREFIX+n}function setComponentTypeToKeyInfo(n,r,a){each(n,function(o){var s=o.newOption;isObject3(s)&&(o.keyInfo.mainType=r,o.keyInfo.subType=determineSubType(r,s,o.existing,a))})}function determineSubType(n,r,a,o){var s=r.type?r.type:a?a.subType:o.determineSubType(n,r);return s}function compressBatches(n,r){var a={},o={};return s(n||[],a),s(r||[],o,a),[l(a),l(o)];function s(u,f,d){for(var v=0,g=u.length;v<g;v++){var y=convertOptionIdName(u[v].seriesId,null);if(y==null)return;for(var b=normalizeToArray(u[v].dataIndex),_=d&&d[y],x=0,C=b.length;x<C;x++){var w=b[x];_&&_[w]?_[w]=null:(f[y]||(f[y]={}))[w]=1}}}function l(u,f){var d=[];for(var v in u)if(u.hasOwnProperty(v)&&u[v]!=null)if(f)d.push(+v);else{var g=l(u[v],!0);g.length&&d.push({seriesId:v,dataIndex:g})}return d}}function queryDataIndex(n,r){if(r.dataIndexInside!=null)return r.dataIndexInside;if(r.dataIndex!=null)return isArray3(r.dataIndex)?map3(r.dataIndex,function(a){return n.indexOfRawIndex(a)}):n.indexOfRawIndex(r.dataIndex);if(r.name!=null)return isArray3(r.name)?map3(r.name,function(a){return n.indexOfName(a)}):n.indexOfName(r.name)}function makeInner(){var n="__ec_inner_"+innerUniqueIndex++;return function(r){return r[n]||(r[n]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder(n,r,a){var o=preParseFinder(r,a),s=o.mainTypeSpecified,l=o.queryOptionMap,u=o.others,f=u,d=a?a.defaultMainType:null;return!s&&d&&l.set(d,{}),l.each(function(v,g){var y=queryReferringComponents(n,g,v,{useDefault:d===g,enableAll:a&&a.enableAll!=null?a.enableAll:!0,enableNone:a&&a.enableNone!=null?a.enableNone:!0});f[g+"Models"]=y.models,f[g+"Model"]=y.models[0]}),f}function preParseFinder(n,r){var a;if(isString2(n)){var o={};o[n+"Index"]=0,a=o}else a=n;var s=createHashMap(),l={},u=!1;return each(a,function(f,d){if(d==="dataIndex"||d==="dataIndexInside"){l[d]=f;return}var v=d.match(/^(\w+)(Index|Id|Name)$/)||[],g=v[1],y=(v[2]||"").toLowerCase();if(!(!g||!y||r&&r.includeMainTypes&&indexOf(r.includeMainTypes,g)<0)){u=u||!!g;var b=s.get(g)||s.set(g,{});b[y]=f}}),{mainTypeSpecified:u,queryOptionMap:s,others:l}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(n,r,a,o){o=o||SINGLE_REFERRING;var s=a.index,l=a.id,u=a.name,f={models:null,specified:s!=null||l!=null||u!=null};if(!f.specified){var d=void 0;return f.models=o.useDefault&&(d=n.getComponent(r))?[d]:[],f}return s==="none"||s===!1?(assert(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),f.models=[],f):(s==="all"&&(assert(o.enableAll,'`"all"` is not a valid value on index option.'),s=l=u=null),f.models=n.queryComponents({mainType:r,index:s,id:l,name:u}),f)}function setAttribute(n,r,a){n.setAttribute?n.setAttribute(r,a):n[r]=a}function getAttribute(n,r){return n.getAttribute?n.getAttribute(r):n[r]}function getTooltipRenderMode(n){return n==="auto"?env_default.domSupported?"html":"richText":n||"html"}function groupData(n,r){var a=createHashMap(),o=[];return each(n,function(s){var l=r(s);(a.get(l)||(o.push(l),a.set(l,[]))).push(s)}),{keys:o,buckets:a}}function interpolateRawValues(n,r,a,o,s){var l=r==null||r==="auto";if(o==null)return o;if(isNumber(o)){var u=interpolateNumber2(a||0,o,s);return round(u,l?Math.max(getPrecision(a||0),getPrecision(o)):r)}else{if(isString2(o))return s<1?a:o;for(var f=[],d=a,v=o,g=Math.max(d?d.length:0,v.length),y=0;y<g;++y){var b=n.getDimensionInfo(y);if(b&&b.type==="ordinal")f[y]=(s<1&&d?d:v)[y];else{var _=d&&d[y]?d[y]:0,x=v[y],u=interpolateNumber2(_,x,s);f[y]=round(u,l?Math.max(getPrecision(_),getPrecision(x)):r)}}return f}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(n){var r={main:"",sub:""};if(n){var a=n.split(TYPE_DELIMITER);r.main=a[0]||"",r.sub=a[1]||""}return r}function checkClassType(n){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function isExtendedClass(n){return!!(n&&n[IS_EXTENDED_CLASS])}function enableClassExtend(n,r){n.$constructor=n,n.extend=function(a){each(r,function(l){a[l]||console.warn("Method `"+l+"` should be implemented"+(a.type?" in "+a.type:"")+".")});var o=this,s;return isESClass(o)?s=function(l){__extends(u,l);function u(){return l.apply(this,arguments)||this}return u}(o):(s=function(){(a.$constructor||o).apply(this,arguments)},inherits(s,this)),extend3(s.prototype,a),s[IS_EXTENDED_CLASS]=!0,s.extend=this.extend,s.superCall=superCall,s.superApply=superApply,s.superClass=o,s}}function isESClass(n){return isFunction3(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function mountExtend(n,r){n.extend=r.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(n){var r=["__\0is_clz",classBase++].join("_");n.prototype[r]=!0,assert(!n.isInstance,'The method "is" can not be defined.'),n.isInstance=function(a){return!!(a&&a[r])}}function superCall(n,r){for(var a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];return this.superClass.prototype[r].apply(n,a)}function superApply(n,r,a){return this.superClass.prototype[r].apply(n,a)}function enableClassManagement(n){var r={};n.registerClass=function(o){var s=o.type||o.prototype.type;if(s){checkClassType(s),o.prototype.type=s;var l=parseClassType(s);if(!l.sub)r[l.main]&&console.warn(l.main+" exists."),r[l.main]=o;else if(l.sub!==IS_CONTAINER){var u=a(l);u[l.sub]=o}}return o},n.getClass=function(o,s,l){var u=r[o];if(u&&u[IS_CONTAINER]&&(u=s?u[s]:null),l&&!u)throw new Error(s?"Component "+o+"."+(s||"")+" is used but not imported.":o+".type should be specified.");return u},n.getClassesByMainType=function(o){var s=parseClassType(o),l=[],u=r[s.main];return u&&u[IS_CONTAINER]?each(u,function(f,d){d!==IS_CONTAINER&&l.push(f)}):l.push(u),l},n.hasClass=function(o){var s=parseClassType(o);return!!r[s.main]},n.getAllClassMainTypes=function(){var o=[];return each(r,function(s,l){o.push(l)}),o},n.hasSubTypes=function(o){var s=parseClassType(o),l=r[s.main];return l&&l[IS_CONTAINER]};function a(o){var s=r[o.main];return(!s||!s[IS_CONTAINER])&&(s=r[o.main]={},s[IS_CONTAINER]=!0),s}}function makeStyleMapper(n,r){for(var a=0;a<n.length;a++)n[a][1]||(n[a][1]=n[a][0]);return r=r||!1,function(o,s,l){for(var u={},f=0;f<n.length;f++){var d=n[f][1];if(!(s&&indexOf(s,d)>=0||l&&indexOf(l,d)<0)){var v=o.getShallow(d,r);v!=null&&(u[n[f][0]]=v)}}return u}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function n(){}return n.prototype.getAreaStyle=function(r,a){return getAreaStyle(this,r,a)},n}(),globalImageCache=new LRU_default(50);function findExistImage(n){if(typeof n=="string"){var r=globalImageCache.get(n);return r&&r.image}else return n}function createOrUpdateImage(n,r,a,o,s){if(n)if(typeof n=="string"){if(r&&r.__zrImageSrc===n||!a)return r;var l=globalImageCache.get(n),u={hostEl:a,cb:o,cbPayload:s};if(l)r=l.image,!isImageReady(r)&&l.pending.push(u);else{var f=platformApi.loadImage(n,imageOnLoad,imageOnLoad);f.__zrImageSrc=n,globalImageCache.put(n,f.__cachedImgObj={image:f,pending:[u]})}return r}else return n;else return r}function imageOnLoad(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var r=0;r<n.pending.length;r++){var a=n.pending[r],o=a.cb;o&&o(this,a.cbPayload),a.hostEl.dirty()}n.pending.length=0}function isImageReady(n){return n&&n.width&&n.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(n,r,a,o,s){if(!r)return"";var l=(n+"").split(`
`);s=prepareTruncateOptions(r,a,o,s);for(var u=0,f=l.length;u<f;u++)l[u]=truncateSingleLine(l[u],s);return l.join(`
`)}function prepareTruncateOptions(n,r,a,o){o=o||{};var s=extend3({},o);s.font=r,a=retrieve2(a,"..."),s.maxIterations=retrieve2(o.maxIterations,2);var l=s.minChar=retrieve2(o.minChar,0);s.cnCharWidth=getWidth("\u56FD",r);var u=s.ascCharWidth=getWidth("a",r);s.placeholder=retrieve2(o.placeholder,"");for(var f=n=Math.max(0,n-1),d=0;d<l&&f>=u;d++)f-=u;var v=getWidth(a,r);return v>f&&(a="",v=0),f=n-v,s.ellipsis=a,s.ellipsisWidth=v,s.contentWidth=f,s.containerWidth=n,s}function truncateSingleLine(n,r){var a=r.containerWidth,o=r.font,s=r.contentWidth;if(!a)return"";var l=getWidth(n,o);if(l<=a)return n;for(var u=0;;u++){if(l<=s||u>=r.maxIterations){n+=r.ellipsis;break}var f=u===0?estimateLength(n,s,r.ascCharWidth,r.cnCharWidth):l>0?Math.floor(n.length*s/l):0;n=n.substr(0,f),l=getWidth(n,o)}return n===""&&(n=r.placeholder),n}function estimateLength(n,r,a,o){for(var s=0,l=0,u=n.length;l<u&&s<r;l++){var f=n.charCodeAt(l);s+=0<=f&&f<=127?a:o}return l}function parsePlainText(n,r){n!=null&&(n+="");var a=r.overflow,o=r.padding,s=r.font,l=a==="truncate",u=getLineHeight(s),f=retrieve2(r.lineHeight,u),d=!!r.backgroundColor,v=r.lineOverflow==="truncate",g=r.width,y;g!=null&&(a==="break"||a==="breakAll")?y=n?wrapText(n,r.font,g,a==="breakAll",0).lines:[]:y=n?n.split(`
`):[];var b=y.length*f,_=retrieve2(r.height,b);if(b>_&&v){var x=Math.floor(_/f);y=y.slice(0,x)}if(n&&l&&g!=null)for(var C=prepareTruncateOptions(g,s,r.ellipsis,{minChar:r.truncateMinChar,placeholder:r.placeholder}),w=0;w<y.length;w++)y[w]=truncateSingleLine(y[w],C);for(var S=_,D=0,w=0;w<y.length;w++)D=Math.max(getWidth(y[w],s),D);g==null&&(g=D);var A=D;return o&&(S+=o[0]+o[2],A+=o[1]+o[3],g+=o[1]+o[3]),d&&(A=g),{lines:y,height:_,outerWidth:A,outerHeight:S,lineHeight:f,calculatedLineHeight:u,contentWidth:D,contentHeight:b,width:g}}var RichTextToken=function(){function n(){}return n}(),RichTextLine=function(){function n(r){this.tokens=[],r&&(this.tokens=r)}return n}(),RichTextContentBlock=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return n}();function parseRichText(n,r){var a=new RichTextContentBlock;if(n!=null&&(n+=""),!n)return a;for(var o=r.width,s=r.height,l=r.overflow,u=(l==="break"||l==="breakAll")&&o!=null?{width:o,accumWidth:0,breakAll:l==="breakAll"}:null,f=STYLE_REG.lastIndex=0,d;(d=STYLE_REG.exec(n))!=null;){var v=d.index;v>f&&pushTokens(a,n.substring(f,v),r,u),pushTokens(a,d[2],r,u,d[1]),f=STYLE_REG.lastIndex}f<n.length&&pushTokens(a,n.substring(f,n.length),r,u);var g=[],y=0,b=0,_=r.padding,x=l==="truncate",C=r.lineOverflow==="truncate";function w(V,G,Y){V.width=G,V.lineHeight=Y,y+=Y,b=Math.max(b,G)}e:for(var S=0;S<a.lines.length;S++){for(var D=a.lines[S],A=0,T=0,M=0;M<D.tokens.length;M++){var E=D.tokens[M],P=E.styleName&&r.rich[E.styleName]||{},I=E.textPadding=P.padding,F=I?I[1]+I[3]:0,L=E.font=P.font||r.font;E.contentHeight=getLineHeight(L);var O=retrieve2(P.height,E.contentHeight);if(E.innerHeight=O,I&&(O+=I[0]+I[2]),E.height=O,E.lineHeight=retrieve3(P.lineHeight,r.lineHeight,O),E.align=P&&P.align||r.align,E.verticalAlign=P&&P.verticalAlign||"middle",C&&s!=null&&y+E.lineHeight>s){M>0?(D.tokens=D.tokens.slice(0,M),w(D,T,A),a.lines=a.lines.slice(0,S+1)):a.lines=a.lines.slice(0,S);break e}var z=P.width,R=z==null||z==="auto";if(typeof z=="string"&&z.charAt(z.length-1)==="%")E.percentWidth=z,g.push(E),E.contentWidth=getWidth(E.text,L);else{if(R){var B=P.backgroundColor,N=B&&B.image;N&&(N=findExistImage(N),isImageReady(N)&&(E.width=Math.max(E.width,N.width*O/N.height)))}var H=x&&o!=null?o-T:null;H!=null&&H<E.width?!R||H<F?(E.text="",E.width=E.contentWidth=0):(E.text=truncateText(E.text,H-F,L,r.ellipsis,{minChar:r.truncateMinChar}),E.width=E.contentWidth=getWidth(E.text,L)):E.contentWidth=getWidth(E.text,L)}E.width+=F,T+=E.width,P&&(A=Math.max(A,E.lineHeight))}w(D,T,A)}a.outerWidth=a.width=retrieve2(o,b),a.outerHeight=a.height=retrieve2(s,y),a.contentHeight=y,a.contentWidth=b,_&&(a.outerWidth+=_[1]+_[3],a.outerHeight+=_[0]+_[2]);for(var S=0;S<g.length;S++){var E=g[S],W=E.percentWidth;E.width=parseInt(W,10)/100*a.width}return a}function pushTokens(n,r,a,o,s){var l=r==="",u=s&&a.rich[s]||{},f=n.lines,d=u.font||a.font,v=!1,g,y;if(o){var b=u.padding,_=b?b[1]+b[3]:0;if(u.width!=null&&u.width!=="auto"){var x=parsePercent(u.width,o.width)+_;f.length>0&&x+o.accumWidth>o.width&&(g=r.split(`
`),v=!0),o.accumWidth=x}else{var C=wrapText(r,d,o.width,o.breakAll,o.accumWidth);o.accumWidth=C.accumWidth+_,y=C.linesWidths,g=C.lines}}else g=r.split(`
`);for(var w=0;w<g.length;w++){var S=g[w],D=new RichTextToken;if(D.styleName=s,D.text=S,D.isLineHolder=!S&&!l,typeof u.width=="number"?D.width=u.width:D.width=y?y[w]:getWidth(S,d),!w&&!v){var A=(f[f.length-1]||(f[0]=new RichTextLine)).tokens,T=A.length;T===1&&A[0].isLineHolder?A[0]=D:(S||!T||l)&&A.push(D)}else f.push(new RichTextLine([D]))}}function isLatin(n){var r=n.charCodeAt(0);return r>=33&&r<=383}var breakCharMap=reduce(",&?/;] ".split(""),function(n,r){return n[r]=!0,n},{});function isWordBreakChar(n){return isLatin(n)?!!breakCharMap[n]:!0}function wrapText(n,r,a,o,s){for(var l=[],u=[],f="",d="",v=0,g=0,y=0;y<n.length;y++){var b=n.charAt(y);if(b===`
`){d&&(f+=d,g+=v),l.push(f),u.push(g),f="",d="",v=0,g=0;continue}var _=getWidth(b,r),x=o?!1:!isWordBreakChar(b);if(l.length?g+_>a:s+g+_>a){g?(f||d)&&(x?(f||(f=d,d="",v=0,g=v),l.push(f),u.push(g-v),d+=b,v+=_,f="",g=v):(d&&(f+=d,d="",v=0),l.push(f),u.push(g),f=b,g=_)):x?(l.push(d),u.push(v),d=b,v=_):(l.push(b),u.push(_));continue}g+=_,x?(d+=b,v+=_):(d&&(f+=d,d="",v=0),f+=b)}return!l.length&&!f&&(f=n,d="",v=0),d&&(f+=d),f&&(l.push(f),u.push(g)),l.length===1&&(g+=s),{accumWidth:g,lines:l,linesWidths:u}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS2=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype._init=function(a){for(var o=keys3(a),s=0;s<o.length;s++){var l=o[s];l==="style"?this.useStyle(a[l]):n.prototype.attrKV.call(this,l,a[l])}this.style||this.useStyle({})},r.prototype.beforeBrush=function(){},r.prototype.afterBrush=function(){},r.prototype.innerBeforeBrush=function(){},r.prototype.innerAfterBrush=function(){},r.prototype.shouldBePainted=function(a,o,s,l){var u=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,a,o)||u&&!u[0]&&!u[3])return!1;if(s&&this.__clipPaths){for(var f=0;f<this.__clipPaths.length;++f)if(this.__clipPaths[f].isZeroArea())return!1}if(l&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},r.prototype.contain=function(a,o){return this.rectContain(a,o)},r.prototype.traverse=function(a,o){a.call(o,this)},r.prototype.rectContain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();return l.contain(s[0],s[1])},r.prototype.getPaintRect=function(){var a=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,s=this.getBoundingRect(),l=this.style,u=l.shadowBlur||0,f=l.shadowOffsetX||0,d=l.shadowOffsetY||0;a=this._paintRect||(this._paintRect=new BoundingRect_default(0,0,0,0)),o?BoundingRect_default.applyTransform(a,s,o):a.copy(s),(u||f||d)&&(a.width+=u*2+Math.abs(f),a.height+=u*2+Math.abs(d),a.x=Math.min(a.x,a.x+f-u),a.y=Math.min(a.y,a.y+d-u));var v=this.dirtyRectTolerance;a.isZero()||(a.x=Math.floor(a.x-v),a.y=Math.floor(a.y-v),a.width=Math.ceil(a.width+1+v*2),a.height=Math.ceil(a.height+1+v*2))}return a},r.prototype.setPrevPaintRect=function(a){a?(this._prevPaintRect=this._prevPaintRect||new BoundingRect_default(0,0,0,0),this._prevPaintRect.copy(a)):this._prevPaintRect=null},r.prototype.getPrevPaintRect=function(){return this._prevPaintRect},r.prototype.animateStyle=function(a){return this.animate("style",a)},r.prototype.updateDuringAnimation=function(a){a==="style"?this.dirtyStyle():this.markRedraw()},r.prototype.attrKV=function(a,o){a!=="style"?n.prototype.attrKV.call(this,a,o):this.style?this.setStyle(o):this.useStyle(o)},r.prototype.setStyle=function(a,o){return typeof a=="string"?this.style[a]=o:extend3(this.style,a),this.dirtyStyle(),this},r.prototype.dirtyStyle=function(a){a||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},r.prototype.dirty=function(){this.dirtyStyle()},r.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},r.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},r.prototype.createStyle=function(a){return createObject(DEFAULT_COMMON_STYLE,a)},r.prototype.useStyle=function(a){a[STYLE_MAGIC_KEY]||(a=this.createStyle(a)),this.__inHover?this.__hoverStyle=a:this.style=a,this.dirtyStyle()},r.prototype.isStyleObject=function(a){return a[STYLE_MAGIC_KEY]},r.prototype._innerSaveToNormal=function(a){n.prototype._innerSaveToNormal.call(this,a);var o=this._normalState;a.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(a,o,PRIMARY_STATES_KEYS2)},r.prototype._applyStateObj=function(a,o,s,l,u,f){n.prototype._applyStateObj.call(this,a,o,s,l,u,f);var d=!(o&&l),v;if(o&&o.style?u?l?v=o.style:(v=this._mergeStyle(this.createStyle(),s.style),this._mergeStyle(v,o.style)):(v=this._mergeStyle(this.createStyle(),l?this.style:s.style),this._mergeStyle(v,o.style)):d&&(v=s.style),v)if(u){var g=this.style;if(this.style=this.createStyle(d?{}:g),d)for(var y=keys3(g),b=0;b<y.length;b++){var _=y[b];_ in v&&(v[_]=v[_],this.style[_]=g[_])}for(var x=keys3(v),b=0;b<x.length;b++){var _=x[b];this.style[_]=this.style[_]}this._transitionState(a,{style:v},f,this.getAnimationStyleProps())}else this.useStyle(v);for(var C=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS2,b=0;b<C.length;b++){var _=C[b];o&&o[_]!=null?this[_]=o[_]:d&&s[_]!=null&&(this[_]=s[_])}},r.prototype._mergeStates=function(a){for(var o=n.prototype._mergeStates.call(this,a),s,l=0;l<a.length;l++){var u=a[l];u.style&&(s=s||{},this._mergeStyle(s,u.style))}return s&&(o.style=s),o},r.prototype._mergeStyle=function(a,o){return extend3(a,o),a},r.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},r.initDefaultProps=function(){var a=r.prototype;a.type="displayable",a.invisible=!1,a.z=0,a.z2=0,a.zlevel=0,a.culling=!1,a.cursor="pointer",a.rectHover=!1,a.incremental=!1,a._rect=null,a.dirtyRectTolerance=0,a.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),r}(Element_default),tmpRect=new BoundingRect_default(0,0,0,0),viewRect=new BoundingRect_default(0,0,0,0);function isDisplayableCulled(n,r,a){return tmpRect.copy(n.getBoundingRect()),n.transform&&tmpRect.applyTransform(n.transform),viewRect.width=r,viewRect.height=a,!tmpRect.intersect(viewRect)}var Displayable_default=Displayable,mathMin2=Math.min,mathMax2=Math.max,mathSin=Math.sin,mathCos=Math.cos,PI2=Math.PI*2,start=create(),end=create(),extremity=create();function fromPoints(n,r,a){if(n.length!==0){for(var o=n[0],s=o[0],l=o[0],u=o[1],f=o[1],d=1;d<n.length;d++)o=n[d],s=mathMin2(s,o[0]),l=mathMax2(l,o[0]),u=mathMin2(u,o[1]),f=mathMax2(f,o[1]);r[0]=s,r[1]=u,a[0]=l,a[1]=f}}function fromLine(n,r,a,o,s,l){s[0]=mathMin2(n,a),s[1]=mathMin2(r,o),l[0]=mathMax2(n,a),l[1]=mathMax2(r,o)}var xDim=[],yDim=[];function fromCubic(n,r,a,o,s,l,u,f,d,v){var g=cubicExtrema,y=cubicAt,b=g(n,a,s,u,xDim);d[0]=1/0,d[1]=1/0,v[0]=-1/0,v[1]=-1/0;for(var _=0;_<b;_++){var x=y(n,a,s,u,xDim[_]);d[0]=mathMin2(x,d[0]),v[0]=mathMax2(x,v[0])}b=g(r,o,l,f,yDim);for(var _=0;_<b;_++){var C=y(r,o,l,f,yDim[_]);d[1]=mathMin2(C,d[1]),v[1]=mathMax2(C,v[1])}d[0]=mathMin2(n,d[0]),v[0]=mathMax2(n,v[0]),d[0]=mathMin2(u,d[0]),v[0]=mathMax2(u,v[0]),d[1]=mathMin2(r,d[1]),v[1]=mathMax2(r,v[1]),d[1]=mathMin2(f,d[1]),v[1]=mathMax2(f,v[1])}function fromQuadratic(n,r,a,o,s,l,u,f){var d=quadraticExtremum,v=quadraticAt,g=mathMax2(mathMin2(d(n,a,s),1),0),y=mathMax2(mathMin2(d(r,o,l),1),0),b=v(n,a,s,g),_=v(r,o,l,y);u[0]=mathMin2(n,s,b),u[1]=mathMin2(r,l,_),f[0]=mathMax2(n,s,b),f[1]=mathMax2(r,l,_)}function fromArc(n,r,a,o,s,l,u,f,d){var v=min,g=max,y=Math.abs(s-l);if(y%PI2<1e-4&&y>1e-4){f[0]=n-a,f[1]=r-o,d[0]=n+a,d[1]=r+o;return}if(start[0]=mathCos(s)*a+n,start[1]=mathSin(s)*o+r,end[0]=mathCos(l)*a+n,end[1]=mathSin(l)*o+r,v(f,start,end),g(d,start,end),s=s%PI2,s<0&&(s=s+PI2),l=l%PI2,l<0&&(l=l+PI2),s>l&&!u?l+=PI2:s<l&&u&&(s+=PI2),u){var b=l;l=s,s=b}for(var _=0;_<l;_+=Math.PI/2)_>s&&(extremity[0]=mathCos(_)*a+n,extremity[1]=mathSin(_)*o+r,v(f,extremity,f),g(d,extremity,d))}var CMD={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min2=[],max2=[],min22=[],max22=[],mathMin3=Math.min,mathMax3=Math.max,mathCos2=Math.cos,mathSin2=Math.sin,mathAbs=Math.abs,PI=Math.PI,PI22=PI*2,hasTypedArray=typeof Float32Array!="undefined",tmpAngles=[];function modPI2(n){var r=Math.round(n/PI*1e8)/1e8;return r%2*PI}function normalizeArcAngles(n,r){var a=modPI2(n[0]);a<0&&(a+=PI22);var o=a-n[0],s=n[1];s+=o,!r&&s-a>=PI22?s=a+PI22:r&&a-s>=PI22?s=a-PI22:!r&&a>s?s=a+(PI22-modPI2(a-s)):r&&a<s&&(s=a-(PI22-modPI2(s-a))),n[0]=a,n[1]=s}var PathProxy=function(){function n(r){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,r&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(r,a,o){o=o||0,o>0&&(this._ux=mathAbs(o/devicePixelRatio2/r)||0,this._uy=mathAbs(o/devicePixelRatio2/a)||0)},n.prototype.setDPR=function(r){this.dpr=r},n.prototype.setContext=function(r){this._ctx=r},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(r,a){return this._drawPendingPt(),this.addData(CMD.M,r,a),this._ctx&&this._ctx.moveTo(r,a),this._x0=r,this._y0=a,this._xi=r,this._yi=a,this},n.prototype.lineTo=function(r,a){var o=mathAbs(r-this._xi),s=mathAbs(a-this._yi),l=o>this._ux||s>this._uy;if(this.addData(CMD.L,r,a),this._ctx&&l&&this._ctx.lineTo(r,a),l)this._xi=r,this._yi=a,this._pendingPtDist=0;else{var u=o*o+s*s;u>this._pendingPtDist&&(this._pendingPtX=r,this._pendingPtY=a,this._pendingPtDist=u)}return this},n.prototype.bezierCurveTo=function(r,a,o,s,l,u){return this._drawPendingPt(),this.addData(CMD.C,r,a,o,s,l,u),this._ctx&&this._ctx.bezierCurveTo(r,a,o,s,l,u),this._xi=l,this._yi=u,this},n.prototype.quadraticCurveTo=function(r,a,o,s){return this._drawPendingPt(),this.addData(CMD.Q,r,a,o,s),this._ctx&&this._ctx.quadraticCurveTo(r,a,o,s),this._xi=o,this._yi=s,this},n.prototype.arc=function(r,a,o,s,l,u){this._drawPendingPt(),tmpAngles[0]=s,tmpAngles[1]=l,normalizeArcAngles(tmpAngles,u),s=tmpAngles[0],l=tmpAngles[1];var f=l-s;return this.addData(CMD.A,r,a,o,o,s,f,0,u?0:1),this._ctx&&this._ctx.arc(r,a,o,s,l,u),this._xi=mathCos2(l)*o+r,this._yi=mathSin2(l)*o+a,this},n.prototype.arcTo=function(r,a,o,s,l){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(r,a,o,s,l),this},n.prototype.rect=function(r,a,o,s){return this._drawPendingPt(),this._ctx&&this._ctx.rect(r,a,o,s),this.addData(CMD.R,r,a,o,s),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD.Z);var r=this._ctx,a=this._x0,o=this._y0;return r&&r.closePath(),this._xi=a,this._yi=o,this},n.prototype.fill=function(r){r&&r.fill(),this.toStatic()},n.prototype.stroke=function(r){r&&r.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(r){var a=r.length;!(this.data&&this.data.length===a)&&hasTypedArray&&(this.data=new Float32Array(a));for(var o=0;o<a;o++)this.data[o]=r[o];this._len=a},n.prototype.appendPath=function(r){r instanceof Array||(r=[r]);for(var a=r.length,o=0,s=this._len,l=0;l<a;l++)o+=r[l].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(s+o));for(var l=0;l<a;l++)for(var u=r[l].data,f=0;f<u.length;f++)this.data[s++]=u[f];this._len=s},n.prototype.addData=function(r,a,o,s,l,u,f,d,v){if(!!this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var y=0;y<arguments.length;y++)g[this._len++]=arguments[y]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var r=[],a=0;a<this._len;a++)r[a]=this.data[a];this.data=r}},n.prototype.toStatic=function(){if(!!this._saveData){this._drawPendingPt();var r=this.data;r instanceof Array&&(r.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(r)))}},n.prototype.getBoundingRect=function(){min2[0]=min2[1]=min22[0]=min22[1]=Number.MAX_VALUE,max2[0]=max2[1]=max22[0]=max22[1]=-Number.MAX_VALUE;var r=this.data,a=0,o=0,s=0,l=0,u;for(u=0;u<this._len;){var f=r[u++],d=u===1;switch(d&&(a=r[u],o=r[u+1],s=a,l=o),f){case CMD.M:a=s=r[u++],o=l=r[u++],min22[0]=s,min22[1]=l,max22[0]=s,max22[1]=l;break;case CMD.L:fromLine(a,o,r[u],r[u+1],min22,max22),a=r[u++],o=r[u++];break;case CMD.C:fromCubic(a,o,r[u++],r[u++],r[u++],r[u++],r[u],r[u+1],min22,max22),a=r[u++],o=r[u++];break;case CMD.Q:fromQuadratic(a,o,r[u++],r[u++],r[u],r[u+1],min22,max22),a=r[u++],o=r[u++];break;case CMD.A:var v=r[u++],g=r[u++],y=r[u++],b=r[u++],_=r[u++],x=r[u++]+_;u+=1;var C=!r[u++];d&&(s=mathCos2(_)*y+v,l=mathSin2(_)*b+g),fromArc(v,g,y,b,_,x,C,min22,max22),a=mathCos2(x)*y+v,o=mathSin2(x)*b+g;break;case CMD.R:s=a=r[u++],l=o=r[u++];var w=r[u++],S=r[u++];fromLine(s,l,s+w,l+S,min22,max22);break;case CMD.Z:a=s,o=l;break}min(min2,min2,min22),max(max2,max2,max22)}return u===0&&(min2[0]=min2[1]=max2[0]=max2[1]=0),new BoundingRect_default(min2[0],min2[1],max2[0]-min2[0],max2[1]-min2[1])},n.prototype._calculateLength=function(){var r=this.data,a=this._len,o=this._ux,s=this._uy,l=0,u=0,f=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(var v=this._pathSegLen,g=0,y=0,b=0;b<a;){var _=r[b++],x=b===1;x&&(l=r[b],u=r[b+1],f=l,d=u);var C=-1;switch(_){case CMD.M:l=f=r[b++],u=d=r[b++];break;case CMD.L:{var w=r[b++],S=r[b++],D=w-l,A=S-u;(mathAbs(D)>o||mathAbs(A)>s||b===a-1)&&(C=Math.sqrt(D*D+A*A),l=w,u=S);break}case CMD.C:{var T=r[b++],M=r[b++],w=r[b++],S=r[b++],E=r[b++],P=r[b++];C=cubicLength(l,u,T,M,w,S,E,P,10),l=E,u=P;break}case CMD.Q:{var T=r[b++],M=r[b++],w=r[b++],S=r[b++];C=quadraticLength(l,u,T,M,w,S,10),l=w,u=S;break}case CMD.A:var I=r[b++],F=r[b++],L=r[b++],O=r[b++],z=r[b++],R=r[b++],B=R+z;b+=1;var N=!r[b++];x&&(f=mathCos2(z)*L+I,d=mathSin2(z)*O+F),C=mathMax3(L,O)*mathMin3(PI22,Math.abs(R)),l=mathCos2(B)*L+I,u=mathSin2(B)*O+F;break;case CMD.R:{f=l=r[b++],d=u=r[b++];var H=r[b++],W=r[b++];C=H*2+W*2;break}case CMD.Z:{var D=f-l,A=d-u;C=Math.sqrt(D*D+A*A),l=f,u=d;break}}C>=0&&(v[y++]=C,g+=C)}return this._pathLen=g,g},n.prototype.rebuildPath=function(r,a){var o=this.data,s=this._ux,l=this._uy,u=this._len,f,d,v,g,y,b,_=a<1,x,C,w=0,S=0,D,A=0,T,M;if(_&&(this._pathSegLen||this._calculateLength(),x=this._pathSegLen,C=this._pathLen,D=a*C,!D))return;e:for(var E=0;E<u;){var P=o[E++],I=E===1;switch(I&&(v=o[E],g=o[E+1],f=v,d=g),P!==CMD.L&&A>0&&(r.lineTo(T,M),A=0),P){case CMD.M:f=v=o[E++],d=g=o[E++],r.moveTo(v,g);break;case CMD.L:{y=o[E++],b=o[E++];var F=mathAbs(y-v),L=mathAbs(b-g);if(F>s||L>l){if(_){var O=x[S++];if(w+O>D){var z=(D-w)/O;r.lineTo(v*(1-z)+y*z,g*(1-z)+b*z);break e}w+=O}r.lineTo(y,b),v=y,g=b,A=0}else{var R=F*F+L*L;R>A&&(T=y,M=b,A=R)}break}case CMD.C:{var B=o[E++],N=o[E++],H=o[E++],W=o[E++],V=o[E++],G=o[E++];if(_){var O=x[S++];if(w+O>D){var z=(D-w)/O;cubicSubdivide(v,B,H,V,z,tmpOutX),cubicSubdivide(g,N,W,G,z,tmpOutY),r.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}w+=O}r.bezierCurveTo(B,N,H,W,V,G),v=V,g=G;break}case CMD.Q:{var B=o[E++],N=o[E++],H=o[E++],W=o[E++];if(_){var O=x[S++];if(w+O>D){var z=(D-w)/O;quadraticSubdivide(v,B,H,z,tmpOutX),quadraticSubdivide(g,N,W,z,tmpOutY),r.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}w+=O}r.quadraticCurveTo(B,N,H,W),v=H,g=W;break}case CMD.A:var Y=o[E++],Q=o[E++],q=o[E++],ne=o[E++],ve=o[E++],fe=o[E++],he=o[E++],pe=!o[E++],de=q>ne?q:ne,ue=mathAbs(q-ne)>.001,be=ve+fe,se=!1;if(_){var O=x[S++];w+O>D&&(be=ve+fe*(D-w)/O,se=!0),w+=O}if(ue&&r.ellipse?r.ellipse(Y,Q,q,ne,he,ve,be,pe):r.arc(Y,Q,de,ve,be,pe),se)break e;I&&(f=mathCos2(ve)*q+Y,d=mathSin2(ve)*ne+Q),v=mathCos2(be)*q+Y,g=mathSin2(be)*ne+Q;break;case CMD.R:f=v=o[E],d=g=o[E+1],y=o[E++],b=o[E++];var _e=o[E++],Me=o[E++];if(_){var O=x[S++];if(w+O>D){var $=D-w;r.moveTo(y,b),r.lineTo(y+mathMin3($,_e),b),$-=_e,$>0&&r.lineTo(y+_e,b+mathMin3($,Me)),$-=Me,$>0&&r.lineTo(y+mathMax3(_e-$,0),b+Me),$-=_e,$>0&&r.lineTo(y,b+mathMax3(Me-$,0));break e}w+=O}r.rect(y,b,_e,Me);break;case CMD.Z:if(_){var O=x[S++];if(w+O>D){var z=(D-w)/O;r.lineTo(v*(1-z)+f*z,g*(1-z)+d*z);break e}w+=O}r.closePath(),v=f,g=d}}},n.prototype.clone=function(){var r=new n,a=this.data;return r.data=a.slice?a.slice():Array.prototype.slice.call(a),r._len=this._len,r},n.CMD=CMD,n.initDefaultProps=function(){var r=n.prototype;r._saveData=!0,r._ux=0,r._uy=0,r._pendingPtDist=0,r._version=0}(),n}(),PathProxy_default=PathProxy;function containStroke(n,r,a,o,s,l,u){if(s===0)return!1;var f=s,d=0,v=n;if(u>r+f&&u>o+f||u<r-f&&u<o-f||l>n+f&&l>a+f||l<n-f&&l<a-f)return!1;if(n!==a)d=(r-o)/(n-a),v=(n*o-a*r)/(n-a);else return Math.abs(l-n)<=f/2;var g=d*l-u+v,y=g*g/(d*d+1);return y<=f/2*f/2}function containStroke2(n,r,a,o,s,l,u,f,d,v,g){if(d===0)return!1;var y=d;if(g>r+y&&g>o+y&&g>l+y&&g>f+y||g<r-y&&g<o-y&&g<l-y&&g<f-y||v>n+y&&v>a+y&&v>s+y&&v>u+y||v<n-y&&v<a-y&&v<s-y&&v<u-y)return!1;var b=cubicProjectPoint(n,r,a,o,s,l,u,f,v,g,null);return b<=y/2}function containStroke3(n,r,a,o,s,l,u,f,d){if(u===0)return!1;var v=u;if(d>r+v&&d>o+v&&d>l+v||d<r-v&&d<o-v&&d<l-v||f>n+v&&f>a+v&&f>s+v||f<n-v&&f<a-v&&f<s-v)return!1;var g=quadraticProjectPoint(n,r,a,o,s,l,f,d,null);return g<=v/2}var PI23=Math.PI*2;function normalizeRadian(n){return n%=PI23,n<0&&(n+=PI23),n}var PI24=Math.PI*2;function containStroke4(n,r,a,o,s,l,u,f,d){if(u===0)return!1;var v=u;f-=n,d-=r;var g=Math.sqrt(f*f+d*d);if(g-v>a||g+v<a)return!1;if(Math.abs(o-s)%PI24<1e-4)return!0;if(l){var y=o;o=normalizeRadian(s),s=normalizeRadian(y)}else o=normalizeRadian(o),s=normalizeRadian(s);o>s&&(s+=PI24);var b=Math.atan2(d,f);return b<0&&(b+=PI24),b>=o&&b<=s||b+PI24>=o&&b+PI24<=s}function windingLine(n,r,a,o,s,l){if(l>r&&l>o||l<r&&l<o||o===r)return 0;var u=(l-r)/(o-r),f=o<r?1:-1;(u===1||u===0)&&(f=o<r?.5:-.5);var d=u*(a-n)+n;return d===s?1/0:d>s?f:0}var CMD2=PathProxy_default.CMD,PI25=Math.PI*2,EPSILON3=1e-4;function isAroundEqual(n,r){return Math.abs(n-r)<EPSILON3}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var n=extrema[0];extrema[0]=extrema[1],extrema[1]=n}function windingCubic(n,r,a,o,s,l,u,f,d,v){if(v>r&&v>o&&v>l&&v>f||v<r&&v<o&&v<l&&v<f)return 0;var g=cubicRootAt(r,o,l,f,v,roots);if(g===0)return 0;for(var y=0,b=-1,_=void 0,x=void 0,C=0;C<g;C++){var w=roots[C],S=w===0||w===1?.5:1,D=cubicAt(n,a,s,u,w);D<d||(b<0&&(b=cubicExtrema(r,o,l,f,extrema),extrema[1]<extrema[0]&&b>1&&swapExtrema(),_=cubicAt(r,o,l,f,extrema[0]),b>1&&(x=cubicAt(r,o,l,f,extrema[1]))),b===2?w<extrema[0]?y+=_<r?S:-S:w<extrema[1]?y+=x<_?S:-S:y+=f<x?S:-S:w<extrema[0]?y+=_<r?S:-S:y+=f<_?S:-S)}return y}function windingQuadratic(n,r,a,o,s,l,u,f){if(f>r&&f>o&&f>l||f<r&&f<o&&f<l)return 0;var d=quadraticRootAt(r,o,l,f,roots);if(d===0)return 0;var v=quadraticExtremum(r,o,l);if(v>=0&&v<=1){for(var g=0,y=quadraticAt(r,o,l,v),b=0;b<d;b++){var _=roots[b]===0||roots[b]===1?.5:1,x=quadraticAt(n,a,s,roots[b]);x<u||(roots[b]<v?g+=y<r?_:-_:g+=l<y?_:-_)}return g}else{var _=roots[0]===0||roots[0]===1?.5:1,x=quadraticAt(n,a,s,roots[0]);return x<u?0:l<r?_:-_}}function windingArc(n,r,a,o,s,l,u,f){if(f-=r,f>a||f<-a)return 0;var d=Math.sqrt(a*a-f*f);roots[0]=-d,roots[1]=d;var v=Math.abs(o-s);if(v<1e-4)return 0;if(v>=PI25-1e-4){o=0,s=PI25;var g=l?1:-1;return u>=roots[0]+n&&u<=roots[1]+n?g:0}if(o>s){var y=o;o=s,s=y}o<0&&(o+=PI25,s+=PI25);for(var b=0,_=0;_<2;_++){var x=roots[_];if(x+n>u){var C=Math.atan2(f,x),g=l?1:-1;C<0&&(C=PI25+C),(C>=o&&C<=s||C+PI25>=o&&C+PI25<=s)&&(C>Math.PI/2&&C<Math.PI*1.5&&(g=-g),b+=g)}}return b}function containPath(n,r,a,o,s){for(var l=n.data,u=n.len(),f=0,d=0,v=0,g=0,y=0,b,_,x=0;x<u;){var C=l[x++],w=x===1;switch(C===CMD2.M&&x>1&&(a||(f+=windingLine(d,v,g,y,o,s))),w&&(d=l[x],v=l[x+1],g=d,y=v),C){case CMD2.M:g=l[x++],y=l[x++],d=g,v=y;break;case CMD2.L:if(a){if(containStroke(d,v,l[x],l[x+1],r,o,s))return!0}else f+=windingLine(d,v,l[x],l[x+1],o,s)||0;d=l[x++],v=l[x++];break;case CMD2.C:if(a){if(containStroke2(d,v,l[x++],l[x++],l[x++],l[x++],l[x],l[x+1],r,o,s))return!0}else f+=windingCubic(d,v,l[x++],l[x++],l[x++],l[x++],l[x],l[x+1],o,s)||0;d=l[x++],v=l[x++];break;case CMD2.Q:if(a){if(containStroke3(d,v,l[x++],l[x++],l[x],l[x+1],r,o,s))return!0}else f+=windingQuadratic(d,v,l[x++],l[x++],l[x],l[x+1],o,s)||0;d=l[x++],v=l[x++];break;case CMD2.A:var S=l[x++],D=l[x++],A=l[x++],T=l[x++],M=l[x++],E=l[x++];x+=1;var P=!!(1-l[x++]);b=Math.cos(M)*A+S,_=Math.sin(M)*T+D,w?(g=b,y=_):f+=windingLine(d,v,b,_,o,s);var I=(o-S)*T/A+S;if(a){if(containStroke4(S,D,T,M,M+E,P,r,I,s))return!0}else f+=windingArc(S,D,T,M,M+E,P,I,s);d=Math.cos(M+E)*A+S,v=Math.sin(M+E)*T+D;break;case CMD2.R:g=d=l[x++],y=v=l[x++];var F=l[x++],L=l[x++];if(b=g+F,_=y+L,a){if(containStroke(g,y,b,y,r,o,s)||containStroke(b,y,b,_,r,o,s)||containStroke(b,_,g,_,r,o,s)||containStroke(g,_,g,y,r,o,s))return!0}else f+=windingLine(b,y,b,_,o,s),f+=windingLine(g,_,g,y,o,s);break;case CMD2.Z:if(a){if(containStroke(d,v,g,y,r,o,s))return!0}else f+=windingLine(d,v,g,y,o,s);d=g,v=y;break}}return!a&&!isAroundEqual(v,y)&&(f+=windingLine(d,v,g,y,o,s)||0),f!==0}function contain(n,r,a){return containPath(n,0,!1,r,a)}function containStroke5(n,r,a,o){return containPath(n,r,!0,a,o)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.update=function(){var a=this;n.prototype.update.call(this);var o=this.style;if(o.decal){var s=this._decalEl=this._decalEl||new r;s.buildPath===r.prototype.buildPath&&(s.buildPath=function(d){a.buildPath(d,a.shape)}),s.silent=!0;var l=s.style;for(var u in o)l[u]!==o[u]&&(l[u]=o[u]);l.fill=o.fill?o.decal:null,l.decal=null,l.shadowColor=null,o.strokeFirst&&(l.stroke=null);for(var f=0;f<pathCopyParams.length;++f)s[pathCopyParams[f]]=this[pathCopyParams[f]];s.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},r.prototype.getDecalElement=function(){return this._decalEl},r.prototype._init=function(a){var o=keys3(a);this.shape=this.getDefaultShape();var s=this.getDefaultStyle();s&&this.useStyle(s);for(var l=0;l<o.length;l++){var u=o[l],f=a[u];u==="style"?this.style?extend3(this.style,f):this.useStyle(f):u==="shape"?extend3(this.shape,f):n.prototype.attrKV.call(this,u,f)}this.style||this.useStyle({})},r.prototype.getDefaultStyle=function(){return null},r.prototype.getDefaultShape=function(){return{}},r.prototype.canBeInsideText=function(){return this.hasFill()},r.prototype.getInsideTextFill=function(){var a=this.style.fill;if(a!=="none"){if(isString2(a)){var o=lum(a,0);return o>.5?DARK_LABEL_COLOR:o>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(a)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},r.prototype.getInsideTextStroke=function(a){var o=this.style.fill;if(isString2(o)){var s=this.__zr,l=!!(s&&s.isDarkMode()),u=lum(a,0)<DARK_MODE_THRESHOLD;if(l===u)return o}},r.prototype.buildPath=function(a,o,s){},r.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},r.prototype.getUpdatedPathProxy=function(a){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,a),this.path},r.prototype.createPathProxy=function(){this.path=new PathProxy_default(!1)},r.prototype.hasStroke=function(){var a=this.style,o=a.stroke;return!(o==null||o==="none"||!(a.lineWidth>0))},r.prototype.hasFill=function(){var a=this.style,o=a.fill;return o!=null&&o!=="none"},r.prototype.getBoundingRect=function(){var a=this._rect,o=this.style,s=!a;if(s){var l=!1;this.path||(l=!0,this.createPathProxy());var u=this.path;(l||this.__dirty&SHAPE_CHANGED_BIT)&&(u.beginPath(),this.buildPath(u,this.shape,!1),this.pathUpdated()),a=u.getBoundingRect()}if(this._rect=a,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=a.clone());if(this.__dirty||s){f.copy(a);var d=o.strokeNoScale?this.getLineScale():1,v=o.lineWidth;if(!this.hasFill()){var g=this.strokeContainThreshold;v=Math.max(v,g==null?4:g)}d>1e-10&&(f.width+=v/d,f.height+=v/d,f.x-=v/d/2,f.y-=v/d/2)}return f}return a},r.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect(),u=this.style;if(a=s[0],o=s[1],l.contain(a,o)){var f=this.path;if(this.hasStroke()){var d=u.lineWidth,v=u.strokeNoScale?this.getLineScale():1;if(v>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),containStroke5(f,d/v,a,o)))return!0}if(this.hasFill())return contain(f,a,o)}return!1},r.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},r.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},r.prototype.animateShape=function(a){return this.animate("shape",a)},r.prototype.updateDuringAnimation=function(a){a==="style"?this.dirtyStyle():a==="shape"?this.dirtyShape():this.markRedraw()},r.prototype.attrKV=function(a,o){a==="shape"?this.setShape(o):n.prototype.attrKV.call(this,a,o)},r.prototype.setShape=function(a,o){var s=this.shape;return s||(s=this.shape={}),typeof a=="string"?s[a]=o:extend3(s,a),this.dirtyShape(),this},r.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},r.prototype.createStyle=function(a){return createObject(DEFAULT_PATH_STYLE,a)},r.prototype._innerSaveToNormal=function(a){n.prototype._innerSaveToNormal.call(this,a);var o=this._normalState;a.shape&&!o.shape&&(o.shape=extend3({},this.shape))},r.prototype._applyStateObj=function(a,o,s,l,u,f){n.prototype._applyStateObj.call(this,a,o,s,l,u,f);var d=!(o&&l),v;if(o&&o.shape?u?l?v=o.shape:(v=extend3({},s.shape),extend3(v,o.shape)):(v=extend3({},l?this.shape:s.shape),extend3(v,o.shape)):d&&(v=s.shape),v)if(u){this.shape=extend3({},this.shape);for(var g={},y=keys3(v),b=0;b<y.length;b++){var _=y[b];typeof v[_]=="object"?this.shape[_]=v[_]:g[_]=v[_]}this._transitionState(a,{shape:g},f)}else this.shape=v,this.dirtyShape()},r.prototype._mergeStates=function(a){for(var o=n.prototype._mergeStates.call(this,a),s,l=0;l<a.length;l++){var u=a[l];u.shape&&(s=s||{},this._mergeStyle(s,u.shape))}return s&&(o.shape=s),o},r.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},r.prototype.isZeroArea=function(){return!1},r.extend=function(a){var o=function(l){__extends2(u,l);function u(f){var d=l.call(this,f)||this;return a.init&&a.init.call(d,f),d}return u.prototype.getDefaultStyle=function(){return clone(a.style)},u.prototype.getDefaultShape=function(){return clone(a.shape)},u}(r);for(var s in a)typeof a[s]=="function"&&(o.prototype[s]=a[s]);return o},r.initDefaultProps=function(){var a=r.prototype;a.type="path",a.strokeContainThreshold=5,a.segmentIgnoreThreshold=0,a.subPixelOptimize=!1,a.autoBatch=!1,a.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),r}(Displayable_default),Path_default=Path,DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(n){__extends2(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.hasStroke=function(){var a=this.style,o=a.stroke;return o!=null&&o!=="none"&&a.lineWidth>0},r.prototype.hasFill=function(){var a=this.style,o=a.fill;return o!=null&&o!=="none"},r.prototype.createStyle=function(a){return createObject(DEFAULT_TSPAN_STYLE,a)},r.prototype.setBoundingRect=function(a){this._rect=a},r.prototype.getBoundingRect=function(){var a=this.style;if(!this._rect){var o=a.text;o!=null?o+="":o="";var s=getBoundingRect(o,a.font,a.textAlign,a.textBaseline);if(s.x+=a.x||0,s.y+=a.y||0,this.hasStroke()){var l=a.lineWidth;s.x-=l/2,s.y-=l/2,s.width+=l,s.height+=l}this._rect=s}return this._rect},r.initDefaultProps=function(){var a=r.prototype;a.dirtyRectTolerance=10}(),r}(Displayable_default);TSpan.prototype.type="tspan";var TSpan_default=TSpan,DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var ZRImage=function(n){__extends2(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.createStyle=function(a){return createObject(DEFAULT_IMAGE_STYLE,a)},r.prototype._getSize=function(a){var o=this.style,s=o[a];if(s!=null)return s;var l=isImageLike(o.image)?o.image:this.__image;if(!l)return 0;var u=a==="width"?"height":"width",f=o[u];return f==null?l[a]:l[a]/l[u]*f},r.prototype.getWidth=function(){return this._getSize("width")},r.prototype.getHeight=function(){return this._getSize("height")},r.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},r.prototype.getBoundingRect=function(){var a=this.style;return this._rect||(this._rect=new BoundingRect_default(a.x||0,a.y||0,this.getWidth(),this.getHeight())),this._rect},r}(Displayable_default);ZRImage.prototype.type="image";var Image_default=ZRImage;function buildPath(n,r){var a=r.x,o=r.y,s=r.width,l=r.height,u=r.r,f,d,v,g;s<0&&(a=a+s,s=-s),l<0&&(o=o+l,l=-l),typeof u=="number"?f=d=v=g=u:u instanceof Array?u.length===1?f=d=v=g=u[0]:u.length===2?(f=v=u[0],d=g=u[1]):u.length===3?(f=u[0],d=g=u[1],v=u[2]):(f=u[0],d=u[1],v=u[2],g=u[3]):f=d=v=g=0;var y;f+d>s&&(y=f+d,f*=s/y,d*=s/y),v+g>s&&(y=v+g,v*=s/y,g*=s/y),d+v>l&&(y=d+v,d*=l/y,v*=l/y),f+g>l&&(y=f+g,f*=l/y,g*=l/y),n.moveTo(a+f,o),n.lineTo(a+s-d,o),d!==0&&n.arc(a+s-d,o+d,d,-Math.PI/2,0),n.lineTo(a+s,o+l-v),v!==0&&n.arc(a+s-v,o+l-v,v,0,Math.PI/2),n.lineTo(a+g,o+l),g!==0&&n.arc(a+g,o+l-g,g,Math.PI/2,Math.PI),n.lineTo(a,o+f),f!==0&&n.arc(a+f,o+f,f,Math.PI,Math.PI*1.5)}var round2=Math.round;function subPixelOptimizeLine(n,r,a){if(!!r){var o=r.x1,s=r.x2,l=r.y1,u=r.y2;n.x1=o,n.x2=s,n.y1=l,n.y2=u;var f=a&&a.lineWidth;return f&&(round2(o*2)===round2(s*2)&&(n.x1=n.x2=subPixelOptimize(o,f,!0)),round2(l*2)===round2(u*2)&&(n.y1=n.y2=subPixelOptimize(l,f,!0))),n}}function subPixelOptimizeRect(n,r,a){if(!!r){var o=r.x,s=r.y,l=r.width,u=r.height;n.x=o,n.y=s,n.width=l,n.height=u;var f=a&&a.lineWidth;return f&&(n.x=subPixelOptimize(o,f,!0),n.y=subPixelOptimize(s,f,!0),n.width=Math.max(subPixelOptimize(o+l,f,!1)-n.x,l===0?0:1),n.height=Math.max(subPixelOptimize(s+u,f,!1)-n.y,u===0?0:1)),n}}function subPixelOptimize(n,r,a){if(!r)return n;var o=round2(n*2);return(o+round2(r))%2==0?o/2:(o+(a?1:-1))/2}var RectShape=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),subPixelOptimizeOutputShape={},Rect=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultShape=function(){return new RectShape},r.prototype.buildPath=function(a,o){var s,l,u,f;if(this.subPixelOptimize){var d=subPixelOptimizeRect(subPixelOptimizeOutputShape,o,this.style);s=d.x,l=d.y,u=d.width,f=d.height,d.r=o.r,o=d}else s=o.x,l=o.y,u=o.width,f=o.height;o.r?buildPath(a,o):a.rect(s,l,u,f)},r.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},r}(Path_default);Rect.prototype.type="rect";var Rect_default=Rect,DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(n){__extends2(r,n);function r(a){var o=n.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=DEFAULT_RICH_TEXT_COLOR,o.attr(a),o}return r.prototype.childrenRef=function(){return this._children},r.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var a=0;a<this._children.length;a++){var o=this._children[a];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},r.prototype.updateTransform=function(){var a=this.innerTransformable;a?(a.updateTransform(),a.transform&&(this.transform=a.transform)):n.prototype.updateTransform.call(this)},r.prototype.getLocalTransform=function(a){var o=this.innerTransformable;return o?o.getLocalTransform(a):n.prototype.getLocalTransform.call(this,a)},r.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},r.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},r.prototype.addSelfToZr=function(a){n.prototype.addSelfToZr.call(this,a);for(var o=0;o<this._children.length;o++)this._children[o].__zr=a},r.prototype.removeSelfFromZr=function(a){n.prototype.removeSelfFromZr.call(this,a);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},r.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var a=new BoundingRect_default(0,0,0,0),o=this._children,s=[],l=null,u=0;u<o.length;u++){var f=o[u],d=f.getBoundingRect(),v=f.getLocalTransform(s);v?(a.copy(d),a.applyTransform(v),l=l||a.clone(),l.union(a)):(l=l||d.clone(),l.union(d))}this._rect=l||a}return this._rect},r.prototype.setDefaultTextStyle=function(a){this._defaultStyle=a||DEFAULT_RICH_TEXT_COLOR},r.prototype.setTextContent=function(a){throw new Error("Can't attach text on another text")},r.prototype._mergeStyle=function(a,o){if(!o)return a;var s=o.rich,l=a.rich||s&&{};return extend3(a,o),s&&l?(this._mergeRich(l,s),a.rich=l):l&&(a.rich=l),a},r.prototype._mergeRich=function(a,o){for(var s=keys3(o),l=0;l<s.length;l++){var u=s[l];a[u]=a[u]||{},extend3(a[u],o[u])}},r.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},r.prototype._getOrCreateChild=function(a){var o=this._children[this._childCursor];return(!o||!(o instanceof a))&&(o=new a),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},r.prototype._updatePlainTexts=function(){var a=this.style,o=a.font||DEFAULT_FONT,s=a.padding,l=getStyleText(a),u=parsePlainText(l,a),f=needDrawBackground(a),d=!!a.backgroundColor,v=u.outerHeight,g=u.outerWidth,y=u.contentWidth,b=u.lines,_=u.lineHeight,x=this._defaultStyle,C=a.x||0,w=a.y||0,S=a.align||x.align||"left",D=a.verticalAlign||x.verticalAlign||"top",A=C,T=adjustTextY(w,u.contentHeight,D);if(f||s){var M=adjustTextX(C,g,S),E=adjustTextY(w,v,D);f&&this._renderBackground(a,a,M,E,g,v)}T+=_/2,s&&(A=getTextXForPadding(C,S,s),D==="top"?T+=s[0]:D==="bottom"&&(T-=s[2]));for(var P=0,I=!1,F=getFill("fill"in a?a.fill:(I=!0,x.fill)),L=getStroke("stroke"in a?a.stroke:!d&&(!x.autoStroke||I)?(P=DEFAULT_STROKE_LINE_WIDTH,x.stroke):null),O=a.textShadowBlur>0,z=a.width!=null&&(a.overflow==="truncate"||a.overflow==="break"||a.overflow==="breakAll"),R=u.calculatedLineHeight,B=0;B<b.length;B++){var N=this._getOrCreateChild(TSpan_default),H=N.createStyle();N.useStyle(H),H.text=b[B],H.x=A,H.y=T,S&&(H.textAlign=S),H.textBaseline="middle",H.opacity=a.opacity,H.strokeFirst=!0,O&&(H.shadowBlur=a.textShadowBlur||0,H.shadowColor=a.textShadowColor||"transparent",H.shadowOffsetX=a.textShadowOffsetX||0,H.shadowOffsetY=a.textShadowOffsetY||0),H.stroke=L,H.fill=F,L&&(H.lineWidth=a.lineWidth||P,H.lineDash=a.lineDash,H.lineDashOffset=a.lineDashOffset||0),H.font=o,setSeparateFont(H,a),T+=_,z&&N.setBoundingRect(new BoundingRect_default(adjustTextX(H.x,a.width,H.textAlign),adjustTextY(H.y,R,H.textBaseline),y,R))}},r.prototype._updateRichTexts=function(){var a=this.style,o=getStyleText(a),s=parseRichText(o,a),l=s.width,u=s.outerWidth,f=s.outerHeight,d=a.padding,v=a.x||0,g=a.y||0,y=this._defaultStyle,b=a.align||y.align,_=a.verticalAlign||y.verticalAlign,x=adjustTextX(v,u,b),C=adjustTextY(g,f,_),w=x,S=C;d&&(w+=d[3],S+=d[0]);var D=w+l;needDrawBackground(a)&&this._renderBackground(a,a,x,C,u,f);for(var A=!!a.backgroundColor,T=0;T<s.lines.length;T++){for(var M=s.lines[T],E=M.tokens,P=E.length,I=M.lineHeight,F=M.width,L=0,O=w,z=D,R=P-1,B=void 0;L<P&&(B=E[L],!B.align||B.align==="left");)this._placeToken(B,a,I,S,O,"left",A),F-=B.width,O+=B.width,L++;for(;R>=0&&(B=E[R],B.align==="right");)this._placeToken(B,a,I,S,z,"right",A),F-=B.width,z-=B.width,R--;for(O+=(l-(O-w)-(D-z)-F)/2;L<=R;)B=E[L],this._placeToken(B,a,I,S,O+B.width/2,"center",A),O+=B.width,L++;S+=I}},r.prototype._placeToken=function(a,o,s,l,u,f,d){var v=o.rich[a.styleName]||{};v.text=a.text;var g=a.verticalAlign,y=l+s/2;g==="top"?y=l+a.height/2:g==="bottom"&&(y=l+s-a.height/2);var b=!a.isLineHolder&&needDrawBackground(v);b&&this._renderBackground(v,o,f==="right"?u-a.width:f==="center"?u-a.width/2:u,y-a.height/2,a.width,a.height);var _=!!v.backgroundColor,x=a.textPadding;x&&(u=getTextXForPadding(u,f,x),y-=a.height/2-x[0]-a.innerHeight/2);var C=this._getOrCreateChild(TSpan_default),w=C.createStyle();C.useStyle(w);var S=this._defaultStyle,D=!1,A=0,T=getFill("fill"in v?v.fill:"fill"in o?o.fill:(D=!0,S.fill)),M=getStroke("stroke"in v?v.stroke:"stroke"in o?o.stroke:!_&&!d&&(!S.autoStroke||D)?(A=DEFAULT_STROKE_LINE_WIDTH,S.stroke):null),E=v.textShadowBlur>0||o.textShadowBlur>0;w.text=a.text,w.x=u,w.y=y,E&&(w.shadowBlur=v.textShadowBlur||o.textShadowBlur||0,w.shadowColor=v.textShadowColor||o.textShadowColor||"transparent",w.shadowOffsetX=v.textShadowOffsetX||o.textShadowOffsetX||0,w.shadowOffsetY=v.textShadowOffsetY||o.textShadowOffsetY||0),w.textAlign=f,w.textBaseline="middle",w.font=a.font||DEFAULT_FONT,w.opacity=retrieve3(v.opacity,o.opacity,1),setSeparateFont(w,v),M&&(w.lineWidth=retrieve3(v.lineWidth,o.lineWidth,A),w.lineDash=retrieve2(v.lineDash,o.lineDash),w.lineDashOffset=o.lineDashOffset||0,w.stroke=M),T&&(w.fill=T);var P=a.contentWidth,I=a.contentHeight;C.setBoundingRect(new BoundingRect_default(adjustTextX(w.x,P,w.textAlign),adjustTextY(w.y,I,w.textBaseline),P,I))},r.prototype._renderBackground=function(a,o,s,l,u,f){var d=a.backgroundColor,v=a.borderWidth,g=a.borderColor,y=d&&d.image,b=d&&!y,_=a.borderRadius,x=this,C,w;if(b||a.lineHeight||v&&g){C=this._getOrCreateChild(Rect_default),C.useStyle(C.createStyle()),C.style.fill=null;var S=C.shape;S.x=s,S.y=l,S.width=u,S.height=f,S.r=_,C.dirtyShape()}if(b){var D=C.style;D.fill=d||null,D.fillOpacity=retrieve2(a.fillOpacity,1)}else if(y){w=this._getOrCreateChild(Image_default),w.onload=function(){x.dirtyStyle()};var A=w.style;A.image=d.image,A.x=s,A.y=l,A.width=u,A.height=f}if(v&&g){var D=C.style;D.lineWidth=v,D.stroke=g,D.strokeOpacity=retrieve2(a.strokeOpacity,1),D.lineDash=a.borderDash,D.lineDashOffset=a.borderDashOffset||0,C.strokeContainThreshold=0,C.hasFill()&&C.hasStroke()&&(D.strokeFirst=!0,D.lineWidth*=2)}var T=(C||w).style;T.shadowBlur=a.shadowBlur||0,T.shadowColor=a.shadowColor||"transparent",T.shadowOffsetX=a.shadowOffsetX||0,T.shadowOffsetY=a.shadowOffsetY||0,T.opacity=retrieve3(a.opacity,o.opacity,1)},r.makeFont=function(a){var o="";return hasSeparateFont(a)&&(o=[a.fontStyle,a.fontWeight,parseFontSize(a.fontSize),a.fontFamily||"sans-serif"].join(" ")),o&&trim(o)||a.textFont||a.font},r}(Displayable_default),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?DEFAULT_FONT_SIZE+"px":n+"px"}function setSeparateFont(n,r){for(var a=0;a<FONT_PARTS.length;a++){var o=FONT_PARTS[a],s=r[o];s!=null&&(n[o]=s)}}function hasSeparateFont(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function normalizeTextStyle(n){return normalizeStyle2(n),each(n.rich,normalizeStyle2),n}function normalizeStyle2(n){if(n){n.font=ZRText.makeFont(n);var r=n.align;r==="middle"&&(r="center"),n.align=r==null||VALID_TEXT_ALIGN[r]?r:"left";var a=n.verticalAlign;a==="center"&&(a="middle"),n.verticalAlign=a==null||VALID_TEXT_VERTICAL_ALIGN[a]?a:"top";var o=n.padding;o&&(n.padding=normalizeCssArray(n.padding))}}function getStroke(n,r){return n==null||r<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function getFill(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function getTextXForPadding(n,r,a){return r==="right"?n-a[1]:r==="center"?n+a[3]/2-a[1]/2:n+a[3]}function getStyleText(n){var r=n.text;return r!=null&&(r+=""),r}function needDrawBackground(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}var Text_default=ZRText,getECData=makeInner(),setCommonECData=function(n,r,a,o){if(o){var s=getECData(o);s.dataIndex=a,s.dataType=r,s.seriesIndex=n,o.type==="group"&&o.traverse(function(l){var u=getECData(l);u.seriesIndex=n,u.dataIndex=a,u.dataType=r})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(n){return n!=null&&n!=="none"}var liftedColorCache=new LRU_default(100);function liftColor(n){if(isString2(n)){var r=liftedColorCache.get(n);return r||(r=lift(n,-.1),liftedColorCache.put(n,r)),r}else if(isGradientObject(n)){var a=extend3({},n);return a.colorStops=map3(n.colorStops,function(o){return{offset:o.offset,color:lift(o.color,-.1)}}),a}return n}function doChangeHoverState(n,r,a){n.onHoverStateChange&&(n.hoverState||0)!==a&&n.onHoverStateChange(r),n.hoverState=a}function singleEnterEmphasis(n){doChangeHoverState(n,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(n){n.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(n,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(n){doChangeHoverState(n,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(n){n.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(n,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(n){n.selected=!0}function singleLeaveSelect(n){n.selected=!1}function updateElementState(n,r,a){r(n,a)}function traverseUpdateState(n,r,a){updateElementState(n,r,a),n.isGroup&&n.traverse(function(o){updateElementState(o,r,a)})}function setStatesFlag(n,r){switch(r){case"emphasis":n.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":n.hoverState=HOVER_STATE_NORMAL;break;case"blur":n.hoverState=HOVER_STATE_BLUR;break;case"select":n.selected=!0}}function getFromStateStyle(n,r,a,o){for(var s=n.style,l={},u=0;u<r.length;u++){var f=r[u],d=s[f];l[f]=d==null?o&&o[f]:d}for(var u=0;u<n.animators.length;u++){var v=n.animators[u];v.__fromStateTransition&&v.__fromStateTransition.indexOf(a)<0&&v.targetName==="style"&&v.saveTo(l,r)}return l}function createEmphasisDefaultState(n,r,a,o){var s=a&&indexOf(a,"select")>=0,l=!1;if(n instanceof Path_default){var u=getSavedStates(n),f=s&&u.selectFill||u.normalFill,d=s&&u.selectStroke||u.normalStroke;if(hasFillOrStroke(f)||hasFillOrStroke(d)){o=o||{};var v=o.style||{};v.fill==="inherit"?(l=!0,o=extend3({},o),v=extend3({},v),v.fill=f):!hasFillOrStroke(v.fill)&&hasFillOrStroke(f)?(l=!0,o=extend3({},o),v=extend3({},v),v.fill=liftColor(f)):!hasFillOrStroke(v.stroke)&&hasFillOrStroke(d)&&(l||(o=extend3({},o),v=extend3({},v)),v.stroke=liftColor(d)),o.style=v}}if(o&&o.z2==null){l||(o=extend3({},o));var g=n.z2EmphasisLift;o.z2=n.z2+(g!=null?g:Z2_EMPHASIS_LIFT)}return o}function createSelectDefaultState(n,r,a){if(a&&a.z2==null){a=extend3({},a);var o=n.z2SelectLift;a.z2=n.z2+(o!=null?o:Z2_SELECT_LIFT)}return a}function createBlurDefaultState(n,r,a){var o=indexOf(n.currentStates,r)>=0,s=n.style.opacity,l=o?null:getFromStateStyle(n,["opacity"],r,{opacity:1});a=a||{};var u=a.style||{};return u.opacity==null&&(a=extend3({},a),u=extend3({opacity:o?s:l.opacity*.1},u),a.style=u),a}function elementStateProxy(n,r){var a=this.states[n];if(this.style){if(n==="emphasis")return createEmphasisDefaultState(this,n,r,a);if(n==="blur")return createBlurDefaultState(this,n,a);if(n==="select")return createSelectDefaultState(this,n,a)}return a}function setDefaultStateProxy(n){n.stateProxy=elementStateProxy;var r=n.getTextContent(),a=n.getTextGuideLine();r&&(r.stateProxy=elementStateProxy),a&&(a.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(n,r){!shouldSilent(n,r)&&!n.__highByOuter&&traverseUpdateState(n,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(n,r){!shouldSilent(n,r)&&!n.__highByOuter&&traverseUpdateState(n,singleLeaveEmphasis)}function enterEmphasis(n,r){n.__highByOuter|=1<<(r||0),traverseUpdateState(n,singleEnterEmphasis)}function leaveEmphasis(n,r){!(n.__highByOuter&=~(1<<(r||0)))&&traverseUpdateState(n,singleLeaveEmphasis)}function enterBlur(n){traverseUpdateState(n,singleEnterBlur)}function leaveBlur(n){traverseUpdateState(n,singleLeaveBlur)}function enterSelect(n){traverseUpdateState(n,singleEnterSelect)}function leaveSelect(n){traverseUpdateState(n,singleLeaveSelect)}function shouldSilent(n,r){return n.__highDownSilentOnTouch&&r.zrByTouch}function allLeaveBlur(n){var r=n.getModel(),a=[],o=[];r.eachComponent(function(s,l){var u=getComponentStates(l),f=s==="series",d=f?n.getViewOfSeriesModel(l):n.getViewOfComponentModel(l);!f&&o.push(d),u.isBlured&&(d.group.traverse(function(v){singleLeaveBlur(v)}),f&&a.push(l)),u.isBlured=!1}),each(o,function(s){s&&s.toggleBlurSeries&&s.toggleBlurSeries(a,!1,r)})}function blurSeries(n,r,a,o){var s=o.getModel();a=a||"coordinateSystem";function l(v,g){for(var y=0;y<g.length;y++){var b=v.getItemGraphicEl(g[y]);b&&leaveBlur(b)}}if(n!=null&&!(!r||r==="none")){var u=s.getSeriesByIndex(n),f=u.coordinateSystem;f&&f.master&&(f=f.master);var d=[];s.eachSeries(function(v){var g=u===v,y=v.coordinateSystem;y&&y.master&&(y=y.master);var b=y&&f?y===f:g;if(!(a==="series"&&!g||a==="coordinateSystem"&&!b||r==="series"&&g)){var _=o.getViewOfSeriesModel(v);if(_.group.traverse(function(w){singleEnterBlur(w)}),isArrayLike2(r))l(v.getData(),r);else if(isObject3(r))for(var x=keys3(r),C=0;C<x.length;C++)l(v.getData(x[C]),r[x[C]]);d.push(v),getComponentStates(v).isBlured=!0}}),s.eachComponent(function(v,g){if(v!=="series"){var y=o.getViewOfComponentModel(g);y&&y.toggleBlurSeries&&y.toggleBlurSeries(d,!0,s)}})}}function blurComponent(n,r,a){if(!(n==null||r==null)){var o=a.getModel().getComponent(n,r);if(!!o){getComponentStates(o).isBlured=!0;var s=a.getViewOfComponentModel(o);!s||!s.focusBlurEnabled||s.group.traverse(function(l){singleEnterBlur(l)})}}}function blurSeriesFromHighlightPayload(n,r,a){var o=n.seriesIndex,s=n.getData(r.dataType);if(!s){error("Unknown dataType "+r.dataType);return}var l=queryDataIndex(s,r);l=(isArray3(l)?l[0]:l)||0;var u=s.getItemGraphicEl(l);if(!u)for(var f=s.count(),d=0;!u&&d<f;)u=s.getItemGraphicEl(d++);if(u){var v=getECData(u);blurSeries(o,v.focus,v.blurScope,a)}else{var g=n.get(["emphasis","focus"]),y=n.get(["emphasis","blurScope"]);g!=null&&blurSeries(o,g,y,a)}}function findComponentHighDownDispatchers(n,r,a,o){var s={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||r==null||a==null)return s;var l=o.getModel().getComponent(n,r);if(!l)return s;var u=o.getViewOfComponentModel(l);if(!u||!u.findHighDownDispatchers)return s;for(var f=u.findHighDownDispatchers(a),d,v=0;v<f.length;v++)if(isHighDownDispatcher(f[v])||error("param should be highDownDispatcher"),getECData(f[v]).focus==="self"){d=!0;break}return{focusSelf:d,dispatchers:f}}function handleGlobalMouseOverForHighDown(n,r,a){isHighDownDispatcher(n)||error("param should be highDownDispatcher");var o=getECData(n),s=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,a),l=s.dispatchers,u=s.focusSelf;l?(u&&blurComponent(o.componentMainType,o.componentIndex,a),each(l,function(f){return enterEmphasisWhenMouseOver(f,r)})):(blurSeries(o.seriesIndex,o.focus,o.blurScope,a),o.focus==="self"&&blurComponent(o.componentMainType,o.componentIndex,a),enterEmphasisWhenMouseOver(n,r))}function handleGlobalMouseOutForHighDown(n,r,a){isHighDownDispatcher(n)||error("param should be highDownDispatcher"),allLeaveBlur(a);var o=getECData(n),s=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,a).dispatchers;s?each(s,function(l){return leaveEmphasisWhenMouseOut(l,r)}):leaveEmphasisWhenMouseOut(n,r)}function toggleSelectionFromPayload(n,r,a){if(!!isSelectChangePayload(r)){var o=r.dataType,s=n.getData(o),l=queryDataIndex(s,r);isArray3(l)||(l=[l]),n[r.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":r.type===SELECT_ACTION_TYPE?"select":"unselect"](l,o)}}function updateSeriesElementSelection(n){var r=n.getAllData();each(r,function(a){var o=a.data,s=a.type;o.eachItemGraphicEl(function(l,u){n.isSelected(u,s)?enterSelect(l):leaveSelect(l)})})}function getAllSelectedIndices(n){var r=[];return n.eachSeries(function(a){var o=a.getAllData();each(o,function(s){var l=s.data,u=s.type,f=a.getSelectedDataIndices();if(f.length>0){var d={dataIndex:f,seriesIndex:a.seriesIndex};u!=null&&(d.dataType=u),r.push(d)}})}),r}function enableHoverEmphasis(n,r,a){setAsHighDownDispatcher(n,!0),traverseUpdateState(n,setDefaultStateProxy),enableHoverFocus(n,r,a)}function disableHoverEmphasis(n){setAsHighDownDispatcher(n,!1)}function toggleHoverEmphasis(n,r,a,o){o?disableHoverEmphasis(n):enableHoverEmphasis(n,r,a)}function enableHoverFocus(n,r,a){var o=getECData(n);r!=null?(o.focus=r,o.blurScope=a):o.focus&&(o.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(n,r,a,o){a=a||"itemStyle";for(var s=0;s<OTHER_STATES.length;s++){var l=OTHER_STATES[s],u=r.getModel([l,a]),f=n.ensureState(l);f.style=o?o(u):u[defaultStyleGetterMap[a]]()}}function setAsHighDownDispatcher(n,r){var a=r===!1,o=n;n.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!a||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!a)}function isHighDownDispatcher(n){return!!(n&&n.__highDownDispatcher)}function enableComponentHighDownFeatures(n,r,a){var o=getECData(n);o.componentMainType=r.mainType,o.componentIndex=r.componentIndex,o.componentHighDownName=a}function getHighlightDigit(n){var r=_highlightKeyMap[n];return r==null&&_highlightNextDigit<=32&&(r=_highlightKeyMap[n]=_highlightNextDigit++),r}function isSelectChangePayload(n){var r=n.type;return r===SELECT_ACTION_TYPE||r===UNSELECT_ACTION_TYPE||r===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(n){var r=n.type;return r===HIGHLIGHT_ACTION_TYPE||r===DOWNPLAY_ACTION_TYPE}function savePathStates(n){var r=getSavedStates(n);r.normalFill=n.style.fill,r.normalStroke=n.style.stroke;var a=n.states.select||{};r.selectFill=a.style&&a.style.fill||null,r.selectStroke=a.style&&a.style.stroke||null}var graphic_exports={};__export(graphic_exports,{Arc:()=>Arc_default,BezierCurve:()=>BezierCurve_default,BoundingRect:()=>BoundingRect_default,Circle:()=>Circle_default,CompoundPath:()=>CompoundPath_default,Ellipse:()=>Ellipse_default,Group:()=>Group_default,Image:()=>Image_default,IncrementalDisplayable:()=>IncrementalDisplayable_default,Line:()=>Line_default,LinearGradient:()=>LinearGradient_default,OrientedBoundingRect:()=>OrientedBoundingRect_default,Path:()=>Path_default,Point:()=>Point_default,Polygon:()=>Polygon_default,Polyline:()=>Polyline_default,RadialGradient:()=>RadialGradient_default,Rect:()=>Rect_default,Ring:()=>Ring_default,Sector:()=>Sector_default,Text:()=>Text_default,applyTransform:()=>applyTransform2,clipPointsByRect:()=>clipPointsByRect,clipRectByRect:()=>clipRectByRect,createIcon:()=>createIcon,extendPath:()=>extendPath,extendShape:()=>extendShape,getShapeClass:()=>getShapeClass,getTransform:()=>getTransform,groupTransition:()=>groupTransition,initProps:()=>initProps2,isElementRemoved:()=>isElementRemoved,lineLineIntersect:()=>lineLineIntersect,linePolygonIntersect:()=>linePolygonIntersect,makeImage:()=>makeImage,makePath:()=>makePath,mergePath:()=>mergePath2,registerShape:()=>registerShape,removeElement:()=>removeElement2,removeElementWithFadeOut:()=>removeElementWithFadeOut,resizePath:()=>resizePath,setTooltipConfig:()=>setTooltipConfig,subPixelOptimize:()=>subPixelOptimize2,subPixelOptimizeLine:()=>subPixelOptimizeLine2,subPixelOptimizeRect:()=>subPixelOptimizeRect2,transformDirection:()=>transformDirection,traverseElements:()=>traverseElements,updateProps:()=>updateProps2});var CMD3=PathProxy_default.CMD,points=[[],[],[]],mathSqrt2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(n,r){if(!!r){var a=n.data,o=n.len(),s,l,u,f,d,v,g=CMD3.M,y=CMD3.C,b=CMD3.L,_=CMD3.R,x=CMD3.A,C=CMD3.Q;for(u=0,f=0;u<o;){switch(s=a[u++],f=u,l=0,s){case g:l=1;break;case b:l=1;break;case y:l=3;break;case C:l=2;break;case x:var w=r[4],S=r[5],D=mathSqrt2(r[0]*r[0]+r[1]*r[1]),A=mathSqrt2(r[2]*r[2]+r[3]*r[3]),T=mathAtan2(-r[1]/A,r[0]/D);a[u]*=D,a[u++]+=w,a[u]*=A,a[u++]+=S,a[u++]*=D,a[u++]*=A,a[u++]+=T,a[u++]+=T,u+=2,f=u;break;case _:v[0]=a[u++],v[1]=a[u++],applyTransform(v,v,r),a[f++]=v[0],a[f++]=v[1],v[0]+=a[u++],v[1]+=a[u++],applyTransform(v,v,r),a[f++]=v[0],a[f++]=v[1]}for(d=0;d<l;d++){var M=points[d];M[0]=a[u++],M[1]=a[u++],applyTransform(M,M,r),a[f++]=M[0],a[f++]=M[1]}}n.increaseVersion()}}var mathSqrt3=Math.sqrt,mathSin3=Math.sin,mathCos3=Math.cos,PI3=Math.PI;function vMag(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function vRatio(n,r){return(n[0]*r[0]+n[1]*r[1])/(vMag(n)*vMag(r))}function vAngle(n,r){return(n[0]*r[1]<n[1]*r[0]?-1:1)*Math.acos(vRatio(n,r))}function processArc(n,r,a,o,s,l,u,f,d,v,g){var y=d*(PI3/180),b=mathCos3(y)*(n-a)/2+mathSin3(y)*(r-o)/2,_=-1*mathSin3(y)*(n-a)/2+mathCos3(y)*(r-o)/2,x=b*b/(u*u)+_*_/(f*f);x>1&&(u*=mathSqrt3(x),f*=mathSqrt3(x));var C=(s===l?-1:1)*mathSqrt3((u*u*(f*f)-u*u*(_*_)-f*f*(b*b))/(u*u*(_*_)+f*f*(b*b)))||0,w=C*u*_/f,S=C*-f*b/u,D=(n+a)/2+mathCos3(y)*w-mathSin3(y)*S,A=(r+o)/2+mathSin3(y)*w+mathCos3(y)*S,T=vAngle([1,0],[(b-w)/u,(_-S)/f]),M=[(b-w)/u,(_-S)/f],E=[(-1*b-w)/u,(-1*_-S)/f],P=vAngle(M,E);if(vRatio(M,E)<=-1&&(P=PI3),vRatio(M,E)>=1&&(P=0),P<0){var I=Math.round(P/PI3*1e6)/1e6;P=PI3*2+I%2*PI3}g.addData(v,D,A,u,f,T,P,y,l)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(n){var r=new PathProxy_default;if(!n)return r;var a=0,o=0,s=a,l=o,u,f=PathProxy_default.CMD,d=n.match(commandReg);if(!d)return r;for(var v=0;v<d.length;v++){for(var g=d[v],y=g.charAt(0),b=void 0,_=g.match(numberReg)||[],x=_.length,C=0;C<x;C++)_[C]=parseFloat(_[C]);for(var w=0;w<x;){var S=void 0,D=void 0,A=void 0,T=void 0,M=void 0,E=void 0,P=void 0,I=a,F=o,L=void 0,O=void 0;switch(y){case"l":a+=_[w++],o+=_[w++],b=f.L,r.addData(b,a,o);break;case"L":a=_[w++],o=_[w++],b=f.L,r.addData(b,a,o);break;case"m":a+=_[w++],o+=_[w++],b=f.M,r.addData(b,a,o),s=a,l=o,y="l";break;case"M":a=_[w++],o=_[w++],b=f.M,r.addData(b,a,o),s=a,l=o,y="L";break;case"h":a+=_[w++],b=f.L,r.addData(b,a,o);break;case"H":a=_[w++],b=f.L,r.addData(b,a,o);break;case"v":o+=_[w++],b=f.L,r.addData(b,a,o);break;case"V":o=_[w++],b=f.L,r.addData(b,a,o);break;case"C":b=f.C,r.addData(b,_[w++],_[w++],_[w++],_[w++],_[w++],_[w++]),a=_[w-2],o=_[w-1];break;case"c":b=f.C,r.addData(b,_[w++]+a,_[w++]+o,_[w++]+a,_[w++]+o,_[w++]+a,_[w++]+o),a+=_[w-2],o+=_[w-1];break;case"S":S=a,D=o,L=r.len(),O=r.data,u===f.C&&(S+=a-O[L-4],D+=o-O[L-3]),b=f.C,I=_[w++],F=_[w++],a=_[w++],o=_[w++],r.addData(b,S,D,I,F,a,o);break;case"s":S=a,D=o,L=r.len(),O=r.data,u===f.C&&(S+=a-O[L-4],D+=o-O[L-3]),b=f.C,I=a+_[w++],F=o+_[w++],a+=_[w++],o+=_[w++],r.addData(b,S,D,I,F,a,o);break;case"Q":I=_[w++],F=_[w++],a=_[w++],o=_[w++],b=f.Q,r.addData(b,I,F,a,o);break;case"q":I=_[w++]+a,F=_[w++]+o,a+=_[w++],o+=_[w++],b=f.Q,r.addData(b,I,F,a,o);break;case"T":S=a,D=o,L=r.len(),O=r.data,u===f.Q&&(S+=a-O[L-4],D+=o-O[L-3]),a=_[w++],o=_[w++],b=f.Q,r.addData(b,S,D,a,o);break;case"t":S=a,D=o,L=r.len(),O=r.data,u===f.Q&&(S+=a-O[L-4],D+=o-O[L-3]),a+=_[w++],o+=_[w++],b=f.Q,r.addData(b,S,D,a,o);break;case"A":A=_[w++],T=_[w++],M=_[w++],E=_[w++],P=_[w++],I=a,F=o,a=_[w++],o=_[w++],b=f.A,processArc(I,F,a,o,E,P,A,T,M,b,r);break;case"a":A=_[w++],T=_[w++],M=_[w++],E=_[w++],P=_[w++],I=a,F=o,a+=_[w++],o+=_[w++],b=f.A,processArc(I,F,a,o,E,P,A,T,M,b,r);break}}(y==="z"||y==="Z")&&(b=f.Z,r.addData(b),a=s,o=l),u=b}return r.toStatic(),r}var SVGPath=function(n){__extends2(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.applyTransform=function(a){},r}(Path_default);function isPathProxy(n){return n.setData!=null}function createPathOptions(n,r){var a=createPathProxyFromString(n),o=extend3({},r);return o.buildPath=function(s){if(isPathProxy(s)){s.setData(a.data);var l=s.getContext();l&&s.rebuildPath(l,1)}else{var l=s;a.rebuildPath(l,1)}},o.applyTransform=function(s){transformPath(a,s),this.dirtyShape()},o}function createFromString(n,r){return new SVGPath(createPathOptions(n,r))}function extendFromString(n,r){var a=createPathOptions(n,r),o=function(s){__extends2(l,s);function l(u){var f=s.call(this,u)||this;return f.applyTransform=a.applyTransform,f.buildPath=a.buildPath,f}return l}(SVGPath);return o}function mergePath(n,r){for(var a=[],o=n.length,s=0;s<o;s++){var l=n[s];a.push(l.getUpdatedPathProxy(!0))}var u=new Path_default(r);return u.createPathProxy(),u.buildPath=function(f){if(isPathProxy(f)){f.appendPath(a);var d=f.getContext();d&&f.rebuildPath(d,1)}},u}function clonePath(n,r){r=r||{};var a=new Path_default;return n.shape&&a.setShape(n.shape),a.setStyle(n.style),r.bakeTransform?transformPath(a.path,n.getComputedTransform()):r.toLocal?a.setLocalTransform(n.getComputedTransform()):a.copyTransform(n),a.buildPath=n.buildPath,a.applyTransform=a.applyTransform,a.z=n.z,a.z2=n.z2,a.zlevel=n.zlevel,a}var CircleShape=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),Circle=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultShape=function(){return new CircleShape},r.prototype.buildPath=function(a,o){a.moveTo(o.cx+o.r,o.cy),a.arc(o.cx,o.cy,o.r,0,Math.PI*2)},r}(Path_default);Circle.prototype.type="circle";var Circle_default=Circle,EllipseShape=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),Ellipse=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultShape=function(){return new EllipseShape},r.prototype.buildPath=function(a,o){var s=.5522848,l=o.cx,u=o.cy,f=o.rx,d=o.ry,v=f*s,g=d*s;a.moveTo(l-f,u),a.bezierCurveTo(l-f,u-g,l-v,u-d,l,u-d),a.bezierCurveTo(l+v,u-d,l+f,u-g,l+f,u),a.bezierCurveTo(l+f,u+g,l+v,u+d,l,u+d),a.bezierCurveTo(l-v,u+d,l-f,u+g,l-f,u),a.closePath()},r}(Path_default);Ellipse.prototype.type="ellipse";var Ellipse_default=Ellipse,PI4=Math.PI,PI26=PI4*2,mathSin4=Math.sin,mathCos4=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs2=Math.abs,mathSqrt4=Math.sqrt,mathMax4=Math.max,mathMin4=Math.min,e=1e-4;function intersect(n,r,a,o,s,l,u,f){var d=a-n,v=o-r,g=u-s,y=f-l,b=y*d-g*v;if(!(b*b<e))return b=(g*(r-l)-y*(n-s))/b,[n+b*d,r+b*v]}function computeCornerTangents(n,r,a,o,s,l,u){var f=n-a,d=r-o,v=(u?l:-l)/mathSqrt4(f*f+d*d),g=v*d,y=-v*f,b=n+g,_=r+y,x=a+g,C=o+y,w=(b+x)/2,S=(_+C)/2,D=x-b,A=C-_,T=D*D+A*A,M=s-l,E=b*C-x*_,P=(A<0?-1:1)*mathSqrt4(mathMax4(0,M*M*T-E*E)),I=(E*A-D*P)/T,F=(-E*D-A*P)/T,L=(E*A+D*P)/T,O=(-E*D+A*P)/T,z=I-w,R=F-S,B=L-w,N=O-S;return z*z+R*R>B*B+N*N&&(I=L,F=O),{cx:I,cy:F,x0:-g,y0:-y,x1:I*(s/M-1),y1:F*(s/M-1)}}function normalizeCornerRadius(n){var r;if(isArray3(n)){var a=n.length;if(!a)return n;a===1?r=[n[0],n[0],0,0]:a===2?r=[n[0],n[0],n[1],n[1]]:a===3?r=n.concat(n[2]):r=n}else r=[n,n,n,n];return r}function buildPath2(n,r){var a,o=mathMax4(r.r,0),s=mathMax4(r.r0||0,0),l=o>0,u=s>0;if(!(!l&&!u)){if(l||(o=s,s=0),s>o){var f=o;o=s,s=f}var d=r.startAngle,v=r.endAngle;if(!(isNaN(d)||isNaN(v))){var g=r.cx,y=r.cy,b=!!r.clockwise,_=mathAbs2(v-d),x=_>PI26&&_%PI26;if(x>e&&(_=x),!(o>e))n.moveTo(g,y);else if(_>PI26-e)n.moveTo(g+o*mathCos4(d),y+o*mathSin4(d)),n.arc(g,y,o,d,v,!b),s>e&&(n.moveTo(g+s*mathCos4(v),y+s*mathSin4(v)),n.arc(g,y,s,v,d,b));else{var C=void 0,w=void 0,S=void 0,D=void 0,A=void 0,T=void 0,M=void 0,E=void 0,P=void 0,I=void 0,F=void 0,L=void 0,O=void 0,z=void 0,R=void 0,B=void 0,N=o*mathCos4(d),H=o*mathSin4(d),W=s*mathCos4(v),V=s*mathSin4(v),G=_>e;if(G){var Y=r.cornerRadius;Y&&(a=normalizeCornerRadius(Y),C=a[0],w=a[1],S=a[2],D=a[3]);var Q=mathAbs2(o-s)/2;if(A=mathMin4(Q,S),T=mathMin4(Q,D),M=mathMin4(Q,C),E=mathMin4(Q,w),F=P=mathMax4(A,T),L=I=mathMax4(M,E),(P>e||I>e)&&(O=o*mathCos4(v),z=o*mathSin4(v),R=s*mathCos4(d),B=s*mathSin4(d),_<PI4)){var q=intersect(N,H,R,B,O,z,W,V);if(q){var ne=N-q[0],ve=H-q[1],fe=O-q[0],he=z-q[1],pe=1/mathSin4(mathACos((ne*fe+ve*he)/(mathSqrt4(ne*ne+ve*ve)*mathSqrt4(fe*fe+he*he)))/2),de=mathSqrt4(q[0]*q[0]+q[1]*q[1]);F=mathMin4(P,(o-de)/(pe+1)),L=mathMin4(I,(s-de)/(pe-1))}}}if(!G)n.moveTo(g+N,y+H);else if(F>e){var ue=mathMin4(S,F),be=mathMin4(D,F),se=computeCornerTangents(R,B,N,H,o,ue,b),_e=computeCornerTangents(O,z,W,V,o,be,b);n.moveTo(g+se.cx+se.x0,y+se.cy+se.y0),F<P&&ue===be?n.arc(g+se.cx,y+se.cy,F,mathATan2(se.y0,se.x0),mathATan2(_e.y0,_e.x0),!b):(ue>0&&n.arc(g+se.cx,y+se.cy,ue,mathATan2(se.y0,se.x0),mathATan2(se.y1,se.x1),!b),n.arc(g,y,o,mathATan2(se.cy+se.y1,se.cx+se.x1),mathATan2(_e.cy+_e.y1,_e.cx+_e.x1),!b),be>0&&n.arc(g+_e.cx,y+_e.cy,be,mathATan2(_e.y1,_e.x1),mathATan2(_e.y0,_e.x0),!b))}else n.moveTo(g+N,y+H),n.arc(g,y,o,d,v,!b);if(!(s>e)||!G)n.lineTo(g+W,y+V);else if(L>e){var ue=mathMin4(C,L),be=mathMin4(w,L),se=computeCornerTangents(W,V,O,z,s,-be,b),_e=computeCornerTangents(N,H,R,B,s,-ue,b);n.lineTo(g+se.cx+se.x0,y+se.cy+se.y0),L<I&&ue===be?n.arc(g+se.cx,y+se.cy,L,mathATan2(se.y0,se.x0),mathATan2(_e.y0,_e.x0),!b):(be>0&&n.arc(g+se.cx,y+se.cy,be,mathATan2(se.y0,se.x0),mathATan2(se.y1,se.x1),!b),n.arc(g,y,s,mathATan2(se.cy+se.y1,se.cx+se.x1),mathATan2(_e.cy+_e.y1,_e.cx+_e.x1),b),ue>0&&n.arc(g+_e.cx,y+_e.cy,ue,mathATan2(_e.y1,_e.x1),mathATan2(_e.y0,_e.x0),!b))}else n.lineTo(g+W,y+V),n.arc(g,y,s,v,d,b)}n.closePath()}}}var SectorShape=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),Sector=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultShape=function(){return new SectorShape},r.prototype.buildPath=function(a,o){buildPath2(a,o)},r.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},r}(Path_default);Sector.prototype.type="sector";var Sector_default=Sector,RingShape=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),Ring=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultShape=function(){return new RingShape},r.prototype.buildPath=function(a,o){var s=o.cx,l=o.cy,u=Math.PI*2;a.moveTo(s+o.r,l),a.arc(s,l,o.r,0,u,!1),a.moveTo(s+o.r0,l),a.arc(s,l,o.r0,0,u,!0)},r}(Path_default);Ring.prototype.type="ring";var Ring_default=Ring;function smoothBezier(n,r,a,o){var s=[],l=[],u=[],f=[],d,v,g,y;if(o){g=[1/0,1/0],y=[-1/0,-1/0];for(var b=0,_=n.length;b<_;b++)min(g,g,n[b]),max(y,y,n[b]);min(g,g,o[0]),max(y,y,o[1])}for(var b=0,_=n.length;b<_;b++){var x=n[b];if(a)d=n[b?b-1:_-1],v=n[(b+1)%_];else if(b===0||b===_-1){s.push(clone2(n[b]));continue}else d=n[b-1],v=n[b+1];sub(l,v,d),scale(l,l,r);var C=distance(x,d),w=distance(x,v),S=C+w;S!==0&&(C/=S,w/=S),scale(u,l,-C),scale(f,l,w);var D=add2([],x,u),A=add2([],x,f);o&&(max(D,D,g),min(D,D,y),max(A,A,g),min(A,A,y)),s.push(D),s.push(A)}return a&&s.push(s.shift()),s}function buildPath3(n,r,a){var o=r.smooth,s=r.points;if(s&&s.length>=2){if(o){var l=smoothBezier(s,o,a,r.smoothConstraint);n.moveTo(s[0][0],s[0][1]);for(var u=s.length,f=0;f<(a?u:u-1);f++){var d=l[f*2],v=l[f*2+1],g=s[(f+1)%u];n.bezierCurveTo(d[0],d[1],v[0],v[1],g[0],g[1])}}else{n.moveTo(s[0][0],s[0][1]);for(var f=1,y=s.length;f<y;f++)n.lineTo(s[f][0],s[f][1])}a&&n.closePath()}}var PolygonShape=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),Polygon=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultShape=function(){return new PolygonShape},r.prototype.buildPath=function(a,o){buildPath3(a,o,!0)},r}(Path_default);Polygon.prototype.type="polygon";var Polygon_default=Polygon,PolylineShape=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),Polyline=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new PolylineShape},r.prototype.buildPath=function(a,o){buildPath3(a,o,!1)},r}(Path_default);Polyline.prototype.type="polyline";var Polyline_default=Polyline,subPixelOptimizeOutputShape2={},LineShape=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),Line=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new LineShape},r.prototype.buildPath=function(a,o){var s,l,u,f;if(this.subPixelOptimize){var d=subPixelOptimizeLine(subPixelOptimizeOutputShape2,o,this.style);s=d.x1,l=d.y1,u=d.x2,f=d.y2}else s=o.x1,l=o.y1,u=o.x2,f=o.y2;var v=o.percent;v!==0&&(a.moveTo(s,l),v<1&&(u=s*(1-v)+u*v,f=l*(1-v)+f*v),a.lineTo(u,f))},r.prototype.pointAt=function(a){var o=this.shape;return[o.x1*(1-a)+o.x2*a,o.y1*(1-a)+o.y2*a]},r}(Path_default);Line.prototype.type="line";var Line_default=Line,out=[],BezierCurveShape=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function someVectorAt(n,r,a){var o=n.cpx2,s=n.cpy2;return o!=null||s!=null?[(a?cubicDerivativeAt:cubicAt)(n.x1,n.cpx1,n.cpx2,n.x2,r),(a?cubicDerivativeAt:cubicAt)(n.y1,n.cpy1,n.cpy2,n.y2,r)]:[(a?quadraticDerivativeAt:quadraticAt)(n.x1,n.cpx1,n.x2,r),(a?quadraticDerivativeAt:quadraticAt)(n.y1,n.cpy1,n.y2,r)]}var BezierCurve=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new BezierCurveShape},r.prototype.buildPath=function(a,o){var s=o.x1,l=o.y1,u=o.x2,f=o.y2,d=o.cpx1,v=o.cpy1,g=o.cpx2,y=o.cpy2,b=o.percent;b!==0&&(a.moveTo(s,l),g==null||y==null?(b<1&&(quadraticSubdivide(s,d,u,b,out),d=out[1],u=out[2],quadraticSubdivide(l,v,f,b,out),v=out[1],f=out[2]),a.quadraticCurveTo(d,v,u,f)):(b<1&&(cubicSubdivide(s,d,g,u,b,out),d=out[1],g=out[2],u=out[3],cubicSubdivide(l,v,y,f,b,out),v=out[1],y=out[2],f=out[3]),a.bezierCurveTo(d,v,g,y,u,f)))},r.prototype.pointAt=function(a){return someVectorAt(this.shape,a,!1)},r.prototype.tangentAt=function(a){var o=someVectorAt(this.shape,a,!0);return normalize2(o,o)},r}(Path_default);BezierCurve.prototype.type="bezier-curve";var BezierCurve_default=BezierCurve,ArcShape=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),Arc=function(n){__extends2(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new ArcShape},r.prototype.buildPath=function(a,o){var s=o.cx,l=o.cy,u=Math.max(o.r,0),f=o.startAngle,d=o.endAngle,v=o.clockwise,g=Math.cos(f),y=Math.sin(f);a.moveTo(g*u+s,y*u+l),a.arc(s,l,u,f,d,!v)},r}(Path_default);Arc.prototype.type="arc";var Arc_default=Arc,CompoundPath=function(n){__extends2(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="compound",a}return r.prototype._updatePathDirty=function(){for(var a=this.shape.paths,o=this.shapeChanged(),s=0;s<a.length;s++)o=o||a[s].shapeChanged();o&&this.dirtyShape()},r.prototype.beforeBrush=function(){this._updatePathDirty();for(var a=this.shape.paths||[],o=this.getGlobalScale(),s=0;s<a.length;s++)a[s].path||a[s].createPathProxy(),a[s].path.setScale(o[0],o[1],a[s].segmentIgnoreThreshold)},r.prototype.buildPath=function(a,o){for(var s=o.paths||[],l=0;l<s.length;l++)s[l].buildPath(a,s[l].shape,!0)},r.prototype.afterBrush=function(){for(var a=this.shape.paths||[],o=0;o<a.length;o++)a[o].pathUpdated()},r.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path_default.prototype.getBoundingRect.call(this)},r}(Path_default),CompoundPath_default=CompoundPath,Gradient=function(){function n(r){this.colorStops=r||[]}return n.prototype.addColorStop=function(r,a){this.colorStops.push({offset:r,color:a})},n}(),Gradient_default=Gradient,LinearGradient=function(n){__extends2(r,n);function r(a,o,s,l,u,f){var d=n.call(this,u)||this;return d.x=a==null?0:a,d.y=o==null?0:o,d.x2=s==null?1:s,d.y2=l==null?0:l,d.type="linear",d.global=f||!1,d}return r}(Gradient_default),LinearGradient_default=LinearGradient,RadialGradient=function(n){__extends2(r,n);function r(a,o,s,l,u){var f=n.call(this,l)||this;return f.x=a==null?.5:a,f.y=o==null?.5:o,f.r=s==null?.5:s,f.type="radial",f.global=u||!1,f}return r}(Gradient_default),RadialGradient_default=RadialGradient,extent=[0,0],extent2=[0,0],minTv2=new Point_default,maxTv2=new Point_default,OrientedBoundingRect=function(){function n(r,a){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Point_default;for(var o=0;o<2;o++)this._axes[o]=new Point_default;r&&this.fromBoundingRect(r,a)}return n.prototype.fromBoundingRect=function(r,a){var o=this._corners,s=this._axes,l=r.x,u=r.y,f=l+r.width,d=u+r.height;if(o[0].set(l,u),o[1].set(f,u),o[2].set(f,d),o[3].set(l,d),a)for(var v=0;v<4;v++)o[v].transform(a);Point_default.sub(s[0],o[1],o[0]),Point_default.sub(s[1],o[3],o[0]),s[0].normalize(),s[1].normalize();for(var v=0;v<2;v++)this._origin[v]=s[v].dot(o[0])},n.prototype.intersect=function(r,a){var o=!0,s=!a;return minTv2.set(1/0,1/0),maxTv2.set(0,0),!this._intersectCheckOneSide(this,r,minTv2,maxTv2,s,1)&&(o=!1,s)||!this._intersectCheckOneSide(r,this,minTv2,maxTv2,s,-1)&&(o=!1,s)||s||Point_default.copy(a,o?minTv2:maxTv2),o},n.prototype._intersectCheckOneSide=function(r,a,o,s,l,u){for(var f=!0,d=0;d<2;d++){var v=this._axes[d];if(this._getProjMinMaxOnAxis(d,r._corners,extent),this._getProjMinMaxOnAxis(d,a._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(f=!1,l)return f;var g=Math.abs(extent2[0]-extent[1]),y=Math.abs(extent[0]-extent2[1]);Math.min(g,y)>s.len()&&(g<y?Point_default.scale(s,v,-g*u):Point_default.scale(s,v,y*u))}else if(o){var g=Math.abs(extent2[0]-extent[1]),y=Math.abs(extent[0]-extent2[1]);Math.min(g,y)<o.len()&&(g<y?Point_default.scale(o,v,g*u):Point_default.scale(o,v,-y*u))}}return f},n.prototype._getProjMinMaxOnAxis=function(r,a,o){for(var s=this._axes[r],l=this._origin,u=a[0].dot(s)+l[r],f=u,d=u,v=1;v<a.length;v++){var g=a[v].dot(s)+l[r];f=Math.min(g,f),d=Math.max(g,d)}o[0]=f,o[1]=d},n}(),OrientedBoundingRect_default=OrientedBoundingRect,m=[],IncrementalDisplayable=function(n){__extends2(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.notClear=!0,a.incremental=!0,a._displayables=[],a._temporaryDisplayables=[],a._cursor=0,a}return r.prototype.traverse=function(a,o){a.call(o,this)},r.prototype.useStyle=function(){this.style={}},r.prototype.getCursor=function(){return this._cursor},r.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},r.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},r.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},r.prototype.addDisplayable=function(a,o){o?this._temporaryDisplayables.push(a):this._displayables.push(a),this.markRedraw()},r.prototype.addDisplayables=function(a,o){o=o||!1;for(var s=0;s<a.length;s++)this.addDisplayable(a[s],o)},r.prototype.getDisplayables=function(){return this._displayables},r.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},r.prototype.eachPendingDisplayable=function(a){for(var o=this._cursor;o<this._displayables.length;o++)a&&a(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)a&&a(this._temporaryDisplayables[o])},r.prototype.update=function(){this.updateTransform();for(var a=this._cursor;a<this._displayables.length;a++){var o=this._displayables[a];o.parent=this,o.update(),o.parent=null}for(var a=0;a<this._temporaryDisplayables.length;a++){var o=this._temporaryDisplayables[a];o.parent=this,o.update(),o.parent=null}},r.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new BoundingRect_default(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var s=this._displayables[o],l=s.getBoundingRect().clone();s.needLocalTransform()&&l.applyTransform(s.getLocalTransform(m)),a.union(l)}this._rect=a}return this._rect},r.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();if(l.contain(s[0],s[1]))for(var u=0;u<this._displayables.length;u++){var f=this._displayables[u];if(f.contain(a,o))return!0}return!1},r}(Displayable_default),IncrementalDisplayable_default=IncrementalDisplayable,transitionStore=makeInner();function getAnimationConfig(n,r,a,o,s){var l;if(r&&r.ecModel){var u=r.ecModel.getUpdatePayload();l=u&&u.animation}var f=r&&r.isAnimationEnabled(),d=n==="update";if(f){var v=void 0,g=void 0,y=void 0;o?(v=retrieve2(o.duration,200),g=retrieve2(o.easing,"cubicOut"),y=0):(v=r.getShallow(d?"animationDurationUpdate":"animationDuration"),g=r.getShallow(d?"animationEasingUpdate":"animationEasing"),y=r.getShallow(d?"animationDelayUpdate":"animationDelay")),l&&(l.duration!=null&&(v=l.duration),l.easing!=null&&(g=l.easing),l.delay!=null&&(y=l.delay)),isFunction3(y)&&(y=y(a,s)),isFunction3(v)&&(v=v(a));var b={duration:v||0,delay:y,easing:g};return b}else return null}function animateOrSetProps(n,r,a,o,s,l,u){var f=!1,d;isFunction3(s)?(u=l,l=s,s=null):isObject3(s)&&(l=s.cb,u=s.during,f=s.isFrom,d=s.removeOpt,s=s.dataIndex);var v=n==="leave";v||r.stopAnimation("leave");var g=getAnimationConfig(n,o,s,v?d||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(r,s):null);if(g&&g.duration>0){var y=g.duration,b=g.delay,_=g.easing,x={duration:y,delay:b||0,easing:_,done:l,force:!!l||!!u,setToFinal:!v,scope:n,during:u};f?r.animateFrom(a,x):r.animateTo(a,x)}else r.stopAnimation(),!f&&r.attr(a),u&&u(1),l&&l()}function updateProps2(n,r,a,o,s,l){animateOrSetProps("update",n,r,a,o,s,l)}function initProps2(n,r,a,o,s,l){animateOrSetProps("enter",n,r,a,o,s,l)}function isElementRemoved(n){if(!n.__zr)return!0;for(var r=0;r<n.animators.length;r++){var a=n.animators[r];if(a.scope==="leave")return!0}return!1}function removeElement2(n,r,a,o,s,l){isElementRemoved(n)||animateOrSetProps("leave",n,r,a,o,s,l)}function fadeOutDisplayable(n,r,a,o){n.removeTextContent(),n.removeTextGuideLine(),removeElement2(n,{style:{opacity:0}},r,a,o)}function removeElementWithFadeOut(n,r,a){function o(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(s){s.isGroup||fadeOutDisplayable(s,r,a,o)}):fadeOutDisplayable(n,r,a,o)}function saveOldStyle(n){transitionStore(n).oldStyle=n.style}function getOldStyle(n){return transitionStore(n).oldStyle}var mathMax5=Math.max,mathMin5=Math.min,_customShapeMap={};function extendShape(n){return Path_default.extend(n)}var extendPathFromString=extendFromString;function extendPath(n,r){return extendPathFromString(n,r)}function registerShape(n,r){_customShapeMap[n]=r}function getShapeClass(n){if(_customShapeMap.hasOwnProperty(n))return _customShapeMap[n]}function makePath(n,r,a,o){var s=createFromString(n,r);return a&&(o==="center"&&(a=centerGraphic(a,s.getBoundingRect())),resizePath(s,a)),s}function makeImage(n,r,a){var o=new Image_default({style:{image:n,x:r.x,y:r.y,width:r.width,height:r.height},onload:function(s){if(a==="center"){var l={width:s.width,height:s.height};o.setStyle(centerGraphic(r,l))}}});return o}function centerGraphic(n,r){var a=r.width/r.height,o=n.height*a,s;o<=n.width?s=n.height:(o=n.width,s=o/a);var l=n.x+n.width/2,u=n.y+n.height/2;return{x:l-o/2,y:u-s/2,width:o,height:s}}var mergePath2=mergePath;function resizePath(n,r){if(!!n.applyTransform){var a=n.getBoundingRect(),o=a.calculateTransform(r);n.applyTransform(o)}}function subPixelOptimizeLine2(n){return subPixelOptimizeLine(n.shape,n.shape,n.style),n}function subPixelOptimizeRect2(n){return subPixelOptimizeRect(n.shape,n.shape,n.style),n}var subPixelOptimize2=subPixelOptimize;function getTransform(n,r){for(var a=identity2([]);n&&n!==r;)mul(a,n.getLocalTransform(),a),n=n.parent;return a}function applyTransform2(n,r,a){return r&&!isArrayLike2(r)&&(r=Transformable_default.getLocalTransform(r)),a&&(r=invert([],r)),applyTransform([],n,r)}function transformDirection(n,r,a){var o=r[4]===0||r[5]===0||r[0]===0?1:Math.abs(2*r[4]/r[0]),s=r[4]===0||r[5]===0||r[2]===0?1:Math.abs(2*r[4]/r[2]),l=[n==="left"?-o:n==="right"?o:0,n==="top"?-s:n==="bottom"?s:0];return l=applyTransform2(l,r,a),Math.abs(l[0])>Math.abs(l[1])?l[0]>0?"right":"left":l[1]>0?"bottom":"top"}function isNotGroup(n){return!n.isGroup}function isPath(n){return n.shape!=null}function groupTransition(n,r,a){if(!n||!r)return;function o(u){var f={};return u.traverse(function(d){isNotGroup(d)&&d.anid&&(f[d.anid]=d)}),f}function s(u){var f={x:u.x,y:u.y,rotation:u.rotation};return isPath(u)&&(f.shape=extend3({},u.shape)),f}var l=o(n);r.traverse(function(u){if(isNotGroup(u)&&u.anid){var f=l[u.anid];if(f){var d=s(u);u.attr(s(f)),updateProps2(u,d,a,getECData(u).dataIndex)}}})}function clipPointsByRect(n,r){return map3(n,function(a){var o=a[0];o=mathMax5(o,r.x),o=mathMin5(o,r.x+r.width);var s=a[1];return s=mathMax5(s,r.y),s=mathMin5(s,r.y+r.height),[o,s]})}function clipRectByRect(n,r){var a=mathMax5(n.x,r.x),o=mathMin5(n.x+n.width,r.x+r.width),s=mathMax5(n.y,r.y),l=mathMin5(n.y+n.height,r.y+r.height);if(o>=a&&l>=s)return{x:a,y:s,width:o-a,height:l-s}}function createIcon(n,r,a){var o=extend3({rectHover:!0},r),s=o.style={strokeNoScale:!0};if(a=a||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(s.image=n.slice(8),defaults(s,a),new Image_default(o)):makePath(n.replace("path://",""),o,a,"center")}function linePolygonIntersect(n,r,a,o,s){for(var l=0,u=s[s.length-1];l<s.length;l++){var f=s[l];if(lineLineIntersect(n,r,a,o,f[0],f[1],u[0],u[1]))return!0;u=f}}function lineLineIntersect(n,r,a,o,s,l,u,f){var d=a-n,v=o-r,g=u-s,y=f-l,b=crossProduct2d(g,y,d,v);if(nearZero(b))return!1;var _=n-s,x=r-l,C=crossProduct2d(_,x,d,v)/b;if(C<0||C>1)return!1;var w=crossProduct2d(_,x,g,y)/b;return!(w<0||w>1)}function crossProduct2d(n,r,a,o){return n*o-a*r}function nearZero(n){return n<=1e-6&&n>=-1e-6}function setTooltipConfig(n){var r=n.itemTooltipOption,a=n.componentModel,o=n.itemName,s=isString2(r)?{formatter:r}:r,l=a.mainType,u=a.componentIndex,f={componentType:l,name:o,$vars:["name"]};f[l+"Index"]=u;var d=n.formatterParamsExtra;d&&each(keys3(d),function(g){hasOwn2(f,g)||(f[g]=d[g],f.$vars.push(g))});var v=getECData(n.el);v.componentMainType=l,v.componentIndex=u,v.tooltipConfig={name:o,option:defaults({content:o,formatterParams:f},s)}}function traverseElement(n,r){var a;n.isGroup&&(a=r(n)),a||n.traverse(r)}function traverseElements(n,r){if(n)if(isArray3(n))for(var a=0;a<n.length;a++)traverseElement(n[a],r);else traverseElement(n,r)}registerShape("circle",Circle_default),registerShape("ellipse",Ellipse_default),registerShape("sector",Sector_default),registerShape("ring",Ring_default),registerShape("polygon",Polygon_default),registerShape("polyline",Polyline_default),registerShape("rect",Rect_default),registerShape("line",Line_default),registerShape("bezierCurve",BezierCurve_default),registerShape("arc",Arc_default);var EMPTY_OBJ2={};function setLabelText(n,r){for(var a=0;a<SPECIAL_STATES.length;a++){var o=SPECIAL_STATES[a],s=r[o],l=n.ensureState(o);l.style=l.style||{},l.style.text=s}var u=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:r.normal}),n.useStates(u,!0)}function getLabelText(n,r,a){var o=n.labelFetcher,s=n.labelDataIndex,l=n.labelDimIndex,u=r.normal,f;o&&(f=o.getFormattedLabel(s,"normal",null,l,u&&u.get("formatter"),a!=null?{interpolatedValue:a}:null)),f==null&&(f=isFunction3(n.defaultText)?n.defaultText(s,n,a):n.defaultText);for(var d={normal:f},v=0;v<SPECIAL_STATES.length;v++){var g=SPECIAL_STATES[v],y=r[g];d[g]=retrieve2(o?o.getFormattedLabel(s,g,null,l,y&&y.get("formatter")):null,f)}return d}function setLabelStyle(n,r,a,o){a=a||EMPTY_OBJ2;for(var s=n instanceof Text_default,l=!1,u=0;u<DISPLAY_STATES.length;u++){var f=r[DISPLAY_STATES[u]];if(f&&f.getShallow("show")){l=!0;break}}var d=s?n:n.getTextContent();if(l){s||(d||(d=new Text_default,n.setTextContent(d)),n.stateProxy&&(d.stateProxy=n.stateProxy));var v=getLabelText(a,r),g=r.normal,y=!!g.getShallow("show"),b=createTextStyle(g,o&&o.normal,a,!1,!s);b.text=v.normal,s||n.setTextConfig(createTextConfig(g,a,!1));for(var u=0;u<SPECIAL_STATES.length;u++){var _=SPECIAL_STATES[u],f=r[_];if(f){var x=d.ensureState(_),C=!!retrieve2(f.getShallow("show"),y);if(C!==y&&(x.ignore=!C),x.style=createTextStyle(f,o&&o[_],a,!0,!s),x.style.text=v[_],!s){var w=n.ensureState(_);w.textConfig=createTextConfig(f,a,!0)}}}d.silent=!!g.getShallow("silent"),d.style.x!=null&&(b.x=d.style.x),d.style.y!=null&&(b.y=d.style.y),d.ignore=!y,d.useStyle(b),d.dirty(),a.enableTextSetter&&(labelInner(d).setLabelText=function(S){var D=getLabelText(a,r,S);setLabelText(d,D)})}else d&&(d.ignore=!0);n.dirty()}function getLabelStatesModels(n,r){r=r||"label";for(var a={normal:n.getModel(r)},o=0;o<SPECIAL_STATES.length;o++){var s=SPECIAL_STATES[o];a[s]=n.getModel([s,r])}return a}function createTextStyle(n,r,a,o,s){var l={};return setTextStyleCommon(l,n,a,o,s),r&&extend3(l,r),l}function createTextConfig(n,r,a){r=r||{};var o={},s,l=n.getShallow("rotate"),u=retrieve2(n.getShallow("distance"),a?null:5),f=n.getShallow("offset");return s=n.getShallow("position")||(a?null:"inside"),s==="outside"&&(s=r.defaultOutsidePosition||"top"),s!=null&&(o.position=s),f!=null&&(o.offset=f),l!=null&&(l*=Math.PI/180,o.rotation=l),u!=null&&(o.distance=u),o.outsideFill=n.get("color")==="inherit"?r.inheritColor||null:"auto",o}function setTextStyleCommon(n,r,a,o,s){a=a||EMPTY_OBJ2;var l=r.ecModel,u=l&&l.option.textStyle,f=getRichItemNames(r),d;if(f){d={};for(var v in f)if(f.hasOwnProperty(v)){var g=r.getModel(["rich",v]);setTokenTextStyle(d[v]={},g,u,a,o,s,!1,!0)}}d&&(n.rich=d);var y=r.get("overflow");y&&(n.overflow=y);var b=r.get("minMargin");b!=null&&(n.margin=b),setTokenTextStyle(n,r,u,a,o,s,!0,!1)}function getRichItemNames(n){for(var r;n&&n!==n.ecModel;){var a=(n.option||EMPTY_OBJ2).rich;if(a){r=r||{};for(var o=keys3(a),s=0;s<o.length;s++){var l=o[s];r[l]=1}}n=n.parentModel}return r}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(n,r,a,o,s,l,u,f){a=!s&&a||EMPTY_OBJ2;var d=o&&o.inheritColor,v=r.getShallow("color"),g=r.getShallow("textBorderColor"),y=retrieve2(r.getShallow("opacity"),a.opacity);(v==="inherit"||v==="auto")&&(v==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),d?v=d:v=null),(g==="inherit"||g==="auto")&&(g==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),d?g=d:g=null),l||(v=v||a.color,g=g||a.textBorderColor),v!=null&&(n.fill=v),g!=null&&(n.stroke=g);var b=retrieve2(r.getShallow("textBorderWidth"),a.textBorderWidth);b!=null&&(n.lineWidth=b);var _=retrieve2(r.getShallow("textBorderType"),a.textBorderType);_!=null&&(n.lineDash=_);var x=retrieve2(r.getShallow("textBorderDashOffset"),a.textBorderDashOffset);x!=null&&(n.lineDashOffset=x),!s&&y==null&&!f&&(y=o&&o.defaultOpacity),y!=null&&(n.opacity=y),!s&&!l&&n.fill==null&&o.inheritColor&&(n.fill=o.inheritColor);for(var C=0;C<TEXT_PROPS_WITH_GLOBAL.length;C++){var w=TEXT_PROPS_WITH_GLOBAL[C],S=retrieve2(r.getShallow(w),a[w]);S!=null&&(n[w]=S)}for(var C=0;C<TEXT_PROPS_SELF.length;C++){var w=TEXT_PROPS_SELF[C],S=r.getShallow(w);S!=null&&(n[w]=S)}if(n.verticalAlign==null){var D=r.getShallow("baseline");D!=null&&(n.verticalAlign=D)}if(!u||!o.disableBox){for(var C=0;C<TEXT_PROPS_BOX.length;C++){var w=TEXT_PROPS_BOX[C],S=r.getShallow(w);S!=null&&(n[w]=S)}var A=r.getShallow("borderType");A!=null&&(n.borderDash=A),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&d&&(n.backgroundColor==="auto"&&deprecateReplaceLog("backgroundColor: 'auto'","backgroundColor: 'inherit'"),n.backgroundColor=d),(n.borderColor==="auto"||n.borderColor==="inherit")&&d&&(n.borderColor==="auto"&&deprecateReplaceLog("borderColor: 'auto'","borderColor: 'inherit'"),n.borderColor=d)}}function getFont(n,r){var a=r&&r.getModel("textStyle");return trim([n.fontStyle||a&&a.getShallow("fontStyle")||"",n.fontWeight||a&&a.getShallow("fontWeight")||"",(n.fontSize||a&&a.getShallow("fontSize")||12)+"px",n.fontFamily||a&&a.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(n,r,a,o){if(!!n){var s=labelInner(n);s.prevValue=s.value,s.value=a;var l=r.normal;s.valueAnimation=l.get("valueAnimation"),s.valueAnimation&&(s.precision=l.get("precision"),s.defaultInterpolatedText=o,s.statesModels=r)}}function animateLabelValue(n,r,a,o,s){var l=labelInner(n);if(!l.valueAnimation||l.prevValue===l.value)return;var u=l.defaultInterpolatedText,f=retrieve2(l.interpolatedValue,l.prevValue),d=l.value;function v(g){var y=interpolateRawValues(a,l.precision,f,d,g);l.interpolatedValue=g===1?null:y;var b=getLabelText({labelDataIndex:r,labelFetcher:s,defaultText:u?u(y):y+""},l.statesModels,y);setLabelText(n,b)}n.percent=0,(l.prevValue==null?initProps2:updateProps2)(n,{percent:1},o,r,null,v)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new Text_default,TextStyleMixin=function(){function n(){}return n.prototype.getTextColor=function(r){var a=this.ecModel;return this.getShallow("color")||(!r&&a?a.get(PATH_COLOR):null)},n.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(r){for(var a={text:r,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<textStyleParams.length;o++)a[textStyleParams[o]]=this.getShallow(textStyleParams[o]);return tmpText.useStyle(a),tmpText.update(),tmpText.getBoundingRect()},n}(),textStyle_default=TextStyleMixin,LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function n(){}return n.prototype.getLineStyle=function(r){return getLineStyle(this,r)},n}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function n(){}return n.prototype.getItemStyle=function(r,a){return getItemStyle(this,r,a)},n}(),Model=function(){function n(r,a,o){this.parentModel=a,this.ecModel=o,this.option=r}return n.prototype.init=function(r,a,o){for(var s=[],l=3;l<arguments.length;l++)s[l-3]=arguments[l]},n.prototype.mergeOption=function(r,a){merge3(this.option,r,!0)},n.prototype.get=function(r,a){return r==null?this.option:this._doGet(this.parsePath(r),!a&&this.parentModel)},n.prototype.getShallow=function(r,a){var o=this.option,s=o==null?o:o[r];if(s==null&&!a){var l=this.parentModel;l&&(s=l.getShallow(r))}return s},n.prototype.getModel=function(r,a){var o=r!=null,s=o?this.parsePath(r):null,l=o?this._doGet(s):this.option;return a=a||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(s)),new n(l,a,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var r=this.constructor;return new r(clone(this.option))},n.prototype.parsePath=function(r){return typeof r=="string"?r.split("."):r},n.prototype.resolveParentPath=function(r){return r},n.prototype.isAnimationEnabled=function(){if(!env_default.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(r,a){var o=this.option;if(!r)return o;for(var s=0;s<r.length&&!(!!r[s]&&(o=o&&typeof o=="object"?o[r[s]]:null,o==null));s++);return o==null&&a&&(o=a._doGet(this.resolveParentPath(r),a.parentModel)),o},n}();enableClassExtend(Model),enableClassCheck(Model),mixin(Model,LineStyleMixin),mixin(Model,ItemStyleMixin),mixin(Model,AreaStyleMixin),mixin(Model,textStyle_default);var Model_default=Model,base4=Math.round(Math.random()*10);function getUID(n){return[n||"",base4++].join("_")}function enableSubTypeDefaulter(n){var r={};n.registerSubTypeDefaulter=function(a,o){var s=parseClassType(a);r[s.main]=o},n.determineSubType=function(a,o){var s=o.type;if(!s){var l=parseClassType(a).main;n.hasSubTypes(a)&&r[l]&&(s=r[l](o))}return s}}function enableTopologicalTravel(n,r){n.topologicalTravel=function(l,u,f,d){if(!l.length)return;var v=a(u),g=v.graph,y=v.noEntryList,b={};for(each(l,function(D){b[D]=!0});y.length;){var _=y.pop(),x=g[_],C=!!b[_];C&&(f.call(d,_,x.originalDeps.slice()),delete b[_]),each(x.successor,C?S:w)}each(b,function(){var D="";throw D=makePrintable("Circular dependency may exists: ",b,l,u),new Error(D)});function w(D){g[D].entryCount--,g[D].entryCount===0&&y.push(D)}function S(D){b[D]=!0,w(D)}};function a(l){var u={},f=[];return each(l,function(d){var v=o(u,d),g=v.originalDeps=r(d),y=s(g,l);v.entryCount=y.length,v.entryCount===0&&f.push(d),each(y,function(b){indexOf(v.predecessor,b)<0&&v.predecessor.push(b);var _=o(u,b);indexOf(_.successor,b)<0&&_.successor.push(d)})}),{graph:u,noEntryList:f}}function o(l,u){return l[u]||(l[u]={predecessor:[],successor:[]}),l[u]}function s(l,u){var f=[];return each(l,function(d){indexOf(u,d)>=0&&f.push(d)}),f}}function inheritDefaultOption(n,r){return merge3(merge3({},n,!0),r,!0)}var langEN_default={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH_default={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}},LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env_default.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return n.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(n,r){n=n.toUpperCase(),localeModels[n]=new Model_default(r),localeStorage[n]=r}function createLocaleObject(n){if(isString2(n)){var r=localeStorage[n.toUpperCase()]||{};return n===LOCALE_ZH||n===LOCALE_EN?clone(r):merge3(clone(r),clone(localeStorage[DEFAULT_LOCALE]),!1)}else return merge3(clone(n),clone(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(n){return localeModels[n]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN_default),registerLocale(LOCALE_ZH,langZH_default);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(n,r){return n+="","0000".substr(0,r-n.length)+n}function getPrimaryTimeUnit(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function isPrimaryTimeUnit(n){return n===getPrimaryTimeUnit(n)}function getDefaultFormatPrecisionOfInterval(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format2(n,r,a,o){var s=parseDate(n),l=s[fullYearGetterName(a)](),u=s[monthGetterName(a)]()+1,f=Math.floor((u-1)/4)+1,d=s[dateGetterName(a)](),v=s["get"+(a?"UTC":"")+"Day"](),g=s[hoursGetterName(a)](),y=(g-1)%12+1,b=s[minutesGetterName(a)](),_=s[secondsGetterName(a)](),x=s[millisecondsGetterName(a)](),C=o instanceof Model_default?o:getLocaleModel(o||SYSTEM_LANG)||getDefaultLocaleModel(),w=C.getModel("time"),S=w.get("month"),D=w.get("monthAbbr"),A=w.get("dayOfWeek"),T=w.get("dayOfWeekAbbr");return(r||"").replace(/{yyyy}/g,l+"").replace(/{yy}/g,l%100+"").replace(/{Q}/g,f+"").replace(/{MMMM}/g,S[u-1]).replace(/{MMM}/g,D[u-1]).replace(/{MM}/g,pad(u,2)).replace(/{M}/g,u+"").replace(/{dd}/g,pad(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,A[v]).replace(/{ee}/g,T[v]).replace(/{e}/g,v+"").replace(/{HH}/g,pad(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,pad(y+"",2)).replace(/{h}/g,y+"").replace(/{mm}/g,pad(b,2)).replace(/{m}/g,b+"").replace(/{ss}/g,pad(_,2)).replace(/{s}/g,_+"").replace(/{SSS}/g,pad(x,3)).replace(/{S}/g,x+"")}function leveledFormat(n,r,a,o,s){var l=null;if(isString2(a))l=a;else if(isFunction3(a))l=a(n.value,r,{level:n.level});else{var u=extend3({},defaultLeveledFormatter);if(n.level>0)for(var f=0;f<primaryTimeUnits.length;++f)u[primaryTimeUnits[f]]="{primary|"+u[primaryTimeUnits[f]]+"}";var d=a?a.inherit===!1?a:defaults(a,u):u,v=getUnitFromValue(n.value,s);if(d[v])l=d[v];else if(d.inherit){for(var g=timeUnits.indexOf(v),f=g-1;f>=0;--f)if(d[v]){l=d[v];break}l=l||u.none}if(isArray3(l)){var y=n.level==null?0:n.level>=0?n.level:l.length+n.level;y=Math.min(y,l.length-1),l=l[y]}}return format2(new Date(n.value),l,s,o)}function getUnitFromValue(n,r){var a=parseDate(n),o=a[monthGetterName(r)]()+1,s=a[dateGetterName(r)](),l=a[hoursGetterName(r)](),u=a[minutesGetterName(r)](),f=a[secondsGetterName(r)](),d=a[millisecondsGetterName(r)](),v=d===0,g=v&&f===0,y=g&&u===0,b=y&&l===0,_=b&&s===1,x=_&&o===1;return x?"year":_?"month":b?"day":y?"hour":g?"minute":v?"second":"millisecond"}function getUnitValue(n,r,a){var o=isNumber(n)?parseDate(n):n;switch(r=r||getUnitFromValue(n,a),r){case"year":return o[fullYearGetterName(a)]();case"half-year":return o[monthGetterName(a)]()>=6?1:0;case"quarter":return Math.floor((o[monthGetterName(a)]()+1)/4);case"month":return o[monthGetterName(a)]();case"day":return o[dateGetterName(a)]();case"half-day":return o[hoursGetterName(a)]()/24;case"hour":return o[hoursGetterName(a)]();case"minute":return o[minutesGetterName(a)]();case"second":return o[secondsGetterName(a)]();case"millisecond":return o[millisecondsGetterName(a)]()}}function fullYearGetterName(n){return n?"getUTCFullYear":"getFullYear"}function monthGetterName(n){return n?"getUTCMonth":"getMonth"}function dateGetterName(n){return n?"getUTCDate":"getDate"}function hoursGetterName(n){return n?"getUTCHours":"getHours"}function minutesGetterName(n){return n?"getUTCMinutes":"getMinutes"}function secondsGetterName(n){return n?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(n){return n?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(n){return n?"setUTCFullYear":"setFullYear"}function monthSetterName(n){return n?"setUTCMonth":"setMonth"}function dateSetterName(n){return n?"setUTCDate":"setDate"}function hoursSetterName(n){return n?"setUTCHours":"setHours"}function minutesSetterName(n){return n?"setUTCMinutes":"setMinutes"}function secondsSetterName(n){return n?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(n){return n?"setUTCMilliseconds":"setMilliseconds"}function addCommas(n){if(!isNumeric(n))return isString2(n)?n:"-";var r=(n+"").split(".");return r[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(r.length>1?"."+r[1]:"")}function toCamelCase(n,r){return n=(n||"").toLowerCase().replace(/-(.)/g,function(a,o){return o.toUpperCase()}),r&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var normalizeCssArray2=normalizeCssArray,replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(n){return n==null?"":(n+"").replace(replaceReg,function(r,a){return replaceMap[a]})}function makeValueReadable(n,r,a){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function s(g){return g&&trim(g)?g:"-"}function l(g){return!!(g!=null&&!isNaN(g)&&isFinite(g))}var u=r==="time",f=n instanceof Date;if(u||f){var d=u?parseDate(n):n;if(isNaN(+d)){if(f)return"-"}else return format2(d,o,a)}if(r==="ordinal")return isStringSafe(n)?s(n):isNumber(n)&&l(n)?n+"":"-";var v=numericToNumber(n);return l(v)?addCommas(v):isStringSafe(n)?s(n):typeof n=="boolean"?n+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(n,r){return"{"+n+(r==null?"":r)+"}"};function formatTpl(n,r,a){isArray3(r)||(r=[r]);var o=r.length;if(!o)return"";for(var s=r[0].$vars||[],l=0;l<s.length;l++){var u=TPL_VAR_ALIAS[l];n=n.replace(wrapVar(u),wrapVar(u,0))}for(var f=0;f<o;f++)for(var d=0;d<s.length;d++){var v=r[f][s[d]];n=n.replace(wrapVar(TPL_VAR_ALIAS[d],f),a?encodeHTML(v):v)}return n}function formatTplSimple(n,r,a){return each(r,function(o,s){n=n.replace("{"+s+"}",a?encodeHTML(o):o)}),n}function getTooltipMarker(n,r){var a=isString2(n)?{color:n,extraCssText:r}:n||{},o=a.color,s=a.type;r=a.extraCssText;var l=a.renderMode||"html";if(!o)return"";if(l==="html")return s==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(o)+";"+(r||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(o)+";"+(r||"")+'"></span>';var u=a.markerId||"markerX";return{renderMode:l,content:"{"+u+"|}  ",style:s==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function convertToColorString(n,r){return r=r||"transparent",isString2(n)?n:isObject3(n)&&n.colorStops&&(n.colorStops[0]||{}).color||r}function windowOpen(n,r){if(r==="_blank"||r==="blank"){var a=window.open();a.opener=null,a.location.href=n}else window.open(n,r)}var each2=each,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(n,r,a,o,s){var l=0,u=0;o==null&&(o=1/0),s==null&&(s=1/0);var f=0;r.eachChild(function(d,v){var g=d.getBoundingRect(),y=r.childAt(v+1),b=y&&y.getBoundingRect(),_,x;if(n==="horizontal"){var C=g.width+(b?-b.x+g.x:0);_=l+C,_>o||d.newline?(l=0,_=C,u+=f+a,f=g.height):f=Math.max(f,g.height)}else{var w=g.height+(b?-b.y+g.y:0);x=u+w,x>s||d.newline?(l+=f+a,u=0,x=w,f=g.width):f=Math.max(f,g.width)}d.newline||(d.x=l,d.y=u,d.markRedraw(),n==="horizontal"?l=_+a:u=x+a)})}var box=boxLayout,vbox=curry(boxLayout,"vertical"),hbox=curry(boxLayout,"horizontal");function getAvailableSize(n,r,a){var o=r.width,s=r.height,l=parsePercent2(n.left,o),u=parsePercent2(n.top,s),f=parsePercent2(n.right,o),d=parsePercent2(n.bottom,s);return(isNaN(l)||isNaN(parseFloat(n.left)))&&(l=0),(isNaN(f)||isNaN(parseFloat(n.right)))&&(f=o),(isNaN(u)||isNaN(parseFloat(n.top)))&&(u=0),(isNaN(d)||isNaN(parseFloat(n.bottom)))&&(d=s),a=normalizeCssArray2(a||0),{width:Math.max(f-l-a[1]-a[3],0),height:Math.max(d-u-a[0]-a[2],0)}}function getLayoutRect(n,r,a){a=normalizeCssArray2(a||0);var o=r.width,s=r.height,l=parsePercent2(n.left,o),u=parsePercent2(n.top,s),f=parsePercent2(n.right,o),d=parsePercent2(n.bottom,s),v=parsePercent2(n.width,o),g=parsePercent2(n.height,s),y=a[2]+a[0],b=a[1]+a[3],_=n.aspect;switch(isNaN(v)&&(v=o-f-b-l),isNaN(g)&&(g=s-d-y-u),_!=null&&(isNaN(v)&&isNaN(g)&&(_>o/s?v=o*.8:g=s*.8),isNaN(v)&&(v=_*g),isNaN(g)&&(g=v/_)),isNaN(l)&&(l=o-f-v-b),isNaN(u)&&(u=s-d-g-y),n.left||n.right){case"center":l=o/2-v/2-a[3];break;case"right":l=o-v-b;break}switch(n.top||n.bottom){case"middle":case"center":u=s/2-g/2-a[0];break;case"bottom":u=s-g-y;break}l=l||0,u=u||0,isNaN(v)&&(v=o-b-l-(f||0)),isNaN(g)&&(g=s-y-u-(d||0));var x=new BoundingRect_default(l+a[3],u+a[0],v,g);return x.margin=a,x}function positionElement(n,r,a,o,s,l){var u=!s||!s.hv||s.hv[0],f=!s||!s.hv||s.hv[1],d=s&&s.boundingMode||"all";if(l=l||n,l.x=n.x,l.y=n.y,!u&&!f)return!1;var v;if(d==="raw")v=n.type==="group"?new BoundingRect_default(0,0,+r.width||0,+r.height||0):n.getBoundingRect();else if(v=n.getBoundingRect(),n.needLocalTransform()){var g=n.getLocalTransform();v=v.clone(),v.applyTransform(g)}var y=getLayoutRect(defaults({width:v.width,height:v.height},r),a,o),b=u?y.x-v.x:0,_=f?y.y-v.y:0;return d==="raw"?(l.x=b,l.y=_):(l.x+=b,l.y+=_),l===n&&n.markRedraw(),!0}function fetchLayoutMode(n){var r=n.layoutMode||n.constructor.layoutMode;return isObject3(r)?r:r?{type:r}:null}function mergeLayoutParam(n,r,a){var o=a&&a.ignoreSize;!isArray3(o)&&(o=[o,o]);var s=u(HV_NAMES[0],0),l=u(HV_NAMES[1],1);v(HV_NAMES[0],n,s),v(HV_NAMES[1],n,l);function u(g,y){var b={},_=0,x={},C=0,w=2;if(each2(g,function(A){x[A]=n[A]}),each2(g,function(A){f(r,A)&&(b[A]=x[A]=r[A]),d(b,A)&&_++,d(x,A)&&C++}),o[y])return d(r,g[1])?x[g[2]]=null:d(r,g[2])&&(x[g[1]]=null),x;if(C===w||!_)return x;if(_>=w)return b;for(var S=0;S<g.length;S++){var D=g[S];if(!f(b,D)&&f(n,D)){b[D]=n[D];break}}return b}function f(g,y){return g.hasOwnProperty(y)}function d(g,y){return g[y]!=null&&g[y]!=="auto"}function v(g,y,b){each2(g,function(_){y[_]=b[_]})}}function getLayoutParams(n){return copyLayoutParams({},n)}function copyLayoutParams(n,r){return r&&n&&each2(LOCATION_PARAMS,function(a){r.hasOwnProperty(a)&&(n[a]=r[a])}),n}var inner=makeInner(),ComponentModel=function(n){__extends(r,n);function r(a,o,s){var l=n.call(this,a,o,s)||this;return l.uid=getUID("ec_cpt_model"),l}return r.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s)},r.prototype.mergeDefaultAndTheme=function(a,o){var s=fetchLayoutMode(this),l=s?getLayoutParams(a):{},u=o.getTheme();merge3(a,u.get(this.mainType)),merge3(a,this.getDefaultOption()),s&&mergeLayoutParam(a,l,s)},r.prototype.mergeOption=function(a,o){merge3(this.option,a,!0);var s=fetchLayoutMode(this);s&&mergeLayoutParam(this.option,a,s)},r.prototype.optionUpdated=function(a,o){},r.prototype.getDefaultOption=function(){var a=this.constructor;if(!isExtendedClass(a))return a.defaultOption;var o=inner(this);if(!o.defaultOption){for(var s=[],l=a;l;){var u=l.prototype.defaultOption;u&&s.push(u),l=l.superClass}for(var f={},d=s.length-1;d>=0;d--)f=merge3(f,s[d],!0);o.defaultOption=f}return o.defaultOption},r.prototype.getReferringComponents=function(a,o){var s=a+"Index",l=a+"Id";return queryReferringComponents(this.ecModel,a,{index:this.get(s,!0),id:this.get(l,!0)},o)},r.prototype.getBoxLayoutParams=function(){var a=this;return{left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")}},r.prototype.getZLevelKey=function(){return""},r.prototype.setZLevel=function(a){this.option.zlevel=a},r.protoInitialize=function(){var a=r.prototype;a.type="component",a.id="",a.name="",a.mainType="",a.subType="",a.componentIndex=0}(),r}(Model_default);mountExtend(ComponentModel,Model_default),enableClassManagement(ComponentModel),enableSubTypeDefaulter(ComponentModel),enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(n){var r=[];return each(ComponentModel.getClassesByMainType(n),function(a){r=r.concat(a.dependencies||a.prototype.dependencies||[])}),r=map3(r,function(a){return parseClassType(a).main}),n!=="dataset"&&indexOf(r,"dataset")<=0&&r.unshift("dataset"),r}var Component_default=ComponentModel,platform="";typeof navigator!="undefined"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)",globalDefault_default={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(n){innerGlobalModel(n).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(n,r,a){var o={},s=querySeriesUpstreamDatasetModel(r);if(!s||!n)return o;var l=[],u=[],f=r.ecModel,d=innerGlobalModel(f).datasetMap,v=s.uid+"_"+a.seriesLayoutBy,g,y;n=n.slice(),each(n,function(C,w){var S=isObject3(C)?C:n[w]={name:C};S.type==="ordinal"&&g==null&&(g=w,y=x(S)),o[S.name]=[]});var b=d.get(v)||d.set(v,{categoryWayDim:y,valueWayDim:0});each(n,function(C,w){var S=C.name,D=x(C);if(g==null){var A=b.valueWayDim;_(o[S],A,D),_(u,A,D),b.valueWayDim+=D}else if(g===w)_(o[S],0,D),_(l,0,D);else{var A=b.categoryWayDim;_(o[S],A,D),_(u,A,D),b.categoryWayDim+=D}});function _(C,w,S){for(var D=0;D<S;D++)C.push(w+D)}function x(C){var w=C.dimsDef;return w?w.length:1}return l.length&&(o.itemName=l),u.length&&(o.seriesName=u),o}function makeSeriesEncodeForNameBased(n,r,a){var o={},s=querySeriesUpstreamDatasetModel(n);if(!s)return o;var l=r.sourceFormat,u=r.dimensionsDefine,f;(l===SOURCE_FORMAT_OBJECT_ROWS||l===SOURCE_FORMAT_KEYED_COLUMNS)&&each(u,function(g,y){(isObject3(g)?g.name:g)==="name"&&(f=y)});var d=function(){for(var g={},y={},b=[],_=0,x=Math.min(5,a);_<x;_++){var C=doGuessOrdinal(r.data,l,r.seriesLayoutBy,u,r.startIndex,_);b.push(C);var w=C===BE_ORDINAL.Not;if(w&&g.v==null&&_!==f&&(g.v=_),(g.n==null||g.n===g.v||!w&&b[g.n]===BE_ORDINAL.Not)&&(g.n=_),S(g)&&b[g.n]!==BE_ORDINAL.Not)return g;w||(C===BE_ORDINAL.Might&&y.v==null&&_!==f&&(y.v=_),(y.n==null||y.n===y.v)&&(y.n=_))}function S(D){return D.v!=null&&D.n!=null}return S(g)?g:S(y)?y:null}();if(d){o.value=[d.v];var v=f!=null?f:d.n;o.itemName=[v],o.seriesName=[v]}return o}function querySeriesUpstreamDatasetModel(n){var r=n.get("data",!0);if(!r)return queryReferringComponents(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:queryReferringComponents(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(n,r){return doGuessOrdinal(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,r)}function doGuessOrdinal(n,r,a,o,s,l){var u,f=5;if(isTypedArray2(n))return BE_ORDINAL.Not;var d,v;if(o){var g=o[l];isObject3(g)?(d=g.name,v=g.type):isString2(g)&&(d=g)}if(v!=null)return v==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(r===SOURCE_FORMAT_ARRAY_ROWS){var y=n;if(a===SERIES_LAYOUT_BY_ROW){for(var b=y[l],_=0;_<(b||[]).length&&_<f;_++)if((u=T(b[s+_]))!=null)return u}else for(var _=0;_<y.length&&_<f;_++){var x=y[s+_];if(x&&(u=T(x[l]))!=null)return u}}else if(r===SOURCE_FORMAT_OBJECT_ROWS){var C=n;if(!d)return BE_ORDINAL.Not;for(var _=0;_<C.length&&_<f;_++){var w=C[_];if(w&&(u=T(w[d]))!=null)return u}}else if(r===SOURCE_FORMAT_KEYED_COLUMNS){var S=n;if(!d)return BE_ORDINAL.Not;var b=S[d];if(!b||isTypedArray2(b))return BE_ORDINAL.Not;for(var _=0;_<b.length&&_<f;_++)if((u=T(b[_]))!=null)return u}else if(r===SOURCE_FORMAT_ORIGINAL)for(var D=n,_=0;_<D.length&&_<f;_++){var w=D[_],A=getDataItemValue(w);if(!isArray3(A))return BE_ORDINAL.Not;if((u=T(A[l]))!=null)return u}function T(M){var E=isString2(M);if(M!=null&&isFinite(M)&&M!=="")return E?BE_ORDINAL.Might:BE_ORDINAL.Not;if(E&&M!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(n,r){assert(internalOptionCreatorMap.get(n)==null&&r),internalOptionCreatorMap.set(n,r)}function concatInternalOptions(n,r,a){var o=internalOptionCreatorMap.get(r);if(!o)return a;var s=o(n);if(!s)return a;for(var l=0;l<s.length;l++)assert(isComponentIdInternal(s[l]));return a.concat(s)}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function n(){}return n.prototype.getColorFromPalette=function(r,a,o){var s=normalizeToArray(this.get("color",!0)),l=this.get("colorLayer",!0);return getFromPalette(this,innerColor,s,l,r,a,o)},n.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},n}();function getDecalFromPalette(n,r,a,o){var s=normalizeToArray(n.get(["aria","decal","decals"]));return getFromPalette(n,innerDecal,s,null,r,a,o)}function getNearestPalette(n,r){for(var a=n.length,o=0;o<a;o++)if(n[o].length>r)return n[o];return n[a-1]}function getFromPalette(n,r,a,o,s,l,u){l=l||n;var f=r(l),d=f.paletteIdx||0,v=f.paletteNameMap=f.paletteNameMap||{};if(v.hasOwnProperty(s))return v[s];var g=u==null||!o?a:getNearestPalette(o,u);if(g=g||a,!(!g||!g.length)){var y=g[d];return s&&(v[s]=y),f.paletteIdx=(d+1)%g.length,y}}function clearPalette(n,r){r(n).paletteIdx=0,r(n).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,BUITIN_COMPONENTS_MAP={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},BUILTIN_CHARTS_MAP={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},componetsMissingLogPrinted={};function checkMissingComponents(n){each(n,function(r,a){if(!Component_default.hasClass(a)){var o=BUITIN_COMPONENTS_MAP[a];o&&!componetsMissingLogPrinted[o]&&(error("Component "+a+` is used but not imported.
import { `+o+` } from 'echarts/components';
echarts.use([`+o+"]);"),componetsMissingLogPrinted[o]=!0)}})}var GlobalModel=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.init=function(a,o,s,l,u,f){l=l||{},this.option=null,this._theme=new Model_default(l),this._locale=new Model_default(u),this._optionManager=f},r.prototype.setOption=function(a,o,s){assert(a!=null,"option is null/undefined"),assert(a[OPTION_INNER_KEY]!==OPTION_INNER_VALUE,"please use chart.getOption()");var l=normalizeSetOptionInput(o);this._optionManager.setOption(a,s,l),this._resetOption(null,l)},r.prototype.resetOption=function(a,o){return this._resetOption(a,normalizeSetOptionInput(o))},r.prototype._resetOption=function(a,o){var s=!1,l=this._optionManager;if(!a||a==="recreate"){var u=l.mountOption(a==="recreate");checkMissingComponents(u),!this.option||a==="recreate"?initBase(this,u):(this.restoreData(),this._mergeOption(u,o)),s=!0}if((a==="timeline"||a==="media")&&this.restoreData(),!a||a==="recreate"||a==="timeline"){var f=l.getTimelineOption(this);f&&(s=!0,this._mergeOption(f,o))}if(!a||a==="recreate"||a==="media"){var d=l.getMediaOption(this);d.length&&each(d,function(v){s=!0,this._mergeOption(v,o)},this)}return s},r.prototype.mergeOption=function(a){this._mergeOption(a,null)},r.prototype._mergeOption=function(a,o){var s=this.option,l=this._componentsMap,u=this._componentsCount,f=[],d=createHashMap(),v=o&&o.replaceMergeMainTypeMap;resetSourceDefaulter(this),each(a,function(y,b){y!=null&&(Component_default.hasClass(b)?b&&(f.push(b),d.set(b,!0)):s[b]=s[b]==null?clone(y):merge3(s[b],y,!0))}),v&&v.each(function(y,b){Component_default.hasClass(b)&&!d.get(b)&&(f.push(b),d.set(b,!0))}),Component_default.topologicalTravel(f,Component_default.getAllClassMainTypes(),g,this);function g(y){var b=concatInternalOptions(this,y,normalizeToArray(a[y])),_=l.get(y),x=_?v&&v.get(y)?"replaceMerge":"normalMerge":"replaceAll",C=mappingToExists(_,b,x);setComponentTypeToKeyInfo(C,y,Component_default),s[y]=null,l.set(y,null),u.set(y,0);var w=[],S=[],D=0,A,T;each(C,function(M,E){var P=M.existing,I=M.newOption;if(!I)P&&(P.mergeOption({},this),P.optionUpdated({},!1));else{var F=y==="series",L=Component_default.getClass(y,M.keyInfo.subType,!F);if(!L){var O=M.keyInfo.subType,z=BUILTIN_CHARTS_MAP[O];componetsMissingLogPrinted[O]||(componetsMissingLogPrinted[O]=!0,error(z?"Series "+O+` is used but not imported.
import { `+z+` } from 'echarts/charts';
echarts.use([`+z+"]);":"Unkown series "+O));return}if(y==="tooltip"){if(A){T||(warn6("Currently only one tooltip component is allowed."),T=!0);return}A=!0}if(P&&P.constructor===L)P.name=M.keyInfo.name,P.mergeOption(I,this),P.optionUpdated(I,!1);else{var R=extend3({componentIndex:E},M.keyInfo);P=new L(I,this,this,R),extend3(P,R),M.brandNew&&(P.__requireNewView=!0),P.init(I,this,this),P.optionUpdated(null,!0)}}P?(w.push(P.option),S.push(P),D++):(w.push(void 0),S.push(void 0))},this),s[y]=w,l.set(y,S),u.set(y,D),y==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},r.prototype.getOption=function(){var a=clone(this.option);return each(a,function(o,s){if(Component_default.hasClass(s)){for(var l=normalizeToArray(o),u=l.length,f=!1,d=u-1;d>=0;d--)l[d]&&!isComponentIdInternal(l[d])?f=!0:(l[d]=null,!f&&u--);l.length=u,a[s]=l}}),delete a[OPTION_INNER_KEY],a},r.prototype.getTheme=function(){return this._theme},r.prototype.getLocaleModel=function(){return this._locale},r.prototype.setUpdatePayload=function(a){this._payload=a},r.prototype.getUpdatePayload=function(){return this._payload},r.prototype.getComponent=function(a,o){var s=this._componentsMap.get(a);if(s){var l=s[o||0];if(l)return l;if(o==null){for(var u=0;u<s.length;u++)if(s[u])return s[u]}}},r.prototype.queryComponents=function(a){var o=a.mainType;if(!o)return[];var s=a.index,l=a.id,u=a.name,f=this._componentsMap.get(o);if(!f||!f.length)return[];var d;return s!=null?(d=[],each(normalizeToArray(s),function(v){f[v]&&d.push(f[v])})):l!=null?d=queryByIdOrName("id",l,f):u!=null?d=queryByIdOrName("name",u,f):d=filter(f,function(v){return!!v}),filterBySubType(d,a)},r.prototype.findComponents=function(a){var o=a.query,s=a.mainType,l=f(o),u=l?this.queryComponents(l):filter(this._componentsMap.get(s),function(v){return!!v});return d(filterBySubType(u,a));function f(v){var g=s+"Index",y=s+"Id",b=s+"Name";return v&&(v[g]!=null||v[y]!=null||v[b]!=null)?{mainType:s,index:v[g],id:v[y],name:v[b]}:null}function d(v){return a.filter?filter(v,a.filter):v}},r.prototype.eachComponent=function(a,o,s){var l=this._componentsMap;if(isFunction3(a)){var u=o,f=a;l.each(function(y,b){for(var _=0;y&&_<y.length;_++){var x=y[_];x&&f.call(u,b,x,x.componentIndex)}})}else for(var d=isString2(a)?l.get(a):isObject3(a)?this.findComponents(a):null,v=0;d&&v<d.length;v++){var g=d[v];g&&o.call(s,g,g.componentIndex)}},r.prototype.getSeriesByName=function(a){var o=convertOptionIdName(a,null);return filter(this._componentsMap.get("series"),function(s){return!!s&&o!=null&&s.name===o})},r.prototype.getSeriesByIndex=function(a){return this._componentsMap.get("series")[a]},r.prototype.getSeriesByType=function(a){return filter(this._componentsMap.get("series"),function(o){return!!o&&o.subType===a})},r.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(a){return!!a})},r.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},r.prototype.eachSeries=function(a,o){assertSeriesInitialized(this),each(this._seriesIndices,function(s){var l=this._componentsMap.get("series")[s];a.call(o,l,s)},this)},r.prototype.eachRawSeries=function(a,o){each(this._componentsMap.get("series"),function(s){s&&a.call(o,s,s.componentIndex)})},r.prototype.eachSeriesByType=function(a,o,s){assertSeriesInitialized(this),each(this._seriesIndices,function(l){var u=this._componentsMap.get("series")[l];u.subType===a&&o.call(s,u,l)},this)},r.prototype.eachRawSeriesByType=function(a,o,s){return each(this.getSeriesByType(a),o,s)},r.prototype.isSeriesFiltered=function(a){return assertSeriesInitialized(this),this._seriesIndicesMap.get(a.componentIndex)==null},r.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},r.prototype.filterSeries=function(a,o){assertSeriesInitialized(this);var s=[];each(this._seriesIndices,function(l){var u=this._componentsMap.get("series")[l];a.call(o,u,l)&&s.push(l)},this),this._seriesIndices=s,this._seriesIndicesMap=createHashMap(s)},r.prototype.restoreData=function(a){reCreateSeriesIndices(this);var o=this._componentsMap,s=[];o.each(function(l,u){Component_default.hasClass(u)&&s.push(u)}),Component_default.topologicalTravel(s,Component_default.getAllClassMainTypes(),function(l){each(o.get(l),function(u){u&&(l!=="series"||!isNotTargetSeries(u,a))&&u.restoreData()})})},r.internalField=function(){reCreateSeriesIndices=function(a){var o=a._seriesIndices=[];each(a._componentsMap.get("series"),function(s){s&&o.push(s.componentIndex)}),a._seriesIndicesMap=createHashMap(o)},assertSeriesInitialized=function(a){if(!a._seriesIndices)throw new Error("Option should contains series.")},initBase=function(a,o){a.option={},a.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,a._componentsMap=createHashMap({series:[]}),a._componentsCount=createHashMap();var s=o.aria;isObject3(s)&&s.enabled==null&&(s.enabled=!0),mergeTheme(o,a._theme.option),merge3(o,globalDefault_default,!1),a._mergeOption(o,null)}}(),r}(Model_default);function isNotTargetSeries(n,r){if(r){var a=r.seriesIndex,o=r.seriesId,s=r.seriesName;return a!=null&&n.componentIndex!==a||o!=null&&n.id!==o||s!=null&&n.name!==s}}function mergeTheme(n,r){var a=n.color&&!n.colorLayer;each(r,function(o,s){s==="colorLayer"&&a||Component_default.hasClass(s)||(typeof o=="object"?n[s]=n[s]?merge3(n[s],o,!1):clone(o):n[s]==null&&(n[s]=o))})}function queryByIdOrName(n,r,a){if(isArray3(r)){var o=createHashMap();return each(r,function(l){if(l!=null){var u=convertOptionIdName(l,null);u!=null&&o.set(l,!0)}}),filter(a,function(l){return l&&o.get(l[n])})}else{var s=convertOptionIdName(r,null);return filter(a,function(l){return l&&s!=null&&l[n]===s})}}function filterBySubType(n,r){return r.hasOwnProperty("subType")?filter(n,function(a){return a&&a.subType===r.subType}):n}function normalizeSetOptionInput(n){var r=createHashMap();return n&&each(normalizeToArray(n.replaceMerge),function(a){assert(Component_default.hasClass(a),'"'+a+'" is not valid component main type in "replaceMerge"'),r.set(a,!0)}),{replaceMergeMainTypeMap:r}}mixin(GlobalModel,PaletteMixin);var Global_default=GlobalModel,availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function n(r){each(availableMethods,function(a){this[a]=bind(r[a],r)},this)}return n}(),ExtensionAPI_default=ExtensionAPI,coordinateSystemCreators={},CoordinateSystemManager=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(r,a){var o=[];each(coordinateSystemCreators,function(s,l){var u=s.create(r,a);o=o.concat(u||[])}),this._coordinateSystems=o},n.prototype.update=function(r,a){each(this._coordinateSystems,function(o){o.update&&o.update(r,a)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(r,a){coordinateSystemCreators[r]=a},n.get=function(r){return coordinateSystemCreators[r]},n}(),CoordinateSystem_default=CoordinateSystemManager,QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function n(r){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=r}return n.prototype.setOption=function(r,a,o){r&&(each(normalizeToArray(r.series),function(u){u&&u.data&&isTypedArray2(u.data)&&setAsPrimitive(u.data)}),each(normalizeToArray(r.dataset),function(u){u&&u.source&&isTypedArray2(u.source)&&setAsPrimitive(u.source)})),r=clone(r);var s=this._optionBackup,l=parseRawOption(r,a,!s);this._newBaseOption=l.baseOption,s?(l.timelineOptions.length&&(s.timelineOptions=l.timelineOptions),l.mediaList.length&&(s.mediaList=l.mediaList),l.mediaDefault&&(s.mediaDefault=l.mediaDefault)):this._optionBackup=l},n.prototype.mountOption=function(r){var a=this._optionBackup;return this._timelineOptions=a.timelineOptions,this._mediaList=a.mediaList,this._mediaDefault=a.mediaDefault,this._currentMediaIndices=[],clone(r?a.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(r){var a,o=this._timelineOptions;if(o.length){var s=r.getComponent("timeline");s&&(a=clone(o[s.getCurrentIndex()]))}return a},n.prototype.getMediaOption=function(r){var a=this._api.getWidth(),o=this._api.getHeight(),s=this._mediaList,l=this._mediaDefault,u=[],f=[];if(!s.length&&!l)return f;for(var d=0,v=s.length;d<v;d++)applyMediaQuery(s[d].query,a,o)&&u.push(d);return!u.length&&l&&(u=[-1]),u.length&&!indicesEquals(u,this._currentMediaIndices)&&(f=map3(u,function(g){return clone(g===-1?l.option:s[g].option)})),this._currentMediaIndices=u,f},n}();function parseRawOption(n,r,a){var o=[],s,l,u=n.baseOption,f=n.timeline,d=n.options,v=n.media,g=!!n.media,y=!!(d||f||u&&u.timeline);u?(l=u,l.timeline||(l.timeline=f)):((y||g)&&(n.options=n.media=null),l=n),g&&(isArray3(v)?each(v,function(_){_&&!_.option&&isObject3(_.query)&&isObject3(_.query.option)&&error("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),_&&_.option&&(_.query?o.push(_):s||(s=_))}):error("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),b(l),each(d,function(_){return b(_)}),each(o,function(_){return b(_.option)});function b(_){each(r,function(x){x(_,a)})}return{baseOption:l,timelineOptions:d||[],mediaDefault:s,mediaList:o}}function applyMediaQuery(n,r,a){var o={width:r,height:a,aspectratio:r/a},s=!0;return each(n,function(l,u){var f=u.match(QUERY_REG);if(!(!f||!f[1]||!f[2])){var d=f[1],v=f[2].toLowerCase();compare(o[v],l,d)||(s=!1)}}),s}function compare(n,r,a){return a==="min"?n>=r:a==="max"?n<=r:n===r}function indicesEquals(n,r){return n.join(",")===r.join(",")}var OptionManager_default=OptionManager,each3=each,isObject4=isObject3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(n){var r=n&&n.itemStyle;if(!!r)for(var a=0,o=POSSIBLE_STYLES.length;a<o;a++){var s=POSSIBLE_STYLES[a],l=r.normal,u=r.emphasis;l&&l[s]&&(deprecateReplaceLog("itemStyle.normal."+s,s),n[s]=n[s]||{},n[s].normal?merge3(n[s].normal,l[s]):n[s].normal=l[s],l[s]=null),u&&u[s]&&(deprecateReplaceLog("itemStyle.emphasis."+s,"emphasis."+s),n[s]=n[s]||{},n[s].emphasis?merge3(n[s].emphasis,u[s]):n[s].emphasis=u[s],u[s]=null)}}function convertNormalEmphasis(n,r,a){if(n&&n[r]&&(n[r].normal||n[r].emphasis)){var o=n[r].normal,s=n[r].emphasis;o&&(deprecateLog("'normal' hierarchy in "+r+" has been removed since 4.0. All style properties are configured in "+r+" directly now."),a?(n[r].normal=n[r].emphasis=null,defaults(n[r],o)):n[r]=o),s&&(deprecateLog(r+".emphasis has been changed to emphasis."+r+" since 4.0"),n.emphasis=n.emphasis||{},n.emphasis[r]=s,s.focus&&(n.emphasis.focus=s.focus),s.blurScope&&(n.emphasis.blurScope=s.blurScope))}}function removeEC3NormalStatus(n){convertNormalEmphasis(n,"itemStyle"),convertNormalEmphasis(n,"lineStyle"),convertNormalEmphasis(n,"areaStyle"),convertNormalEmphasis(n,"label"),convertNormalEmphasis(n,"labelLine"),convertNormalEmphasis(n,"upperLabel"),convertNormalEmphasis(n,"edgeLabel")}function compatTextStyle(n,r){var a=isObject4(n)&&n[r],o=isObject4(a)&&a.textStyle;if(o){deprecateLog("textStyle hierarchy in "+r+" has been removed since 4.0. All textStyle properties are configured in "+r+" directly now.");for(var s=0,l=TEXT_STYLE_OPTIONS.length;s<l;s++){var u=TEXT_STYLE_OPTIONS[s];o.hasOwnProperty(u)&&(a[u]=o[u])}}}function compatEC3CommonStyles(n){n&&(removeEC3NormalStatus(n),compatTextStyle(n,"label"),n.emphasis&&compatTextStyle(n.emphasis,"label"))}function processSeries(n){if(!!isObject4(n)){compatEC2ItemStyle(n),removeEC3NormalStatus(n),compatTextStyle(n,"label"),compatTextStyle(n,"upperLabel"),compatTextStyle(n,"edgeLabel"),n.emphasis&&(compatTextStyle(n.emphasis,"label"),compatTextStyle(n.emphasis,"upperLabel"),compatTextStyle(n.emphasis,"edgeLabel"));var r=n.markPoint;r&&(compatEC2ItemStyle(r),compatEC3CommonStyles(r));var a=n.markLine;a&&(compatEC2ItemStyle(a),compatEC3CommonStyles(a));var o=n.markArea;o&&compatEC3CommonStyles(o);var s=n.data;if(n.type==="graph"){s=s||n.nodes;var l=n.links||n.edges;if(l&&!isTypedArray2(l))for(var u=0;u<l.length;u++)compatEC3CommonStyles(l[u]);each(n.categories,function(v){removeEC3NormalStatus(v)})}if(s&&!isTypedArray2(s))for(var u=0;u<s.length;u++)compatEC3CommonStyles(s[u]);if(r=n.markPoint,r&&r.data)for(var f=r.data,u=0;u<f.length;u++)compatEC3CommonStyles(f[u]);if(a=n.markLine,a&&a.data)for(var d=a.data,u=0;u<d.length;u++)isArray3(d[u])?(compatEC3CommonStyles(d[u][0]),compatEC3CommonStyles(d[u][1])):compatEC3CommonStyles(d[u]);n.type==="gauge"?(compatTextStyle(n,"axisLabel"),compatTextStyle(n,"title"),compatTextStyle(n,"detail")):n.type==="treemap"?(convertNormalEmphasis(n.breadcrumb,"itemStyle"),each(n.levels,function(v){removeEC3NormalStatus(v)})):n.type==="tree"&&removeEC3NormalStatus(n.leaves)}}function toArr(n){return isArray3(n)?n:n?[n]:[]}function toObj(n){return(isArray3(n)?n[0]:n)||{}}function globalCompatStyle(n,r){each3(toArr(n.series),function(o){isObject4(o)&&processSeries(o)});var a=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];r&&a.push("valueAxis","categoryAxis","logAxis","timeAxis"),each3(a,function(o){each3(toArr(n[o]),function(s){s&&(compatTextStyle(s,"axisLabel"),compatTextStyle(s.axisPointer,"label"))})}),each3(toArr(n.parallel),function(o){var s=o&&o.parallelAxisDefault;compatTextStyle(s,"axisLabel"),compatTextStyle(s&&s.axisPointer,"label")}),each3(toArr(n.calendar),function(o){convertNormalEmphasis(o,"itemStyle"),compatTextStyle(o,"dayLabel"),compatTextStyle(o,"monthLabel"),compatTextStyle(o,"yearLabel")}),each3(toArr(n.radar),function(o){compatTextStyle(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name,deprecateLog("name property in radar component has been changed to axisName")),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap,deprecateLog("nameGap property in radar component has been changed to axisNameGap")),each3(o.indicator,function(s){s.text&&deprecateReplaceLog("text","name","radar.indicator")})}),each3(toArr(n.geo),function(o){isObject4(o)&&(compatEC3CommonStyles(o),each3(toArr(o.regions),function(s){compatEC3CommonStyles(s)}))}),each3(toArr(n.timeline),function(o){compatEC3CommonStyles(o),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"controlStyle",!0);var s=o.data;isArray3(s)&&each(s,function(l){isObject3(l)&&(convertNormalEmphasis(l,"label"),convertNormalEmphasis(l,"itemStyle"))})}),each3(toArr(n.toolbox),function(o){convertNormalEmphasis(o,"iconStyle"),each3(o.feature,function(s){convertNormalEmphasis(s,"iconStyle")})}),compatTextStyle(toObj(n.axisPointer),"label"),compatTextStyle(toObj(n.tooltip).axisPointer,"label")}function get3(n,r){for(var a=r.split(","),o=n,s=0;s<a.length&&(o=o&&o[a[s]],o!=null);s++);return o}function set2(n,r,a,o){for(var s=r.split(","),l=n,u,f=0;f<s.length-1;f++)u=s[f],l[u]==null&&(l[u]={}),l=l[u];(o||l[s[f]]==null)&&(l[s[f]]=a)}function compatLayoutProperties(n){n&&each(LAYOUT_PROPERTIES,function(r){r[0]in n&&!(r[1]in n)&&(n[r[1]]=n[r[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(n){var r=n&&n.itemStyle;if(r)for(var a=0;a<BAR_ITEM_STYLE_MAP.length;a++){var o=BAR_ITEM_STYLE_MAP[a][1],s=BAR_ITEM_STYLE_MAP[a][0];r[o]!=null&&(r[s]=r[o],deprecateReplaceLog(o,s))}}function compatPieLabel(n){!n||n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(deprecateReplaceLog("label.margin","label.edgeDistance","pie"),n.edgeDistance=n.margin)}function compatSunburstState(n){!n||n.downplay&&!n.blur&&(n.blur=n.downplay,deprecateReplaceLog("downplay","blur","sunburst"))}function compatGraphFocus(n){!n||n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(deprecateReplaceLog("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),n.emphasis.focus="adjacency"))}function traverseTree(n,r){if(n)for(var a=0;a<n.length;a++)r(n[a]),n[a]&&traverseTree(n[a].children,r)}function globalBackwardCompat(n,r){globalCompatStyle(n,r),n.series=normalizeToArray(n.series),each(n.series,function(a){if(!!isObject3(a)){var o=a.type;if(o==="line")a.clipOverflow!=null&&(a.clip=a.clipOverflow,deprecateReplaceLog("clipOverflow","clip","line"));else if(o==="pie"||o==="gauge"){a.clockWise!=null&&(a.clockwise=a.clockWise,deprecateReplaceLog("clockWise","clockwise")),compatPieLabel(a.label);var s=a.data;if(s&&!isTypedArray2(s))for(var l=0;l<s.length;l++)compatPieLabel(s[l]);a.hoverOffset!=null&&(a.emphasis=a.emphasis||{},(a.emphasis.scaleSize=null)&&(deprecateReplaceLog("hoverOffset","emphasis.scaleSize"),a.emphasis.scaleSize=a.hoverOffset))}else if(o==="gauge"){var u=get3(a,"pointer.color");u!=null&&set2(a,"itemStyle.color",u)}else if(o==="bar"){compatBarItemStyle(a),compatBarItemStyle(a.backgroundStyle),compatBarItemStyle(a.emphasis);var s=a.data;if(s&&!isTypedArray2(s))for(var l=0;l<s.length;l++)typeof s[l]=="object"&&(compatBarItemStyle(s[l]),compatBarItemStyle(s[l]&&s[l].emphasis))}else if(o==="sunburst"){var f=a.highlightPolicy;f&&(a.emphasis=a.emphasis||{},a.emphasis.focus||(a.emphasis.focus=f,deprecateReplaceLog("highlightPolicy","emphasis.focus","sunburst"))),compatSunburstState(a),traverseTree(a.data,compatSunburstState)}else o==="graph"||o==="sankey"?compatGraphFocus(a):o==="map"&&(a.mapType&&!a.map&&(deprecateReplaceLog("mapType","map","map"),a.map=a.mapType),a.mapLocation&&(deprecateLog("`mapLocation` is not used anymore."),defaults(a,a.mapLocation)));a.hoverAnimation!=null&&(a.emphasis=a.emphasis||{},a.emphasis&&a.emphasis.scale==null&&(deprecateReplaceLog("hoverAnimation","emphasis.scale"),a.emphasis.scale=a.hoverAnimation)),compatLayoutProperties(a)}}),n.dataRange&&(n.visualMap=n.dataRange),each(COMPATITABLE_COMPONENTS,function(a){var o=n[a];o&&(isArray3(o)||(o=[o]),each(o,function(s){compatLayoutProperties(s)}))})}function dataStack(n){var r=createHashMap();n.eachSeries(function(a){var o=a.get("stack");if(o){var s=r.get(o)||r.set(o,[]),l=a.getData(),u={stackResultDimension:l.getCalculationInfo("stackResultDimension"),stackedOverDimension:l.getCalculationInfo("stackedOverDimension"),stackedDimension:l.getCalculationInfo("stackedDimension"),stackedByDimension:l.getCalculationInfo("stackedByDimension"),isStackedByIndex:l.getCalculationInfo("isStackedByIndex"),data:l,seriesModel:a};if(!u.stackedDimension||!(u.isStackedByIndex||u.stackedByDimension))return;s.length&&l.setCalculationInfo("stackedOnSeries",s[s.length-1].seriesModel),s.push(u)}}),r.each(calculateStack)}function calculateStack(n){each(n,function(r,a){var o=[],s=[NaN,NaN],l=[r.stackResultDimension,r.stackedOverDimension],u=r.data,f=r.isStackedByIndex;u.modify(l,function(d,v,g){var y=u.get(r.stackedDimension,g);if(isNaN(y))return s;var b,_;f?_=u.getRawIndex(g):b=u.get(r.stackedByDimension,g);for(var x=NaN,C=a-1;C>=0;C--){var w=n[C];if(f||(_=w.data.rawIndexOf(w.stackedByDimension,b)),_>=0){var S=w.data.getByRawIndex(w.stackResultDimension,_);if(y>=0&&S>0||y<=0&&S<0){y=addSafe(y,S),x=S;break}}}return o[0]=y,o[1]=x,o})})}var SourceImpl=function(){function n(r){this.data=r.data||(r.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=r.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=r.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=r.startIndex||0,this.dimensionsDetectedCount=r.dimensionsDetectedCount,this.metaRawOption=r.metaRawOption;var a=this.dimensionsDefine=r.dimensionsDefine;if(a)for(var o=0;o<a.length;o++){var s=a[o];s.type==null&&guessOrdinal(this,o)===BE_ORDINAL.Must&&(s.type="ordinal")}}return n}();function isSourceInstance(n){return n instanceof SourceImpl}function createSource(n,r,a){a=a||detectSourceFormat(n);var o=r.seriesLayoutBy,s=determineSourceDimensions(n,a,o,r.sourceHeader,r.dimensions),l=new SourceImpl({data:n,sourceFormat:a,seriesLayoutBy:o,dimensionsDefine:s.dimensionsDefine,startIndex:s.startIndex,dimensionsDetectedCount:s.dimensionsDetectedCount,metaRawOption:clone(r)});return l}function createSourceFromSeriesDataOption(n){return new SourceImpl({data:n,sourceFormat:isTypedArray2(n)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(n){return new SourceImpl({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:clone(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function detectSourceFormat(n){var r=SOURCE_FORMAT_UNKNOWN;if(isTypedArray2(n))r=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray3(n)){n.length===0&&(r=SOURCE_FORMAT_ARRAY_ROWS);for(var a=0,o=n.length;a<o;a++){var s=n[a];if(s!=null){if(isArray3(s)){r=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject3(s)){r=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject3(n)){for(var l in n)if(hasOwn2(n,l)&&isArrayLike2(n[l])){r=SOURCE_FORMAT_KEYED_COLUMNS;break}}return r}function determineSourceDimensions(n,r,a,o,s){var l,u;if(!n)return{dimensionsDefine:normalizeDimensionsOption(s),startIndex:u,dimensionsDetectedCount:l};if(r===SOURCE_FORMAT_ARRAY_ROWS){var f=n;o==="auto"||o==null?arrayRowsTravelFirst(function(v){v!=null&&v!=="-"&&(isString2(v)?u==null&&(u=1):u=0)},a,f,10):u=isNumber(o)?o:o?1:0,!s&&u===1&&(s=[],arrayRowsTravelFirst(function(v,g){s[g]=v!=null?v+"":""},a,f,1/0)),l=s?s.length:a===SERIES_LAYOUT_BY_ROW?f.length:f[0]?f[0].length:null}else if(r===SOURCE_FORMAT_OBJECT_ROWS)s||(s=objectRowsCollectDimensions(n));else if(r===SOURCE_FORMAT_KEYED_COLUMNS)s||(s=[],each(n,function(v,g){s.push(g)}));else if(r===SOURCE_FORMAT_ORIGINAL){var d=getDataItemValue(n[0]);l=isArray3(d)&&d.length||1}else r===SOURCE_FORMAT_TYPED_ARRAY&&assert(!!s,"dimensions must be given if data is TypedArray.");return{startIndex:u,dimensionsDefine:normalizeDimensionsOption(s),dimensionsDetectedCount:l}}function objectRowsCollectDimensions(n){for(var r=0,a;r<n.length&&!(a=n[r++]););if(a){var o=[];return each(a,function(s,l){o.push(l)}),o}}function normalizeDimensionsOption(n){if(!!n){var r=createHashMap();return map3(n,function(a,o){a=isObject3(a)?a:{name:a};var s={name:a.name,displayName:a.displayName,type:a.type};if(s.name==null)return s;s.name+="",s.displayName==null&&(s.displayName=s.name);var l=r.get(s.name);return l?s.name+="-"+l.count++:r.set(s.name,{count:1}),s})}}function arrayRowsTravelFirst(n,r,a,o){if(r===SERIES_LAYOUT_BY_ROW)for(var s=0;s<a.length&&s<o;s++)n(a[s]?a[s][0]:null,s);else for(var l=a[0]||[],s=0;s<l.length&&s<o;s++)n(l[s],s)}function shouldRetrieveDataByName(n){var r=n.sourceFormat;return r===SOURCE_FORMAT_OBJECT_ROWS||r===SOURCE_FORMAT_KEYED_COLUMNS}var _a2,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function n(r,a){var o=isSourceInstance(r)?r:createSourceFromSeriesDataOption(r);this._source=o;var s=this._data=o.data;if(o.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY){if(a==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=a,this._data=s}mountMethods(this,s,o)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(r,a){},n.prototype.appendData=function(r){},n.prototype.clean=function(){},n.protoInitialize=function(){var r=n.prototype;r.pure=!1,r.persistent=!0}(),n.internalField=function(){var r;mountMethods=function(u,f,d){var v=d.sourceFormat,g=d.seriesLayoutBy,y=d.startIndex,b=d.dimensionsDefine,_=providerMethods[getMethodMapKey(v,g)];if(assert(_,"Invalide sourceFormat: "+v),extend3(u,_),v===SOURCE_FORMAT_TYPED_ARRAY)u.getItem=a,u.count=s,u.fillStorage=o;else{var x=getRawSourceItemGetter(v,g);u.getItem=bind(x,null,f,y,b);var C=getRawSourceDataCounter(v,g);u.count=bind(C,null,f,y,b)}};var a=function(u,f){u=u-this._offset,f=f||[];for(var d=this._data,v=this._dimSize,g=v*u,y=0;y<v;y++)f[y]=d[g+y];return f},o=function(u,f,d,v){for(var g=this._data,y=this._dimSize,b=0;b<y;b++){for(var _=v[b],x=_[0]==null?1/0:_[0],C=_[1]==null?-1/0:_[1],w=f-u,S=d[b],D=0;D<w;D++){var A=g[D*y+b];S[u+D]=A,A<x&&(x=A),A>C&&(C=A)}_[0]=x,_[1]=C}},s=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(r={},r[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:l},r[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},r[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:l},r[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(u){var f=this._data;each(u,function(d,v){for(var g=f[v]||(f[v]=[]),y=0;y<(d||[]).length;y++)g.push(d[y])})}},r[SOURCE_FORMAT_ORIGINAL]={appendData:l},r[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(u){assert(isTypedArray2(u),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=u},clean:function(){this._offset+=this.count(),this._data=null}},r);function l(u){for(var f=0;f<u.length;f++)this._data.push(u[f])}}(),n}(),getItemSimply=function(n,r,a,o){return n[o]},rawSourceItemGetterMap=(_a2={},_a2[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(n,r,a,o){return n[o+r]},_a2[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(n,r,a,o,s){o+=r;for(var l=s||[],u=n,f=0;f<u.length;f++){var d=u[f];l[f]=d?d[o]:null}return l},_a2[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a2[SOURCE_FORMAT_KEYED_COLUMNS]=function(n,r,a,o,s){for(var l=s||[],u=0;u<a.length;u++){var f=a[u].name;if(f==null)throw new Error;var d=n[f];l[u]=d?d[o]:null}return l},_a2[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a2);function getRawSourceItemGetter(n,r){var a=rawSourceItemGetterMap[getMethodMapKey(n,r)];return assert(a,'Do not support get item on "'+n+'", "'+r+'".'),a}var countSimply=function(n,r,a){return n.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(n,r,a){return Math.max(0,n.length-r)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(n,r,a){var o=n[0];return o?Math.max(0,o.length-r):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(n,r,a){var o=a[0].name;if(o==null)throw new Error;var s=n[o];return s?s.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(n,r){var a=rawSourceDataCounterMap[getMethodMapKey(n,r)];return assert(a,'Do not suppport count on "'+n+'", "'+r+'".'),a}var getRawValueSimply=function(n,r,a){return n[r]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(n,r,a){return n[a]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(n,r,a){var o=getDataItemValue(n);return o instanceof Array?o[r]:o},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(n){var r=rawSourceValueGetterMap[n];return assert(r,'Do not suppport get value on "'+n+'".'),r}function getMethodMapKey(n,r){return n===SOURCE_FORMAT_ARRAY_ROWS?n+"_"+r:n}function retrieveRawValue(n,r,a){if(!!n){var o=n.getRawDataItem(r);if(o!=null){var s=n.getStore(),l=s.getSource().sourceFormat;if(a!=null){var u=n.getDimensionIndex(a),f=s.getDimensionProperty(u);return getRawSourceValueGetter(l)(o,u,f)}else{var d=o;return l===SOURCE_FORMAT_ORIGINAL&&(d=getDataItemValue(o)),d}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function n(){}return n.prototype.getDataParams=function(r,a){var o=this.getData(a),s=this.getRawValue(r,a),l=o.getRawIndex(r),u=o.getName(r),f=o.getRawDataItem(r),d=o.getItemVisual(r,"style"),v=d&&d[o.getItemVisual(r,"drawType")||"fill"],g=d&&d.stroke,y=this.mainType,b=y==="series",_=o.userOutput&&o.userOutput.get();return{componentType:y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:b?this.subType:null,seriesIndex:this.seriesIndex,seriesId:b?this.id:null,seriesName:b?this.name:null,name:u,dataIndex:l,data:f,dataType:a,value:s,color:v,borderColor:g,dimensionNames:_?_.fullDimensions:null,encode:_?_.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(r,a,o,s,l,u){a=a||"normal";var f=this.getData(o),d=this.getDataParams(r,o);if(u&&(d.value=u.interpolatedValue),s!=null&&isArray3(d.value)&&(d.value=d.value[s]),!l){var v=f.getItemModel(r);l=v.get(a==="normal"?["label","formatter"]:[a,"label","formatter"])}if(isFunction3(l))return d.status=a,d.dimensionIndex=s,l(d);if(isString2(l)){var g=formatTpl(l,d);return g.replace(DIMENSION_LABEL_REG,function(y,b){var _=b.length,x=b;x.charAt(0)==="["&&x.charAt(_-1)==="]"&&(x=+x.slice(1,_-1),isNaN(x)&&error("Invalide label formatter: @"+b+", only support @[0], @[1], @[2], ..."));var C=retrieveRawValue(f,r,x);if(u&&isArray3(u.interpolatedValue)){var w=f.getDimensionIndex(x);w>=0&&(C=u.interpolatedValue[w])}return C!=null?C+"":""})}},n.prototype.getRawValue=function(r,a){return retrieveRawValue(this.getData(a),r)},n.prototype.formatTooltip=function(r,a,o){},n}();function normalizeTooltipFormatResult(n){var r,a;return isObject3(n)?n.type?a=n:console.warn("The return type of `formatTooltip` is not supported: "+makePrintable(n)):r=n,{text:r,frag:a}}function createTask(n){return new Task(n)}var Task=function(){function n(r){r=r||{},this._reset=r.reset,this._plan=r.plan,this._count=r.count,this._onDirty=r.onDirty,this._dirty=!0}return n.prototype.perform=function(r){var a=this._upstream,o=r&&r.skip;if(this._dirty&&a){var s=this.context;s.data=s.outputData=a.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var l;this._plan&&!o&&(l=this._plan(this.context));var u=g(this._modBy),f=this._modDataCount||0,d=g(r&&r.modBy),v=r&&r.modDataCount||0;(u!==d||f!==v)&&(l="reset");function g(D){return!(D>=1)&&(D=1),D}var y;(this._dirty||l==="reset")&&(this._dirty=!1,y=this._doReset(o)),this._modBy=d,this._modDataCount=v;var b=r&&r.step;if(a?(assert(a._outputDueEnd!=null),this._dueEnd=a._outputDueEnd):(assert(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var _=this._dueIndex,x=Math.min(b!=null?this._dueIndex+b:1/0,this._dueEnd);if(!o&&(y||_<x)){var C=this._progress;if(isArray3(C))for(var w=0;w<C.length;w++)this._doProgress(C[w],_,x,d,v);else this._doProgress(C,_,x,d,v)}this._dueIndex=x;var S=this._settedOutputEnd!=null?this._settedOutputEnd:x;assert(S>=this._outputDueEnd),this._outputDueEnd=S}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(r,a,o,s,l){iterator.reset(a,o,s,l),this._callingProgress=r,this._callingProgress({start:a,end:o,count:o-a,next:iterator.next},this.context)},n.prototype._doReset=function(r){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var a,o;!r&&this._reset&&(a=this._reset(this.context),a&&a.progress&&(o=a.forceFirstProgress,a=a.progress),isArray3(a)&&!a.length&&(a=null)),this._progress=a,this._modBy=this._modDataCount=null;var s=this._downstream;return s&&s.dirty(),o},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(r){assert(r&&!r._disposed&&r!==this),(this._downstream!==r||this._dirty)&&(this._downstream=r,r._upstream=this,r.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(r){this._outputDueEnd=this._settedOutputEnd=r},n}(),iterator=function(){var n,r,a,o,s,l={reset:function(d,v,g,y){r=d,n=v,a=g,o=y,s=Math.ceil(o/a),l.next=a>1&&o>0?f:u}};return l;function u(){return r<n?r++:null}function f(){var d=r%s*a+Math.ceil(r/s),v=r>=n?null:d<o?d:r;return r++,v}}();function parseDataValue(n,r){var a=r&&r.type;return a==="ordinal"?n:(a==="time"&&!isNumber(n)&&n!=null&&n!=="-"&&(n=+parseDate(n)),n==null||n===""?NaN:+n)}var valueParserMap=createHashMap({number:function(n){return parseFloat(n)},time:function(n){return+parseDate(n)},trim:function(n){return isString2(n)?trim(n):n}}),ORDER_COMPARISON_OP_MAP={lt:function(n,r){return n<r},lte:function(n,r){return n<=r},gt:function(n,r){return n>r},gte:function(n,r){return n>=r}},FilterOrderComparator=function(){function n(r,a){if(!isNumber(a)){var o="";o='rvalue of "<", ">", "<=", ">=" can only be number in filter.',throwError2(o)}this._opFn=ORDER_COMPARISON_OP_MAP[r],this._rvalFloat=numericToNumber(a)}return n.prototype.evaluate=function(r){return isNumber(r)?this._opFn(r,this._rvalFloat):this._opFn(numericToNumber(r),this._rvalFloat)},n}(),SortOrderComparator=function(){function n(r,a){var o=r==="desc";this._resultLT=o?1:-1,a==null&&(a=o?"min":"max"),this._incomparable=a==="min"?-1/0:1/0}return n.prototype.evaluate=function(r,a){var o=isNumber(r)?r:numericToNumber(r),s=isNumber(a)?a:numericToNumber(a),l=isNaN(o),u=isNaN(s);if(l&&(o=this._incomparable),u&&(s=this._incomparable),l&&u){var f=isString2(r),d=isString2(a);f&&(o=d?r:0),d&&(s=f?a:0)}return o<s?this._resultLT:o>s?-this._resultLT:0},n}(),FilterEqualityComparator=function(){function n(r,a){this._rval=a,this._isEQ=r,this._rvalTypeof=typeof a,this._rvalFloat=numericToNumber(a)}return n.prototype.evaluate=function(r){var a=r===this._rval;if(!a){var o=typeof r;o!==this._rvalTypeof&&(o==="number"||this._rvalTypeof==="number")&&(a=numericToNumber(r)===this._rvalFloat)}return this._isEQ?a:!a},n}(),ExternalSource=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(r){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(r){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(r,a){},n.prototype.retrieveValueFromItem=function(r,a){},n.prototype.convertValue=function(r,a){return parseDataValue(r,a)},n}();function createExternalSource(n,r){var a=new ExternalSource,o=n.data,s=a.sourceFormat=n.sourceFormat,l=n.startIndex,u="";n.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&(u='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.',throwError2(u));var f=[],d={},v=n.dimensionsDefine;if(v)each(v,function(C,w){var S=C.name,D={index:w,name:S,displayName:C.displayName};if(f.push(D),S!=null){var A="";hasOwn2(d,S)&&(A='dimension name "'+S+'" duplicated.',throwError2(A)),d[S]=D}});else for(var g=0;g<n.dimensionsDetectedCount;g++)f.push({index:g});var y=getRawSourceItemGetter(s,SERIES_LAYOUT_BY_COLUMN);r.__isBuiltIn&&(a.getRawDataItem=function(C){return y(o,l,f,C)},a.getRawData=bind(getRawData,null,n)),a.cloneRawData=bind(cloneRawData,null,n);var b=getRawSourceDataCounter(s,SERIES_LAYOUT_BY_COLUMN);a.count=bind(b,null,o,l,f);var _=getRawSourceValueGetter(s);a.retrieveValue=function(C,w){var S=y(o,l,f,C);return x(S,w)};var x=a.retrieveValueFromItem=function(C,w){if(C!=null){var S=f[w];if(S)return _(C,w,S.name)}};return a.getDimensionInfo=bind(getDimensionInfo,null,f,d),a.cloneAllDimensionInfo=bind(cloneAllDimensionInfo,null,f),a}function getRawData(n){var r=n.sourceFormat;if(!isSupportedSourceFormat(r)){var a="";a="`getRawData` is not supported in source format "+r,throwError2(a)}return n.data}function cloneRawData(n){var r=n.sourceFormat,a=n.data;if(!isSupportedSourceFormat(r)){var o="";o="`cloneRawData` is not supported in source format "+r,throwError2(o)}if(r===SOURCE_FORMAT_ARRAY_ROWS){for(var s=[],l=0,u=a.length;l<u;l++)s.push(a[l].slice());return s}else if(r===SOURCE_FORMAT_OBJECT_ROWS){for(var s=[],l=0,u=a.length;l<u;l++)s.push(extend3({},a[l]));return s}}function getDimensionInfo(n,r,a){if(a!=null){if(isNumber(a)||!isNaN(a)&&!hasOwn2(r,a))return n[a];if(hasOwn2(r,a))return r[a]}}function cloneAllDimensionInfo(n){return clone(n)}var externalTransformMap=createHashMap();function registerExternalTransform(n){n=clone(n);var r=n.type,a="";r||(a="Must have a `type` when `registerTransform`.",throwError2(a));var o=r.split(":");o.length!==2&&(a='Name must include namespace like "ns:regression".',throwError2(a));var s=!1;o[0]==="echarts"&&(r=o[1],s=!0),n.__isBuiltIn=s,externalTransformMap.set(r,n)}function applyDataTransform(n,r,a){var o=normalizeToArray(n),s=o.length,l="";s||(l="If `transform` declared, it should at least contain one transform.",throwError2(l));for(var u=0,f=s;u<f;u++){var d=o[u];r=applySingleDataTransform(d,r,a,s===1?null:u),u!==f-1&&(r.length=Math.max(r.length,1))}return r}function applySingleDataTransform(n,r,a,o){var s="";r.length||(s="Must have at least one upstream dataset.",throwError2(s)),isObject3(n)||(s="transform declaration must be an object rather than "+typeof n+".",throwError2(s));var l=n.type,u=externalTransformMap.get(l);u||(s='Can not find transform on type "'+l+'".',throwError2(s));var f=map3(r,function(g){return createExternalSource(g,u)}),d=normalizeToArray(u.transform({upstream:f[0],upstreamList:f,config:clone(n.config)}));if(n.print){var v=map3(d,function(g){var y=o!=null?" === pipe index: "+o:"";return["=== dataset index: "+a.datasetIndex+y+" ===","- transform result data:",makePrintable(g.data),"- transform result dimensions:",makePrintable(g.dimensions)].join(`
`)}).join(`
`);log(v)}return map3(d,function(g,y){var b="";isObject3(g)||(b="A transform should not return some empty results.",throwError2(b)),g.data||(b="Transform result data should be not be null or undefined",throwError2(b));var _=detectSourceFormat(g.data);isSupportedSourceFormat(_)||(b="Transform result data should be array rows or object rows.",throwError2(b));var x,C=r[0];if(C&&y===0&&!g.dimensions){var w=C.startIndex;w&&(g.data=C.data.slice(0,w).concat(g.data)),x={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:w,dimensions:C.metaRawOption.dimensions}}else x={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:g.dimensions};return createSource(g.data,x,null)})}function isSupportedSourceFormat(n){return n===SOURCE_FORMAT_ARRAY_ROWS||n===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(n){return n>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(n){var r=n.constructor;return r===Array?n.slice():new r(n)}function prepareStore(n,r,a,o,s){var l=dataCtors[a||"float"];if(s){var u=n[r],f=u&&u.length;if(f!==o){for(var d=new l(o),v=0;v<f;v++)d[v]=u[v];n[r]=d}}else n[r]=new l(o)}var DataStore=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return n.prototype.initData=function(r,a,o){assert(isFunction3(r.getItem)&&isFunction3(r.count),"Inavlid data provider."),this._provider=r,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var s=r.getSource(),l=this.defaultDimValueGetter=defaultDimValueGetters[s.sourceFormat];this._dimValueGetter=o||l,this._rawExtent=[];var u=shouldRetrieveDataByName(s);this._dimensions=map3(a,function(f){return u&&assert(f.property!=null),{type:f.type,property:f.property}}),this._initDataFromProvider(0,r.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(r,a){var o=this._calcDimNameToIdx,s=this._dimensions,l=o.get(r);if(l!=null){if(s[l].type===a)return l}else l=s.length;return s[l]={type:a},o.set(r,l),this._chunks[l]=new dataCtors[a||"float"](this._rawCount),this._rawExtent[l]=getInitialExtent(),l},n.prototype.collectOrdinalMeta=function(r,a){var o=this._chunks[r],s=this._dimensions[r],l=this._rawExtent,u=s.ordinalOffset||0,f=o.length;u===0&&(l[r]=getInitialExtent());for(var d=l[r],v=u;v<f;v++){var g=o[v]=a.parseAndCollect(o[v]);isNaN(g)||(d[0]=Math.min(g,d[0]),d[1]=Math.max(g,d[1]))}s.ordinalMeta=a,s.ordinalOffset=f,s.type="ordinal"},n.prototype.getOrdinalMeta=function(r){var a=this._dimensions[r],o=a.ordinalMeta;return o},n.prototype.getDimensionProperty=function(r){var a=this._dimensions[r];return a&&a.property},n.prototype.appendData=function(r){assert(!this._indices,"appendData can only be called on raw data.");var a=this._provider,o=this.count();a.appendData(r);var s=a.count();return a.persistent||(s+=o),o<s&&this._initDataFromProvider(o,s,!0),[o,s]},n.prototype.appendValues=function(r,a){for(var o=this._chunks,s=this._dimensions,l=s.length,u=this._rawExtent,f=this.count(),d=f+Math.max(r.length,a||0),v=0;v<l;v++){var g=s[v];prepareStore(o,v,g.type,d,!0)}for(var y=[],b=f;b<d;b++)for(var _=b-f,x=0;x<l;x++){var g=s[x],C=defaultDimValueGetters.arrayRows.call(this,r[_]||y,g.property,_,x);o[x][b]=C;var w=u[x];C<w[0]&&(w[0]=C),C>w[1]&&(w[1]=C)}return this._rawCount=this._count=d,{start:f,end:d}},n.prototype._initDataFromProvider=function(r,a,o){for(var s=this._provider,l=this._chunks,u=this._dimensions,f=u.length,d=this._rawExtent,v=map3(u,function(D){return D.property}),g=0;g<f;g++){var y=u[g];d[g]||(d[g]=getInitialExtent()),prepareStore(l,g,y.type,a,o)}if(s.fillStorage)s.fillStorage(r,a,l,d);else for(var b=[],_=r;_<a;_++){b=s.getItem(_,b);for(var x=0;x<f;x++){var C=l[x],w=this._dimValueGetter(b,v[x],_,x);C[_]=w;var S=d[x];w<S[0]&&(S[0]=w),w>S[1]&&(S[1]=w)}}!s.persistent&&s.clean&&s.clean(),this._rawCount=this._count=a,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(r,a){if(!(a>=0&&a<this._count))return NaN;var o=this._chunks[r];return o?o[this.getRawIndex(a)]:NaN},n.prototype.getValues=function(r,a){var o=[],s=[];if(a==null){a=r,r=[];for(var l=0;l<this._dimensions.length;l++)s.push(l)}else s=r;for(var l=0,u=s.length;l<u;l++)o.push(this.get(s[l],a));return o},n.prototype.getByRawIndex=function(r,a){if(!(a>=0&&a<this._rawCount))return NaN;var o=this._chunks[r];return o?o[a]:NaN},n.prototype.getSum=function(r){var a=this._chunks[r],o=0;if(a)for(var s=0,l=this.count();s<l;s++){var u=this.get(r,s);isNaN(u)||(o+=u)}return o},n.prototype.getMedian=function(r){var a=[];this.each([r],function(l){isNaN(l)||a.push(l)});var o=a.sort(function(l,u){return l-u}),s=this.count();return s===0?0:s%2==1?o[(s-1)/2]:(o[s/2]+o[s/2-1])/2},n.prototype.indexOfRawIndex=function(r){if(r>=this._rawCount||r<0)return-1;if(!this._indices)return r;var a=this._indices,o=a[r];if(o!=null&&o<this._count&&o===r)return r;for(var s=0,l=this._count-1;s<=l;){var u=(s+l)/2|0;if(a[u]<r)s=u+1;else if(a[u]>r)l=u-1;else return u}return-1},n.prototype.indicesOfNearest=function(r,a,o){var s=this._chunks,l=s[r],u=[];if(!l)return u;o==null&&(o=1/0);for(var f=1/0,d=-1,v=0,g=0,y=this.count();g<y;g++){var b=this.getRawIndex(g),_=a-l[b],x=Math.abs(_);x<=o&&((x<f||x===f&&_>=0&&d<0)&&(f=x,d=_,v=0),_===d&&(u[v++]=g))}return u.length=v,u},n.prototype.getIndices=function(){var r,a=this._indices;if(a){var o=a.constructor,s=this._count;if(o===Array){r=new o(s);for(var l=0;l<s;l++)r[l]=a[l]}else r=new o(a.buffer,0,s)}else{var o=getIndicesCtor(this._rawCount);r=new o(this.count());for(var l=0;l<r.length;l++)r[l]=l}return r},n.prototype.filter=function(r,a){if(!this._count)return this;for(var o=this.clone(),s=o.count(),l=getIndicesCtor(o._rawCount),u=new l(s),f=[],d=r.length,v=0,g=r[0],y=o._chunks,b=0;b<s;b++){var _=void 0,x=o.getRawIndex(b);if(d===0)_=a(b);else if(d===1){var C=y[g][x];_=a(C,b)}else{for(var w=0;w<d;w++)f[w]=y[r[w]][x];f[w]=b,_=a.apply(null,f)}_&&(u[v++]=x)}return v<s&&(o._indices=u),o._count=v,o._extent=[],o._updateGetRawIdx(),o},n.prototype.selectRange=function(r){var a=this.clone(),o=a._count;if(!o)return this;var s=keys3(r),l=s.length;if(!l)return this;var u=a.count(),f=getIndicesCtor(a._rawCount),d=new f(u),v=0,g=s[0],y=r[g][0],b=r[g][1],_=a._chunks,x=!1;if(!a._indices){var C=0;if(l===1){for(var w=_[s[0]],S=0;S<o;S++){var D=w[S];(D>=y&&D<=b||isNaN(D))&&(d[v++]=C),C++}x=!0}else if(l===2){for(var w=_[s[0]],A=_[s[1]],T=r[s[1]][0],M=r[s[1]][1],S=0;S<o;S++){var D=w[S],E=A[S];(D>=y&&D<=b||isNaN(D))&&(E>=T&&E<=M||isNaN(E))&&(d[v++]=C),C++}x=!0}}if(!x)if(l===1)for(var S=0;S<u;S++){var P=a.getRawIndex(S),D=_[s[0]][P];(D>=y&&D<=b||isNaN(D))&&(d[v++]=P)}else for(var S=0;S<u;S++){for(var I=!0,P=a.getRawIndex(S),F=0;F<l;F++){var L=s[F],D=_[L][P];(D<r[L][0]||D>r[L][1])&&(I=!1)}I&&(d[v++]=a.getRawIndex(S))}return v<u&&(a._indices=d),a._count=v,a._extent=[],a._updateGetRawIdx(),a},n.prototype.map=function(r,a){var o=this.clone(r);return this._updateDims(o,r,a),o},n.prototype.modify=function(r,a){this._updateDims(this,r,a)},n.prototype._updateDims=function(r,a,o){for(var s=r._chunks,l=[],u=a.length,f=r.count(),d=[],v=r._rawExtent,g=0;g<a.length;g++)v[a[g]]=getInitialExtent();for(var y=0;y<f;y++){for(var b=r.getRawIndex(y),_=0;_<u;_++)d[_]=s[a[_]][b];d[u]=y;var x=o&&o.apply(null,d);if(x!=null){typeof x!="object"&&(l[0]=x,x=l);for(var g=0;g<x.length;g++){var C=a[g],w=x[g],S=v[C],D=s[C];D&&(D[b]=w),w<S[0]&&(S[0]=w),w>S[1]&&(S[1]=w)}}}},n.prototype.lttbDownSample=function(r,a){var o=this.clone([r],!0),s=o._chunks,l=s[r],u=this.count(),f=0,d=Math.floor(1/a),v=this.getRawIndex(0),g,y,b,_=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(u/d)+2)*2,u));_[f++]=v;for(var x=1;x<u-1;x+=d){for(var C=Math.min(x+d,u-1),w=Math.min(x+d*2,u),S=(w+C)/2,D=0,A=C;A<w;A++){var T=this.getRawIndex(A),M=l[T];isNaN(M)||(D+=M)}D/=w-C;var E=x,P=Math.min(x+d,u),I=x-1,F=l[v];g=-1,b=E;for(var L=-1,O=0,A=E;A<P;A++){var T=this.getRawIndex(A),M=l[T];if(isNaN(M)){O++,L<0&&(L=T);continue}y=Math.abs((I-S)*(M-F)-(I-A)*(D-F)),y>g&&(g=y,b=T)}O>0&&O<P-E&&(_[f++]=Math.min(L,b),b=Math.max(L,b)),_[f++]=b,v=b}return _[f++]=this.getRawIndex(u-1),o._count=f,o._indices=_,o.getRawIndex=this._getRawIdx,o},n.prototype.downSample=function(r,a,o,s){for(var l=this.clone([r],!0),u=l._chunks,f=[],d=Math.floor(1/a),v=u[r],g=this.count(),y=l._rawExtent[r]=getInitialExtent(),b=new(getIndicesCtor(this._rawCount))(Math.ceil(g/d)),_=0,x=0;x<g;x+=d){d>g-x&&(d=g-x,f.length=d);for(var C=0;C<d;C++){var w=this.getRawIndex(x+C);f[C]=v[w]}var S=o(f),D=this.getRawIndex(Math.min(x+s(f,S)||0,g-1));v[D]=S,S<y[0]&&(y[0]=S),S>y[1]&&(y[1]=S),b[_++]=D}return l._count=_,l._indices=b,l._updateGetRawIdx(),l},n.prototype.each=function(r,a){if(!!this._count)for(var o=r.length,s=this._chunks,l=0,u=this.count();l<u;l++){var f=this.getRawIndex(l);switch(o){case 0:a(l);break;case 1:a(s[r[0]][f],l);break;case 2:a(s[r[0]][f],s[r[1]][f],l);break;default:for(var d=0,v=[];d<o;d++)v[d]=s[r[d]][f];v[d]=l,a.apply(null,v)}}},n.prototype.getDataExtent=function(r){var a=this._chunks[r],o=getInitialExtent();if(!a)return o;var s=this.count(),l=!this._indices,u;if(l)return this._rawExtent[r].slice();if(u=this._extent[r],u)return u.slice();u=o;for(var f=u[0],d=u[1],v=0;v<s;v++){var g=this.getRawIndex(v),y=a[g];y<f&&(f=y),y>d&&(d=y)}return u=[f,d],this._extent[r]=u,u},n.prototype.getRawDataItem=function(r){var a=this.getRawIndex(r);if(this._provider.persistent)return this._provider.getItem(a);for(var o=[],s=this._chunks,l=0;l<s.length;l++)o.push(s[l][a]);return o},n.prototype.clone=function(r,a){var o=new n,s=this._chunks,l=r&&reduce(r,function(f,d){return f[d]=!0,f},{});if(l)for(var u=0;u<s.length;u++)o._chunks[u]=l[u]?cloneChunk(s[u]):s[u];else o._chunks=s;return this._copyCommonProps(o),a||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},n.prototype._copyCommonProps=function(r){r._count=this._count,r._rawCount=this._rawCount,r._provider=this._provider,r._dimensions=this._dimensions,r._extent=clone(this._extent),r._rawExtent=clone(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var r=this._indices.constructor,a=void 0;if(r===Array){var o=this._indices.length;a=new r(o);for(var s=0;s<o;s++)a[s]=this._indices[s]}else a=new r(this._indices);return a}return null},n.prototype._getRawIdxIdentity=function(r){return r},n.prototype._getRawIdx=function(r){return r<this._count&&r>=0?this._indices[r]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function r(a,o,s,l){return parseDataValue(a[l],this._dimensions[l])}defaultDimValueGetters={arrayRows:r,objectRows:function(a,o,s,l){return parseDataValue(a[o],this._dimensions[l])},keyedColumns:r,original:function(a,o,s,l){var u=a&&(a.value==null?a:a.value);return parseDataValue(u instanceof Array?u[l]:u,this._dimensions[l])},typedArray:function(a,o,s,l){return a[l]}}}(),n}(),DataStore_default=DataStore,SourceManager=function(){function n(r){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=r}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(r,a){this._sourceList=r,this._upstreamSignList=a,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var r=this._sourceHost,a=this._getUpstreamSourceManagers(),o=!!a.length,s,l;if(isSeries(r)){var u=r,f=void 0,d=void 0,v=void 0;if(o){var g=a[0];g.prepareSource(),v=g.getSource(),f=v.data,d=v.sourceFormat,l=[g._getVersionSign()]}else f=u.get("data",!0),d=isTypedArray2(f)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,l=[];var y=this._getSourceMetaRawOption()||{},b=v&&v.metaRawOption||{},_=retrieve2(y.seriesLayoutBy,b.seriesLayoutBy)||null,x=retrieve2(y.sourceHeader,b.sourceHeader),C=retrieve2(y.dimensions,b.dimensions),w=_!==b.seriesLayoutBy||!!x!=!!b.sourceHeader||C;s=w?[createSource(f,{seriesLayoutBy:_,sourceHeader:x,dimensions:C},d)]:[]}else{var S=r;if(o){var D=this._applyTransform(a);s=D.sourceList,l=D.upstreamSignList}else{var A=S.get("source",!0);s=[createSource(A,this._getSourceMetaRawOption(),null)],l=[]}}assert(s&&l),this._setLocalSource(s,l)},n.prototype._applyTransform=function(r){var a=this._sourceHost,o=a.get("transform",!0),s=a.get("fromTransformResult",!0);if(assert(s!=null||o!=null),s!=null){var l="";r.length!==1&&(l="When using `fromTransformResult`, there should be only one upstream dataset",doThrow(l))}var u,f=[],d=[];return each(r,function(v){v.prepareSource();var g=v.getSource(s||0),y="";s!=null&&!g&&(y="Can not retrieve result by `fromTransformResult`: "+s,doThrow(y)),f.push(g),d.push(v._getVersionSign())}),o?u=applyDataTransform(o,f,{datasetIndex:a.componentIndex}):s!=null&&(u=[cloneSourceShallow(f[0])]),{sourceList:u,upstreamSignList:d}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var r=this._getUpstreamSourceManagers(),a=0;a<r.length;a++){var o=r[a];if(o._isDirty()||this._upstreamSignList[a]!==o._getVersionSign())return!0}},n.prototype.getSource=function(r){r=r||0;var a=this._sourceList[r];if(!a){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(r)}return a},n.prototype.getSharedDataStore=function(r){assert(isSeries(this._sourceHost),"Can only call getDataStore on series source manager.");var a=r.makeStoreSchema();return this._innerGetDataStore(a.dimensions,r.source,a.hash)},n.prototype._innerGetDataStore=function(r,a,o){var s=0,l=this._storeList,u=l[s];u||(u=l[s]={});var f=u[o];if(!f){var d=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&d?f=d._innerGetDataStore(r,a,o):(f=new DataStore_default,f.initData(new DefaultDataProvider(a,r.length),r)),u[o]=f}return f},n.prototype._getUpstreamSourceManagers=function(){var r=this._sourceHost;if(isSeries(r)){var a=querySeriesUpstreamDatasetModel(r);return a?[a.getSourceManager()]:[]}else return map3(queryDatasetUpstreamDatasetModels(r),function(o){return o.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var r=this._sourceHost,a,o,s;if(isSeries(r))a=r.get("seriesLayoutBy",!0),o=r.get("sourceHeader",!0),s=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var l=r;a=l.get("seriesLayoutBy",!0),o=l.get("sourceHeader",!0),s=l.get("dimensions",!0)}return{seriesLayoutBy:a,sourceHeader:o,dimensions:s}},n}();function disableTransformOptionMerge(n){var r=n.option.transform;r&&setAsPrimitive(n.option.transform)}function isSeries(n){return n.mainType==="series"}function doThrow(n){throw new Error(n)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(n,r){var a=n.color||"#6e7079",o=n.fontSize||12,s=n.fontWeight||"400",l=n.color||"#464646",u=n.fontSize||14,f=n.fontWeight||"900";return r==="html"?{nameStyle:"font-size:"+encodeHTML(o+"")+"px;color:"+encodeHTML(a)+";font-weight:"+encodeHTML(s+""),valueStyle:"font-size:"+encodeHTML(u+"")+"px;color:"+encodeHTML(l)+";font-weight:"+encodeHTML(f+"")}:{nameStyle:{fontSize:o,fill:a,fontWeight:s},valueStyle:{fontSize:u,fill:l,fontWeight:f}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(n,r){return r.type=n,r}function isSectionFragment(n){return n.type==="section"}function getBuilder(n){return isSectionFragment(n)?buildSection:buildNameValue}function getBlockGapLevel(n){if(isSectionFragment(n)){var r=0,a=n.blocks.length,o=a>1||a>0&&!n.noHeader;return each(n.blocks,function(s){var l=getBlockGapLevel(s);l>=r&&(r=l+ +(o&&(!l||isSectionFragment(s)&&!s.noHeader)))}),r}return 0}function buildSection(n,r,a,o){var s=r.noHeader,l=getGap2(getBlockGapLevel(r)),u=[],f=r.blocks||[];assert(!f||isArray3(f)),f=f||[];var d=n.orderMode;if(r.sortBlocks&&d){f=f.slice();var v={valueAsc:"asc",valueDesc:"desc"};if(hasOwn2(v,d)){var g=new SortOrderComparator(v[d],null);f.sort(function(x,C){return g.evaluate(x.sortParam,C.sortParam)})}else d==="seriesDesc"&&f.reverse()}each(f,function(x,C){var w=r.valueFormatter,S=getBuilder(x)(w?extend3(extend3({},n),{valueFormatter:w}):n,x,C>0?l.html:0,o);S!=null&&u.push(S)});var y=n.renderMode==="richText"?u.join(l.richText):wrapBlockHTML(u.join(""),s?a:l.html);if(s)return y;var b=makeValueReadable(r.header,"ordinal",n.useUTC),_=getTooltipTextStyle(o,n.renderMode).nameStyle;return n.renderMode==="richText"?wrapInlineNameRichText(n,b,_)+l.richText+y:wrapBlockHTML('<div style="'+_+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(b)+"</div>"+y,a)}function buildNameValue(n,r,a,o){var s=n.renderMode,l=r.noName,u=r.noValue,f=!r.markerType,d=r.name,v=n.useUTC,g=r.valueFormatter||n.valueFormatter||function(T){return T=isArray3(T)?T:[T],map3(T,function(M,E){return makeValueReadable(M,isArray3(_)?_[E]:_,v)})};if(!(l&&u)){var y=f?"":n.markupStyleCreator.makeTooltipMarker(r.markerType,r.markerColor||"#333",s),b=l?"":makeValueReadable(d,"ordinal",v),_=r.valueType,x=u?[]:g(r.value),C=!f||!l,w=!f&&l,S=getTooltipTextStyle(o,s),D=S.nameStyle,A=S.valueStyle;return s==="richText"?(f?"":y)+(l?"":wrapInlineNameRichText(n,b,D))+(u?"":wrapInlineValueRichText(n,x,C,w,A)):wrapBlockHTML((f?"":y)+(l?"":wrapInlineNameHTML(b,!f,D))+(u?"":wrapInlineValueHTML(x,C,w,A)),a)}}function buildTooltipMarkup(n,r,a,o,s,l){if(!!n){var u=getBuilder(n),f={useUTC:s,renderMode:a,orderMode:o,markupStyleCreator:r,valueFormatter:n.valueFormatter};return u(f,n,0,l)}}function getGap2(n){return{html:HTML_GAPS[n],richText:RICH_TEXT_GAPS[n]}}function wrapBlockHTML(n,r){var a='<div style="clear:both"></div>',o="margin: "+r+"px 0 0";return'<div style="'+o+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+n+a+"</div>"}function wrapInlineNameHTML(n,r,a){var o=r?"margin-left:2px":"";return'<span style="'+a+";"+o+'">'+encodeHTML(n)+"</span>"}function wrapInlineValueHTML(n,r,a,o){var s=a?"10px":"20px",l=r?"float:right;margin-left:"+s:"";return n=isArray3(n)?n:[n],'<span style="'+l+";"+o+'">'+map3(n,function(u){return encodeHTML(u)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(n,r,a){return n.markupStyleCreator.wrapRichTextStyle(r,a)}function wrapInlineValueRichText(n,r,a,o,s){var l=[s],u=o?10:20;return a&&l.push({padding:[0,0,0,u],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(isArray3(r)?r.join("  "):r,l)}function retrieveVisualColorForTooltipMarker(n,r){var a=n.getData().getItemVisual(r,"style"),o=a[n.visualDrawType];return convertToColorString(o)}function getPaddingFromTooltipModel(n,r){var a=n.get("padding");return a!=null?a:r==="richText"?[8,10]:10}var TooltipMarkupStyleCreator=function(){function n(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(r,a,o){var s=o==="richText"?this._generateStyleName():null,l=getTooltipMarker({color:a,type:r,renderMode:o,markerId:s});return isString2(l)?l:(assert(s),this.richTextStyles[s]=l.style,l.content)},n.prototype.wrapRichTextStyle=function(r,a){var o={};isArray3(a)?each(a,function(l){return extend3(o,l)}):extend3(o,a);var s=this._generateStyleName();return this.richTextStyles[s]=o,"{"+s+"|"+r+"}"},n}();function defaultSeriesFormatTooltip(n){var r=n.series,a=n.dataIndex,o=n.multipleSeries,s=r.getData(),l=s.mapDimensionsAll("defaultedTooltip"),u=l.length,f=r.getRawValue(a),d=isArray3(f),v=retrieveVisualColorForTooltipMarker(r,a),g,y,b,_;if(u>1||d&&!u){var x=formatTooltipArrayValue(f,r,a,l,v);g=x.inlineValues,y=x.inlineValueTypes,b=x.blocks,_=x.inlineValues[0]}else if(u){var C=s.getDimensionInfo(l[0]);_=g=retrieveRawValue(s,a,l[0]),y=C.type}else _=g=d?f[0]:f;var w=isNameSpecified(r),S=w&&r.name||"",D=s.getName(a),A=o?S:D;return createTooltipMarkup("section",{header:S,noHeader:o||!w,sortParam:_,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:v,name:A,noName:!trim(A),value:g,valueType:y})].concat(b||[])})}function formatTooltipArrayValue(n,r,a,o,s){var l=r.getData(),u=reduce(n,function(y,b,_){var x=l.getDimensionInfo(_);return y=y||x&&x.tooltip!==!1&&x.displayName!=null},!1),f=[],d=[],v=[];o.length?each(o,function(y){g(retrieveRawValue(l,a,y),y)}):each(n,g);function g(y,b){var _=l.getDimensionInfo(b);!_||_.otherDims.tooltip===!1||(u?v.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:s,name:_.displayName,value:y,valueType:_.type})):(f.push(y),d.push(_.type)))}return{inlineValues:f,inlineValueTypes:d,blocks:v}}var inner2=makeInner();function getSelectionKey(n,r){return n.getName(r)||n.getId(r)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a._selectedDataIndicesMap={},a}return r.prototype.init=function(a,o,s){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(a,s);var l=inner2(this).sourceManager=new SourceManager(this);l.prepareSource();var u=this.getInitialData(a,s);wrapData(u,this),this.dataTask.context.data=u,assert(u,"getInitialData returned invalid data."),inner2(this).dataBeforeProcessed=u,autoSeriesName(this),this._initSelectedMapFromData(u)},r.prototype.mergeDefaultAndTheme=function(a,o){var s=fetchLayoutMode(this),l=s?getLayoutParams(a):{},u=this.subType;Component_default.hasClass(u)&&(u+="Series"),merge3(a,o.getTheme().get(this.subType)),merge3(a,this.getDefaultOption()),defaultEmphasis(a,"label",["show"]),this.fillDataTextStyle(a.data),s&&mergeLayoutParam(a,l,s)},r.prototype.mergeOption=function(a,o){a=merge3(this.option,a,!0),this.fillDataTextStyle(a.data);var s=fetchLayoutMode(this);s&&mergeLayoutParam(this.option,a,s);var l=inner2(this).sourceManager;l.dirty(),l.prepareSource();var u=this.getInitialData(a,o);wrapData(u,this),this.dataTask.dirty(),this.dataTask.context.data=u,inner2(this).dataBeforeProcessed=u,autoSeriesName(this),this._initSelectedMapFromData(u)},r.prototype.fillDataTextStyle=function(a){if(a&&!isTypedArray2(a))for(var o=["show"],s=0;s<a.length;s++)a[s]&&a[s].label&&defaultEmphasis(a[s],"label",o)},r.prototype.getInitialData=function(a,o){},r.prototype.appendData=function(a){var o=this.getRawData();o.appendData(a.data)},r.prototype.getData=function(a){var o=getCurrentTask(this);if(o){var s=o.context.data;return a==null?s:s.getLinkedData(a)}else return inner2(this).data},r.prototype.getAllData=function(){var a=this.getData();return a&&a.getLinkedDataAll?a.getLinkedDataAll():[{data:a}]},r.prototype.setData=function(a){var o=getCurrentTask(this);if(o){var s=o.context;s.outputData=a,o!==this.dataTask&&(s.data=a)}inner2(this).data=a},r.prototype.getEncode=function(){var a=this.get("encode",!0);if(a)return createHashMap(a)},r.prototype.getSourceManager=function(){return inner2(this).sourceManager},r.prototype.getSource=function(){return this.getSourceManager().getSource()},r.prototype.getRawData=function(){return inner2(this).dataBeforeProcessed},r.prototype.getColorBy=function(){var a=this.get("colorBy");return a||"series"},r.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},r.prototype.getBaseAxis=function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},r.prototype.formatTooltip=function(a,o,s){return defaultSeriesFormatTooltip({series:this,dataIndex:a,multipleSeries:o})},r.prototype.isAnimationEnabled=function(){var a=this.ecModel;if(env_default.node&&!(a&&a.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},r.prototype.restoreData=function(){this.dataTask.dirty()},r.prototype.getColorFromPalette=function(a,o,s){var l=this.ecModel,u=PaletteMixin.prototype.getColorFromPalette.call(this,a,o,s);return u||(u=l.getColorFromPalette(a,o,s)),u},r.prototype.coordDimToDataDim=function(a){return this.getRawData().mapDimensionsAll(a)},r.prototype.getProgressive=function(){return this.get("progressive")},r.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},r.prototype.select=function(a,o){this._innerSelect(this.getData(o),a)},r.prototype.unselect=function(a,o){var s=this.option.selectedMap;if(!!s){var l=this.option.selectedMode,u=this.getData(o);if(l==="series"||s==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var f=0;f<a.length;f++){var d=a[f],v=getSelectionKey(u,d);s[v]=!1,this._selectedDataIndicesMap[v]=-1}}},r.prototype.toggleSelect=function(a,o){for(var s=[],l=0;l<a.length;l++)s[0]=a[l],this.isSelected(a[l],o)?this.unselect(s,o):this.select(s,o)},r.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var a=this._selectedDataIndicesMap,o=keys3(a),s=[],l=0;l<o.length;l++){var u=a[o[l]];u>=0&&s.push(u)}return s},r.prototype.isSelected=function(a,o){var s=this.option.selectedMap;if(!s)return!1;var l=this.getData(o);return(s==="all"||s[getSelectionKey(l,a)])&&!l.getItemModel(a).get(["select","disabled"])},r.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var a=this.option.universalTransition;return a?a===!0?!0:a&&a.enabled:!1},r.prototype._innerSelect=function(a,o){var s,l,u=this.option,f=u.selectedMode,d=o.length;if(!(!f||!d)){if(f==="series")u.selectedMap="all";else if(f==="multiple"){isObject3(u.selectedMap)||(u.selectedMap={});for(var v=u.selectedMap,g=0;g<d;g++){var y=o[g],b=getSelectionKey(a,y);v[b]=!0,this._selectedDataIndicesMap[b]=a.getRawIndex(y)}}else if(f==="single"||f===!0){var _=o[d-1],b=getSelectionKey(a,_);u.selectedMap=(s={},s[b]=!0,s),this._selectedDataIndicesMap=(l={},l[b]=a.getRawIndex(_),l)}}},r.prototype._initSelectedMapFromData=function(a){if(!this.option.selectedMap){var o=[];a.hasItemOption&&a.each(function(s){var l=a.getRawDataItem(s);l&&l.selected&&o.push(s)}),o.length>0&&this._innerSelect(a,o)}},r.registerClass=function(a){return Component_default.registerClass(a)},r.protoInitialize=function(){var a=r.prototype;a.type="series.__base__",a.seriesIndex=0,a.ignoreStyleOnData=!1,a.hasSymbolVisual=!1,a.defaultSymbol="circle",a.visualStyleAccessPath="itemStyle",a.visualDrawType="fill"}(),r}(Component_default);mixin(SeriesModel,DataFormatMixin),mixin(SeriesModel,PaletteMixin),mountExtend(SeriesModel,Component_default);function autoSeriesName(n){var r=n.name;isNameSpecified(n)||(n.name=getSeriesAutoName(n)||r)}function getSeriesAutoName(n){var r=n.getRawData(),a=r.mapDimensionsAll("seriesName"),o=[];return each(a,function(s){var l=r.getDimensionInfo(s);l.displayName&&o.push(l.displayName)}),o.join(" ")}function dataTaskCount(n){return n.model.getRawData().count()}function dataTaskReset(n){var r=n.model;return r.setData(r.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(n,r){r.outputData&&n.end>r.outputData.count()&&r.model.getRawData().cloneShallow(r.outputData)}function wrapData(n,r){each(concatArray(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(a){n.wrapMethod(a,curry(onDataChange,r))})}function onDataChange(n,r){var a=getCurrentTask(n);return a&&a.setOutputEnd((r||this).count()),r}function getCurrentTask(n){var r=(n.ecModel||{}).scheduler,a=r&&r.getPipeline(n.uid);if(a){var o=a.currentTask;if(o){var s=o.agentStubMap;s&&(o=s.get(n.uid))}return o}}var Series_default=SeriesModel,ComponentView=function(){function n(){this.group=new Group_default,this.uid=getUID("viewComponent")}return n.prototype.init=function(r,a){},n.prototype.render=function(r,a,o,s){},n.prototype.dispose=function(r,a){},n.prototype.updateView=function(r,a,o,s){},n.prototype.updateLayout=function(r,a,o,s){},n.prototype.updateVisual=function(r,a,o,s){},n.prototype.toggleBlurSeries=function(r,a,o){},n.prototype.eachRendered=function(r){var a=this.group;a&&a.traverse(r)},n}();enableClassExtend(ComponentView),enableClassManagement(ComponentView);var Component_default2=ComponentView;function createRenderPlanner(){var n=makeInner();return function(r){var a=n(r),o=r.pipelineContext,s=!!a.large,l=!!a.progressiveRender,u=a.large=!!(o&&o.large),f=a.progressiveRender=!!(o&&o.progressiveRender);return(s!==u||l!==f)&&"reset"}}var inner3=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function n(){this.group=new Group_default,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return n.prototype.init=function(r,a){},n.prototype.render=function(r,a,o,s){throw new Error("render method must been implemented")},n.prototype.highlight=function(r,a,o,s){var l=r.getData(s&&s.dataType);if(!l){error("Unknown dataType "+s.dataType);return}toggleHighlight(l,s,"emphasis")},n.prototype.downplay=function(r,a,o,s){var l=r.getData(s&&s.dataType);if(!l){error("Unknown dataType "+s.dataType);return}toggleHighlight(l,s,"normal")},n.prototype.remove=function(r,a){this.group.removeAll()},n.prototype.dispose=function(r,a){},n.prototype.updateView=function(r,a,o,s){this.render(r,a,o,s)},n.prototype.updateLayout=function(r,a,o,s){this.render(r,a,o,s)},n.prototype.updateVisual=function(r,a,o,s){this.render(r,a,o,s)},n.prototype.eachRendered=function(r){traverseElements(this.group,r)},n.markUpdateMethod=function(r,a){inner3(r).updateMethod=a},n.protoInitialize=function(){var r=n.prototype;r.type="chart"}(),n}();function elSetState(n,r,a){n&&isHighDownDispatcher(n)&&(r==="emphasis"?enterEmphasis:leaveEmphasis)(n,a)}function toggleHighlight(n,r,a){var o=queryDataIndex(n,r),s=r&&r.highlightKey!=null?getHighlightDigit(r.highlightKey):null;o!=null?each(normalizeToArray(o),function(l){elSetState(n.getItemGraphicEl(l),a,s)}):n.eachItemGraphicEl(function(l){elSetState(l,a,s)})}enableClassExtend(ChartView,["dispose"]),enableClassManagement(ChartView);function renderTaskPlan(n){return renderPlanner(n.model)}function renderTaskReset(n){var r=n.model,a=n.ecModel,o=n.api,s=n.payload,l=r.pipelineContext.progressiveRender,u=n.view,f=s&&inner3(s).updateMethod,d=l?"incrementalPrepareRender":f&&u[f]?f:"render";return d!=="render"&&u[d](r,a,o,s),progressMethodMap[d]}var progressMethodMap={incrementalPrepareRender:{progress:function(n,r){r.view.incrementalRender(n,r.model,r.ecModel,r.api,r.payload)}},render:{forceFirstProgress:!0,progress:function(n,r){r.view.render(r.model,r.ecModel,r.api,r.payload)}}},Chart_default=ChartView,ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(n,r,a){var o,s=0,l=0,u=null,f,d,v,g;r=r||0;function y(){l=new Date().getTime(),u=null,n.apply(d,v||[])}var b=function(){for(var _=[],x=0;x<arguments.length;x++)_[x]=arguments[x];o=new Date().getTime(),d=this,v=_;var C=g||r,w=g||a;g=null,f=o-(w?s:l)-C,clearTimeout(u),w?u=setTimeout(y,C):f>=0?y():u=setTimeout(y,-f),s=o};return b.clear=function(){u&&(clearTimeout(u),u=null)},b.debounceNextCall=function(_){g=_},b}function createOrUpdate(n,r,a,o){var s=n[r];if(!!s){var l=s[ORIGIN_METHOD]||s,u=s[THROTTLE_TYPE],f=s[RATE];if(f!==a||u!==o){if(a==null||!o)return n[r]=l;s=n[r]=throttle(l,a,o==="debounce"),s[ORIGIN_METHOD]=l,s[THROTTLE_TYPE]=o,s[RATE]=a}return s}}function clear2(n,r){var a=n[r];a&&a[ORIGIN_METHOD]&&(a.clear&&a.clear(),n[r]=a[ORIGIN_METHOD])}var inner4=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(n,r){var a=n.visualStyleMapper||defaultStyleMappers[r];return a||(console.warn("Unkown style type '"+r+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(n,r){var a=n.visualDrawType||defaultColorKey[r];return a||(console.warn("Unkown style type '"+r+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,r){var a=n.getData(),o=n.visualStyleAccessPath||"itemStyle",s=n.getModel(o),l=getStyleMapper(n,o),u=l(s),f=s.getShallow("decal");f&&(a.setVisual("decal",f),f.dirty=!0);var d=getDefaultColorKey(n,o),v=u[d],g=isFunction3(v)?v:null,y=u.fill==="auto"||u.stroke==="auto";if(!u[d]||g||y){var b=n.getColorFromPalette(n.name,null,r.getSeriesCount());u[d]||(u[d]=b,a.setVisual("colorFromPalette",!0)),u.fill=u.fill==="auto"||isFunction3(u.fill)?b:u.fill,u.stroke=u.stroke==="auto"||isFunction3(u.stroke)?b:u.stroke}if(a.setVisual("style",u),a.setVisual("drawType",d),!r.isSeriesFiltered(n)&&g)return a.setVisual("colorFromPalette",!1),{dataEach:function(_,x){var C=n.getDataParams(x),w=extend3({},u);w[d]=g(C),_.setItemVisual(x,"style",w)}}}},sharedModel=new Model_default,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,r){if(!(n.ignoreStyleOnData||r.isSeriesFiltered(n))){var a=n.getData(),o=n.visualStyleAccessPath||"itemStyle",s=getStyleMapper(n,o),l=a.getVisual("drawType");return{dataEach:a.hasItemOption?function(u,f){var d=u.getRawDataItem(f);if(d&&d[o]){sharedModel.option=d[o];var v=s(sharedModel),g=u.ensureUniqueItemVisual(f,"style");extend3(g,v),sharedModel.option.decal&&(u.setItemVisual(f,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),l in v&&u.setItemVisual(f,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(n){var r=createHashMap();n.eachSeries(function(a){var o=a.getColorBy();if(!a.isColorBySeries()){var s=a.type+"-"+o,l=r.get(s);l||(l={},r.set(s,l)),inner4(a).scope=l}}),n.eachSeries(function(a){if(!(a.isColorBySeries()||n.isSeriesFiltered(a))){var o=a.getRawData(),s={},l=a.getData(),u=inner4(a).scope,f=a.visualStyleAccessPath||"itemStyle",d=getDefaultColorKey(a,f);l.each(function(v){var g=l.getRawIndex(v);s[g]=v}),o.each(function(v){var g=s[v],y=l.getItemVisual(g,"colorFromPalette");if(y){var b=l.ensureUniqueItemVisual(g,"style"),_=o.getName(v)||v+"",x=o.count();b[d]=a.getColorFromPalette(_,u,x)}})}})}},PI5=Math.PI;function defaultLoading(n,r){r=r||{},defaults(r,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var a=new Group_default,o=new Rect_default({style:{fill:r.maskColor},zlevel:r.zlevel,z:1e4});a.add(o);var s=new Text_default({style:{text:r.text,fill:r.textColor,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle,fontFamily:r.fontFamily},zlevel:r.zlevel,z:10001}),l=new Rect_default({style:{fill:"none"},textContent:s,textConfig:{position:"right",distance:10},zlevel:r.zlevel,z:10001});a.add(l);var u;return r.showSpinner&&(u=new Arc_default({shape:{startAngle:-PI5/2,endAngle:-PI5/2+.1,r:r.spinnerRadius},style:{stroke:r.color,lineCap:"round",lineWidth:r.lineWidth},zlevel:r.zlevel,z:10001}),u.animateShape(!0).when(1e3,{endAngle:PI5*3/2}).start("circularInOut"),u.animateShape(!0).when(1e3,{startAngle:PI5*3/2}).delay(300).start("circularInOut"),a.add(u)),a.resize=function(){var f=s.getBoundingRect().width,d=r.showSpinner?r.spinnerRadius:0,v=(n.getWidth()-d*2-(r.showSpinner&&f?10:0)-f)/2-(r.showSpinner&&f?0:5+f/2)+(r.showSpinner?0:f/2)+(f?0:d),g=n.getHeight()/2;r.showSpinner&&u.setShape({cx:v,cy:g}),l.setShape({x:v-d,y:g-d,width:d*2,height:d*2}),o.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},a.resize(),a}var Scheduler2=function(){function n(r,a,o,s){this._stageTaskMap=createHashMap(),this.ecInstance=r,this.api=a,o=this._dataProcessorHandlers=o.slice(),s=this._visualHandlers=s.slice(),this._allHandlers=o.concat(s)}return n.prototype.restoreData=function(r,a){r.restoreData(a),this._stageTaskMap.each(function(o){var s=o.overallTask;s&&s.dirty()})},n.prototype.getPerformArgs=function(r,a){if(!!r.__pipeline){var o=this._pipelineMap.get(r.__pipeline.id),s=o.context,l=!a&&o.progressiveEnabled&&(!s||s.progressiveRender)&&r.__idxInPipeline>o.blockIndex,u=l?o.step:null,f=s&&s.modDataCount,d=f!=null?Math.ceil(f/u):null;return{step:u,modBy:d,modDataCount:f}}},n.prototype.getPipeline=function(r){return this._pipelineMap.get(r)},n.prototype.updateStreamModes=function(r,a){var o=this._pipelineMap.get(r.uid),s=r.getData(),l=s.count(),u=o.progressiveEnabled&&a.incrementalPrepareRender&&l>=o.threshold,f=r.get("large")&&l>=r.get("largeThreshold"),d=r.get("progressiveChunkMode")==="mod"?l:null;r.pipelineContext=o.context={progressiveRender:u,modDataCount:d,large:f}},n.prototype.restorePipelines=function(r){var a=this,o=a._pipelineMap=createHashMap();r.eachSeries(function(s){var l=s.getProgressive(),u=s.uid;o.set(u,{id:u,head:null,tail:null,threshold:s.getProgressiveThreshold(),progressiveEnabled:l&&!(s.preventIncremental&&s.preventIncremental()),blockIndex:-1,step:Math.round(l||700),count:0}),a._pipe(s,s.dataTask)})},n.prototype.prepareStageTasks=function(){var r=this._stageTaskMap,a=this.api.getModel(),o=this.api;each(this._allHandlers,function(s){var l=r.get(s.uid)||r.set(s.uid,{}),u="";u='"reset" and "overallReset" must not be both specified.',assert(!(s.reset&&s.overallReset),u),s.reset&&this._createSeriesStageTask(s,l,a,o),s.overallReset&&this._createOverallStageTask(s,l,a,o)},this)},n.prototype.prepareView=function(r,a,o,s){var l=r.renderTask,u=l.context;u.model=a,u.ecModel=o,u.api=s,l.__block=!r.incrementalPrepareRender,this._pipe(a,l)},n.prototype.performDataProcessorTasks=function(r,a){this._performStageTasks(this._dataProcessorHandlers,r,a,{block:!0})},n.prototype.performVisualTasks=function(r,a,o){this._performStageTasks(this._visualHandlers,r,a,o)},n.prototype._performStageTasks=function(r,a,o,s){s=s||{};var l=!1,u=this;each(r,function(d,v){if(!(s.visualType&&s.visualType!==d.visualType)){var g=u._stageTaskMap.get(d.uid),y=g.seriesTaskMap,b=g.overallTask;if(b){var _,x=b.agentStubMap;x.each(function(w){f(s,w)&&(w.dirty(),_=!0)}),_&&b.dirty(),u.updatePayload(b,o);var C=u.getPerformArgs(b,s.block);x.each(function(w){w.perform(C)}),b.perform(C)&&(l=!0)}else y&&y.each(function(w,S){f(s,w)&&w.dirty();var D=u.getPerformArgs(w,s.block);D.skip=!d.performRawSeries&&a.isSeriesFiltered(w.context.model),u.updatePayload(w,o),w.perform(D)&&(l=!0)})}});function f(d,v){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(v.__pipeline.id))}this.unfinished=l||this.unfinished},n.prototype.performSeriesTasks=function(r){var a;r.eachSeries(function(o){a=o.dataTask.perform()||a}),this.unfinished=a||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(r){var a=r.tail;do{if(a.__block){r.blockIndex=a.__idxInPipeline;break}a=a.getUpstream()}while(a)})},n.prototype.updatePayload=function(r,a){a!=="remain"&&(r.context.payload=a)},n.prototype._createSeriesStageTask=function(r,a,o,s){var l=this,u=a.seriesTaskMap,f=a.seriesTaskMap=createHashMap(),d=r.seriesType,v=r.getTargetSeries;r.createOnAllSeries?o.eachRawSeries(g):d?o.eachRawSeriesByType(d,g):v&&v(o,s).each(g);function g(y){var b=y.uid,_=f.set(b,u&&u.get(b)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));_.context={model:y,ecModel:o,api:s,useClearVisual:r.isVisual&&!r.isLayout,plan:r.plan,reset:r.reset,scheduler:l},l._pipe(y,_)}},n.prototype._createOverallStageTask=function(r,a,o,s){var l=this,u=a.overallTask=a.overallTask||createTask({reset:overallTaskReset});u.context={ecModel:o,api:s,overallReset:r.overallReset,scheduler:l};var f=u.agentStubMap,d=u.agentStubMap=createHashMap(),v=r.seriesType,g=r.getTargetSeries,y=!0,b=!1,_="";_='"createOnAllSeries" do not supported for "overallReset", becuase it will block all streams.',assert(!r.createOnAllSeries,_),v?o.eachRawSeriesByType(v,x):g?g(o,s).each(x):(y=!1,each(o.getSeries(),x));function x(C){var w=C.uid,S=d.set(w,f&&f.get(w)||(b=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));S.context={model:C,overallProgress:y},S.agent=u,S.__block=y,l._pipe(C,S)}b&&u.dirty()},n.prototype._pipe=function(r,a){var o=r.uid,s=this._pipelineMap.get(o);!s.head&&(s.head=a),s.tail&&s.tail.pipe(a),s.tail=a,a.__idxInPipeline=s.count++,a.__pipeline=s},n.wrapStageHandler=function(r,a){return isFunction3(r)&&(r={overallReset:r,seriesType:detectSeriseType(r)}),r.uid=getUID("stageHandler"),a&&(r.visualType=a),r},n}();function overallTaskReset(n){n.overallReset(n.ecModel,n.api,n.payload)}function stubReset(n){return n.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function seriesTaskReset(n){n.useClearVisual&&n.data.clearAllVisual();var r=n.resetDefines=normalizeToArray(n.reset(n.model,n.ecModel,n.api,n.payload));return r.length>1?map3(r,function(a,o){return makeSeriesTaskProgress(o)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(n){return function(r,a){var o=a.data,s=a.resetDefines[n];if(s&&s.dataEach)for(var l=r.start;l<r.end;l++)s.dataEach(o,l);else s&&s.progress&&s.progress(r,o)}}function seriesTaskCount(n){return n.data.count()}function detectSeriseType(n){seriesType=null;try{n(ecModelMock,apiMock)}catch(r){}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,Global_default),mockMethods(apiMock,ExtensionAPI_default),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(n){seriesType=n},ecModelMock.eachComponent=function(n){n.mainType==="series"&&n.subType&&(seriesType=n.subType)};function mockMethods(n,r){for(var a in r.prototype)n[a]=noop}var Scheduler_default=Scheduler2,colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],light_default23={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]},contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;var dark_default79=theme,ECEventProcessor=function(){function n(){}return n.prototype.normalizeQuery=function(r){var a={},o={},s={};if(isString2(r)){var l=parseClassType(r);a.mainType=l.main||null,a.subType=l.sub||null}else{var u=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};each(r,function(d,v){for(var g=!1,y=0;y<u.length;y++){var b=u[y],_=v.lastIndexOf(b);if(_>0&&_===v.length-b.length){var x=v.slice(0,_);x!=="data"&&(a.mainType=x,a[b.toLowerCase()]=d,g=!0)}}f.hasOwnProperty(v)&&(o[v]=d,g=!0),g||(s[v]=d)})}return{cptQuery:a,dataQuery:o,otherQuery:s}},n.prototype.filter=function(r,a){var o=this.eventInfo;if(!o)return!0;var s=o.targetEl,l=o.packedEvent,u=o.model,f=o.view;if(!u||!f)return!0;var d=a.cptQuery,v=a.dataQuery;return g(d,u,"mainType")&&g(d,u,"subType")&&g(d,u,"index","componentIndex")&&g(d,u,"name")&&g(d,u,"id")&&g(v,l,"name")&&g(v,l,"dataIndex")&&g(v,l,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(r,a.otherQuery,s,l));function g(y,b,_,x){return y[_]==null||b[x||_]===y[_]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,r){var a=n.getData();if(n.legendIcon&&a.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var o={},s={},l=!1,u=0;u<SYMBOL_PROPS_WITH_CB.length;u++){var f=SYMBOL_PROPS_WITH_CB[u],d=n.get(f);isFunction3(d)?(l=!0,s[f]=d):o[f]=d}if(o.symbol=o.symbol||n.defaultSymbol,a.setVisual(extend3({legendIcon:n.legendIcon||o.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},o)),r.isSeriesFiltered(n))return;var v=keys3(s);function g(y,b){for(var _=n.getRawValue(b),x=n.getDataParams(b),C=0;C<v.length;C++){var w=v[C];y.setItemVisual(b,w,s[w](_,x))}}return{dataEach:l?g:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,r){if(!n.hasSymbolVisual||r.isSeriesFiltered(n))return;var a=n.getData();function o(s,l){for(var u=s.getItemModel(l),f=0;f<SYMBOL_PROPS.length;f++){var d=SYMBOL_PROPS[f],v=u.getShallow(d,!0);v!=null&&s.setItemVisual(l,d,v)}}return{dataEach:a.hasItemOption?o:null}}};function getItemVisualFromData(n,r,a){switch(a){case"color":var o=n.getItemVisual(r,"style");return o[n.getVisual("drawType")];case"opacity":return n.getItemVisual(r,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(r,a);default:console.warn("Unknown visual type "+a)}}function getVisualFromData(n,r){switch(r){case"color":var a=n.getVisual("style");return a[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(r);default:console.warn("Unknown visual type "+r)}}function handleSeriesLegacySelectEvents(n,r,a,o,s){var l=n+r;a.isSilent(l)||(deprecateLog("event "+l+" is deprecated."),o.eachComponent({mainType:"series",subType:"pie"},function(u){for(var f=u.seriesIndex,d=u.option.selectedMap,v=s.selected,g=0;g<v.length;g++)if(v[g].seriesIndex===f){var y=u.getData(),b=queryDataIndex(y,s.fromActionPayload);a.trigger(l,{type:l,seriesId:u.id,name:isArray3(b)?y.getName(b[0]):y.getName(b),selected:isString2(d)?d:extend3({},d)})}}))}function handleLegacySelectEvents(n,r,a){n.on("selectchanged",function(o){var s=a.getModel();o.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",r,s,o),handleSeriesLegacySelectEvents("pie","selectchanged",r,s,o)):o.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",r,s,o),handleSeriesLegacySelectEvents("pie","selected",r,s,o)):o.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",r,s,o),handleSeriesLegacySelectEvents("pie","unselected",r,s,o))})}function findEventDispatcher(n,r,a){for(var o;n&&!(r(n)&&(o=n,a));)n=n.__hostTarget||n.parent;return o}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap3=function(){function n(){this._id="__ec_inner_"+wmUniqueIndex++}return n.prototype.get=function(r){return this._guard(r)[this._id]},n.prototype.set=function(r,a){var o=this._guard(r);return supportDefineProperty?Object.defineProperty(o,this._id,{value:a,enumerable:!1,configurable:!0}):o[this._id]=a,this},n.prototype.delete=function(r){return this.has(r)?(delete this._guard(r)[this._id],!0):!1},n.prototype.has=function(r){return!!this._guard(r)[this._id]},n.prototype._guard=function(r){if(r!==Object(r))throw TypeError("Value of WeakMap is not a non-null object.");return r},n}(),WeakMap_default2=WeakMap3,Triangle=Path_default.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,r){var a=r.cx,o=r.cy,s=r.width/2,l=r.height/2;n.moveTo(a,o-l),n.lineTo(a+s,o+l),n.lineTo(a-s,o+l),n.closePath()}}),Diamond=Path_default.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,r){var a=r.cx,o=r.cy,s=r.width/2,l=r.height/2;n.moveTo(a,o-l),n.lineTo(a+s,o),n.lineTo(a,o+l),n.lineTo(a-s,o),n.closePath()}}),Pin=Path_default.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,r){var a=r.x,o=r.y,s=r.width/5*3,l=Math.max(s,r.height),u=s/2,f=u*u/(l-u),d=o-l+u+f,v=Math.asin(f/u),g=Math.cos(v)*u,y=Math.sin(v),b=Math.cos(v),_=u*.6,x=u*.7;n.moveTo(a-g,d+f),n.arc(a,d,u,Math.PI-v,Math.PI*2+v),n.bezierCurveTo(a+g-y*_,d+f+b*_,a,o-x,a,o),n.bezierCurveTo(a,o-x,a-g+y*_,d+f+b*_,a-g,d+f),n.closePath()}}),Arrow=Path_default.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,r){var a=r.height,o=r.width,s=r.x,l=r.y,u=o/3*2;n.moveTo(s,l),n.lineTo(s+u,l+a),n.lineTo(s,l+a/4*3),n.lineTo(s-u,l+a),n.lineTo(s,l),n.closePath()}}),symbolCtors={line:Line_default,rect:Rect_default,roundRect:Rect_default,square:Rect_default,circle:Circle_default,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(n,r,a,o,s){s.x1=n,s.y1=r+o/2,s.x2=n+a,s.y2=r+o/2},rect:function(n,r,a,o,s){s.x=n,s.y=r,s.width=a,s.height=o},roundRect:function(n,r,a,o,s){s.x=n,s.y=r,s.width=a,s.height=o,s.r=Math.min(a,o)/4},square:function(n,r,a,o,s){var l=Math.min(a,o);s.x=n,s.y=r,s.width=l,s.height=l},circle:function(n,r,a,o,s){s.cx=n+a/2,s.cy=r+o/2,s.r=Math.min(a,o)/2},diamond:function(n,r,a,o,s){s.cx=n+a/2,s.cy=r+o/2,s.width=a,s.height=o},pin:function(n,r,a,o,s){s.x=n+a/2,s.y=r+o/2,s.width=a,s.height=o},arrow:function(n,r,a,o,s){s.x=n+a/2,s.y=r+o/2,s.width=a,s.height=o},triangle:function(n,r,a,o,s){s.cx=n+a/2,s.cy=r+o/2,s.width=a,s.height=o}},symbolBuildProxies={};each(symbolCtors,function(n,r){symbolBuildProxies[r]=new n});var SymbolClz=Path_default.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,r,a){var o=calculateTextPosition(n,r,a),s=this.shape;return s&&s.symbolType==="pin"&&r.position==="inside"&&(o.y=a.y+a.height*.4),o},buildPath:function(n,r,a){var o=r.symbolType;if(o!=="none"){var s=symbolBuildProxies[o];s||(o="rect",s=symbolBuildProxies[o]),symbolShapeMakers[o](r.x,r.y,r.width,r.height,s.shape),s.buildPath(n,s.shape,a)}}});function symbolPathSetColor(n,r){if(this.type!=="image"){var a=this.style;this.__isEmptyBrush?(a.stroke=n,a.fill=r||"#fff",a.lineWidth=2):this.shape.symbolType==="line"?a.stroke=n:a.fill=n,this.markRedraw()}}function createSymbol(n,r,a,o,s,l,u){var f=n.indexOf("empty")===0;f&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var d;return n.indexOf("image://")===0?d=makeImage(n.slice(8),new BoundingRect_default(r,a,o,s),u?"center":"cover"):n.indexOf("path://")===0?d=makePath(n.slice(7),{},new BoundingRect_default(r,a,o,s),u?"center":"cover"):d=new SymbolClz({shape:{symbolType:n,x:r,y:a,width:o,height:s}}),d.__isEmptyBrush=f,d.setColor=symbolPathSetColor,l&&d.setColor(l),d}function normalizeSymbolSize(n){return isArray3(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function normalizeSymbolOffset(n,r){if(n!=null)return isArray3(n)||(n=[n,n]),[parsePercent2(n[0],r[0])||0,parsePercent2(retrieve2(n[1],n[0]),r[1])||0]}function createLinearGradient(n,r,a){var o=r.x==null?0:r.x,s=r.x2==null?1:r.x2,l=r.y==null?0:r.y,u=r.y2==null?0:r.y2;r.global||(o=o*a.width+a.x,s=s*a.width+a.x,l=l*a.height+a.y,u=u*a.height+a.y),o=isNaN(o)?0:o,s=isNaN(s)?1:s,l=isNaN(l)?0:l,u=isNaN(u)?0:u;var f=n.createLinearGradient(o,l,s,u);return f}function createRadialGradient(n,r,a){var o=a.width,s=a.height,l=Math.min(o,s),u=r.x==null?.5:r.x,f=r.y==null?.5:r.y,d=r.r==null?.5:r.r;r.global||(u=u*o+a.x,f=f*s+a.y,d=d*l);var v=n.createRadialGradient(u,f,0,u,f,d);return v}function getCanvasGradient(n,r,a){for(var o=r.type==="radial"?createRadialGradient(n,r,a):createLinearGradient(n,r,a),s=r.colorStops,l=0;l<s.length;l++)o.addColorStop(s[l].offset,s[l].color);return o}function isClipPathChanged(n,r){if(n===r||!n&&!r)return!1;if(!n||!r||n.length!==r.length)return!0;for(var a=0;a<n.length;a++)if(n[a]!==r[a])return!0;return!1}function parseInt10(n){return parseInt(n,10)}function getSize(n,r,a){var o=["width","height"][r],s=["clientWidth","clientHeight"][r],l=["paddingLeft","paddingTop"][r],u=["paddingRight","paddingBottom"][r];if(a[o]!=null&&a[o]!=="auto")return parseFloat(a[o]);var f=document.defaultView.getComputedStyle(n);return(n[s]||parseInt10(f[o])||parseInt10(n.style[o]))-(parseInt10(f[l])||0)-(parseInt10(f[u])||0)|0}function normalizeLineDash(n,r){return!n||n==="solid"||!(r>0)?null:n==="dashed"?[4*r,2*r]:n==="dotted"?[r]:isNumber(n)?[n]:isArray3(n)?n:null}function getLineDash(n){var r=n.style,a=r.lineDash&&r.lineWidth>0&&normalizeLineDash(r.lineDash,r.lineWidth),o=r.lineDashOffset;if(a){var s=r.strokeNoScale&&n.getLineScale?n.getLineScale():1;s&&s!==1&&(a=map3(a,function(l){return l/s}),o/=s)}return[a,o]}var pathProxyForDraw=new PathProxy_default(!0);function styleHasStroke(n){var r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))}function isValidStrokeFillStyle(n){return typeof n=="string"&&n!=="none"}function styleHasFill(n){var r=n.fill;return r!=null&&r!=="none"}function doFillPath(n,r){if(r.fillOpacity!=null&&r.fillOpacity!==1){var a=n.globalAlpha;n.globalAlpha=r.fillOpacity*r.opacity,n.fill(),n.globalAlpha=a}else n.fill()}function doStrokePath(n,r){if(r.strokeOpacity!=null&&r.strokeOpacity!==1){var a=n.globalAlpha;n.globalAlpha=r.strokeOpacity*r.opacity,n.stroke(),n.globalAlpha=a}else n.stroke()}function createCanvasPattern(n,r,a){var o=createOrUpdateImage(r.image,r.__image,a);if(isImageReady(o)){var s=n.createPattern(o,r.repeat||"repeat");if(typeof DOMMatrix=="function"&&s&&s.setTransform){var l=new DOMMatrix;l.translateSelf(r.x||0,r.y||0),l.rotateSelf(0,0,(r.rotation||0)*RADIAN_TO_DEGREE),l.scaleSelf(r.scaleX||1,r.scaleY||1),s.setTransform(l)}return s}}function brushPath(n,r,a,o){var s,l=styleHasStroke(a),u=styleHasFill(a),f=a.strokePercent,d=f<1,v=!r.path;(!r.silent||d)&&v&&r.createPathProxy();var g=r.path||pathProxyForDraw,y=r.__dirty;if(!o){var b=a.fill,_=a.stroke,x=u&&!!b.colorStops,C=l&&!!_.colorStops,w=u&&!!b.image,S=l&&!!_.image,D=void 0,A=void 0,T=void 0,M=void 0,E=void 0;(x||C)&&(E=r.getBoundingRect()),x&&(D=y?getCanvasGradient(n,b,E):r.__canvasFillGradient,r.__canvasFillGradient=D),C&&(A=y?getCanvasGradient(n,_,E):r.__canvasStrokeGradient,r.__canvasStrokeGradient=A),w&&(T=y||!r.__canvasFillPattern?createCanvasPattern(n,b,r):r.__canvasFillPattern,r.__canvasFillPattern=T),S&&(M=y||!r.__canvasStrokePattern?createCanvasPattern(n,_,r):r.__canvasStrokePattern,r.__canvasStrokePattern=T),x?n.fillStyle=D:w&&(T?n.fillStyle=T:u=!1),C?n.strokeStyle=A:S&&(M?n.strokeStyle=M:l=!1)}var P=r.getGlobalScale();g.setScale(P[0],P[1],r.segmentIgnoreThreshold);var I,F;n.setLineDash&&a.lineDash&&(s=getLineDash(r),I=s[0],F=s[1]);var L=!0;(v||y&SHAPE_CHANGED_BIT)&&(g.setDPR(n.dpr),d?g.setContext(null):(g.setContext(n),L=!1),g.reset(),r.buildPath(g,r.shape,o),g.toStatic(),r.pathUpdated()),L&&g.rebuildPath(n,d?f:1),I&&(n.setLineDash(I),n.lineDashOffset=F),o||(a.strokeFirst?(l&&doStrokePath(n,a),u&&doFillPath(n,a)):(u&&doFillPath(n,a),l&&doStrokePath(n,a))),I&&n.setLineDash([])}function brushImage(n,r,a){var o=r.__image=createOrUpdateImage(a.image,r.__image,r,r.onload);if(!(!o||!isImageReady(o))){var s=a.x||0,l=a.y||0,u=r.getWidth(),f=r.getHeight(),d=o.width/o.height;if(u==null&&f!=null?u=f*d:f==null&&u!=null?f=u/d:u==null&&f==null&&(u=o.width,f=o.height),a.sWidth&&a.sHeight){var v=a.sx||0,g=a.sy||0;n.drawImage(o,v,g,a.sWidth,a.sHeight,s,l,u,f)}else if(a.sx&&a.sy){var v=a.sx,g=a.sy,y=u-v,b=f-g;n.drawImage(o,v,g,y,b,s,l,u,f)}else n.drawImage(o,s,l,u,f)}}function brushText(n,r,a){var o,s=a.text;if(s!=null&&(s+=""),s){n.font=a.font||DEFAULT_FONT,n.textAlign=a.textAlign,n.textBaseline=a.textBaseline;var l=void 0,u=void 0;n.setLineDash&&a.lineDash&&(o=getLineDash(r),l=o[0],u=o[1]),l&&(n.setLineDash(l),n.lineDashOffset=u),a.strokeFirst?(styleHasStroke(a)&&n.strokeText(s,a.x,a.y),styleHasFill(a)&&n.fillText(s,a.x,a.y)):(styleHasFill(a)&&n.fillText(s,a.x,a.y),styleHasStroke(a)&&n.strokeText(s,a.x,a.y)),l&&n.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(n,r,a,o,s){var l=!1;if(!o&&(a=a||{},r===a))return!1;if(o||r.opacity!==a.opacity){flushPathDrawn(n,s),l=!0;var u=Math.max(Math.min(r.opacity,1),0);n.globalAlpha=isNaN(u)?DEFAULT_COMMON_STYLE.opacity:u}(o||r.blend!==a.blend)&&(l||(flushPathDrawn(n,s),l=!0),n.globalCompositeOperation=r.blend||DEFAULT_COMMON_STYLE.blend);for(var f=0;f<SHADOW_NUMBER_PROPS.length;f++){var d=SHADOW_NUMBER_PROPS[f];(o||r[d]!==a[d])&&(l||(flushPathDrawn(n,s),l=!0),n[d]=n.dpr*(r[d]||0))}return(o||r.shadowColor!==a.shadowColor)&&(l||(flushPathDrawn(n,s),l=!0),n.shadowColor=r.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),l}function bindPathAndTextCommonStyle(n,r,a,o,s){var l=getStyle(r,s.inHover),u=o?null:a&&getStyle(a,s.inHover)||{};if(l===u)return!1;var f=bindCommonProps(n,l,u,o,s);if((o||l.fill!==u.fill)&&(f||(flushPathDrawn(n,s),f=!0),isValidStrokeFillStyle(l.fill)&&(n.fillStyle=l.fill)),(o||l.stroke!==u.stroke)&&(f||(flushPathDrawn(n,s),f=!0),isValidStrokeFillStyle(l.stroke)&&(n.strokeStyle=l.stroke)),(o||l.opacity!==u.opacity)&&(f||(flushPathDrawn(n,s),f=!0),n.globalAlpha=l.opacity==null?1:l.opacity),r.hasStroke()){var d=l.lineWidth,v=d/(l.strokeNoScale&&r.getLineScale?r.getLineScale():1);n.lineWidth!==v&&(f||(flushPathDrawn(n,s),f=!0),n.lineWidth=v)}for(var g=0;g<STROKE_PROPS.length;g++){var y=STROKE_PROPS[g],b=y[0];(o||l[b]!==u[b])&&(f||(flushPathDrawn(n,s),f=!0),n[b]=l[b]||y[1])}return f}function bindImageStyle(n,r,a,o,s){return bindCommonProps(n,getStyle(r,s.inHover),a&&getStyle(a,s.inHover),o,s)}function setContextTransform(n,r){var a=r.transform,o=n.dpr||1;a?n.setTransform(o*a[0],o*a[1],o*a[2],o*a[3],o*a[4],o*a[5]):n.setTransform(o,0,0,o,0,0)}function updateClipStatus(n,r,a){for(var o=!1,s=0;s<n.length;s++){var l=n[s];o=o||l.isZeroArea(),setContextTransform(r,l),r.beginPath(),l.buildPath(r,l.shape),r.clip()}a.allClipped=o}function isTransformChanged(n,r){return n&&r?n[0]!==r[0]||n[1]!==r[1]||n[2]!==r[2]||n[3]!==r[3]||n[4]!==r[4]||n[5]!==r[5]:!(!n&&!r)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(n){var r=styleHasFill(n),a=styleHasStroke(n);return!(n.lineDash||!(+r^+a)||r&&typeof n.fill!="string"||a&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function flushPathDrawn(n,r){r.batchFill&&n.fill(),r.batchStroke&&n.stroke(),r.batchFill="",r.batchStroke=""}function getStyle(n,r){return r&&n.__hoverStyle||n.style}function brushSingle(n,r){brush(n,r,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush(n,r,a,o){var s=r.transform;if(!r.shouldBePainted(a.viewWidth,a.viewHeight,!1,!1)){r.__dirty&=~REDRAW_BIT,r.__isRendered=!1;return}var l=r.__clipPaths,u=a.prevElClipPaths,f=!1,d=!1;if((!u||isClipPathChanged(l,u))&&(u&&u.length&&(flushPathDrawn(n,a),n.restore(),d=f=!0,a.prevElClipPaths=null,a.allClipped=!1,a.prevEl=null),l&&l.length&&(flushPathDrawn(n,a),n.save(),updateClipStatus(l,n,a),f=!0),a.prevElClipPaths=l),a.allClipped){r.__isRendered=!1;return}r.beforeBrush&&r.beforeBrush(),r.innerBeforeBrush();var v=a.prevEl;v||(d=f=!0);var g=r instanceof Path_default&&r.autoBatch&&canPathBatch(r.style);f||isTransformChanged(s,v.transform)?(flushPathDrawn(n,a),setContextTransform(n,r)):g||flushPathDrawn(n,a);var y=getStyle(r,a.inHover);r instanceof Path_default?(a.lastDrawType!==DRAW_TYPE_PATH&&(d=!0,a.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(n,r,v,d,a),(!g||!a.batchFill&&!a.batchStroke)&&n.beginPath(),brushPath(n,r,y,g),g&&(a.batchFill=y.fill||"",a.batchStroke=y.stroke||"")):r instanceof TSpan_default?(a.lastDrawType!==DRAW_TYPE_TEXT&&(d=!0,a.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(n,r,v,d,a),brushText(n,r,y)):r instanceof Image_default?(a.lastDrawType!==DRAW_TYPE_IMAGE&&(d=!0,a.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(n,r,v,d,a),brushImage(n,r,y)):r.getTemporalDisplayables&&(a.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(d=!0,a.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(n,r,a)),g&&o&&flushPathDrawn(n,a),r.innerAfterBrush(),r.afterBrush&&r.afterBrush(),a.prevEl=r,r.__dirty=0,r.__isRendered=!0}function brushIncremental(n,r,a){var o=r.getDisplayables(),s=r.getTemporalDisplayables();n.save();var l={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:a.viewWidth,viewHeight:a.viewHeight,inHover:a.inHover},u,f;for(u=r.getCursor(),f=o.length;u<f;u++){var d=o[u];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush(n,d,l,u===f-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),l.prevEl=d}for(var v=0,g=s.length;v<g;v++){var d=s[v];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush(n,d,l,v===g-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),l.prevEl=d}r.clearTemporalDisplayables(),r.notClear=!0,n.restore()}var decalMap=new WeakMap_default2,decalCache=new LRU_default(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(n,r){if(n==="none")return null;var a=r.getDevicePixelRatio(),o=r.getZr(),s=o.painter.type==="svg";n.dirty&&decalMap.delete(n);var l=decalMap.get(n);if(l)return l;var u=defaults(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});u.backgroundColor==="none"&&(u.backgroundColor=null);var f={repeat:"repeat"};return d(f),f.rotation=u.rotation,f.scaleX=f.scaleY=s?1:1/a,decalMap.set(n,f),n.dirty=!1,f;function d(v){for(var g=[a],y=!0,b=0;b<decalKeys.length;++b){var _=u[decalKeys[b]];if(_!=null&&!isArray3(_)&&!isString2(_)&&!isNumber(_)&&typeof _!="boolean"){y=!1;break}g.push(_)}var x;if(y){x=g.join(",")+(s?"-svg":"");var C=decalCache.get(x);C&&(s?v.svgElement=C:v.image=C)}var w=normalizeDashArrayX(u.dashArrayX),S=normalizeDashArrayY(u.dashArrayY),D=normalizeSymbolArray(u.symbol),A=getLineBlockLengthX(w),T=getLineBlockLengthY(S),M=!s&&platformApi.createCanvas(),E=s&&{tag:"g",attrs:{},key:"dcl",children:[]},P=F(),I;M&&(M.width=P.width*a,M.height=P.height*a,I=M.getContext("2d")),L(),y&&decalCache.put(x,M||E),v.image=M,v.svgElement=E,v.svgWidth=P.width,v.svgHeight=P.height;function F(){for(var O=1,z=0,R=A.length;z<R;++z)O=getLeastCommonMultiple(O,A[z]);for(var B=1,z=0,R=D.length;z<R;++z)B=getLeastCommonMultiple(B,D[z].length);O*=B;var N=T*A.length*D.length,H=function(W){console.warn("Calculated decal size is greater than "+W+" due to decal option settings so "+W+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+W+" to be larger to avoid incontinuity.")};return O>u.maxTileWidth&&H("maxTileWidth"),N>u.maxTileHeight&&H("maxTileHeight"),{width:Math.max(1,Math.min(O,u.maxTileWidth)),height:Math.max(1,Math.min(N,u.maxTileHeight))}}function L(){I&&(I.clearRect(0,0,M.width,M.height),u.backgroundColor&&(I.fillStyle=u.backgroundColor,I.fillRect(0,0,M.width,M.height)));for(var O=0,z=0;z<S.length;++z)O+=S[z];if(O<=0)return;for(var R=-T,B=0,N=0,H=0;R<P.height;){if(B%2==0){for(var W=N/2%D.length,V=0,G=0,Y=0;V<P.width*2;){for(var Q=0,z=0;z<w[H].length;++z)Q+=w[H][z];if(Q<=0)break;if(G%2==0){var q=(1-u.symbolSize)*.5,ne=V+w[H][G]*q,ve=R+S[B]*q,fe=w[H][G]*u.symbolSize,he=S[B]*u.symbolSize,pe=Y/2%D[W].length;de(ne,ve,fe,he,D[W][pe])}V+=w[H][G],++Y,++G,G===w[H].length&&(G=0)}++H,H===w.length&&(H=0)}R+=S[B],++N,++B,B===S.length&&(B=0)}function de(ue,be,se,_e,Me){var $=s?1:a,U=createSymbol(Me,ue*$,be*$,se*$,_e*$,u.color,u.symbolKeepAspect);if(s){var Z=o.painter.renderOneToVNode(U);Z&&E.children.push(Z)}else brushSingle(I,U)}}}}function normalizeSymbolArray(n){if(!n||n.length===0)return[["rect"]];if(isString2(n))return[[n]];for(var r=!0,a=0;a<n.length;++a)if(!isString2(n[a])){r=!1;break}if(r)return normalizeSymbolArray([n]);for(var o=[],a=0;a<n.length;++a)isString2(n[a])?o.push([n[a]]):o.push(n[a]);return o}function normalizeDashArrayX(n){if(!n||n.length===0)return[[0,0]];if(isNumber(n)){var r=Math.ceil(n);return[[r,r]]}for(var a=!0,o=0;o<n.length;++o)if(!isNumber(n[o])){a=!1;break}if(a)return normalizeDashArrayX([n]);for(var s=[],o=0;o<n.length;++o)if(isNumber(n[o])){var r=Math.ceil(n[o]);s.push([r,r])}else{var r=map3(n[o],function(f){return Math.ceil(f)});r.length%2==1?s.push(r.concat(r)):s.push(r)}return s}function normalizeDashArrayY(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(isNumber(n)){var r=Math.ceil(n);return[r,r]}var a=map3(n,function(o){return Math.ceil(o)});return n.length%2?a.concat(a):a}function getLineBlockLengthX(n){return map3(n,function(r){return getLineBlockLengthY(r)})}function getLineBlockLengthY(n){for(var r=0,a=0;a<n.length;++a)r+=n[a];return n.length%2==1?r*2:r}function decalVisual(n,r){n.eachRawSeries(function(a){if(!n.isSeriesFiltered(a)){var o=a.getData();o.hasItemVisual()&&o.each(function(u){var f=o.getItemVisual(u,"decal");if(f){var d=o.ensureUniqueItemVisual(u,"style");d.decal=createOrUpdatePatternFromDecal(f,r)}});var s=o.getVisual("decal");if(s){var l=o.getVisual("style");l.decal=createOrUpdatePatternFromDecal(s,r)}}})}var lifecycle=new Eventful_default,lifecycle_default=lifecycle,implsStore={};function registerImpl(n,r){implsStore[n]&&error("Already has an implementation of "+n+"."),implsStore[n]=r}function getImpl(n){return implsStore[n]||error("Implementation of "+n+" doesn't exists."),implsStore[n]}var hasWindow=typeof window!="undefined",TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(n){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(this.isDisposed()){disposedWarning(this.id);return}return toLowercaseNameAndCallEventful(this,n,r)}}function createRegisterEventWithLowercaseMessageCenter(n){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return toLowercaseNameAndCallEventful(this,n,r)}}function toLowercaseNameAndCallEventful(n,r,a){return a[0]=a[0]&&a[0].toLowerCase(),Eventful_default.prototype[r].apply(n,a)}var MessageCenter=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(Eventful_default),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render7,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(n){__extends(r,n);function r(a,o,s){var l=n.call(this,new ECEventProcessor)||this;l._chartsViews=[],l._chartsMap={},l._componentsViews=[],l._componentsMap={},l._pendingActions=[],s=s||{},isString2(o)&&(o=themeStorage[o]),l._dom=a;var u="canvas",f=!1,d=hasWindow?window:global;u=d.__ECHARTS__DEFAULT__RENDERER__||u;var v=d.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;f=v==null?f:v;var g=l._zr=init2(a,{renderer:s.renderer||u,devicePixelRatio:s.devicePixelRatio,width:s.width,height:s.height,ssr:s.ssr,useDirtyRect:s.useDirtyRect==null?f:s.useDirtyRect});l._ssr=s.ssr,l._throttledZrFlush=throttle(bind(g.flush,g),17),o=clone(o),o&&globalBackwardCompat(o,!0),l._theme=o,l._locale=createLocaleObject(s.locale||SYSTEM_LANG),l._coordSysMgr=new CoordinateSystem_default;var y=l._api=createExtensionAPI(l);function b(_,x){return _.__prio-x.__prio}return sort(visualFuncs,b),sort(dataProcessorFuncs,b),l._scheduler=new Scheduler_default(l,y,dataProcessorFuncs,visualFuncs),l._messageCenter=new MessageCenter,l._initEvents(),l.resize=bind(l.resize,l),g.animation.on("frame",l._onframe,l),bindRenderedEvent(g,l),bindMouseEvent(g,l),setAsPrimitive(l),l}return r.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var a=this._scheduler;if(this[PENDING_UPDATE]){var o=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(d){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,d}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}else if(a.unfinished){var s=TEST_FRAME_REMAIN_TIME,l=this._model,u=this._api;a.unfinished=!1;do{var f=+new Date;a.performSeriesTasks(l),a.performDataProcessorTasks(l),updateStreamModes(this,l),a.performVisualTasks(l),renderSeries(this,this._model,u,"remain",{}),s-=+new Date-f}while(s>0&&a.unfinished);a.unfinished||this._zr.flush()}}},r.prototype.getDom=function(){return this._dom},r.prototype.getId=function(){return this.id},r.prototype.getZr=function(){return this._zr},r.prototype.isSSR=function(){return this._ssr},r.prototype.setOption=function(a,o,s){if(this[IN_MAIN_PROCESS_KEY]){error("`setOption` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}var l,u,f;if(isObject3(o)&&(s=o.lazyUpdate,l=o.silent,u=o.replaceMerge,f=o.transition,o=o.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||o){var d=new OptionManager_default(this._api),v=this._theme,g=this._model=new Global_default;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,v,this._locale,d)}this._model.setOption(a,{replaceMerge:u},optionPreprocessorFuncs);var y={seriesTransition:f,optionChanged:!0};if(s)this[PENDING_UPDATE]={silent:l,updateParams:y},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,y)}catch(b){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,b}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}},r.prototype.setTheme=function(){deprecateLog("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},r.prototype.getModel=function(){return this._model},r.prototype.getOption=function(){return this._model&&this._model.getOption()},r.prototype.getWidth=function(){return this._zr.getWidth()},r.prototype.getHeight=function(){return this._zr.getHeight()},r.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||hasWindow&&window.devicePixelRatio||1},r.prototype.getRenderedCanvas=function(a){return deprecateReplaceLog("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(a)},r.prototype.renderToCanvas=function(a){a=a||{};var o=this._zr.painter;if(o.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return o.getRenderedCanvas({backgroundColor:a.backgroundColor||this._model.get("backgroundColor"),pixelRatio:a.pixelRatio||this.getDevicePixelRatio()})},r.prototype.renderToSVGString=function(a){a=a||{};var o=this._zr.painter;if(o.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return o.renderToString({useViewBox:a.useViewBox})},r.prototype.getSvgDataURL=function(){if(!!env_default.svgSupported){var a=this._zr,o=a.storage.getDisplayList();return each(o,function(s){s.stopAnimation(null,!0)}),a.painter.toDataURL()}},r.prototype.getDataURL=function(a){if(this._disposed){disposedWarning(this.id);return}a=a||{};var o=a.excludeComponents,s=this._model,l=[],u=this;each(o,function(d){s.eachComponent({mainType:d},function(v){var g=u._componentsMap[v.__viewId];g.group.ignore||(l.push(g),g.group.ignore=!0)})});var f=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return each(l,function(d){d.group.ignore=!1}),f},r.prototype.getConnectedDataURL=function(a){if(this._disposed){disposedWarning(this.id);return}var o=a.type==="svg",s=this.group,l=Math.min,u=Math.max,f=1/0;if(connectedGroups[s]){var d=f,v=f,g=-f,y=-f,b=[],_=a&&a.pixelRatio||this.getDevicePixelRatio();each(instances2,function(A,T){if(A.group===s){var M=o?A.getZr().painter.getSvgDom().innerHTML:A.renderToCanvas(clone(a)),E=A.getDom().getBoundingClientRect();d=l(E.left,d),v=l(E.top,v),g=u(E.right,g),y=u(E.bottom,y),b.push({dom:M,left:E.left,top:E.top})}}),d*=_,v*=_,g*=_,y*=_;var x=g-d,C=y-v,w=platformApi.createCanvas(),S=init2(w,{renderer:o?"svg":"canvas"});if(S.resize({width:x,height:C}),o){var D="";return each(b,function(A){var T=A.left-d,M=A.top-v;D+='<g transform="translate('+T+","+M+')">'+A.dom+"</g>"}),S.painter.getSvgRoot().innerHTML=D,a.connectedBackgroundColor&&S.painter.setBackgroundColor(a.connectedBackgroundColor),S.refreshImmediately(),S.painter.toDataURL()}else return a.connectedBackgroundColor&&S.add(new Rect_default({shape:{x:0,y:0,width:x,height:C},style:{fill:a.connectedBackgroundColor}})),each(b,function(A){var T=new Image_default({style:{x:A.left*_-d,y:A.top*_-v,image:A.dom}});S.add(T)}),S.refreshImmediately(),w.toDataURL("image/"+(a&&a.type||"png"))}else return this.getDataURL(a)},r.prototype.convertToPixel=function(a,o){return doConvertPixel(this,"convertToPixel",a,o)},r.prototype.convertFromPixel=function(a,o){return doConvertPixel(this,"convertFromPixel",a,o)},r.prototype.containPixel=function(a,o){if(this._disposed){disposedWarning(this.id);return}var s=this._model,l,u=parseFinder(s,a);return each(u,function(f,d){d.indexOf("Models")>=0&&each(f,function(v){var g=v.coordinateSystem;if(g&&g.containPoint)l=l||!!g.containPoint(o);else if(d==="seriesModels"){var y=this._chartsMap[v.__viewId];y&&y.containPoint?l=l||y.containPoint(o,v):console.warn(d+": "+(y?"The found component do not support containPoint.":"No view mapping to the found component."))}else console.warn(d+": containPoint is not supported")},this)},this),!!l},r.prototype.getVisual=function(a,o){var s=this._model,l=parseFinder(s,a,{defaultMainType:"series"}),u=l.seriesModel;u||console.warn("There is no specified seires model");var f=u.getData(),d=l.hasOwnProperty("dataIndexInside")?l.dataIndexInside:l.hasOwnProperty("dataIndex")?f.indexOfRawIndex(l.dataIndex):null;return d!=null?getItemVisualFromData(f,d,o):getVisualFromData(f,o)},r.prototype.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},r.prototype.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]},r.prototype._initEvents=function(){var a=this;each(MOUSE_EVENT_NAMES,function(o){var s=function(l){var u=a.getModel(),f=l.target,d,v=o==="globalout";if(v?d={}:f&&findEventDispatcher(f,function(x){var C=getECData(x);if(C&&C.dataIndex!=null){var w=C.dataModel||u.getSeriesByIndex(C.seriesIndex);return d=w&&w.getDataParams(C.dataIndex,C.dataType)||{},!0}else if(C.eventData)return d=extend3({},C.eventData),!0},!0),d){var g=d.componentType,y=d.componentIndex;(g==="markLine"||g==="markPoint"||g==="markArea")&&(g="series",y=d.seriesIndex);var b=g&&y!=null&&u.getComponent(g,y),_=b&&a[b.mainType==="series"?"_chartsMap":"_componentsMap"][b.__viewId];!v&&!(b&&_)&&console.warn("model or view can not be found by params"),d.event=l,d.type=o,a._$eventProcessor.eventInfo={targetEl:f,packedEvent:d,model:b,view:_},a.trigger(o,d)}};s.zrEventfulCallAtLast=!0,a._zr.on(o,s,a)}),each(eventActionMap,function(o,s){a._messageCenter.on(s,function(l){this.trigger(s,l)},a)}),each(["selectchanged"],function(o){a._messageCenter.on(o,function(s){this.trigger(o,s)},a)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},r.prototype.isDisposed=function(){return this._disposed},r.prototype.clear=function(){if(this._disposed){disposedWarning(this.id);return}this.setOption({series:[]},!0)},r.prototype.dispose=function(){if(this._disposed){disposedWarning(this.id);return}this._disposed=!0;var a=this.getDom();a&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var o=this,s=o._api,l=o._model;each(o._componentsViews,function(u){u.dispose(l,s)}),each(o._chartsViews,function(u){u.dispose(l,s)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete instances2[o.id]},r.prototype.resize=function(a){if(this[IN_MAIN_PROCESS_KEY]){error("`resize` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}this._zr.resize(a);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var s=o.resetOption("media"),l=a&&a.silent;this[PENDING_UPDATE]&&(l==null&&(l=this[PENDING_UPDATE].silent),s=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{s&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend3({duration:0},a&&a.animation)})}catch(u){throw this[IN_MAIN_PROCESS_KEY]=!1,u}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}},r.prototype.showLoading=function(a,o){if(this._disposed){disposedWarning(this.id);return}if(isObject3(a)&&(o=a,a=""),a=a||"default",this.hideLoading(),!loadingEffects[a]){console.warn("Loading effects "+a+" not exists.");return}var s=loadingEffects[a](this._api,o),l=this._zr;this._loadingFX=s,l.add(s)},r.prototype.hideLoading=function(){if(this._disposed){disposedWarning(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},r.prototype.makeActionFromEvent=function(a){var o=extend3({},a);return o.type=eventActionMap[a.type],o},r.prototype.dispatchAction=function(a,o){if(this._disposed){disposedWarning(this.id);return}if(isObject3(o)||(o={silent:!!o}),!!actions[a.type]&&!!this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(a);return}var s=o.silent;doDispatchAction.call(this,a,s);var l=o.flush;l?this._zr.flush():l!==!1&&env_default.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,s),triggerUpdatedEvent.call(this,s)}},r.prototype.updateLabelLayout=function(){lifecycle_default.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},r.prototype.appendData=function(a){if(this._disposed){disposedWarning(this.id);return}var o=a.seriesIndex,s=this.getModel(),l=s.getSeriesByIndex(o);assert(a.data&&l),l.appendData(a),this._scheduler.unfinished=!0,this.getZr().wakeUp()},r.internalField=function(){prepare=function(y){var b=y._scheduler;b.restorePipelines(y._model),b.prepareStageTasks(),prepareView(y,!0),prepareView(y,!1),b.plan()},prepareView=function(y,b){for(var _=y._model,x=y._scheduler,C=b?y._componentsViews:y._chartsViews,w=b?y._componentsMap:y._chartsMap,S=y._zr,D=y._api,A=0;A<C.length;A++)C[A].__alive=!1;b?_.eachComponent(function(E,P){E!=="series"&&T(P)}):_.eachSeries(T);function T(E){var P=E.__requireNewView;E.__requireNewView=!1;var I="_ec_"+E.id+"_"+E.type,F=!P&&w[I];if(!F){var L=parseClassType(E.type),O=b?Component_default2.getClass(L.main,L.sub):Chart_default.getClass(L.sub);assert(O,L.sub+" does not exist."),F=new O,F.init(_,D),w[I]=F,C.push(F),S.add(F.group)}E.__viewId=F.__id=I,F.__alive=!0,F.__model=E,F.group.__ecComponentInfo={mainType:E.mainType,index:E.componentIndex},!b&&x.prepareView(F,E,_,D)}for(var A=0;A<C.length;){var M=C[A];M.__alive?A++:(!b&&M.renderTask.dispose(),S.remove(M.group),M.dispose(_,D),C.splice(A,1),w[M.__id]===M&&delete w[M.__id],M.__id=M.group.__ecComponentInfo=null)}},updateDirectly=function(y,b,_,x,C){var w=y._model;if(w.setUpdatePayload(_),!x){each([].concat(y._componentsViews).concat(y._chartsViews),M);return}var S={};S[x+"Id"]=_[x+"Id"],S[x+"Index"]=_[x+"Index"],S[x+"Name"]=_[x+"Name"];var D={mainType:x,query:S};C&&(D.subType=C);var A=_.excludeSeriesId,T;A!=null&&(T=createHashMap(),each(normalizeToArray(A),function(E){var P=convertOptionIdName(E,null);P!=null&&T.set(P,!0)})),w&&w.eachComponent(D,function(E){var P=T&&T.get(E.id)!==null;if(!P)if(isHighDownPayload(_))if(E instanceof Series_default)_.type===HIGHLIGHT_ACTION_TYPE&&!_.notBlur&&!E.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(E,_,y._api);else{var I=findComponentHighDownDispatchers(E.mainType,E.componentIndex,_.name,y._api),F=I.focusSelf,L=I.dispatchers;_.type===HIGHLIGHT_ACTION_TYPE&&F&&!_.notBlur&&blurComponent(E.mainType,E.componentIndex,y._api),L&&each(L,function(O){_.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(O):leaveEmphasis(O)})}else isSelectChangePayload(_)&&E instanceof Series_default&&(toggleSelectionFromPayload(E,_,y._api),updateSeriesElementSelection(E),markStatusToUpdate(y))},y),w&&w.eachComponent(D,function(E){var P=T&&T.get(E.id)!==null;P||M(y[x==="series"?"_chartsMap":"_componentsMap"][E.__viewId])},y);function M(E){E&&E.__alive&&E[b]&&E[b](E.__model,w,y._api,_)}},updateMethods={prepareAndUpdate:function(y){prepare(this),updateMethods.update.call(this,y,{optionChanged:y.newOption!=null})},update:function(y,b){var _=this._model,x=this._api,C=this._zr,w=this._coordSysMgr,S=this._scheduler;if(!!_){_.setUpdatePayload(y),S.restoreData(_,y),S.performSeriesTasks(_),w.create(_,x),S.performDataProcessorTasks(_,y),updateStreamModes(this,_),w.update(_,x),a(_),S.performVisualTasks(_,y),render7(this,_,x,y,b);var D=_.get("backgroundColor")||"transparent",A=_.get("darkMode");C.setBackgroundColor(D),A!=null&&A!=="auto"&&C.setDarkMode(A),lifecycle_default.trigger("afterupdate",_,x)}},updateTransform:function(y){var b=this,_=this._model,x=this._api;if(!!_){_.setUpdatePayload(y);var C=[];_.eachComponent(function(S,D){if(S!=="series"){var A=b.getViewOfComponentModel(D);if(A&&A.__alive)if(A.updateTransform){var T=A.updateTransform(D,_,x,y);T&&T.update&&C.push(A)}else C.push(A)}});var w=createHashMap();_.eachSeries(function(S){var D=b._chartsMap[S.__viewId];if(D.updateTransform){var A=D.updateTransform(S,_,x,y);A&&A.update&&w.set(S.uid,1)}else w.set(S.uid,1)}),a(_),this._scheduler.performVisualTasks(_,y,{setDirty:!0,dirtyMap:w}),renderSeries(this,_,x,y,{},w),lifecycle_default.trigger("afterupdate",_,x)}},updateView:function(y){var b=this._model;!b||(b.setUpdatePayload(y),Chart_default.markUpdateMethod(y,"updateView"),a(b),this._scheduler.performVisualTasks(b,y,{setDirty:!0}),render7(this,b,this._api,y,{}),lifecycle_default.trigger("afterupdate",b,this._api))},updateVisual:function(y){var b=this,_=this._model;!_||(_.setUpdatePayload(y),_.eachSeries(function(x){x.getData().clearAllVisual()}),Chart_default.markUpdateMethod(y,"updateVisual"),a(_),this._scheduler.performVisualTasks(_,y,{visualType:"visual",setDirty:!0}),_.eachComponent(function(x,C){if(x!=="series"){var w=b.getViewOfComponentModel(C);w&&w.__alive&&w.updateVisual(C,_,b._api,y)}}),_.eachSeries(function(x){var C=b._chartsMap[x.__viewId];C.updateVisual(x,_,b._api,y)}),lifecycle_default.trigger("afterupdate",_,this._api))},updateLayout:function(y){updateMethods.update.call(this,y)}},doConvertPixel=function(y,b,_,x){if(y._disposed){disposedWarning(y.id);return}for(var C=y._model,w=y._coordSysMgr.getCoordinateSystems(),S,D=parseFinder(C,_),A=0;A<w.length;A++){var T=w[A];if(T[b]&&(S=T[b](C,D,x))!=null)return S}console.warn("No coordinate system that supports "+b+" found by the given finder.")},updateStreamModes=function(y,b){var _=y._chartsMap,x=y._scheduler;b.eachSeries(function(C){x.updateStreamModes(C,_[C.__viewId])})},doDispatchAction=function(y,b){var _=this,x=this.getModel(),C=y.type,w=y.escapeConnect,S=actions[C],D=S.actionInfo,A=(D.update||"update").split(":"),T=A.pop(),M=A[0]!=null&&parseClassType(A[0]);this[IN_MAIN_PROCESS_KEY]=!0;var E=[y],P=!1;y.batch&&(P=!0,E=map3(y.batch,function(B){return B=defaults(extend3({},B),y),B.batch=null,B}));var I=[],F,L=isSelectChangePayload(y),O=isHighDownPayload(y);if(O&&allLeaveBlur(this._api),each(E,function(B){if(F=S.action(B,_._model,_._api),F=F||extend3({},B),F.type=D.event||F.type,I.push(F),O){var N=preParseFinder(y),H=N.queryOptionMap,W=N.mainTypeSpecified,V=W?H.keys()[0]:"series";updateDirectly(_,T,B,V),markStatusToUpdate(_)}else L?(updateDirectly(_,T,B,"series"),markStatusToUpdate(_)):M&&updateDirectly(_,T,B,M.main,M.sub)}),T!=="none"&&!O&&!L&&!M)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,y),this[PENDING_UPDATE]=null):updateMethods[T].call(this,y)}catch(B){throw this[IN_MAIN_PROCESS_KEY]=!1,B}if(P?F={type:D.event||C,escapeConnect:w,batch:I}:F=I[0],this[IN_MAIN_PROCESS_KEY]=!1,!b){var z=this._messageCenter;if(z.trigger(F.type,F),L){var R={type:"selectchanged",escapeConnect:w,selected:getAllSelectedIndices(x),isFromClick:y.isFromClick||!1,fromAction:y.type,fromActionPayload:y};z.trigger(R.type,R)}}},flushPendingActions=function(y){for(var b=this._pendingActions;b.length;){var _=b.shift();doDispatchAction.call(this,_,y)}},triggerUpdatedEvent=function(y){!y&&this.trigger("updated")},bindRenderedEvent=function(y,b){y.on("rendered",function(_){b.trigger("rendered",_),y.animation.isFinished()&&!b[PENDING_UPDATE]&&!b._scheduler.unfinished&&!b._pendingActions.length&&b.trigger("finished")})},bindMouseEvent=function(y,b){y.on("mouseover",function(_){var x=_.target,C=findEventDispatcher(x,isHighDownDispatcher);C&&(handleGlobalMouseOverForHighDown(C,_,b._api),markStatusToUpdate(b))}).on("mouseout",function(_){var x=_.target,C=findEventDispatcher(x,isHighDownDispatcher);C&&(handleGlobalMouseOutForHighDown(C,_,b._api),markStatusToUpdate(b))}).on("click",function(_){var x=_.target,C=findEventDispatcher(x,function(D){return getECData(D).dataIndex!=null},!0);if(C){var w=C.selected?"unselect":"select",S=getECData(C);b._api.dispatchAction({type:w,dataType:S.dataType,dataIndexInside:S.dataIndex,seriesIndex:S.seriesIndex,isFromClick:!0})}})};function a(y){y.clearColorPalette(),y.eachSeries(function(b){b.clearColorPalette()})}function o(y){var b=[],_=[],x=!1;if(y.eachComponent(function(D,A){var T=A.get("zlevel")||0,M=A.get("z")||0,E=A.getZLevelKey();x=x||!!E,(D==="series"?_:b).push({zlevel:T,z:M,idx:A.componentIndex,type:D,key:E})}),x){var C=b.concat(_),w,S;sort(C,function(D,A){return D.zlevel===A.zlevel?D.z-A.z:D.zlevel-A.zlevel}),each(C,function(D){var A=y.getComponent(D.type,D.idx),T=D.zlevel,M=D.key;w!=null&&(T=Math.max(w,T)),M?(T===w&&M!==S&&T++,S=M):S&&(T===w&&T++,S=""),w=T,A.setZLevel(T)})}}render7=function(y,b,_,x,C){o(b),renderComponents(y,b,_,x,C),each(y._chartsViews,function(w){w.__alive=!1}),renderSeries(y,b,_,x,C),each(y._chartsViews,function(w){w.__alive||w.remove(b,_)})},renderComponents=function(y,b,_,x,C,w){each(w||y._componentsViews,function(S){var D=S.__model;v(D,S),S.render(D,b,_,x),f(D,S),g(D,S)})},renderSeries=function(y,b,_,x,C,w){var S=y._scheduler;C=extend3(C||{},{updatedSeries:b.getSeries()}),lifecycle_default.trigger("series:beforeupdate",b,_,C);var D=!1;b.eachSeries(function(A){var T=y._chartsMap[A.__viewId];T.__alive=!0;var M=T.renderTask;S.updatePayload(M,x),v(A,T),w&&w.get(A.uid)&&M.dirty(),M.perform(S.getPerformArgs(M))&&(D=!0),T.group.silent=!!A.get("silent"),u(A,T),updateSeriesElementSelection(A)}),S.unfinished=D||S.unfinished,lifecycle_default.trigger("series:layoutlabels",b,_,C),lifecycle_default.trigger("series:transition",b,_,C),b.eachSeries(function(A){var T=y._chartsMap[A.__viewId];f(A,T),g(A,T)}),l(y,b),lifecycle_default.trigger("series:afterupdate",b,_,C)},markStatusToUpdate=function(y){y[STATUS_NEEDS_UPDATE_KEY]=!0,y.getZr().wakeUp()},applyChangedStates=function(y){!y[STATUS_NEEDS_UPDATE_KEY]||(y.getZr().storage.traverse(function(b){isElementRemoved(b)||s(b)}),y[STATUS_NEEDS_UPDATE_KEY]=!1)};function s(y){for(var b=[],_=y.currentStates,x=0;x<_.length;x++){var C=_[x];C==="emphasis"||C==="blur"||C==="select"||b.push(C)}y.selected&&y.states.select&&b.push("select"),y.hoverState===HOVER_STATE_EMPHASIS&&y.states.emphasis?b.push("emphasis"):y.hoverState===HOVER_STATE_BLUR&&y.states.blur&&b.push("blur"),y.useStates(b)}function l(y,b){var _=y._zr,x=_.storage,C=0;x.traverse(function(w){w.isGroup||C++}),C>b.get("hoverLayerThreshold")&&!env_default.node&&!env_default.worker&&b.eachSeries(function(w){if(!w.preventUsingHoverLayer){var S=y._chartsMap[w.__viewId];S.__alive&&S.eachRendered(function(D){D.states.emphasis&&(D.states.emphasis.hoverLayer=!0)})}})}function u(y,b){var _=y.get("blendMode")||null;b.eachRendered(function(x){x.isGroup||(x.style.blend=_)})}function f(y,b){if(!y.preventAutoZ){var _=y.get("z")||0,x=y.get("zlevel")||0;b.eachRendered(function(C){return d(C,_,x,-1/0),!0})}}function d(y,b,_,x){var C=y.getTextContent(),w=y.getTextGuideLine(),S=y.isGroup;if(S)for(var D=y.childrenRef(),A=0;A<D.length;A++)x=Math.max(d(D[A],b,_,x),x);else y.z=b,y.zlevel=_,x=Math.max(y.z2,x);if(C&&(C.z=b,C.zlevel=_,isFinite(x)&&(C.z2=x+2)),w){var T=y.textGuideLineConfig;w.z=b,w.zlevel=_,isFinite(x)&&(w.z2=x+(T&&T.showAbove?1:-1))}return x}function v(y,b){b.eachRendered(function(_){if(!isElementRemoved(_)){var x=_.getTextContent(),C=_.getTextGuideLine();_.stateTransition&&(_.stateTransition=null),x&&x.stateTransition&&(x.stateTransition=null),C&&C.stateTransition&&(C.stateTransition=null),_.hasState()?(_.prevStates=_.currentStates,_.clearStates()):_.prevStates&&(_.prevStates=null)}})}function g(y,b){var _=y.getModel("stateAnimation"),x=y.isAnimationEnabled(),C=_.get("duration"),w=C>0?{duration:C,delay:_.get("delay"),easing:_.get("easing")}:null;b.eachRendered(function(S){if(S.states&&S.states.emphasis){if(isElementRemoved(S))return;if(S instanceof Path_default&&savePathStates(S),S.__dirty){var D=S.prevStates;D&&S.useStates(D)}if(x){S.stateTransition=w;var A=S.getTextContent(),T=S.getTextGuideLine();A&&(A.stateTransition=w),T&&(T.stateTransition=w)}S.__dirty&&s(S)}})}createExtensionAPI=function(y){return new(function(b){__extends(_,b);function _(){return b!==null&&b.apply(this,arguments)||this}return _.prototype.getCoordinateSystems=function(){return y._coordSysMgr.getCoordinateSystems()},_.prototype.getComponentByElement=function(x){for(;x;){var C=x.__ecComponentInfo;if(C!=null)return y._model.getComponent(C.mainType,C.index);x=x.parent}},_.prototype.enterEmphasis=function(x,C){enterEmphasis(x,C),markStatusToUpdate(y)},_.prototype.leaveEmphasis=function(x,C){leaveEmphasis(x,C),markStatusToUpdate(y)},_.prototype.enterBlur=function(x){enterBlur(x),markStatusToUpdate(y)},_.prototype.leaveBlur=function(x){leaveBlur(x),markStatusToUpdate(y)},_.prototype.enterSelect=function(x){enterSelect(x),markStatusToUpdate(y)},_.prototype.leaveSelect=function(x){leaveSelect(x),markStatusToUpdate(y)},_.prototype.getModel=function(){return y.getModel()},_.prototype.getViewOfComponentModel=function(x){return y.getViewOfComponentModel(x)},_.prototype.getViewOfSeriesModel=function(x){return y.getViewOfSeriesModel(x)},_}(ExtensionAPI_default))(y)},enableConnect=function(y){function b(_,x){for(var C=0;C<_.length;C++){var w=_[C];w[CONNECT_STATUS_KEY]=x}}each(eventActionMap,function(_,x){y._messageCenter.on(x,function(C){if(connectedGroups[y.group]&&y[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(C&&C.escapeConnect)return;var w=y.makeActionFromEvent(C),S=[];each(instances2,function(D){D!==y&&D.group===y.group&&S.push(D)}),b(S,CONNECT_STATUS_PENDING),each(S,function(D){D[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&D.dispatchAction(w)}),b(S,CONNECT_STATUS_UPDATED)}})})}}(),r}(Eventful_default),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),echartsProto.one=function(n,r,a){var o=this;deprecateLog("ECharts#one is deprecated.");function s(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];r&&r.apply&&r.apply(this,l),o.off(n,s)}this.on.call(this,n,s,a)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(n){console.warn("Instance "+n+" has been disposed")}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances2={},connectedGroups={},idBase=+new Date-0,groupIdBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init3(n,r,a){var o=!(a&&a.ssr);if(o){if(!n)throw new Error("Initialize failed: invalid dom.");var s=getInstanceByDom(n);if(s)return console.warn("There is a chart instance already initialized on the dom."),s;isDom(n)&&n.nodeName.toUpperCase()!=="CANVAS"&&(!n.clientWidth&&(!a||a.width==null)||!n.clientHeight&&(!a||a.height==null))&&console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.")}var l=new ECharts(n,r,a);return l.id="ec_"+idBase++,instances2[l.id]=l,o&&setAttribute(n,DOM_ATTRIBUTE_KEY,l.id),enableConnect(l),lifecycle_default.trigger("afterinit",l),l}function getInstanceByDom(n){return instances2[getAttribute(n,DOM_ATTRIBUTE_KEY)]}function registerTheme(n,r){themeStorage[n]=r}function registerPreprocessor(n){indexOf(optionPreprocessorFuncs,n)<0&&optionPreprocessorFuncs.push(n)}function registerProcessor(n,r){normalizeRegister(dataProcessorFuncs,n,r,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(n){registerUpdateLifecycle("afterinit",n)}function registerPostUpdate(n){registerUpdateLifecycle("afterupdate",n)}function registerUpdateLifecycle(n,r){lifecycle_default.on(n,r)}function registerAction(n,r,a){isFunction3(r)&&(a=r,r="");var o=isObject3(n)?n.type:[n,n={event:r}][0];n.event=(n.event||o).toLowerCase(),r=n.event,!eventActionMap[r]&&(assert(ACTION_REG.test(o)&&ACTION_REG.test(r)),actions[o]||(actions[o]={action:a,actionInfo:n}),eventActionMap[r]=o)}function registerCoordinateSystem(n,r){CoordinateSystem_default.register(n,r)}function registerLayout(n,r){normalizeRegister(visualFuncs,n,r,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(n,r){normalizeRegister(visualFuncs,n,r,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(n,r,a,o,s){if((isFunction3(r)||isObject3(r))&&(a=r,r=o),isNaN(r)||r==null)throw new Error("Illegal priority");if(each(n,function(u){assert(u.__raw!==a)}),!(indexOf(registeredTasks,a)>=0)){registeredTasks.push(a);var l=Scheduler_default.wrapStageHandler(a,s);l.__prio=r,l.__raw=a,n.push(l)}}function registerLoading(n,r){loadingEffects[n]=r}function registerMap(n,r,a){var o=getImpl("registerMap");o&&o(n,r,a)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask),registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask),registerVisual(PRIORITY_VISUAL_DECAL,decalVisual),registerPreprocessor(globalBackwardCompat),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack),registerLoading("default",defaultLoading),registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop),registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop),registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop),registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop),registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop),registerTheme("light",light_default23),registerTheme("dark",dark_default79);function dataIndexMapValueLength(n){return n==null?0:n.length||1}function defaultKeyGetter(n){return n}var DataDiffer=function(){function n(r,a,o,s,l,u){this._old=r,this._new=a,this._oldKeyGetter=o||defaultKeyGetter,this._newKeyGetter=s||defaultKeyGetter,this.context=l,this._diffModeMultiple=u==="multiple"}return n.prototype.add=function(r){return this._add=r,this},n.prototype.update=function(r){return this._update=r,this},n.prototype.updateManyToOne=function(r){return this._updateManyToOne=r,this},n.prototype.updateOneToMany=function(r){return this._updateOneToMany=r,this},n.prototype.updateManyToMany=function(r){return this._updateManyToMany=r,this},n.prototype.remove=function(r){return this._remove=r,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var r=this._old,a=this._new,o={},s=new Array(r.length),l=new Array(a.length);this._initIndexMap(r,null,s,"_oldKeyGetter"),this._initIndexMap(a,o,l,"_newKeyGetter");for(var u=0;u<r.length;u++){var f=s[u],d=o[f],v=dataIndexMapValueLength(d);if(v>1){var g=d.shift();d.length===1&&(o[f]=d[0]),this._update&&this._update(g,u)}else v===1?(o[f]=null,this._update&&this._update(d,u)):this._remove&&this._remove(u)}this._performRestAdd(l,o)},n.prototype._executeMultiple=function(){var r=this._old,a=this._new,o={},s={},l=[],u=[];this._initIndexMap(r,o,l,"_oldKeyGetter"),this._initIndexMap(a,s,u,"_newKeyGetter");for(var f=0;f<l.length;f++){var d=l[f],v=o[d],g=s[d],y=dataIndexMapValueLength(v),b=dataIndexMapValueLength(g);if(y>1&&b===1)this._updateManyToOne&&this._updateManyToOne(g,v),s[d]=null;else if(y===1&&b>1)this._updateOneToMany&&this._updateOneToMany(g,v),s[d]=null;else if(y===1&&b===1)this._update&&this._update(g,v),s[d]=null;else if(y>1&&b>1)this._updateManyToMany&&this._updateManyToMany(g,v),s[d]=null;else if(y>1)for(var _=0;_<y;_++)this._remove&&this._remove(v[_]);else this._remove&&this._remove(v)}this._performRestAdd(u,s)},n.prototype._performRestAdd=function(r,a){for(var o=0;o<r.length;o++){var s=r[o],l=a[s],u=dataIndexMapValueLength(l);if(u>1)for(var f=0;f<u;f++)this._add&&this._add(l[f]);else u===1&&this._add&&this._add(l);a[s]=null}},n.prototype._initIndexMap=function(r,a,o,s){for(var l=this._diffModeMultiple,u=0;u<r.length;u++){var f="_ec_"+this[s](r[u],u);if(l||(o[u]=f),!!a){var d=a[f],v=dataIndexMapValueLength(d);v===0?(a[f]=u,l&&o.push(f)):v===1?a[f]=[d,u]:d.push(u)}}},n}(),DataDiffer_default=DataDiffer,DimensionUserOuput=function(){function n(r,a){this._encode=r,this._schema=a}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function summarizeDimensions(n,r){var a={},o=a.encode={},s=createHashMap(),l=[],u=[],f={};each(n.dimensions,function(b){var _=n.getDimensionInfo(b),x=_.coordDim;if(x){assert(VISUAL_DIMENSIONS.get(x)==null);var C=_.coordDimIndex;getOrCreateEncodeArr(o,x)[C]=b,_.isExtraCoord||(s.set(x,1),mayLabelDimType(_.type)&&(l[0]=b),getOrCreateEncodeArr(f,x)[C]=n.getDimensionIndex(_.name)),_.defaultTooltip&&u.push(b)}VISUAL_DIMENSIONS.each(function(w,S){var D=getOrCreateEncodeArr(o,S),A=_.otherDims[S];A!=null&&A!==!1&&(D[A]=_.name)})});var d=[],v={};s.each(function(b,_){var x=o[_];v[_]=x[0],d=d.concat(x)}),a.dataDimsOnCoord=d,a.dataDimIndicesOnCoord=map3(d,function(b){return n.getDimensionInfo(b).storeDimIndex}),a.encodeFirstDimNotExtra=v;var g=o.label;g&&g.length&&(l=g.slice());var y=o.tooltip;return y&&y.length?u=y.slice():u.length||(u=l.slice()),o.defaultedLabel=l,o.defaultedTooltip=u,a.userOutput=new DimensionUserOuput(f,r),a}function getOrCreateEncodeArr(n,r){return n.hasOwnProperty(r)||(n[r]=[]),n[r]}function getDimensionTypeByAxis(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function mayLabelDimType(n){return!(n==="ordinal"||n==="time")}var SeriesDimensionDefine=function(){function n(r){this.otherDims={},r!=null&&extend3(this,r)}return n}(),SeriesDimensionDefine_default=SeriesDimensionDefine,inner5=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function n(r){this.dimensions=r.dimensions,this._dimOmitted=r.dimensionOmitted,this.source=r.source,this._fullDimCount=r.fullDimensionCount,this._updateDimOmitted(r.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(r){this._dimOmitted=r,!!r&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},n.prototype.getSourceDimensionIndex=function(r){return retrieve2(this._dimNameMap.get(r),-1)},n.prototype.getSourceDimension=function(r){var a=this.source.dimensionsDefine;if(a)return a[r]},n.prototype.makeStoreSchema=function(){for(var r=this._fullDimCount,a=shouldRetrieveDataByName(this.source),o=!shouldOmitUnusedDimensions(r),s="",l=[],u=0,f=0;u<r;u++){var d=void 0,v=void 0,g=void 0,y=this.dimensions[f];if(y&&y.storeDimIndex===u)d=a?y.name:null,v=y.type,g=y.ordinalMeta,f++;else{var b=this.getSourceDimension(u);b&&(d=a?b.name:null,v=b.type)}l.push({property:d,type:v,ordinalMeta:g}),a&&d!=null&&(!y||!y.isCalculationCoord)&&(s+=o?d.replace(/\`/g,"`1").replace(/\$/g,"`2"):d),s+="$",s+=dimTypeShort[v]||"f",g&&(s+=g.uid),s+="$"}var _=this.source,x=[_.seriesLayoutBy,_.startIndex,s].join("$$");return{dimensions:l,hash:x}},n.prototype.makeOutputDimensionNames=function(){for(var r=[],a=0,o=0;a<this._fullDimCount;a++){var s=void 0,l=this.dimensions[o];if(l&&l.storeDimIndex===a)l.isCalculationCoord||(s=l.name),o++;else{var u=this.getSourceDimension(a);u&&(s=u.name)}r.push(s)}return r},n.prototype.appendCalculationDimension=function(r){this.dimensions.push(r),r.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function isSeriesDataSchema(n){return n instanceof SeriesDataSchema}function createDimNameMap(n){for(var r=createHashMap(),a=0;a<(n||[]).length;a++){var o=n[a],s=isObject3(o)?o.name:o;s!=null&&r.get(s)==null&&r.set(s,a)}return r}function ensureSourceDimNameMap(n){var r=inner5(n);return r.dimNameMap||(r.dimNameMap=createDimNameMap(n.dimensionsDefine))}function shouldOmitUnusedDimensions(n){return n>30}var isObject5=isObject3,map4=map3,CtorInt32Array2=typeof Int32Array=="undefined"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId2,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function n(r,a){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var o,s=!1;isSeriesDataSchema(r)?(o=r.dimensions,this._dimOmitted=r.isDimensionOmitted(),this._schema=r):(s=!0,o=r),o=o||["x","y"];for(var l={},u=[],f={},d=!1,v={},g=0;g<o.length;g++){var y=o[g],b=isString2(y)?new SeriesDimensionDefine_default({name:y}):y instanceof SeriesDimensionDefine_default?y:new SeriesDimensionDefine_default(y),_=b.name;b.type=b.type||"float",b.coordDim||(b.coordDim=_,b.coordDimIndex=0);var x=b.otherDims=b.otherDims||{};u.push(_),l[_]=b,v[_]!=null&&(d=!0),b.createInvertedIndices&&(f[_]=[]),x.itemName===0&&(this._nameDimIdx=g),x.itemId===0&&(this._idDimIdx=g),assert(s||b.storeDimIndex>=0),s&&(b.storeDimIndex=g)}if(this.dimensions=u,this._dimInfos=l,this._initGetDimensionInfo(d),this.hostModel=a,this._invertedIndicesMap=f,this._dimOmitted){var C=this._dimIdxToName=createHashMap();each(u,function(w){C.set(l[w].storeDimIndex,w)})}}return n.prototype.getDimension=function(r){var a=this._recognizeDimIndex(r);if(a==null)return r;if(a=r,!this._dimOmitted)return this.dimensions[a];var o=this._dimIdxToName.get(a);if(o!=null)return o;var s=this._schema.getSourceDimension(a);if(s)return s.name},n.prototype.getDimensionIndex=function(r){var a=this._recognizeDimIndex(r);if(a!=null)return a;if(r==null)return-1;var o=this._getDimInfo(r);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(r):-1},n.prototype._recognizeDimIndex=function(r){if(isNumber(r)||r!=null&&!isNaN(r)&&!this._getDimInfo(r)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(r)<0))return+r},n.prototype._getStoreDimIndex=function(r){var a=this.getDimensionIndex(r);if(a==null)throw new Error("Unkown dimension "+r);return a},n.prototype.getDimensionInfo=function(r){return this._getDimInfo(this.getDimension(r))},n.prototype._initGetDimensionInfo=function(r){var a=this._dimInfos;this._getDimInfo=r?function(o){return a.hasOwnProperty(o)?a[o]:void 0}:function(o){return a[o]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(r,a){var o=this._dimSummary;if(a==null)return o.encodeFirstDimNotExtra[r];var s=o.encode[r];return s?s[a]:null},n.prototype.mapDimensionsAll=function(r){var a=this._dimSummary,o=a.encode[r];return(o||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(r,a,o){var s=this,l;if(r instanceof DataStore_default&&(l=r),!l){var u=this.dimensions,f=isSourceInstance(r)||isArrayLike2(r)?new DefaultDataProvider(r,u.length):r;l=new DataStore_default;var d=map4(u,function(v){return{type:s._dimInfos[v].type,property:v}});l.initData(f,d,o)}this._store=l,this._nameList=(a||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,l.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(r){var a=this._store.appendData(r);this._doInit(a[0],a[1])},n.prototype.appendValues=function(r,a){var o=this._store.appendValues(r,a.length),s=o.start,l=o.end,u=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),a)for(var f=s;f<l;f++){var d=f-s;this._nameList[f]=a[d],u&&makeIdFromName(this,f)}},n.prototype._updateOrdinalMeta=function(){for(var r=this._store,a=this.dimensions,o=0;o<a.length;o++){var s=this._dimInfos[a[o]];s.ordinalMeta&&r.collectOrdinalMeta(s.storeDimIndex,s.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var r=this._store.getProvider();return this._idDimIdx==null&&r.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!r.fillStorage},n.prototype._doInit=function(r,a){if(!(r>=a)){var o=this._store,s=o.getProvider();this._updateOrdinalMeta();var l=this._nameList,u=this._idList,f=s.getSource().sourceFormat,d=f===SOURCE_FORMAT_ORIGINAL;if(d&&!s.pure)for(var v=[],g=r;g<a;g++){var y=s.getItem(g,v);if(!this.hasItemOption&&isDataItemOption(y)&&(this.hasItemOption=!0),y){var b=y.name;l[g]==null&&b!=null&&(l[g]=convertOptionIdName(b,null));var _=y.id;u[g]==null&&_!=null&&(u[g]=convertOptionIdName(_,null))}}if(this._shouldMakeIdFromName())for(var g=r;g<a;g++)makeIdFromName(this,g);prepareInvertedIndex(this)}},n.prototype.getApproximateExtent=function(r){return this._approximateExtent[r]||this._store.getDataExtent(this._getStoreDimIndex(r))},n.prototype.setApproximateExtent=function(r,a){a=this.getDimension(a),this._approximateExtent[a]=r.slice()},n.prototype.getCalculationInfo=function(r){return this._calculationInfo[r]},n.prototype.setCalculationInfo=function(r,a){isObject5(r)?extend3(this._calculationInfo,r):this._calculationInfo[r]=a},n.prototype.getName=function(r){var a=this.getRawIndex(r),o=this._nameList[a];return o==null&&this._nameDimIdx!=null&&(o=getIdNameFromStore(this,this._nameDimIdx,a)),o==null&&(o=""),o},n.prototype._getCategory=function(r,a){var o=this._store.get(r,a),s=this._store.getOrdinalMeta(r);return s?s.categories[o]:o},n.prototype.getId=function(r){return getId2(this,this.getRawIndex(r))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(r,a){var o=this._store,s=this._dimInfos[r];if(s)return o.get(s.storeDimIndex,a)},n.prototype.getByRawIndex=function(r,a){var o=this._store,s=this._dimInfos[r];if(s)return o.getByRawIndex(s.storeDimIndex,a)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(r){return this._store.getDataExtent(this._getStoreDimIndex(r))},n.prototype.getSum=function(r){return this._store.getSum(this._getStoreDimIndex(r))},n.prototype.getMedian=function(r){return this._store.getMedian(this._getStoreDimIndex(r))},n.prototype.getValues=function(r,a){var o=this,s=this._store;return isArray3(r)?s.getValues(map4(r,function(l){return o._getStoreDimIndex(l)}),a):s.getValues(r)},n.prototype.hasValue=function(r){for(var a=this._dimSummary.dataDimIndicesOnCoord,o=0,s=a.length;o<s;o++)if(isNaN(this._store.get(a[o],r)))return!1;return!0},n.prototype.indexOfName=function(r){for(var a=0,o=this._store.count();a<o;a++)if(this.getName(a)===r)return a;return-1},n.prototype.getRawIndex=function(r){return this._store.getRawIndex(r)},n.prototype.indexOfRawIndex=function(r){return this._store.indexOfRawIndex(r)},n.prototype.rawIndexOf=function(r,a){var o=r&&this._invertedIndicesMap[r];if(!o)throw new Error("Do not supported yet");var s=o[a];return s==null||isNaN(s)?INDEX_NOT_FOUND:s},n.prototype.indicesOfNearest=function(r,a,o){return this._store.indicesOfNearest(this._getStoreDimIndex(r),a,o)},n.prototype.each=function(r,a,o){"use strict";isFunction3(r)&&(o=a,a=r,r=[]);var s=o||this,l=map4(normalizeDimensions(r),this._getStoreDimIndex,this);this._store.each(l,s?bind(a,s):a)},n.prototype.filterSelf=function(r,a,o){"use strict";isFunction3(r)&&(o=a,a=r,r=[]);var s=o||this,l=map4(normalizeDimensions(r),this._getStoreDimIndex,this);return this._store=this._store.filter(l,s?bind(a,s):a),this},n.prototype.selectRange=function(r){"use strict";var a=this,o={},s=keys3(r),l=[];return each(s,function(u){var f=a._getStoreDimIndex(u);o[f]=r[u],l.push(f)}),this._store=this._store.selectRange(o),this},n.prototype.mapArray=function(r,a,o){"use strict";isFunction3(r)&&(o=a,a=r,r=[]),o=o||this;var s=[];return this.each(r,function(){s.push(a&&a.apply(this,arguments))},o),s},n.prototype.map=function(r,a,o,s){"use strict";var l=o||s||this,u=map4(normalizeDimensions(r),this._getStoreDimIndex,this),f=cloneListForMapAndSample(this);return f._store=this._store.map(u,l?bind(a,l):a),f},n.prototype.modify=function(r,a,o,s){var l=this,u=o||s||this;each(normalizeDimensions(r),function(d){var v=l.getDimensionInfo(d);v.isCalculationCoord||console.error("Danger: only stack dimension can be modified")});var f=map4(normalizeDimensions(r),this._getStoreDimIndex,this);this._store.modify(f,u?bind(a,u):a)},n.prototype.downSample=function(r,a,o,s){var l=cloneListForMapAndSample(this);return l._store=this._store.downSample(this._getStoreDimIndex(r),a,o,s),l},n.prototype.lttbDownSample=function(r,a){var o=cloneListForMapAndSample(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(r),a),o},n.prototype.getRawDataItem=function(r){return this._store.getRawDataItem(r)},n.prototype.getItemModel=function(r){var a=this.hostModel,o=this.getRawDataItem(r);return new Model_default(o,a,a&&a.ecModel)},n.prototype.diff=function(r){var a=this;return new DataDiffer_default(r?r.getStore().getIndices():[],this.getStore().getIndices(),function(o){return getId2(r,o)},function(o){return getId2(a,o)})},n.prototype.getVisual=function(r){var a=this._visual;return a&&a[r]},n.prototype.setVisual=function(r,a){this._visual=this._visual||{},isObject5(r)?extend3(this._visual,r):this._visual[r]=a},n.prototype.getItemVisual=function(r,a){var o=this._itemVisuals[r],s=o&&o[a];return s==null?this.getVisual(a):s},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(r,a){var o=this._itemVisuals,s=o[r];s||(s=o[r]={});var l=s[a];return l==null&&(l=this.getVisual(a),isArray3(l)?l=l.slice():isObject5(l)&&(l=extend3({},l)),s[a]=l),l},n.prototype.setItemVisual=function(r,a,o){var s=this._itemVisuals[r]||{};this._itemVisuals[r]=s,isObject5(a)?extend3(s,a):s[a]=o},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(r,a){isObject5(r)?extend3(this._layout,r):this._layout[r]=a},n.prototype.getLayout=function(r){return this._layout[r]},n.prototype.getItemLayout=function(r){return this._itemLayouts[r]},n.prototype.setItemLayout=function(r,a,o){this._itemLayouts[r]=o?extend3(this._itemLayouts[r]||{},a):a},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(r,a){var o=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(o,this.dataType,r,a),this._graphicEls[r]=a},n.prototype.getItemGraphicEl=function(r){return this._graphicEls[r]},n.prototype.eachItemGraphicEl=function(r,a){each(this._graphicEls,function(o,s){o&&r&&r.call(a,o,s)})},n.prototype.cloneShallow=function(r){return r||(r=new n(this._schema?this._schema:map4(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(r,this),r._store=this._store,r},n.prototype.wrapMethod=function(r,a){var o=this[r];!isFunction3(o)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(r),this[r]=function(){var s=o.apply(this,arguments);return a.apply(this,[s].concat(slice(arguments)))})},n.internalField=function(){prepareInvertedIndex=function(r){var a=r._invertedIndicesMap;each(a,function(o,s){var l=r._dimInfos[s],u=l.ordinalMeta,f=r._store;if(u){o=a[s]=new CtorInt32Array2(u.categories.length);for(var d=0;d<o.length;d++)o[d]=INDEX_NOT_FOUND;for(var d=0;d<f.count();d++)o[f.get(l.storeDimIndex,d)]=d}})},getIdNameFromStore=function(r,a,o){return convertOptionIdName(r._getCategory(a,o),null)},getId2=function(r,a){var o=r._idList[a];return o==null&&r._idDimIdx!=null&&(o=getIdNameFromStore(r,r._idDimIdx,a)),o==null&&(o=ID_PREFIX+a),o},normalizeDimensions=function(r){return isArray3(r)||(r=r!=null?[r]:[]),r},cloneListForMapAndSample=function(r){var a=new n(r._schema?r._schema:map4(r.dimensions,r._getDimInfo,r),r.hostModel);return transferProperties(a,r),a},transferProperties=function(r,a){each(TRANSFERABLE_PROPERTIES.concat(a.__wrappedMethods||[]),function(o){a.hasOwnProperty(o)&&(r[o]=a[o])}),r.__wrappedMethods=a.__wrappedMethods,each(CLONE_PROPERTIES,function(o){r[o]=clone(a[o])}),r._calculationInfo=extend3({},a._calculationInfo)},makeIdFromName=function(r,a){var o=r._nameList,s=r._idList,l=r._nameDimIdx,u=r._idDimIdx,f=o[a],d=s[a];if(f==null&&l!=null&&(o[a]=f=getIdNameFromStore(r,l,a)),d==null&&u!=null&&(s[a]=d=getIdNameFromStore(r,u,a)),d==null&&f!=null){var v=r._nameRepeatCount,g=v[f]=(v[f]||0)+1;d=f,g>1&&(d+="__ec__"+g),s[a]=d}}}(),n}(),SeriesData_default=SeriesData;function prepareSeriesDataSchema(n,r){isSourceInstance(n)||(n=createSourceFromSeriesDataOption(n)),r=r||{};var a=r.coordDimensions||[],o=r.dimensionsDefine||n.dimensionsDefine||[],s=createHashMap(),l=[],u=getDimCount(n,a,o,r.dimensionsCount),f=r.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(u),d=o===n.dimensionsDefine,v=d?ensureSourceDimNameMap(n):createDimNameMap(o),g=r.encodeDefine;!g&&r.encodeDefaulter&&(g=r.encodeDefaulter(n,u));for(var y=createHashMap(g),b=new CtorInt32Array(u),_=0;_<b.length;_++)b[_]=-1;function x(F){var L=b[F];if(L<0){var O=o[F],z=isObject3(O)?O:{name:O},R=new SeriesDimensionDefine_default,B=z.name;B!=null&&v.get(B)!=null&&(R.name=R.displayName=B),z.type!=null&&(R.type=z.type),z.displayName!=null&&(R.displayName=z.displayName);var N=l.length;return b[F]=N,R.storeDimIndex=F,l.push(R),R}return l[L]}if(!f)for(var _=0;_<u;_++)x(_);y.each(function(F,L){var O=normalizeToArray(F).slice();if(O.length===1&&!isString2(O[0])&&O[0]<0){y.set(L,!1);return}var z=y.set(L,[]);each(O,function(R,B){var N=isString2(R)?v.get(R):R;N!=null&&N<u&&(z[B]=N,w(x(N),L,B))})});var C=0;each(a,function(F){var L,O,z,R;if(isString2(F))L=F,R={};else{R=F,L=R.name;var B=R.ordinalMeta;R.ordinalMeta=null,R=extend3({},R),R.ordinalMeta=B,O=R.dimsDef,z=R.otherDims,R.name=R.coordDim=R.coordDimIndex=R.dimsDef=R.otherDims=null}var N=y.get(L);if(N!==!1){if(N=normalizeToArray(N),!N.length)for(var H=0;H<(O&&O.length||1);H++){for(;C<u&&x(C).coordDim!=null;)C++;C<u&&N.push(C++)}each(N,function(W,V){var G=x(W);if(d&&R.type!=null&&(G.type=R.type),w(defaults(G,R),L,V),G.name==null&&O){var Y=O[V];!isObject3(Y)&&(Y={name:Y}),G.name=G.displayName=Y.name,G.defaultTooltip=Y.defaultTooltip}z&&defaults(G.otherDims,z)})}});function w(F,L,O){VISUAL_DIMENSIONS.get(L)!=null?F.otherDims[L]=O:(F.coordDim=L,F.coordDimIndex=O,s.set(L,!0))}var S=r.generateCoord,D=r.generateCoordCount,A=D!=null;D=S?D||1:0;var T=S||"value";function M(F){F.name==null&&(F.name=F.coordDim)}if(f)each(l,function(F){M(F)}),l.sort(function(F,L){return F.storeDimIndex-L.storeDimIndex});else for(var E=0;E<u;E++){var P=x(E),I=P.coordDim;I==null&&(P.coordDim=genCoordDimName(T,s,A),P.coordDimIndex=0,(!S||D<=0)&&(P.isExtraCoord=!0),D--),M(P),P.type==null&&(guessOrdinal(n,E)===BE_ORDINAL.Must||P.isExtraCoord&&(P.otherDims.itemName!=null||P.otherDims.seriesName!=null))&&(P.type="ordinal")}return removeDuplication(l),new SeriesDataSchema({source:n,dimensions:l,fullDimensionCount:u,dimensionOmitted:f})}function removeDuplication(n){for(var r=createHashMap(),a=0;a<n.length;a++){var o=n[a],s=o.name,l=r.get(s)||0;l>0&&(o.name=s+(l-1)),l++,r.set(s,l)}}function getDimCount(n,r,a,o){var s=Math.max(n.dimensionsDetectedCount||1,r.length,a.length,o||0);return each(r,function(l){var u;isObject3(l)&&(u=l.dimsDef)&&(s=Math.max(s,u.length))}),s}function genCoordDimName(n,r,a){var o=r.data;if(a||o.hasOwnProperty(n)){for(var s=0;o.hasOwnProperty(n+s);)s++;n+=s}return r.set(n,!0),n}var CoordSysInfo=function(){function n(r){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=r}return n}();function getCoordSysInfoBySeries(n){var r=n.get("coordinateSystem"),a=new CoordSysInfo(r),o=fetchers[r];if(o)return o(n,a,a.axisMap,a.categoryAxisMap),a}var fetchers={cartesian2d:function(n,r,a,o){var s=n.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],l=n.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];if(!s)throw new Error('xAxis "'+retrieve(n.get("xAxisIndex"),n.get("xAxisId"),0)+'" not found');if(!l)throw new Error('yAxis "'+retrieve(n.get("xAxisIndex"),n.get("yAxisId"),0)+'" not found');r.coordSysDims=["x","y"],a.set("x",s),a.set("y",l),isCategory(s)&&(o.set("x",s),r.firstCategoryDimIndex=0),isCategory(l)&&(o.set("y",l),r.firstCategoryDimIndex==null&&(r.firstCategoryDimIndex=1))},singleAxis:function(n,r,a,o){var s=n.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];if(!s)throw new Error("singleAxis should be specified.");r.coordSysDims=["single"],a.set("single",s),isCategory(s)&&(o.set("single",s),r.firstCategoryDimIndex=0)},polar:function(n,r,a,o){var s=n.getReferringComponents("polar",SINGLE_REFERRING).models[0],l=s.findAxisModel("radiusAxis"),u=s.findAxisModel("angleAxis");if(!u)throw new Error("angleAxis option not found");if(!l)throw new Error("radiusAxis option not found");r.coordSysDims=["radius","angle"],a.set("radius",l),a.set("angle",u),isCategory(l)&&(o.set("radius",l),r.firstCategoryDimIndex=0),isCategory(u)&&(o.set("angle",u),r.firstCategoryDimIndex==null&&(r.firstCategoryDimIndex=1))},geo:function(n,r,a,o){r.coordSysDims=["lng","lat"]},parallel:function(n,r,a,o){var s=n.ecModel,l=s.getComponent("parallel",n.get("parallelIndex")),u=r.coordSysDims=l.dimensions.slice();each(l.parallelAxisIndex,function(f,d){var v=s.getComponent("parallelAxis",f),g=u[d];a.set(g,v),isCategory(v)&&(o.set(g,v),r.firstCategoryDimIndex==null&&(r.firstCategoryDimIndex=d))})}};function isCategory(n){return n.get("type")==="category"}function enableDataStack(n,r,a){a=a||{};var o=a.byIndex,s=a.stackedCoordDimension,l,u,f;isLegacyDimensionsInput(r)?l=r:(u=r.schema,l=u.dimensions,f=r.store);var d=!!(n&&n.get("stack")),v,g,y,b;if(each(l,function(D,A){isString2(D)&&(l[A]=D={name:D}),d&&!D.isExtraCoord&&(!o&&!v&&D.ordinalMeta&&(v=D),!g&&D.type!=="ordinal"&&D.type!=="time"&&(!s||s===D.coordDim)&&(g=D))}),g&&!o&&!v&&(o=!0),g){y="__\0ecstackresult_"+n.id,b="__\0ecstackedover_"+n.id,v&&(v.createInvertedIndices=!0);var _=g.coordDim,x=g.type,C=0;each(l,function(D){D.coordDim===_&&C++});var w={name:y,coordDim:_,coordDimIndex:C,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:l.length},S={name:b,coordDim:b,coordDimIndex:C+1,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:l.length+1};u?(f&&(w.storeDimIndex=f.ensureCalculationDimension(b,x),S.storeDimIndex=f.ensureCalculationDimension(y,x)),u.appendCalculationDimension(w),u.appendCalculationDimension(S)):(l.push(w),l.push(S))}return{stackedDimension:g&&g.name,stackedByDimension:v&&v.name,isStackedByIndex:o,stackedOverDimension:b,stackResultDimension:y}}function isLegacyDimensionsInput(n){return!isSeriesDataSchema(n.schema)}function isDimensionStacked(n,r){return!!r&&r===n.getCalculationInfo("stackedDimension")}function getStackedDimension(n,r){return isDimensionStacked(n,r)?n.getCalculationInfo("stackResultDimension"):r}function getCoordSysDimDefs(n,r){var a=n.get("coordinateSystem"),o=CoordinateSystem_default.get(a),s;return r&&r.coordSysDims&&(s=map3(r.coordSysDims,function(l){var u={name:l},f=r.axisMap.get(l);if(f){var d=f.get("type");u.type=getDimensionTypeByAxis(d)}return u})),s||(s=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),s}function injectOrdinalMeta(n,r,a){var o,s;return a&&each(n,function(l,u){var f=l.coordDim,d=a.categoryAxisMap.get(f);d&&(o==null&&(o=u),l.ordinalMeta=d.getOrdinalMeta(),r&&(l.createInvertedIndices=!0)),l.otherDims.itemName!=null&&(s=!0)}),!s&&o!=null&&(n[o].otherDims.itemName=0),o}function createSeriesData(n,r,a){a=a||{};var o=r.getSourceManager(),s,l=!1;n?(l=!0,s=createSourceFromSeriesDataOption(n)):(s=o.getSource(),l=s.sourceFormat===SOURCE_FORMAT_ORIGINAL);var u=getCoordSysInfoBySeries(r),f=getCoordSysDimDefs(r,u),d=a.useEncodeDefaulter,v=isFunction3(d)?d:d?curry(makeSeriesEncodeForAxisCoordSys,f,r):null,g={coordDimensions:f,generateCoord:a.generateCoord,encodeDefine:r.getEncode(),encodeDefaulter:v,canOmitUnusedDimensions:!l},y=prepareSeriesDataSchema(s,g),b=injectOrdinalMeta(y.dimensions,a.createInvertedIndices,u),_=l?null:o.getSharedDataStore(y),x=enableDataStack(r,{schema:y,store:_}),C=new SeriesData_default(y,r);C.setCalculationInfo(x);var w=b!=null&&isNeedCompleteOrdinalData(s)?function(S,D,A,T){return T===b?A:this.defaultDimValueGetter(S,D,A,T)}:null;return C.hasItemOption=!1,C.initData(l?s:_,null,w),C}function isNeedCompleteOrdinalData(n){if(n.sourceFormat===SOURCE_FORMAT_ORIGINAL){var r=firstDataNotNull(n.data||[]);return!isArray3(getDataItemValue(r))}}function firstDataNotNull(n){for(var r=0;r<n.length&&n[r]==null;)r++;return n[r]}var createSeriesData_default=createSeriesData,Scale=function(){function n(r){this._setting=r||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(r){return this._setting[r]},n.prototype.unionExtent=function(r){var a=this._extent;r[0]<a[0]&&(a[0]=r[0]),r[1]>a[1]&&(a[1]=r[1])},n.prototype.unionExtentFromData=function(r,a){this.unionExtent(r.getApproximateExtent(a))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(r,a){var o=this._extent;isNaN(r)||(o[0]=r),isNaN(a)||(o[1]=a)},n.prototype.isInExtentRange=function(r){return this._extent[0]<=r&&this._extent[1]>=r},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(r){this._isBlank=r},n}();enableClassManagement(Scale);var Scale_default=Scale,uidBase=0,OrdinalMeta=function(){function n(r){this.categories=r.categories||[],this._needCollect=r.needCollect,this._deduplication=r.deduplication,this.uid=++uidBase}return n.createByAxisModel=function(r){var a=r.option,o=a.data,s=o&&map3(o,getName);return new n({categories:s,needCollect:!s,deduplication:a.dedplication!==!1})},n.prototype.getOrdinal=function(r){return this._getOrCreateMap().get(r)},n.prototype.parseAndCollect=function(r){var a,o=this._needCollect;if(!isString2(r)&&!o)return r;if(o&&!this._deduplication)return a=this.categories.length,this.categories[a]=r,a;var s=this._getOrCreateMap();return a=s.get(r),a==null&&(o?(a=this.categories.length,this.categories[a]=r,s.set(r,a)):a=NaN),a},n.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},n}();function getName(n){return isObject3(n)&&n.value!=null?n.value:n+""}var OrdinalMeta_default=OrdinalMeta;function isValueNice(n){var r=Math.pow(10,quantityExponent(Math.abs(n))),a=Math.abs(n/r);return a===0||a===1||a===2||a===3||a===5}function isIntervalOrLogScale(n){return n.type==="interval"||n.type==="log"}function intervalScaleNiceTicks(n,r,a,o){var s={},l=n[1]-n[0],u=s.interval=nice(l/r,!0);a!=null&&u<a&&(u=s.interval=a),o!=null&&u>o&&(u=s.interval=o);var f=s.intervalPrecision=getIntervalPrecision(u),d=s.niceTickExtent=[round(Math.ceil(n[0]/u)*u,f),round(Math.floor(n[1]/u)*u,f)];return fixExtent(d,n),s}function increaseInterval(n){var r=Math.pow(10,quantityExponent(n)),a=n/r;return a?a===2?a=3:a===3?a=5:a*=2:a=1,round(a*r)}function getIntervalPrecision(n){return getPrecision(n)+2}function clamp(n,r,a){n[r]=Math.max(Math.min(n[r],a[1]),a[0])}function fixExtent(n,r){!isFinite(n[0])&&(n[0]=r[0]),!isFinite(n[1])&&(n[1]=r[1]),clamp(n,0,r),clamp(n,1,r),n[0]>n[1]&&(n[0]=n[1])}function contain2(n,r){return n>=r[0]&&n<=r[1]}function normalize3(n,r){return r[1]===r[0]?.5:(n-r[0])/(r[1]-r[0])}function scale3(n,r){return n*(r[1]-r[0])+r[0]}var OrdinalScale=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;o.type="ordinal";var s=o.getSetting("ordinalMeta");return s||(s=new OrdinalMeta_default({})),isArray3(s)&&(s=new OrdinalMeta_default({categories:map3(s,function(l){return isObject3(l)?l.value:l})})),o._ordinalMeta=s,o._extent=o.getSetting("extent")||[0,s.categories.length-1],o}return r.prototype.parse=function(a){return a==null?NaN:isString2(a)?this._ordinalMeta.getOrdinal(a):Math.round(a)},r.prototype.contain=function(a){return a=this.parse(a),contain2(a,this._extent)&&this._ordinalMeta.categories[a]!=null},r.prototype.normalize=function(a){return a=this._getTickNumber(this.parse(a)),normalize3(a,this._extent)},r.prototype.scale=function(a){return a=Math.round(scale3(a,this._extent)),this.getRawOrdinalNumber(a)},r.prototype.getTicks=function(){for(var a=[],o=this._extent,s=o[0];s<=o[1];)a.push({value:s}),s++;return a},r.prototype.getMinorTicks=function(a){},r.prototype.setSortInfo=function(a){if(a==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var o=a.ordinalNumbers,s=this._ordinalNumbersByTick=[],l=this._ticksByOrdinalNumber=[],u=0,f=this._ordinalMeta.categories.length,d=Math.min(f,o.length);u<d;++u){var v=o[u];s[u]=v,l[v]=u}for(var g=0;u<f;++u){for(;l[g]!=null;)g++;s.push(g),l[g]=u}},r.prototype._getTickNumber=function(a){var o=this._ticksByOrdinalNumber;return o&&a>=0&&a<o.length?o[a]:a},r.prototype.getRawOrdinalNumber=function(a){var o=this._ordinalNumbersByTick;return o&&a>=0&&a<o.length?o[a]:a},r.prototype.getLabel=function(a){if(!this.isBlank()){var o=this.getRawOrdinalNumber(a.value),s=this._ordinalMeta.categories[o];return s==null?"":s+""}},r.prototype.count=function(){return this._extent[1]-this._extent[0]+1},r.prototype.unionExtentFromData=function(a,o){this.unionExtent(a.getApproximateExtent(o))},r.prototype.isInExtentRange=function(a){return a=this._getTickNumber(a),this._extent[0]<=a&&this._extent[1]>=a},r.prototype.getOrdinalMeta=function(){return this._ordinalMeta},r.prototype.calcNiceTicks=function(){},r.prototype.calcNiceExtent=function(){},r.type="ordinal",r}(Scale_default);Scale_default.registerClass(OrdinalScale);var Ordinal_default=OrdinalScale,roundNumber=round,IntervalScale=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="interval",a._interval=0,a._intervalPrecision=2,a}return r.prototype.parse=function(a){return a},r.prototype.contain=function(a){return contain2(a,this._extent)},r.prototype.normalize=function(a){return normalize3(a,this._extent)},r.prototype.scale=function(a){return scale3(a,this._extent)},r.prototype.setExtent=function(a,o){var s=this._extent;isNaN(a)||(s[0]=parseFloat(a)),isNaN(o)||(s[1]=parseFloat(o))},r.prototype.unionExtent=function(a){var o=this._extent;a[0]<o[0]&&(o[0]=a[0]),a[1]>o[1]&&(o[1]=a[1]),this.setExtent(o[0],o[1])},r.prototype.getInterval=function(){return this._interval},r.prototype.setInterval=function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(a)},r.prototype.getTicks=function(a){var o=this._interval,s=this._extent,l=this._niceExtent,u=this._intervalPrecision,f=[];if(!o)return f;var d=1e4;s[0]<l[0]&&(a?f.push({value:roundNumber(l[0]-o,u)}):f.push({value:s[0]}));for(var v=l[0];v<=l[1]&&(f.push({value:v}),v=roundNumber(v+o,u),v!==f[f.length-1].value);)if(f.length>d)return[];var g=f.length?f[f.length-1].value:l[1];return s[1]>g&&(a?f.push({value:roundNumber(g+o,u)}):f.push({value:s[1]})),f},r.prototype.getMinorTicks=function(a){for(var o=this.getTicks(!0),s=[],l=this.getExtent(),u=1;u<o.length;u++){for(var f=o[u],d=o[u-1],v=0,g=[],y=f.value-d.value,b=y/a;v<a-1;){var _=roundNumber(d.value+(v+1)*b);_>l[0]&&_<l[1]&&g.push(_),v++}s.push(g)}return s},r.prototype.getLabel=function(a,o){if(a==null)return"";var s=o&&o.precision;s==null?s=getPrecision(a.value)||0:s==="auto"&&(s=this._intervalPrecision);var l=roundNumber(a.value,s,!0);return addCommas(l)},r.prototype.calcNiceTicks=function(a,o,s){a=a||5;var l=this._extent,u=l[1]-l[0];if(!!isFinite(u)){u<0&&(u=-u,l.reverse());var f=intervalScaleNiceTicks(l,a,o,s);this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent}},r.prototype.calcNiceExtent=function(a){var o=this._extent;if(o[0]===o[1])if(o[0]!==0){var s=o[0];a.fixMax||(o[1]+=s/2),o[0]-=s/2}else o[1]=1;var l=o[1]-o[0];isFinite(l)||(o[0]=0,o[1]=1),this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval);var u=this._interval;a.fixMin||(o[0]=roundNumber(Math.floor(o[0]/u)*u)),a.fixMax||(o[1]=roundNumber(Math.ceil(o[1]/u)*u))},r.prototype.setNiceExtent=function(a,o){this._niceExtent=[a,o]},r.type="interval",r}(Scale_default);Scale_default.registerClass(IntervalScale);var Interval_default=IntervalScale,supportFloat32Array=typeof Float32Array!="undefined",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(n){return isArray3(n)?supportFloat32Array?new Float32Array(n):n:new Float32ArrayCtor(n)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId(n){return n.get("stack")||STACK_PREFIX+n.seriesIndex}function getAxisKey(n){return n.dim+n.index}function getLayoutOnAxis(n){var r=[],a=n.axis,o="axis0";if(a.type==="category"){for(var s=a.getBandWidth(),l=0;l<n.count;l++)r.push(defaults({bandWidth:s,axisKey:o,stackId:STACK_PREFIX+l},n));for(var u=doCalBarWidthAndOffset(r),f=[],l=0;l<n.count;l++){var d=u[o][STACK_PREFIX+l];d.offsetCenter=d.offset+d.width/2,f.push(d)}return f}}function prepareLayoutBarSeries(n,r){var a=[];return r.eachSeriesByType(n,function(o){isOnCartesian(o)&&a.push(o)}),a}function getValueAxesMinGaps(n){var r={};each(n,function(d){var v=d.coordinateSystem,g=v.getBaseAxis();if(!(g.type!=="time"&&g.type!=="value"))for(var y=d.getData(),b=g.dim+"_"+g.index,_=y.getDimensionIndex(y.mapDimension(g.dim)),x=y.getStore(),C=0,w=x.count();C<w;++C){var S=x.get(_,C);r[b]?r[b].push(S):r[b]=[S]}});var a={};for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];if(s){s.sort(function(d,v){return d-v});for(var l=null,u=1;u<s.length;++u){var f=s[u]-s[u-1];f>0&&(l=l===null?f:Math.min(l,f))}a[o]=l}}return a}function makeColumnLayout(n){var r=getValueAxesMinGaps(n),a=[];return each(n,function(o){var s=o.coordinateSystem,l=s.getBaseAxis(),u=l.getExtent(),f;if(l.type==="category")f=l.getBandWidth();else if(l.type==="value"||l.type==="time"){var d=l.dim+"_"+l.index,v=r[d],g=Math.abs(u[1]-u[0]),y=l.scale.getExtent(),b=Math.abs(y[1]-y[0]);f=v?g/b*v:g}else{var _=o.getData();f=Math.abs(u[1]-u[0])/_.count()}var x=parsePercent2(o.get("barWidth"),f),C=parsePercent2(o.get("barMaxWidth"),f),w=parsePercent2(o.get("barMinWidth")||(isInLargeMode(o)?.5:1),f),S=o.get("barGap"),D=o.get("barCategoryGap");a.push({bandWidth:f,barWidth:x,barMaxWidth:C,barMinWidth:w,barGap:S,barCategoryGap:D,axisKey:getAxisKey(l),stackId:getSeriesStackId(o)})}),doCalBarWidthAndOffset(a)}function doCalBarWidthAndOffset(n){var r={};each(n,function(o,s){var l=o.axisKey,u=o.bandWidth,f=r[l]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},d=f.stacks;r[l]=f;var v=o.stackId;d[v]||f.autoWidthCount++,d[v]=d[v]||{width:0,maxWidth:0};var g=o.barWidth;g&&!d[v].width&&(d[v].width=g,g=Math.min(f.remainedWidth,g),f.remainedWidth-=g);var y=o.barMaxWidth;y&&(d[v].maxWidth=y);var b=o.barMinWidth;b&&(d[v].minWidth=b);var _=o.barGap;_!=null&&(f.gap=_);var x=o.barCategoryGap;x!=null&&(f.categoryGap=x)});var a={};return each(r,function(o,s){a[s]={};var l=o.stacks,u=o.bandWidth,f=o.categoryGap;if(f==null){var d=keys3(l).length;f=Math.max(35-d*4,15)+"%"}var v=parsePercent2(f,u),g=parsePercent2(o.gap,1),y=o.remainedWidth,b=o.autoWidthCount,_=(y-v)/(b+(b-1)*g);_=Math.max(_,0),each(l,function(S){var D=S.maxWidth,A=S.minWidth;if(S.width){var T=S.width;D&&(T=Math.min(T,D)),A&&(T=Math.max(T,A)),S.width=T,y-=T+g*T,b--}else{var T=_;D&&D<T&&(T=Math.min(D,y)),A&&A>T&&(T=A),T!==_&&(S.width=T,y-=T+g*T,b--)}}),_=(y-v)/(b+(b-1)*g),_=Math.max(_,0);var x=0,C;each(l,function(S,D){S.width||(S.width=_),C=S,x+=S.width*(1+g)}),C&&(x-=C.width*g);var w=-x/2;each(l,function(S,D){a[s][D]=a[s][D]||{bandWidth:u,offset:w,width:S.width},w+=S.width*(1+g)})}),a}function retrieveColumnLayout(n,r,a){if(n&&r){var o=n[getAxisKey(r)];return o!=null&&a!=null?o[getSeriesStackId(a)]:o}}function isOnCartesian(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function isInLargeMode(n){return n.pipelineContext&&n.pipelineContext.large}var bisect=function(n,r,a,o){for(;a<o;){var s=a+o>>>1;n[s][1]<r?a=s+1:o=s}return a},TimeScale=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o.type="time",o}return r.prototype.getLabel=function(a){var o=this.getSetting("useUTC");return format2(a.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,o,this.getSetting("locale"))},r.prototype.getFormattedLabel=function(a,o,s){var l=this.getSetting("useUTC"),u=this.getSetting("locale");return leveledFormat(a,o,s,u,l)},r.prototype.getTicks=function(){var a=this._interval,o=this._extent,s=[];if(!a)return s;s.push({value:o[0],level:0});var l=this.getSetting("useUTC"),u=getIntervalTicks(this._minLevelUnit,this._approxInterval,l,o);return s=s.concat(u),s.push({value:o[1],level:0}),s},r.prototype.calcNiceExtent=function(a){var o=this._extent;if(o[0]===o[1]&&(o[0]-=ONE_DAY,o[1]+=ONE_DAY),o[1]===-1/0&&o[0]===1/0){var s=new Date;o[1]=+new Date(s.getFullYear(),s.getMonth(),s.getDate()),o[0]=o[1]-ONE_DAY}this.calcNiceTicks(a.splitNumber,a.minInterval,a.maxInterval)},r.prototype.calcNiceTicks=function(a,o,s){a=a||10;var l=this._extent,u=l[1]-l[0];this._approxInterval=u/a,o!=null&&this._approxInterval<o&&(this._approxInterval=o),s!=null&&this._approxInterval>s&&(this._approxInterval=s);var f=scaleIntervals.length,d=Math.min(bisect(scaleIntervals,this._approxInterval,0,f),f-1);this._interval=scaleIntervals[d][1],this._minLevelUnit=scaleIntervals[Math.max(d-1,0)][0]},r.prototype.parse=function(a){return isNumber(a)?a:+parseDate(a)},r.prototype.contain=function(a){return contain2(this.parse(a),this._extent)},r.prototype.normalize=function(a){return normalize3(this.parse(a),this._extent)},r.prototype.scale=function(a){return scale3(a,this._extent)},r.type="time",r}(Interval_default),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(n,r,a,o){var s=parseDate(r),l=parseDate(a),u=function(x){return getUnitValue(s,x,o)===getUnitValue(l,x,o)},f=function(){return u("year")},d=function(){return f()&&u("month")},v=function(){return d()&&u("day")},g=function(){return v()&&u("hour")},y=function(){return g()&&u("minute")},b=function(){return y()&&u("second")},_=function(){return b()&&u("millisecond")};switch(n){case"year":return f();case"month":return d();case"day":return v();case"hour":return g();case"minute":return y();case"second":return b();case"millisecond":return _()}}function getDateInterval(n,r){return n/=ONE_DAY,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function getMonthInterval(n){var r=30*ONE_DAY;return n/=r,n>6?6:n>3?3:n>2?2:1}function getHourInterval(n){return n/=ONE_HOUR,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function getMinutesAndSecondsInterval(n,r){return n/=r?ONE_MINUTE:ONE_SECOND,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function getMillisecondsInterval(n){return nice(n,!0)}function getFirstTimestampOfUnit(n,r,a){var o=new Date(n);switch(getPrimaryTimeUnit(r)){case"year":case"month":o[monthSetterName(a)](0);case"day":o[dateSetterName(a)](1);case"hour":o[hoursSetterName(a)](0);case"minute":o[minutesSetterName(a)](0);case"second":o[secondsSetterName(a)](0),o[millisecondsSetterName(a)](0)}return o.getTime()}function getIntervalTicks(n,r,a,o){var s=1e4,l=timeUnits,u=0;function f(L,O,z,R,B,N,H){for(var W=new Date(O),V=O,G=W[R]();V<z&&V<=o[1];)H.push({value:V}),G+=L,W[B](G),V=W.getTime();H.push({value:V,notAdd:!0})}function d(L,O,z){var R=[],B=!O.length;if(!isUnitValueSame(getPrimaryTimeUnit(L),o[0],o[1],a)){B&&(O=[{value:getFirstTimestampOfUnit(new Date(o[0]),L,a)},{value:o[1]}]);for(var N=0;N<O.length-1;N++){var H=O[N].value,W=O[N+1].value;if(H!==W){var V=void 0,G=void 0,Y=void 0,Q=!1;switch(L){case"year":V=Math.max(1,Math.round(r/ONE_DAY/365)),G=fullYearGetterName(a),Y=fullYearSetterName(a);break;case"half-year":case"quarter":case"month":V=getMonthInterval(r),G=monthGetterName(a),Y=monthSetterName(a);break;case"week":case"half-week":case"day":V=getDateInterval(r,31),G=dateGetterName(a),Y=dateSetterName(a),Q=!0;break;case"half-day":case"quarter-day":case"hour":V=getHourInterval(r),G=hoursGetterName(a),Y=hoursSetterName(a);break;case"minute":V=getMinutesAndSecondsInterval(r,!0),G=minutesGetterName(a),Y=minutesSetterName(a);break;case"second":V=getMinutesAndSecondsInterval(r,!1),G=secondsGetterName(a),Y=secondsSetterName(a);break;case"millisecond":V=getMillisecondsInterval(r),G=millisecondsGetterName(a),Y=millisecondsSetterName(a);break}f(V,H,W,G,Y,Q,R),L==="year"&&z.length>1&&N===0&&z.unshift({value:z[0].value-V})}}for(var N=0;N<R.length;N++)z.push(R[N]);return R}}for(var v=[],g=[],y=0,b=0,_=0;_<l.length&&u++<s;++_){var x=getPrimaryTimeUnit(l[_]);if(!!isPrimaryTimeUnit(l[_])){d(l[_],v[v.length-1]||[],g);var C=l[_+1]?getPrimaryTimeUnit(l[_+1]):null;if(x!==C){if(g.length){b=y,g.sort(function(L,O){return L.value-O.value});for(var w=[],S=0;S<g.length;++S){var D=g[S].value;(S===0||g[S-1].value!==D)&&(w.push(g[S]),D>=o[0]&&D<=o[1]&&y++)}var A=(o[1]-o[0])/r;if(y>A*1.5&&b>A/1.5||(v.push(w),y>A||n===l[_]))break}g=[]}}}u>=s&&warn6("Exceed safe limit.");for(var T=filter(map3(v,function(L){return filter(L,function(O){return O.value>=o[0]&&O.value<=o[1]&&!O.notAdd})}),function(L){return L.length>0}),M=[],E=T.length-1,_=0;_<T.length;++_)for(var P=T[_],I=0;I<P.length;++I)M.push({value:P[I].value,level:E-_});M.sort(function(L,O){return L.value-O.value});for(var F=[],_=0;_<M.length;++_)(_===0||M[_].value!==M[_-1].value)&&F.push(M[_]);return F}Scale_default.registerClass(TimeScale);var Time_default=TimeScale,scaleProto=Scale_default.prototype,intervalScaleProto=Interval_default.prototype,roundingErrorFix=round,mathFloor=Math.floor,mathCeil=Math.ceil,mathPow2=Math.pow,mathLog=Math.log,LogScale=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="log",a.base=10,a._originalScale=new Interval_default,a._interval=0,a}return r.prototype.getTicks=function(a){var o=this._originalScale,s=this._extent,l=o.getExtent(),u=intervalScaleProto.getTicks.call(this,a);return map3(u,function(f){var d=f.value,v=round(mathPow2(this.base,d));return v=d===s[0]&&this._fixMin?fixRoundingError(v,l[0]):v,v=d===s[1]&&this._fixMax?fixRoundingError(v,l[1]):v,{value:v}},this)},r.prototype.setExtent=function(a,o){var s=this.base;a=mathLog(a)/mathLog(s),o=mathLog(o)/mathLog(s),intervalScaleProto.setExtent.call(this,a,o)},r.prototype.getExtent=function(){var a=this.base,o=scaleProto.getExtent.call(this);o[0]=mathPow2(a,o[0]),o[1]=mathPow2(a,o[1]);var s=this._originalScale,l=s.getExtent();return this._fixMin&&(o[0]=fixRoundingError(o[0],l[0])),this._fixMax&&(o[1]=fixRoundingError(o[1],l[1])),o},r.prototype.unionExtent=function(a){this._originalScale.unionExtent(a);var o=this.base;a[0]=mathLog(a[0])/mathLog(o),a[1]=mathLog(a[1])/mathLog(o),scaleProto.unionExtent.call(this,a)},r.prototype.unionExtentFromData=function(a,o){this.unionExtent(a.getApproximateExtent(o))},r.prototype.calcNiceTicks=function(a){a=a||10;var o=this._extent,s=o[1]-o[0];if(!(s===1/0||s<=0)){var l=quantity(s),u=a/s*l;for(u<=.5&&(l*=10);!isNaN(l)&&Math.abs(l)<1&&Math.abs(l)>0;)l*=10;var f=[round(mathCeil(o[0]/l)*l),round(mathFloor(o[1]/l)*l)];this._interval=l,this._niceExtent=f}},r.prototype.calcNiceExtent=function(a){intervalScaleProto.calcNiceExtent.call(this,a),this._fixMin=a.fixMin,this._fixMax=a.fixMax},r.prototype.parse=function(a){return a},r.prototype.contain=function(a){return a=mathLog(a)/mathLog(this.base),contain2(a,this._extent)},r.prototype.normalize=function(a){return a=mathLog(a)/mathLog(this.base),normalize3(a,this._extent)},r.prototype.scale=function(a){return a=scale3(a,this._extent),mathPow2(this.base,a)},r.type="log",r}(Scale_default),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks,proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(n,r){return roundingErrorFix(n,getPrecision(r))}Scale_default.registerClass(LogScale);var Log_default=LogScale,ScaleRawExtentInfo=function(){function n(r,a,o){this._prepareParams(r,a,o)}return n.prototype._prepareParams=function(r,a,o){o[1]<o[0]&&(o=[NaN,NaN]),this._dataMin=o[0],this._dataMax=o[1];var s=this._isOrdinal=r.type==="ordinal";this._needCrossZero=r.type==="interval"&&a.getNeedCrossZero&&a.getNeedCrossZero();var l=this._modelMinRaw=a.get("min",!0);isFunction3(l)?this._modelMinNum=parseAxisModelMinMax(r,l({min:o[0],max:o[1]})):l!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(r,l));var u=this._modelMaxRaw=a.get("max",!0);if(isFunction3(u)?this._modelMaxNum=parseAxisModelMinMax(r,u({min:o[0],max:o[1]})):u!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(r,u)),s)this._axisDataLen=a.getCategories().length;else{var f=a.get("boundaryGap"),d=isArray3(f)?f:[f||0,f||0];typeof d[0]=="boolean"||typeof d[1]=="boolean"?(console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),this._boundaryGapInner=[0,0]):this._boundaryGapInner=[parsePercent(d[0],1),parsePercent(d[1],1)]}},n.prototype.calculate=function(){var r=this._isOrdinal,a=this._dataMin,o=this._dataMax,s=this._axisDataLen,l=this._boundaryGapInner,u=r?null:o-a||Math.abs(a),f=this._modelMinRaw==="dataMin"?a:this._modelMinNum,d=this._modelMaxRaw==="dataMax"?o:this._modelMaxNum,v=f!=null,g=d!=null;f==null&&(f=r?s?0:NaN:a-l[0]*u),d==null&&(d=r?s?s-1:NaN:o+l[1]*u),(f==null||!isFinite(f))&&(f=NaN),(d==null||!isFinite(d))&&(d=NaN);var y=eqNaN(f)||eqNaN(d)||r&&!s;this._needCrossZero&&(f>0&&d>0&&!v&&(f=0),f<0&&d<0&&!g&&(d=0));var b=this._determinedMin,_=this._determinedMax;return b!=null&&(f=b,v=!0),_!=null&&(d=_,g=!0),{min:f,max:d,minFixed:v,maxFixed:g,isBlank:y}},n.prototype.modifyDataMinMax=function(r,a){assert(!this.frozen),this[DATA_MIN_MAX_ATTR[r]]=a},n.prototype.setDeterminedMinMax=function(r,a){var o=DETERMINED_MIN_MAX_ATTR[r];assert(!this.frozen&&this[o]==null),this[o]=a},n.prototype.freeze=function(){this.frozen=!0},n}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(n,r,a){var o=n.rawExtentInfo;return o||(o=new ScaleRawExtentInfo(n,r,a),n.rawExtentInfo=o,o)}function parseAxisModelMinMax(n,r){return r==null?null:eqNaN(r)?NaN:n.parse(r)}function getScaleExtent(n,r){var a=n.type,o=ensureScaleRawExtentInfo(n,r,n.getExtent()).calculate();n.setBlank(o.isBlank);var s=o.min,l=o.max,u=r.ecModel;if(u&&a==="time"){var f=prepareLayoutBarSeries("bar",u),d=!1;if(each(f,function(y){d=d||y.getBaseAxis()===r.axis}),d){var v=makeColumnLayout(f),g=adjustScaleForOverflow(s,l,r,v);s=g.min,l=g.max}}return{extent:[s,l],fixMin:o.minFixed,fixMax:o.maxFixed}}function adjustScaleForOverflow(n,r,a,o){var s=a.axis.getExtent(),l=s[1]-s[0],u=retrieveColumnLayout(o,a.axis);if(u===void 0)return{min:n,max:r};var f=1/0;each(u,function(_){f=Math.min(_.offset,f)});var d=-1/0;each(u,function(_){d=Math.max(_.offset+_.width,d)}),f=Math.abs(f),d=Math.abs(d);var v=f+d,g=r-n,y=1-(f+d)/l,b=g/y-g;return r+=b*(d/v),n-=b*(f/v),{min:n,max:r}}function niceScaleExtent(n,r){var a=r,o=getScaleExtent(n,a),s=o.extent,l=a.get("splitNumber");n instanceof Log_default&&(n.base=a.get("logBase"));var u=n.type,f=a.get("interval"),d=u==="interval"||u==="time";n.setExtent(s[0],s[1]),n.calcNiceExtent({splitNumber:l,fixMin:o.fixMin,fixMax:o.fixMax,minInterval:d?a.get("minInterval"):null,maxInterval:d?a.get("maxInterval"):null}),f!=null&&n.setInterval&&n.setInterval(f)}function createScaleByModel(n,r){if(r=r||n.get("type"),r)switch(r){case"category":return new Ordinal_default({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new Time_default({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Scale_default.getClass(r)||Interval_default)}}function ifAxisCrossZero(n){var r=n.scale.getExtent(),a=r[0],o=r[1];return!(a>0&&o>0||a<0&&o<0)}function makeLabelFormatter(n){var r=n.getLabelModel().get("formatter"),a=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(o){return function(s,l){return n.scale.getFormattedLabel(s,l,o)}}(r):isString2(r)?function(o){return function(s){var l=n.scale.getLabel(s),u=o.replace("{value}",l!=null?l:"");return u}}(r):isFunction3(r)?function(o){return function(s,l){return a!=null&&(l=s.value-a),o(getAxisRawValue(n,s),l,s.level!=null?{level:s.level}:null)}}(r):function(o){return n.scale.getLabel(o)}}function getAxisRawValue(n,r){return n.type==="category"?n.scale.getLabel(r):r.value}function estimateLabelUnionRect(n){var r=n.model,a=n.scale;if(!(!r.get(["axisLabel","show"])||a.isBlank())){var o,s,l=a.getExtent();a instanceof Ordinal_default?s=a.count():(o=a.getTicks(),s=o.length);var u=n.getLabelModel(),f=makeLabelFormatter(n),d,v=1;s>40&&(v=Math.ceil(s/40));for(var g=0;g<s;g+=v){var y=o?o[g]:{value:l[0]+g},b=f(y,g),_=u.getTextRect(b),x=rotateTextRect(_,u.get("rotate")||0);d?d.union(x):d=x}return d}}function rotateTextRect(n,r){var a=r*Math.PI/180,o=n.width,s=n.height,l=o*Math.abs(Math.cos(a))+Math.abs(s*Math.sin(a)),u=o*Math.abs(Math.sin(a))+Math.abs(s*Math.cos(a)),f=new BoundingRect_default(n.x,n.y,l,u);return f}function getOptionCategoryInterval(n){var r=n.get("interval");return r==null?"auto":r}function shouldShowAllLabels(n){return n.type==="category"&&getOptionCategoryInterval(n.getLabelModel())===0}function getDataDimensionsOnAxis(n,r){var a={};return each(n.mapDimensionsAll(r),function(o){a[getStackedDimension(n,o)]=!0}),keys3(a)}function unionAxisExtentFromData(n,r,a){r&&each(getDataDimensionsOnAxis(r,a),function(o){var s=r.getApproximateExtent(o);s[0]<n[0]&&(n[0]=s[0]),s[1]>n[1]&&(n[1]=s[1])})}var AxisModelCommonMixin=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var r=this.option;return!r.scale},n.prototype.getCoordSysModel=function(){},n}(),extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap,registerImpl,PRIORITY,ComponentModel:Component_default,ComponentView:Component_default2,SeriesModel:Series_default,ChartView:Chart_default,registerComponentModel:function(n){Component_default.registerClass(n)},registerComponentView:function(n){Component_default2.registerClass(n)},registerSeriesModel:function(n){Series_default.registerClass(n)},registerChartView:function(n){Chart_default.registerClass(n)},registerSubTypeDefaulter:function(n,r){Component_default.registerSubTypeDefaulter(n,r)},registerPainter:function(n,r){registerPainter(n,r)}};function use(n){if(isArray3(n)){each(n,function(r){use(r)});return}indexOf(extensions,n)>=0||(extensions.push(n),isFunction3(n)&&(n={install:n}),n.install(extensionRegisters))}var EPSILON4=1e-8;function isAroundEqual2(n,r){return Math.abs(n-r)<EPSILON4}function contain3(n,r,a){var o=0,s=n[0];if(!s)return!1;for(var l=1;l<n.length;l++){var u=n[l];o+=windingLine(s[0],s[1],u[0],u[1],r,a),s=u}var f=n[0];return(!isAroundEqual2(s[0],f[0])||!isAroundEqual2(s[1],f[1]))&&(o+=windingLine(s[0],s[1],f[0],f[1],r,a)),o!==0}var TMP_TRANSFORM=[];function transformPoints(n,r){for(var a=0;a<n.length;a++)applyTransform(n[a],n[a],r)}function updateBBoxFromPoints(n,r,a,o){for(var s=0;s<n.length;s++){var l=n[s];o&&(l=o.project(l)),l&&isFinite(l[0])&&isFinite(l[1])&&(min(r,r,l),max(a,a,l))}}function centroid(n){for(var r=0,a=0,o=0,s=n.length,l=n[s-1][0],u=n[s-1][1],f=0;f<s;f++){var d=n[f][0],v=n[f][1],g=l*v-d*u;r+=g,a+=(l+d)*g,o+=(u+v)*g,l=d,u=v}return r?[a/r/3,o/r/3,r]:[n[0][0]||0,n[0][1]||0]}var Region=function(){function n(r){this.name=r}return n.prototype.setCenter=function(r){this._center=r},n.prototype.getCenter=function(){var r=this._center;return r||(r=this._center=this.calcCenter()),r},n}(),GeoJSONPolygonGeometry=function(){function n(r,a){this.type="polygon",this.exterior=r,this.interiors=a}return n}(),GeoJSONLineStringGeometry=function(){function n(r){this.type="linestring",this.points=r}return n}(),GeoJSONRegion=function(n){__extends(r,n);function r(a,o,s){var l=n.call(this,a)||this;return l.type="geoJSON",l.geometries=o,l._center=s&&[s[0],s[1]],l}return r.prototype.calcCenter=function(){for(var a=this.geometries,o,s=0,l=0;l<a.length;l++){var u=a[l],f=u.exterior,d=f&&f.length;d>s&&(o=u,s=d)}if(o)return centroid(o.exterior);var v=this.getBoundingRect();return[v.x+v.width/2,v.y+v.height/2]},r.prototype.getBoundingRect=function(a){var o=this._rect;if(o&&!a)return o;var s=[1/0,1/0],l=[-1/0,-1/0],u=this.geometries;return each(u,function(f){f.type==="polygon"?updateBBoxFromPoints(f.exterior,s,l,a):each(f.points,function(d){updateBBoxFromPoints(d,s,l,a)})}),isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])||(s[0]=s[1]=l[0]=l[1]=0),o=new BoundingRect_default(s[0],s[1],l[0]-s[0],l[1]-s[1]),a||(this._rect=o),o},r.prototype.contain=function(a){var o=this.getBoundingRect(),s=this.geometries;if(!o.contain(a[0],a[1]))return!1;e:for(var l=0,u=s.length;l<u;l++){var f=s[l];if(f.type==="polygon"){var d=f.exterior,v=f.interiors;if(contain3(d,a[0],a[1])){for(var g=0;g<(v?v.length:0);g++)if(contain3(v[g],a[0],a[1]))continue e;return!0}}}return!1},r.prototype.transformTo=function(a,o,s,l){var u=this.getBoundingRect(),f=u.width/u.height;s?l||(l=s/f):s=f*l;for(var d=new BoundingRect_default(a,o,s,l),v=u.calculateTransform(d),g=this.geometries,y=0;y<g.length;y++){var b=g[y];b.type==="polygon"?(transformPoints(b.exterior,v),each(b.interiors,function(_){transformPoints(_,v)})):each(b.points,function(_){transformPoints(_,v)})}u=this._rect,u.copy(d),this._center=[u.x+u.width/2,u.y+u.height/2]},r.prototype.cloneShallow=function(a){a==null&&(a=this.name);var o=new r(a,this.geometries,this._center);return o._rect=this._rect,o.transformTo=null,o},r}(Region),GeoSVGRegion=function(n){__extends(r,n);function r(a,o){var s=n.call(this,a)||this;return s.type="geoSVG",s._elOnlyForCalculate=o,s}return r.prototype.calcCenter=function(){for(var a=this._elOnlyForCalculate,o=a.getBoundingRect(),s=[o.x+o.width/2,o.y+o.height/2],l=identity2(TMP_TRANSFORM),u=a;u&&!u.isGeoSVGGraphicRoot;)mul(l,u.getLocalTransform(),l),u=u.parent;return invert(l,l),applyTransform(s,s,l),s},r}(Region);function decode(n){if(!n.UTF8Encoding)return n;var r=n,a=r.UTF8Scale;a==null&&(a=1024);var o=r.features;return each(o,function(s){var l=s.geometry,u=l.encodeOffsets,f=l.coordinates;if(!!u)switch(l.type){case"LineString":l.coordinates=decodeRing(f,u,a);break;case"Polygon":decodeRings(f,u,a);break;case"MultiLineString":decodeRings(f,u,a);break;case"MultiPolygon":each(f,function(d,v){return decodeRings(d,u[v],a)})}}),r.UTF8Encoding=!1,r}function decodeRings(n,r,a){for(var o=0;o<n.length;o++)n[o]=decodeRing(n[o],r[o],a)}function decodeRing(n,r,a){for(var o=[],s=r[0],l=r[1],u=0;u<n.length;u+=2){var f=n.charCodeAt(u)-64,d=n.charCodeAt(u+1)-64;f=f>>1^-(f&1),d=d>>1^-(d&1),f+=s,d+=l,s=f,l=d,o.push([f/a,d/a])}return o}function parseGeoJSON(n,r){return n=decode(n),map3(filter(n.features,function(a){return a.geometry&&a.properties&&a.geometry.coordinates.length>0}),function(a){var o=a.properties,s=a.geometry,l=[];switch(s.type){case"Polygon":var u=s.coordinates;l.push(new GeoJSONPolygonGeometry(u[0],u.slice(1)));break;case"MultiPolygon":each(s.coordinates,function(d){d[0]&&l.push(new GeoJSONPolygonGeometry(d[0],d.slice(1)))});break;case"LineString":l.push(new GeoJSONLineStringGeometry([s.coordinates]));break;case"MultiLineString":l.push(new GeoJSONLineStringGeometry(s.coordinates))}var f=new GeoJSONRegion(o[r||"name"],l,o.cp);return f.properties=o,f})}var inner6=makeInner();function createAxisLabels(n){return n.type==="category"?makeCategoryLabels(n):makeRealNumberLabels(n)}function createAxisTicks(n,r){return n.type==="category"?makeCategoryTicks(n,r):{ticks:map3(n.scale.getTicks(),function(a){return a.value})}}function makeCategoryLabels(n){var r=n.getLabelModel(),a=makeCategoryLabelsActually(n,r);return!r.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:a.labelCategoryInterval}:a}function makeCategoryLabelsActually(n,r){var a=getListCache(n,"labels"),o=getOptionCategoryInterval(r),s=listCacheGet2(a,o);if(s)return s;var l,u;return isFunction3(o)?l=makeLabelsByCustomizedCategoryInterval(n,o):(u=o==="auto"?makeAutoCategoryInterval(n):o,l=makeLabelsByNumericCategoryInterval(n,u)),listCacheSet2(a,o,{labels:l,labelCategoryInterval:u})}function makeCategoryTicks(n,r){var a=getListCache(n,"ticks"),o=getOptionCategoryInterval(r),s=listCacheGet2(a,o);if(s)return s;var l,u;if((!r.get("show")||n.scale.isBlank())&&(l=[]),isFunction3(o))l=makeLabelsByCustomizedCategoryInterval(n,o,!0);else if(o==="auto"){var f=makeCategoryLabelsActually(n,n.getLabelModel());u=f.labelCategoryInterval,l=map3(f.labels,function(d){return d.tickValue})}else u=o,l=makeLabelsByNumericCategoryInterval(n,u,!0);return listCacheSet2(a,o,{ticks:l,tickCategoryInterval:u})}function makeRealNumberLabels(n){var r=n.scale.getTicks(),a=makeLabelFormatter(n);return{labels:map3(r,function(o,s){return{level:o.level,formattedLabel:a(o,s),rawLabel:n.scale.getLabel(o),tickValue:o.value}})}}function getListCache(n,r){return inner6(n)[r]||(inner6(n)[r]=[])}function listCacheGet2(n,r){for(var a=0;a<n.length;a++)if(n[a].key===r)return n[a].value}function listCacheSet2(n,r,a){return n.push({key:r,value:a}),a}function makeAutoCategoryInterval(n){var r=inner6(n).autoInterval;return r!=null?r:inner6(n).autoInterval=n.calculateCategoryInterval()}function calculateCategoryInterval(n){var r=fetchAutoCategoryIntervalCalculationParams(n),a=makeLabelFormatter(n),o=(r.axisRotate-r.labelRotate)/180*Math.PI,s=n.scale,l=s.getExtent(),u=s.count();if(l[1]-l[0]<1)return 0;var f=1;u>40&&(f=Math.max(1,Math.floor(u/40)));for(var d=l[0],v=n.dataToCoord(d+1)-n.dataToCoord(d),g=Math.abs(v*Math.cos(o)),y=Math.abs(v*Math.sin(o)),b=0,_=0;d<=l[1];d+=f){var x=0,C=0,w=getBoundingRect(a({value:d}),r.font,"center","top");x=w.width*1.3,C=w.height*1.3,b=Math.max(b,x,7),_=Math.max(_,C,7)}var S=b/g,D=_/y;isNaN(S)&&(S=1/0),isNaN(D)&&(D=1/0);var A=Math.max(0,Math.floor(Math.min(S,D))),T=inner6(n.model),M=n.getExtent(),E=T.lastAutoInterval,P=T.lastTickCount;return E!=null&&P!=null&&Math.abs(E-A)<=1&&Math.abs(P-u)<=1&&E>A&&T.axisExtent0===M[0]&&T.axisExtent1===M[1]?A=E:(T.lastTickCount=u,T.lastAutoInterval=A,T.axisExtent0=M[0],T.axisExtent1=M[1]),A}function fetchAutoCategoryIntervalCalculationParams(n){var r=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:r.get("rotate")||0,font:r.getFont()}}function makeLabelsByNumericCategoryInterval(n,r,a){var o=makeLabelFormatter(n),s=n.scale,l=s.getExtent(),u=n.getLabelModel(),f=[],d=Math.max((r||0)+1,1),v=l[0],g=s.count();v!==0&&d>1&&g/d>2&&(v=Math.round(Math.ceil(v/d)*d));var y=shouldShowAllLabels(n),b=u.get("showMinLabel")||y,_=u.get("showMaxLabel")||y;b&&v!==l[0]&&C(l[0]);for(var x=v;x<=l[1];x+=d)C(x);_&&x-d!==l[1]&&C(l[1]);function C(w){var S={value:w};f.push(a?w:{formattedLabel:o(S),rawLabel:s.getLabel(S),tickValue:w})}return f}function makeLabelsByCustomizedCategoryInterval(n,r,a){var o=n.scale,s=makeLabelFormatter(n),l=[];return each(o.getTicks(),function(u){var f=o.getLabel(u),d=u.value;r(u.value,f)&&l.push(a?d:{formattedLabel:s(u),rawLabel:f,tickValue:d})}),l}var NORMALIZED_EXTENT=[0,1],Axis=function(){function n(r,a,o){this.onBand=!1,this.inverse=!1,this.dim=r,this.scale=a,this._extent=o||[0,0]}return n.prototype.contain=function(r){var a=this._extent,o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return r>=o&&r<=s},n.prototype.containData=function(r){return this.scale.contain(r)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(r){return getPixelPrecision(r||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(r,a){var o=this._extent;o[0]=r,o[1]=a},n.prototype.dataToCoord=function(r,a){var o=this._extent,s=this.scale;return r=s.normalize(r),this.onBand&&s.type==="ordinal"&&(o=o.slice(),fixExtentWithBands(o,s.count())),linearMap(r,NORMALIZED_EXTENT,o,a)},n.prototype.coordToData=function(r,a){var o=this._extent,s=this.scale;this.onBand&&s.type==="ordinal"&&(o=o.slice(),fixExtentWithBands(o,s.count()));var l=linearMap(r,o,NORMALIZED_EXTENT,a);return this.scale.scale(l)},n.prototype.pointToData=function(r,a){},n.prototype.getTicksCoords=function(r){r=r||{};var a=r.tickModel||this.getTickModel(),o=createAxisTicks(this,a),s=o.ticks,l=map3(s,function(f){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(f):f),tickValue:f}},this),u=a.get("alignWithLabel");return fixOnBandTicksCoords(this,l,u,r.clamp),l},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var r=this.model.getModel("minorTick"),a=r.get("splitNumber");a>0&&a<100||(a=5);var o=this.scale.getMinorTicks(a),s=map3(o,function(l){return map3(l,function(u){return{coord:this.dataToCoord(u),tickValue:u}},this)},this);return s},n.prototype.getViewLabels=function(){return createAxisLabels(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var r=this._extent,a=this.scale.getExtent(),o=a[1]-a[0]+(this.onBand?1:0);o===0&&(o=1);var s=Math.abs(r[1]-r[0]);return Math.abs(s)/o},n.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},n}();function fixExtentWithBands(n,r){var a=n[1]-n[0],o=r,s=a/o/2;n[0]+=s,n[1]-=s}function fixOnBandTicksCoords(n,r,a,o){var s=r.length;if(!n.onBand||a||!s)return;var l=n.getExtent(),u,f;if(s===1)r[0].coord=l[0],u=r[1]={coord:l[0]};else{var d=r[s-1].tickValue-r[0].tickValue,v=(r[s-1].coord-r[0].coord)/d;each(r,function(_){_.coord-=v/2});var g=n.scale.getExtent();f=1+g[1]-r[s-1].tickValue,u={coord:r[s-1].coord+v*f},r.push(u)}var y=l[0]>l[1];b(r[0].coord,l[0])&&(o?r[0].coord=l[0]:r.shift()),o&&b(l[0],r[0].coord)&&r.unshift({coord:l[0]}),b(l[1],u.coord)&&(o?u.coord=l[1]:r.pop()),o&&b(u.coord,l[1])&&r.push({coord:l[1]});function b(_,x){return _=round(_),x=round(x),y?_>x:_<x}}var Axis_default=Axis,PI27=Math.PI*2,CMD4=PathProxy_default.CMD;function projectPointToLine(n,r,a,o,s,l,u,f){var d=s-n,v=l-r,g=a-n,y=o-r,b=Math.sqrt(g*g+y*y);g/=b,y/=b;var _=d*g+v*y,x=_/b;f&&(x=Math.min(Math.max(x,0),1)),x*=b;var C=u[0]=n+x*g,w=u[1]=r+x*y;return Math.sqrt((C-s)*(C-s)+(w-l)*(w-l))}var pt0=new Point_default,pt1=new Point_default,pt2=new Point_default,dir=new Point_default,dir2=new Point_default,tmpArr=[],tmpProjPoint=new Point_default;function limitTurnAngle(n,r){if(r<=180&&r>0){r=r/180*Math.PI,pt0.fromArray(n[0]),pt1.fromArray(n[1]),pt2.fromArray(n[2]),Point_default.sub(dir,pt0,pt1),Point_default.sub(dir2,pt2,pt1);var a=dir.len(),o=dir2.len();if(!(a<.001||o<.001)){dir.scale(1/a),dir2.scale(1/o);var s=dir.dot(dir2),l=Math.cos(r);if(l<s){var u=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,u/Math.tan(Math.PI-r));var f=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(f))return;f<0?Point_default.copy(tmpProjPoint,pt1):f>1&&Point_default.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(n[1])}}}}function limitSurfaceAngle(n,r,a){if(a<=180&&a>0){a=a/180*Math.PI,pt0.fromArray(n[0]),pt1.fromArray(n[1]),pt2.fromArray(n[2]),Point_default.sub(dir,pt1,pt0),Point_default.sub(dir2,pt2,pt1);var o=dir.len(),s=dir2.len();if(!(o<.001||s<.001)){dir.scale(1/o),dir2.scale(1/s);var l=dir.dot(r),u=Math.cos(a);if(l<u){var f=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var d=Math.PI/2,v=Math.acos(dir2.dot(r)),g=d+v-a;if(g>=d)Point_default.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,f/Math.tan(Math.PI/2-g));var y=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(y))return;y<0?Point_default.copy(tmpProjPoint,pt1):y>1&&Point_default.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(n[1])}}}}function setLabelLineState(n,r,a,o){var s=a==="normal",l=s?n:n.ensureState(a);l.ignore=r;var u=o.get("smooth");u&&u===!0&&(u=.3),l.shape=l.shape||{},u>0&&(l.shape.smooth=u);var f=o.getModel("lineStyle").getLineStyle();s?n.useStyle(f):l.style=f}function buildLabelLinePath(n,r){var a=r.smooth,o=r.points;if(!!o)if(n.moveTo(o[0][0],o[0][1]),a>0&&o.length>=3){var s=dist(o[0],o[1]),l=dist(o[1],o[2]);if(!s||!l){n.lineTo(o[1][0],o[1][1]),n.lineTo(o[2][0],o[2][1]);return}var u=Math.min(s,l)*a,f=lerp([],o[1],o[0],u/s),d=lerp([],o[1],o[2],u/l),v=lerp([],f,d,.5);n.bezierCurveTo(f[0],f[1],f[0],f[1],v[0],v[1]),n.bezierCurveTo(d[0],d[1],d[0],d[1],o[2][0],o[2][1])}else for(var g=1;g<o.length;g++)n.lineTo(o[g][0],o[g][1])}function setLabelLineStyle(n,r,a){var o=n.getTextGuideLine(),s=n.getTextContent();if(!s){o&&n.removeTextGuideLine();return}for(var l=r.normal,u=l.get("show"),f=s.ignore,d=0;d<DISPLAY_STATES.length;d++){var v=DISPLAY_STATES[d],g=r[v],y=v==="normal";if(g){var b=g.get("show"),_=y?f:retrieve2(s.states[v]&&s.states[v].ignore,f);if(_||!retrieve2(b,u)){var x=y?o:o&&o.states[v];x&&(x.ignore=!0);continue}o||(o=new Polyline_default,n.setTextGuideLine(o),!y&&(f||!u)&&setLabelLineState(o,!0,"normal",r.normal),n.stateProxy&&(o.stateProxy=n.stateProxy)),setLabelLineState(o,!1,v,g)}}if(o){defaults(o.style,a),o.style.fill=null;var C=l.get("showAbove"),w=n.textGuideLineConfig=n.textGuideLineConfig||{};w.showAbove=C||!1,o.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(n,r){r=r||"labelLine";for(var a={normal:n.getModel(r)},o=0;o<SPECIAL_STATES.length;o++){var s=SPECIAL_STATES[o];a[s]=n.getModel([s,r])}return a}function prepareLayoutList(n){for(var r=[],a=0;a<n.length;a++){var o=n[a];if(!o.defaultAttr.ignore){var s=o.label,l=s.getComputedTransform(),u=s.getBoundingRect(),f=!l||l[1]<1e-5&&l[2]<1e-5,d=s.style.margin||0,v=u.clone();v.applyTransform(l),v.x-=d/2,v.y-=d/2,v.width+=d,v.height+=d;var g=f?new OrientedBoundingRect_default(u,l):null;r.push({label:s,labelLine:o.labelLine,rect:v,localRect:u,obb:g,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:f,transform:l})}}return r}function shiftLayout(n,r,a,o,s,l){var u=n.length;if(u<2)return;n.sort(function(F,L){return F.rect[r]-L.rect[r]});for(var f=0,d,v=!1,g=[],y=0,b=0;b<u;b++){var _=n[b],x=_.rect;d=x[r]-f,d<0&&(x[r]-=d,_.label[r]-=d,v=!0);var C=Math.max(-d,0);g.push(C),y+=C,f=x[r]+x[a]}y>0&&l&&E(-y/u,0,u);var w=n[0],S=n[u-1],D,A;T(),D<0&&P(-D,.8),A<0&&P(A,.8),T(),M(D,A,1),M(A,D,-1),T(),D<0&&I(-D),A<0&&I(A);function T(){D=w.rect[r]-o,A=s-S.rect[r]-S.rect[a]}function M(F,L,O){if(F<0){var z=Math.min(L,-F);if(z>0){E(z*O,0,u);var R=z+F;R<0&&P(-R*O,1)}else P(-F*O,1)}}function E(F,L,O){F!==0&&(v=!0);for(var z=L;z<O;z++){var R=n[z],B=R.rect;B[r]+=F,R.label[r]+=F}}function P(F,L){for(var O=[],z=0,R=1;R<u;R++){var B=n[R-1].rect,N=Math.max(n[R].rect[r]-B[r]-B[a],0);O.push(N),z+=N}if(!!z){var H=Math.min(Math.abs(F)/z,L);if(F>0)for(var R=0;R<u-1;R++){var W=O[R]*H;E(W,0,R+1)}else for(var R=u-1;R>0;R--){var W=O[R-1]*H;E(-W,R,u)}}}function I(F){var L=F<0?-1:1;F=Math.abs(F);for(var O=Math.ceil(F/(u-1)),z=0;z<u-1;z++)if(L>0?E(O,0,z+1):E(-O,u-z-1,u),F-=O,F<=0)return}return v}function shiftLayoutOnY(n,r,a,o){return shiftLayout(n,"y","height",r,a,o)}function hideOverlap(n){var r=[];n.sort(function(C,w){return w.priority-C.priority});var a=new BoundingRect_default(0,0,0,0);function o(C){if(!C.ignore){var w=C.ensureState("emphasis");w.ignore==null&&(w.ignore=!1)}C.ignore=!0}for(var s=0;s<n.length;s++){var l=n[s],u=l.axisAligned,f=l.localRect,d=l.transform,v=l.label,g=l.labelLine;a.copy(l.rect),a.width-=.1,a.height-=.1,a.x+=.05,a.y+=.05;for(var y=l.obb,b=!1,_=0;_<r.length;_++){var x=r[_];if(!!a.intersect(x.rect)){if(u&&x.axisAligned){b=!0;break}if(x.obb||(x.obb=new OrientedBoundingRect_default(x.localRect,x.transform)),y||(y=new OrientedBoundingRect_default(f,d)),y.intersect(x.obb)){b=!0;break}}}b?(o(v),g&&o(g)):(v.attr("ignore",l.defaultAttr.ignore),g&&g.attr("ignore",l.defaultAttr.labelGuideIgnore),r.push(l))}}var GridModel=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.type="grid",r.dependencies=["xAxis","yAxis"],r.layoutMode="box",r.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},r}(Component_default),GridModel_default=GridModel,CartesianAxisModel=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},r.type="cartesian2dAxis",r}(Component_default);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge3({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption),valueAxis=merge3({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption),timeAxis=merge3({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis),axisDefault_default={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis},AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(n,r,a,o){each(AXIS_TYPES,function(s,l){var u=merge3(merge3({},axisDefault_default[l],!0),o,!0),f=function(d){__extends(v,d);function v(){var g=d!==null&&d.apply(this,arguments)||this;return g.type=r+"Axis."+l,g}return v.prototype.mergeDefaultAndTheme=function(g,y){var b=fetchLayoutMode(this),_=b?getLayoutParams(g):{},x=y.getTheme();merge3(g,x.get(l+"Axis")),merge3(g,this.getDefaultOption()),g.type=getAxisType(g),b&&mergeLayoutParam(g,_,b)},v.prototype.optionUpdated=function(){var g=this.option;g.type==="category"&&(this.__ordinalMeta=OrdinalMeta_default.createByAxisModel(this))},v.prototype.getCategories=function(g){var y=this.option;if(y.type==="category")return g?y.data:this.__ordinalMeta.categories},v.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},v.type=r+"Axis."+l,v.defaultOption=u,v}(a);n.registerComponentModel(f)}),n.registerSubTypeDefaulter(r+"Axis",getAxisType)}function getAxisType(n){return n.type||(n.data?"category":"value")}var Cartesian=function(){function n(r){this.type="cartesian",this._dimList=[],this._axes={},this.name=r||""}return n.prototype.getAxis=function(r){return this._axes[r]},n.prototype.getAxes=function(){return map3(this._dimList,function(r){return this._axes[r]},this)},n.prototype.getAxesByScale=function(r){return r=r.toLowerCase(),filter(this.getAxes(),function(a){return a.scale.type===r})},n.prototype.addAxis=function(r){var a=r.dim;this._axes[a]=r,this._dimList.push(a)},n}(),Cartesian_default=Cartesian,cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(n){return n.type==="interval"||n.type==="time"}var Cartesian2D=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="cartesian2d",a.dimensions=cartesian2DDimensions,a}return r.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var a=this.getAxis("x").scale,o=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(a)||!canCalculateAffineTransform(o))){var s=a.getExtent(),l=o.getExtent(),u=this.dataToPoint([s[0],l[0]]),f=this.dataToPoint([s[1],l[1]]),d=s[1]-s[0],v=l[1]-l[0];if(!(!d||!v)){var g=(f[0]-u[0])/d,y=(f[1]-u[1])/v,b=u[0]-s[0]*g,_=u[1]-l[0]*y,x=this._transform=[g,0,0,y,b,_];this._invTransform=invert([],x)}}},r.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},r.prototype.containPoint=function(a){var o=this.getAxis("x"),s=this.getAxis("y");return o.contain(o.toLocalCoord(a[0]))&&s.contain(s.toLocalCoord(a[1]))},r.prototype.containData=function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},r.prototype.dataToPoint=function(a,o,s){s=s||[];var l=a[0],u=a[1];if(this._transform&&l!=null&&isFinite(l)&&u!=null&&isFinite(u))return applyTransform(s,a,this._transform);var f=this.getAxis("x"),d=this.getAxis("y");return s[0]=f.toGlobalCoord(f.dataToCoord(l,o)),s[1]=d.toGlobalCoord(d.dataToCoord(u,o)),s},r.prototype.clampData=function(a,o){var s=this.getAxis("x").scale,l=this.getAxis("y").scale,u=s.getExtent(),f=l.getExtent(),d=s.parse(a[0]),v=l.parse(a[1]);return o=o||[],o[0]=Math.min(Math.max(Math.min(u[0],u[1]),d),Math.max(u[0],u[1])),o[1]=Math.min(Math.max(Math.min(f[0],f[1]),v),Math.max(f[0],f[1])),o},r.prototype.pointToData=function(a,o){var s=[];if(this._invTransform)return applyTransform(s,a,this._invTransform);var l=this.getAxis("x"),u=this.getAxis("y");return s[0]=l.coordToData(l.toLocalCoord(a[0]),o),s[1]=u.coordToData(u.toLocalCoord(a[1]),o),s},r.prototype.getOtherAxis=function(a){return this.getAxis(a.dim==="x"?"y":"x")},r.prototype.getArea=function(){var a=this.getAxis("x").getGlobalExtent(),o=this.getAxis("y").getGlobalExtent(),s=Math.min(a[0],a[1]),l=Math.min(o[0],o[1]),u=Math.max(a[0],a[1])-s,f=Math.max(o[0],o[1])-l;return new BoundingRect_default(s,l,u,f)},r}(Cartesian_default),Cartesian2D_default=Cartesian2D,Axis2D=function(n){__extends(r,n);function r(a,o,s,l,u){var f=n.call(this,a,o,s)||this;return f.index=0,f.type=l||"value",f.position=u||"bottom",f}return r.prototype.isHorizontal=function(){var a=this.position;return a==="top"||a==="bottom"},r.prototype.getGlobalExtent=function(a){var o=this.getExtent();return o[0]=this.toGlobalCoord(o[0]),o[1]=this.toGlobalCoord(o[1]),a&&o[0]>o[1]&&o.reverse(),o},r.prototype.pointToData=function(a,o){return this.coordToData(this.toLocalCoord(a[this.dim==="x"?0:1]),o)},r.prototype.setCategorySortInfo=function(a){if(this.type!=="category")return!1;this.model.option.categorySortInfo=a,this.scale.setSortInfo(a)},r}(Axis_default),Axis2D_default=Axis2D;function layout2(n,r,a){a=a||{};var o=n.coordinateSystem,s=r.axis,l={},u=s.getAxesOnZeroOf()[0],f=s.position,d=u?"onZero":f,v=s.dim,g=o.getRect(),y=[g.x,g.x+g.width,g.y,g.y+g.height],b={left:0,right:1,top:0,bottom:1,onZero:2},_=r.get("offset")||0,x=v==="x"?[y[2]-_,y[3]+_]:[y[0]-_,y[1]+_];if(u){var C=u.toGlobalCoord(u.dataToCoord(0));x[b.onZero]=Math.max(Math.min(C,x[1]),x[0])}l.position=[v==="y"?x[b[d]]:y[0],v==="x"?x[b[d]]:y[3]],l.rotation=Math.PI/2*(v==="x"?0:1);var w={top:-1,bottom:1,left:-1,right:1};l.labelDirection=l.tickDirection=l.nameDirection=w[f],l.labelOffset=u?x[b[f]]-x[b.onZero]:0,r.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),retrieve(a.labelInside,r.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var S=r.get(["axisLabel","rotate"]);return l.labelRotate=d==="top"?-S:S,l.z2=1,l}function isCartesian2DSeries(n){return n.get("coordinateSystem")==="cartesian2d"}function findAxisModels(n){var r={xAxisModel:null,yAxisModel:null};return each(r,function(a,o){var s=o.replace(/Model$/,""),l=n.getReferringComponents(s,SINGLE_REFERRING).models[0];if(!l)throw new Error(s+' "'+retrieve3(n.get(s+"Index"),n.get(s+"Id"),0)+'" not found');r[o]=l}),r}var mathLog2=Math.log;function alignScaleTicks(n,r,a){var o=Interval_default.prototype,s=o.getTicks.call(a),l=o.getTicks.call(a,!0),u=s.length-1,f=o.getInterval.call(a),d=getScaleExtent(n,r),v=d.extent,g=d.fixMin,y=d.fixMax;if(n.type==="log"){var b=mathLog2(n.base);v=[mathLog2(v[0])/b,mathLog2(v[1])/b]}n.setExtent(v[0],v[1]),n.calcNiceExtent({splitNumber:u,fixMin:g,fixMax:y});var _=o.getExtent.call(n);g&&(v[0]=_[0]),y&&(v[1]=_[1]);var x=o.getInterval.call(n),C=v[0],w=v[1];if(g&&y)x=(w-C)/u;else if(g)for(w=v[0]+x*u;w<v[1]&&isFinite(w)&&isFinite(v[1]);)x=increaseInterval(x),w=v[0]+x*u;else if(y)for(C=v[1]-x*u;C>v[0]&&isFinite(C)&&isFinite(v[0]);)x=increaseInterval(x),C=v[1]-x*u;else{var S=n.getTicks().length-1;S>u&&(x=increaseInterval(x));var D=x*u;w=Math.ceil(v[1]/x)*x,C=round(w-D),C<0&&v[0]>=0?(C=0,w=round(D)):w>0&&v[1]<=0&&(w=0,C=-round(D))}var A=(s[0].value-l[0].value)/f,T=(s[u].value-l[u].value)/f;o.setExtent.call(n,C+x*A,w+x*T),o.setInterval.call(n,x),(A||T)&&o.setNiceExtent.call(n,C+x,w-x);var M=o.getTicks.call(n);M[1]&&(!isValueNice(x)||getPrecisionSafe(M[1].value)>getPrecisionSafe(x))&&warn6("The ticks may be not readable when set min: "+r.get("min")+", max: "+r.get("max")+" and alignTicks: true")}var Grid=function(){function n(r,a,o){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(r,a,o),this.model=r}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(r,a){var o=this._axesMap;this._updateScale(r,this.model);function s(u){var f,d=keys3(u),v=d.length;if(!!v){for(var g=[],y=v-1;y>=0;y--){var b=+d[y],_=u[b],x=_.model,C=_.scale;isIntervalOrLogScale(C)&&x.get("alignTicks")&&x.get("interval")==null?g.push(_):(niceScaleExtent(C,x),isIntervalOrLogScale(C)&&(f=_))}g.length&&(f||(f=g.pop(),niceScaleExtent(f.scale,f.model)),each(g,function(w){alignScaleTicks(w.scale,w.model,f.scale)}))}}s(o.x),s(o.y);var l={};each(o.x,function(u){fixAxisOnZero(o,"y",u,l)}),each(o.y,function(u){fixAxisOnZero(o,"x",u,l)}),this.resize(this.model,a)},n.prototype.resize=function(r,a,o){var s=r.getBoxLayoutParams(),l=!o&&r.get("containLabel"),u=getLayoutRect(s,{width:a.getWidth(),height:a.getHeight()});this._rect=u;var f=this._axesList;d(),l&&(each(f,function(v){if(!v.model.get(["axisLabel","inside"])){var g=estimateLabelUnionRect(v);if(g){var y=v.isHorizontal()?"height":"width",b=v.model.get(["axisLabel","margin"]);u[y]-=g[y]+b,v.position==="top"?u.y+=g.height+b:v.position==="left"&&(u.x+=g.width+b)}}}),d()),each(this._coordsList,function(v){v.calcAffineTransform()});function d(){each(f,function(v){var g=v.isHorizontal(),y=g?[0,u.width]:[0,u.height],b=v.inverse?1:0;v.setExtent(y[b],y[1-b]),updateAxisTransform(v,g?u.x:u.y)})}},n.prototype.getAxis=function(r,a){var o=this._axesMap[r];if(o!=null)return o[a||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(r,a){if(r!=null&&a!=null){var o="x"+r+"y"+a;return this._coordsMap[o]}isObject3(r)&&(a=r.yAxisIndex,r=r.xAxisIndex);for(var s=0,l=this._coordsList;s<l.length;s++)if(l[s].getAxis("x").index===r||l[s].getAxis("y").index===a)return l[s]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(r,a,o){var s=this._findConvertTarget(a);return s.cartesian?s.cartesian.dataToPoint(o):s.axis?s.axis.toGlobalCoord(s.axis.dataToCoord(o)):null},n.prototype.convertFromPixel=function(r,a,o){var s=this._findConvertTarget(a);return s.cartesian?s.cartesian.pointToData(o):s.axis?s.axis.coordToData(s.axis.toLocalCoord(o)):null},n.prototype._findConvertTarget=function(r){var a=r.seriesModel,o=r.xAxisModel||a&&a.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],s=r.yAxisModel||a&&a.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],l=r.gridModel,u=this._coordsList,f,d;if(a)f=a.coordinateSystem,indexOf(u,f)<0&&(f=null);else if(o&&s)f=this.getCartesian(o.componentIndex,s.componentIndex);else if(o)d=this.getAxis("x",o.componentIndex);else if(s)d=this.getAxis("y",s.componentIndex);else if(l){var v=l.coordinateSystem;v===this&&(f=this._coordsList[0])}return{cartesian:f,axis:d}},n.prototype.containPoint=function(r){var a=this._coordsList[0];if(a)return a.containPoint(r)},n.prototype._initCartesian=function(r,a,o){var s=this,l=this,u={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},d={x:0,y:0};if(a.eachComponent("xAxis",v("x"),this),a.eachComponent("yAxis",v("y"),this),!d.x||!d.y){this._axesMap={},this._axesList=[];return}this._axesMap=f,each(f.x,function(g,y){each(f.y,function(b,_){var x="x"+y+"y"+_,C=new Cartesian2D_default(x);C.master=s,C.model=r,s._coordsMap[x]=C,s._coordsList.push(C),C.addAxis(g),C.addAxis(b)})});function v(g){return function(y,b){if(!!isAxisUsedInTheGrid(y,r)){var _=y.get("position");g==="x"?_!=="top"&&_!=="bottom"&&(_=u.bottom?"top":"bottom"):_!=="left"&&_!=="right"&&(_=u.left?"right":"left"),u[_]=!0;var x=new Axis2D_default(g,createScaleByModel(y),[0,0],y.get("type"),_),C=x.type==="category";x.onBand=C&&y.get("boundaryGap"),x.inverse=y.get("inverse"),y.axis=x,x.model=y,x.grid=l,x.index=b,l._axesList.push(x),f[g][b]=x,d[g]++}}}},n.prototype._updateScale=function(r,a){each(this._axesList,function(s){if(s.scale.setExtent(1/0,-1/0),s.type==="category"){var l=s.model.get("categorySortInfo");s.scale.setSortInfo(l)}}),r.eachSeries(function(s){if(isCartesian2DSeries(s)){var l=findAxisModels(s),u=l.xAxisModel,f=l.yAxisModel;if(!isAxisUsedInTheGrid(u,a)||!isAxisUsedInTheGrid(f,a))return;var d=this.getCartesian(u.componentIndex,f.componentIndex),v=s.getData(),g=d.getAxis("x"),y=d.getAxis("y");o(v,g),o(v,y)}},this);function o(s,l){each(getDataDimensionsOnAxis(s,l.dim),function(u){l.scale.unionExtentFromData(s,u)})}},n.prototype.getTooltipAxes=function(r){var a=[],o=[];return each(this.getCartesians(),function(s){var l=r!=null&&r!=="auto"?s.getAxis(r):s.getBaseAxis(),u=s.getOtherAxis(l);indexOf(a,l)<0&&a.push(l),indexOf(o,u)<0&&o.push(u)}),{baseAxes:a,otherAxes:o}},n.create=function(r,a){var o=[];return r.eachComponent("grid",function(s,l){var u=new n(s,r,a);u.name="grid_"+l,u.resize(s,a,!0),s.coordinateSystem=u,o.push(u)}),r.eachSeries(function(s){if(!!isCartesian2DSeries(s)){var l=findAxisModels(s),u=l.xAxisModel,f=l.yAxisModel,d=u.getCoordSysModel();if(!d)throw new Error('Grid "'+retrieve3(u.get("gridIndex"),u.get("gridId"),0)+'" not found');if(u.getCoordSysModel()!==f.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid");var v=d.coordinateSystem;s.coordinateSystem=v.getCartesian(u.componentIndex,f.componentIndex)}}),o},n.dimensions=cartesian2DDimensions,n}();function isAxisUsedInTheGrid(n,r){return n.getCoordSysModel()===r}function fixAxisOnZero(n,r,a,o){a.getAxesOnZeroOf=function(){return l?[l]:[]};var s=n[r],l,u=a.model,f=u.get(["axisLine","onZero"]),d=u.get(["axisLine","onZeroAxisIndex"]);if(!f)return;if(d!=null)canOnZeroToAxis(s[d])&&(l=s[d]);else for(var v in s)if(s.hasOwnProperty(v)&&canOnZeroToAxis(s[v])&&!o[g(s[v])]){l=s[v];break}l&&(o[g(l)]=!0);function g(y){return y.dim+"_"+y.index}}function canOnZeroToAxis(n){return n&&n.type!=="category"&&n.type!=="time"&&ifAxisCrossZero(n)}function updateAxisTransform(n,r){var a=n.getExtent(),o=a[0]+a[1];n.toGlobalCoord=n.dim==="x"?function(s){return s+r}:function(s){return o-s+r},n.toLocalCoord=n.dim==="x"?function(s){return s-r}:function(s){return o-s+r}}var Grid_default=Grid,PI6=Math.PI,AxisBuilder=function(){function n(r,a){this.group=new Group_default,this.opt=a,this.axisModel=r,defaults(a,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Group_default({x:a.position[0],y:a.position[1],rotation:a.rotation});o.updateTransform(),this._transformGroup=o}return n.prototype.hasBuilder=function(r){return!!builders[r]},n.prototype.add=function(r){builders[r](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(r,a,o){var s=remRadian(a-r),l,u;return isRadianAroundZero(s)?(u=o>0?"top":"bottom",l="center"):isRadianAroundZero(s-PI6)?(u=o>0?"bottom":"top",l="center"):(u="middle",s>0&&s<PI6?l=o>0?"right":"left":l=o>0?"left":"right"),{rotation:s,textAlign:l,textVerticalAlign:u}},n.makeAxisEventDataBase=function(r){var a={componentType:r.mainType,componentIndex:r.componentIndex};return a[r.mainType+"Index"]=r.componentIndex,a},n.isLabelSilent=function(r){var a=r.get("tooltip");return r.get("silent")||!(r.get("triggerEvent")||a&&a.show)},n}(),builders={axisLine:function(n,r,a,o){var s=r.get(["axisLine","show"]);if(s==="auto"&&n.handleAutoShown&&(s=n.handleAutoShown("axisLine")),!!s){var l=r.axis.getExtent(),u=o.transform,f=[l[0],0],d=[l[1],0];u&&(applyTransform(f,f,u),applyTransform(d,d,u));var v=extend3({lineCap:"round"},r.getModel(["axisLine","lineStyle"]).getLineStyle()),g=new Line_default({subPixelOptimize:!0,shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:v,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});g.anid="line",a.add(g);var y=r.get(["axisLine","symbol"]);if(y!=null){var b=r.get(["axisLine","symbolSize"]);isString2(y)&&(y=[y,y]),(isString2(b)||isNumber(b))&&(b=[b,b]);var _=normalizeSymbolOffset(r.get(["axisLine","symbolOffset"])||0,b),x=b[0],C=b[1];each([{rotate:n.rotation+Math.PI/2,offset:_[0],r:0},{rotate:n.rotation-Math.PI/2,offset:_[1],r:Math.sqrt((f[0]-d[0])*(f[0]-d[0])+(f[1]-d[1])*(f[1]-d[1]))}],function(w,S){if(y[S]!=="none"&&y[S]!=null){var D=createSymbol(y[S],-x/2,-C/2,x,C,v.stroke,!0),A=w.r+w.offset;D.attr({rotation:w.rotate,x:f[0]+A*Math.cos(n.rotation),y:f[1]-A*Math.sin(n.rotation),silent:!0,z2:11}),a.add(D)}})}}},axisTickLabel:function(n,r,a,o){var s=buildAxisMajorTicks(a,o,r,n),l=buildAxisLabel(a,o,r,n);if(fixMinMaxLabelShow(r,l,s),buildAxisMinorTicks(a,o,r,n.tickDirection),r.get(["axisLabel","hideOverlap"])){var u=prepareLayoutList(map3(l,function(f){return{label:f,priority:f.z2,defaultAttr:{ignore:f.ignore}}}));hideOverlap(u)}},axisName:function(n,r,a,o){var s=retrieve(n.axisName,r.get("name"));if(!!s){var l=r.get("nameLocation"),u=n.nameDirection,f=r.getModel("nameTextStyle"),d=r.get("nameGap")||0,v=r.axis.getExtent(),g=v[0]>v[1]?-1:1,y=[l==="start"?v[0]-g*d:l==="end"?v[1]+g*d:(v[0]+v[1])/2,isNameLocationCenter(l)?n.labelOffset+u*d:0],b,_=r.get("nameRotate");_!=null&&(_=_*PI6/180);var x;isNameLocationCenter(l)?b=AxisBuilder.innerTextLayout(n.rotation,_!=null?_:n.rotation,u):(b=endTextLayout(n.rotation,l,_||0,v),x=n.axisNameAvailableWidth,x!=null&&(x=Math.abs(x/Math.sin(b.rotation)),!isFinite(x)&&(x=null)));var C=f.getFont(),w=r.get("nameTruncate",!0)||{},S=w.ellipsis,D=retrieve(n.nameTruncateMaxWidth,w.maxWidth,x),A=new Text_default({x:y[0],y:y[1],rotation:b.rotation,silent:AxisBuilder.isLabelSilent(r),style:createTextStyle(f,{text:s,font:C,overflow:"truncate",width:D,ellipsis:S,fill:f.getTextColor()||r.get(["axisLine","lineStyle","color"]),align:f.get("align")||b.textAlign,verticalAlign:f.get("verticalAlign")||b.textVerticalAlign}),z2:1});if(setTooltipConfig({el:A,componentModel:r,itemName:s}),A.__fullText=s,A.anid="name",r.get("triggerEvent")){var T=AxisBuilder.makeAxisEventDataBase(r);T.targetType="axisName",T.name=s,getECData(A).eventData=T}o.add(A),A.updateTransform(),a.add(A),A.decomposeTransform()}}};function endTextLayout(n,r,a,o){var s=remRadian(a-n),l,u,f=o[0]>o[1],d=r==="start"&&!f||r!=="start"&&f;return isRadianAroundZero(s-PI6/2)?(u=d?"bottom":"top",l="center"):isRadianAroundZero(s-PI6*1.5)?(u=d?"top":"bottom",l="center"):(u="middle",s<PI6*1.5&&s>PI6/2?l=d?"left":"right":l=d?"right":"left"),{rotation:s,textAlign:l,textVerticalAlign:u}}function fixMinMaxLabelShow(n,r,a){if(!shouldShowAllLabels(n.axis)){var o=n.get(["axisLabel","showMinLabel"]),s=n.get(["axisLabel","showMaxLabel"]);r=r||[],a=a||[];var l=r[0],u=r[1],f=r[r.length-1],d=r[r.length-2],v=a[0],g=a[1],y=a[a.length-1],b=a[a.length-2];o===!1?(ignoreEl(l),ignoreEl(v)):isTwoLabelOverlapped(l,u)&&(o?(ignoreEl(u),ignoreEl(g)):(ignoreEl(l),ignoreEl(v))),s===!1?(ignoreEl(f),ignoreEl(y)):isTwoLabelOverlapped(d,f)&&(s?(ignoreEl(d),ignoreEl(b)):(ignoreEl(f),ignoreEl(y)))}}function ignoreEl(n){n&&(n.ignore=!0)}function isTwoLabelOverlapped(n,r){var a=n&&n.getBoundingRect().clone(),o=r&&r.getBoundingRect().clone();if(!(!a||!o)){var s=identity2([]);return rotate(s,s,-n.rotation),a.applyTransform(mul([],s,n.getLocalTransform())),o.applyTransform(mul([],s,r.getLocalTransform())),a.intersect(o)}}function isNameLocationCenter(n){return n==="middle"||n==="center"}function createTicks(n,r,a,o,s){for(var l=[],u=[],f=[],d=0;d<n.length;d++){var v=n[d].coord;u[0]=v,u[1]=0,f[0]=v,f[1]=a,r&&(applyTransform(u,u,r),applyTransform(f,f,r));var g=new Line_default({subPixelOptimize:!0,shape:{x1:u[0],y1:u[1],x2:f[0],y2:f[1]},style:o,z2:2,autoBatch:!0,silent:!0});g.anid=s+"_"+n[d].tickValue,l.push(g)}return l}function buildAxisMajorTicks(n,r,a,o){var s=a.axis,l=a.getModel("axisTick"),u=l.get("show");if(u==="auto"&&o.handleAutoShown&&(u=o.handleAutoShown("axisTick")),!(!u||s.scale.isBlank())){for(var f=l.getModel("lineStyle"),d=o.tickDirection*l.get("length"),v=s.getTicksCoords(),g=createTicks(v,r.transform,d,defaults(f.getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])}),"ticks"),y=0;y<g.length;y++)n.add(g[y]);return g}}function buildAxisMinorTicks(n,r,a,o){var s=a.axis,l=a.getModel("minorTick");if(!(!l.get("show")||s.scale.isBlank())){var u=s.getMinorTicksCoords();if(!!u.length)for(var f=l.getModel("lineStyle"),d=o*l.get("length"),v=defaults(f.getLineStyle(),defaults(a.getModel("axisTick").getLineStyle(),{stroke:a.get(["axisLine","lineStyle","color"])})),g=0;g<u.length;g++)for(var y=createTicks(u[g],r.transform,d,v,"minorticks_"+g),b=0;b<y.length;b++)n.add(y[b])}}function buildAxisLabel(n,r,a,o){var s=a.axis,l=retrieve(o.axisLabelShow,a.get(["axisLabel","show"]));if(!(!l||s.scale.isBlank())){var u=a.getModel("axisLabel"),f=u.get("margin"),d=s.getViewLabels(),v=(retrieve(o.labelRotate,u.get("rotate"))||0)*PI6/180,g=AxisBuilder.innerTextLayout(o.rotation,v,o.labelDirection),y=a.getCategories&&a.getCategories(!0),b=[],_=AxisBuilder.isLabelSilent(a),x=a.get("triggerEvent");return each(d,function(C,w){var S=s.scale.type==="ordinal"?s.scale.getRawOrdinalNumber(C.tickValue):C.tickValue,D=C.formattedLabel,A=C.rawLabel,T=u;if(y&&y[S]){var M=y[S];isObject3(M)&&M.textStyle&&(T=new Model_default(M.textStyle,u,a.ecModel))}var E=T.getTextColor()||a.get(["axisLine","lineStyle","color"]),P=s.dataToCoord(S),I=new Text_default({x:P,y:o.labelOffset+o.labelDirection*f,rotation:g.rotation,silent:_,z2:10+(C.level||0),style:createTextStyle(T,{text:D,align:T.getShallow("align",!0)||g.textAlign,verticalAlign:T.getShallow("verticalAlign",!0)||T.getShallow("baseline",!0)||g.textVerticalAlign,fill:isFunction3(E)?E(s.type==="category"?A:s.type==="value"?S+"":S,w):E})});if(I.anid="label_"+S,x){var F=AxisBuilder.makeAxisEventDataBase(a);F.targetType="axisLabel",F.value=A,F.tickIndex=w,s.type==="category"&&(F.dataIndex=S),getECData(I).eventData=F}r.add(I),I.updateTransform(),b.push(I),n.add(I),I.decomposeTransform()}),b}}var AxisBuilder_default=AxisBuilder;function collect(n,r){var a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(a,n,r),a.seriesInvolved&&collectSeriesInfo(a,n),a}function collectAxesInfo(n,r,a){var o=r.getComponent("tooltip"),s=r.getComponent("axisPointer"),l=s.get("link",!0)||[],u=[];each(a.getCoordinateSystems(),function(f){if(!f.axisPointerEnabled)return;var d=makeKey(f.model),v=n.coordSysAxesInfo[d]={};n.coordSysMap[d]=f;var g=f.model,y=g.getModel("tooltip",o);if(each(f.getAxes(),curry(C,!1,null)),f.getTooltipAxes&&o&&y.get("show")){var b=y.get("trigger")==="axis",_=y.get(["axisPointer","type"])==="cross",x=f.getTooltipAxes(y.get(["axisPointer","axis"]));(b||_)&&each(x.baseAxes,curry(C,_?"cross":!0,b)),_&&each(x.otherAxes,curry(C,"cross",!1))}function C(w,S,D){var A=D.model.getModel("axisPointer",s),T=A.get("show");if(!(!T||T==="auto"&&!w&&!isHandleTrigger(A))){S==null&&(S=A.get("triggerTooltip")),A=w?makeAxisPointerModel(D,y,s,r,w,S):A;var M=A.get("snap"),E=makeKey(D.model),P=S||M||D.type==="category",I=n.axesInfo[E]={key:E,axis:D,coordSys:f,axisPointerModel:A,triggerTooltip:S,involveSeries:P,snap:M,useHandle:isHandleTrigger(A),seriesModels:[],linkGroup:null};v[E]=I,n.seriesInvolved=n.seriesInvolved||P;var F=getLinkGroupIndex(l,D);if(F!=null){var L=u[F]||(u[F]={axesInfo:{}});L.axesInfo[E]=I,L.mapper=l[F].mapper,I.linkGroup=L}}}})}function makeAxisPointerModel(n,r,a,o,s,l){var u=r.getModel("axisPointer"),f=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],d={};each(f,function(b){d[b]=clone(u.get(b))}),d.snap=n.type!=="category"&&!!l,u.get("type")==="cross"&&(d.type="line");var v=d.label||(d.label={});if(v.show==null&&(v.show=!1),s==="cross"){var g=u.get(["label","show"]);if(v.show=g!=null?g:!0,!l){var y=d.lineStyle=u.get("crossStyle");y&&defaults(v,y.textStyle)}}return n.model.getModel("axisPointer",new Model_default(d,a,o))}function collectSeriesInfo(n,r){r.eachSeries(function(a){var o=a.coordinateSystem,s=a.get(["tooltip","trigger"],!0),l=a.get(["tooltip","show"],!0);!o||s==="none"||s===!1||s==="item"||l===!1||a.get(["axisPointer","show"],!0)===!1||each(n.coordSysAxesInfo[makeKey(o.model)],function(u){var f=u.axis;o.getAxis(f.dim)===f&&(u.seriesModels.push(a),u.seriesDataCount==null&&(u.seriesDataCount=0),u.seriesDataCount+=a.getData().count())})})}function getLinkGroupIndex(n,r){for(var a=r.model,o=r.dim,s=0;s<n.length;s++){var l=n[s]||{};if(checkPropInLink(l[o+"AxisId"],a.id)||checkPropInLink(l[o+"AxisIndex"],a.componentIndex)||checkPropInLink(l[o+"AxisName"],a.name))return s}}function checkPropInLink(n,r){return n==="all"||isArray3(n)&&indexOf(n,r)>=0||n===r}function fixValue(n){var r=getAxisInfo(n);if(!!r){var a=r.axisPointerModel,o=r.axis.scale,s=a.option,l=a.get("status"),u=a.get("value");u!=null&&(u=o.parse(u));var f=isHandleTrigger(a);l==null&&(s.status=f?"show":"hide");var d=o.getExtent().slice();d[0]>d[1]&&d.reverse(),(u==null||u>d[1])&&(u=d[1]),u<d[0]&&(u=d[0]),s.value=u,f&&(s.status=r.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(n){var r=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return r&&r.axesInfo[makeKey(n)]}function getAxisPointerModel(n){var r=getAxisInfo(n);return r&&r.axisPointerModel}function isHandleTrigger(n){return!!n.get(["handle","show"])}function makeKey(n){return n.type+"||"+n.id}var axisPointerClazz={},AxisView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s,l){this.axisPointerClass&&fixValue(a),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(a,s,!0)},r.prototype.updateAxisPointer=function(a,o,s,l){this._doUpdateAxisPointerClass(a,s,!1)},r.prototype.remove=function(a,o){var s=this._axisPointer;s&&s.remove(o)},r.prototype.dispose=function(a,o){this._disposeAxisPointer(o),n.prototype.dispose.apply(this,arguments)},r.prototype._doUpdateAxisPointerClass=function(a,o,s){var l=r.getAxisPointerClass(this.axisPointerClass);if(!!l){var u=getAxisPointerModel(a);u?(this._axisPointer||(this._axisPointer=new l)).render(a,u,o,s):this._disposeAxisPointer(o)}},r.prototype._disposeAxisPointer=function(a){this._axisPointer&&this._axisPointer.dispose(a),this._axisPointer=null},r.registerAxisPointerClass=function(a,o){if(axisPointerClazz[a])throw new Error("axisPointer "+a+" exists");axisPointerClazz[a]=o},r.getAxisPointerClass=function(a){return a&&axisPointerClazz[a]},r.type="axis",r}(Component_default2),AxisView_default=AxisView,inner7=makeInner();function rectCoordAxisBuildSplitArea(n,r,a,o){var s=a.axis;if(!s.scale.isBlank()){var l=a.getModel("splitArea"),u=l.getModel("areaStyle"),f=u.get("color"),d=o.coordinateSystem.getRect(),v=s.getTicksCoords({tickModel:l,clamp:!0});if(!!v.length){var g=f.length,y=inner7(n).splitAreaColors,b=createHashMap(),_=0;if(y)for(var x=0;x<v.length;x++){var C=y.get(v[x].tickValue);if(C!=null){_=(C+(g-1)*x)%g;break}}var w=s.toGlobalCoord(v[0].coord),S=u.getAreaStyle();f=isArray3(f)?f:[f];for(var x=1;x<v.length;x++){var D=s.toGlobalCoord(v[x].coord),A=void 0,T=void 0,M=void 0,E=void 0;s.isHorizontal()?(A=w,T=d.y,M=D-A,E=d.height,w=A+M):(A=d.x,T=w,M=d.width,E=D-T,w=T+E);var P=v[x-1].tickValue;P!=null&&b.set(P,_),r.add(new Rect_default({anid:P!=null?"area_"+P:null,shape:{x:A,y:T,width:M,height:E},style:defaults({fill:f[_]},S),autoBatch:!0,silent:!0})),_=(_+1)%g}inner7(n).splitAreaColors=b}}}function rectCoordAxisHandleRemove(n){inner7(n).splitAreaColors=null}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.axisPointerClass="CartesianAxisPointer",a}return r.prototype.render=function(a,o,s,l){this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new Group_default,this.group.add(this._axisGroup),!!a.get("show")){var f=a.getCoordSysModel(),d=layout2(f,a),v=new AxisBuilder_default(a,extend3({handleAutoShown:function(y){for(var b=f.coordinateSystem.getCartesians(),_=0;_<b.length;_++)if(isIntervalOrLogScale(b[_].getOtherAxis(a.axis).scale))return!0;return!1}},d));each(axisBuilderAttrs,v.add,v),this._axisGroup.add(v.getGroup()),each(selfBuilderAttrs,function(y){a.get([y,"show"])&&axisElementBuilders[y](this,this._axisGroup,a,f)},this);var g=l&&l.type==="changeAxisOrder"&&l.isInitSort;g||groupTransition(u,this._axisGroup,a),n.prototype.render.call(this,a,o,s,l)}},r.prototype.remove=function(){rectCoordAxisHandleRemove(this)},r.type="cartesianAxis",r}(AxisView_default),axisElementBuilders={splitLine:function(n,r,a,o){var s=a.axis;if(!s.scale.isBlank()){var l=a.getModel("splitLine"),u=l.getModel("lineStyle"),f=u.get("color");f=isArray3(f)?f:[f];for(var d=o.coordinateSystem.getRect(),v=s.isHorizontal(),g=0,y=s.getTicksCoords({tickModel:l}),b=[],_=[],x=u.getLineStyle(),C=0;C<y.length;C++){var w=s.toGlobalCoord(y[C].coord);v?(b[0]=w,b[1]=d.y,_[0]=w,_[1]=d.y+d.height):(b[0]=d.x,b[1]=w,_[0]=d.x+d.width,_[1]=w);var S=g++%f.length,D=y[C].tickValue;r.add(new Line_default({anid:D!=null?"line_"+y[C].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:b[0],y1:b[1],x2:_[0],y2:_[1]},style:defaults({stroke:f[S]},x),silent:!0}))}}},minorSplitLine:function(n,r,a,o){var s=a.axis,l=a.getModel("minorSplitLine"),u=l.getModel("lineStyle"),f=o.coordinateSystem.getRect(),d=s.isHorizontal(),v=s.getMinorTicksCoords();if(!!v.length)for(var g=[],y=[],b=u.getLineStyle(),_=0;_<v.length;_++)for(var x=0;x<v[_].length;x++){var C=s.toGlobalCoord(v[_][x].coord);d?(g[0]=C,g[1]=f.y,y[0]=C,y[1]=f.y+f.height):(g[0]=f.x,g[1]=C,y[0]=f.x+f.width,y[1]=C),r.add(new Line_default({anid:"minor_line_"+v[_][x].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},style:b,silent:!0}))}},splitArea:function(n,r,a,o){rectCoordAxisBuildSplitArea(n,r,a,o)}},CartesianXAxisView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="xAxis",r}(CartesianAxisView),CartesianYAxisView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=CartesianXAxisView.type,a}return r.type="yAxis",r}(CartesianAxisView),GridView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="grid",a}return r.prototype.render=function(a,o){this.group.removeAll(),a.get("show")&&this.group.add(new Rect_default({shape:a.coordinateSystem.getRect(),style:defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))},r.type="grid",r}(Component_default2),extraOption={offset:0};function install(n){n.registerComponentView(GridView),n.registerComponentModel(GridModel_default),n.registerCoordinateSystem("cartesian2d",Grid_default),axisModelCreator(n,"x",CartesianAxisModel,extraOption),axisModelCreator(n,"y",CartesianAxisModel,extraOption),n.registerComponentView(CartesianXAxisView),n.registerComponentView(CartesianYAxisView),n.registerPreprocessor(function(r){r.xAxis&&r.yAxis&&!r.grid&&(r.grid={})})}var inner8=makeInner(),clone4=clone,bind2=bind,BaseAxisPointer=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(r,a,o,s){var l=a.get("value"),u=a.get("status");if(this._axisModel=r,this._axisPointerModel=a,this._api=o,!(!s&&this._lastValue===l&&this._lastStatus===u)){this._lastValue=l,this._lastStatus=u;var f=this._group,d=this._handle;if(!u||u==="hide"){f&&f.hide(),d&&d.hide();return}f&&f.show(),d&&d.show();var v={};this.makeElOption(v,l,r,a,o);var g=v.graphicKey;g!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=g;var y=this._moveAnimation=this.determineAnimation(r,a);if(!f)f=this._group=new Group_default,this.createPointerEl(f,v,r,a),this.createLabelEl(f,v,r,a),o.getZr().add(f);else{var b=curry(updateProps3,a,y);this.updatePointerEl(f,v,b),this.updateLabelEl(f,v,b,a)}updateMandatoryProps(f,a,!0),this._renderHandle(l)}},n.prototype.remove=function(r){this.clear(r)},n.prototype.dispose=function(r){this.clear(r)},n.prototype.determineAnimation=function(r,a){var o=a.get("animation"),s=r.axis,l=s.type==="category",u=a.get("snap");if(!u&&!l)return!1;if(o==="auto"||o==null){var f=this.animationThreshold;if(l&&s.getBandWidth()>f)return!0;if(u){var d=getAxisInfo(r).seriesDataCount,v=s.getExtent();return Math.abs(v[0]-v[1])/d>f}return!1}return o===!0},n.prototype.makeElOption=function(r,a,o,s,l){},n.prototype.createPointerEl=function(r,a,o,s){var l=a.pointer;if(l){var u=inner8(r).pointerEl=new graphic_exports[l.type](clone4(a.pointer));r.add(u)}},n.prototype.createLabelEl=function(r,a,o,s){if(a.label){var l=inner8(r).labelEl=new Text_default(clone4(a.label));r.add(l),updateLabelShowHide(l,s)}},n.prototype.updatePointerEl=function(r,a,o){var s=inner8(r).pointerEl;s&&a.pointer&&(s.setStyle(a.pointer.style),o(s,{shape:a.pointer.shape}))},n.prototype.updateLabelEl=function(r,a,o,s){var l=inner8(r).labelEl;l&&(l.setStyle(a.label.style),o(l,{x:a.label.x,y:a.label.y}),updateLabelShowHide(l,s))},n.prototype._renderHandle=function(r){if(!(this._dragging||!this.updateHandleTransform)){var a=this._axisPointerModel,o=this._api.getZr(),s=this._handle,l=a.getModel("handle"),u=a.get("status");if(!l.get("show")||!u||u==="hide"){s&&o.remove(s),this._handle=null;return}var f;this._handle||(f=!0,s=this._handle=createIcon(l.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(v){stop2(v.event)},onmousedown:bind2(this._onHandleDragMove,this,0,0),drift:bind2(this._onHandleDragMove,this),ondragend:bind2(this._onHandleDragEnd,this)}),o.add(s)),updateMandatoryProps(s,a,!1),s.setStyle(l.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=l.get("size");isArray3(d)||(d=[d,d]),s.scaleX=d[0]/2,s.scaleY=d[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",l.get("throttle")||0,"fixRate"),this._moveHandleToValue(r,f)}},n.prototype._moveHandleToValue=function(r,a){updateProps3(this._axisPointerModel,!a&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(r,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(r,a){var o=this._handle;if(!!o){this._dragging=!0;var s=this.updateHandleTransform(getHandleTransProps(o),[r,a],this._axisModel,this._axisPointerModel);this._payloadInfo=s,o.stopAnimation(),o.attr(getHandleTransProps(s)),inner8(o).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var r=this._handle;if(!!r){var a=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var r=this._handle;if(!!r){var a=this._axisPointerModel.get("value");this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(r){this._lastValue=null,this._lastStatus=null;var a=r.getZr(),o=this._group,s=this._handle;a&&o&&(this._lastGraphicKey=null,o&&a.remove(o),s&&a.remove(s),this._group=null,this._handle=null,this._payloadInfo=null),clear2(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(r,a,o){return o=o||0,{x:r[o],y:r[1-o],width:a[o],height:a[1-o]}},n}();function updateProps3(n,r,a,o){propsEqual(inner8(a).lastProp,o)||(inner8(a).lastProp=o,r?updateProps2(a,o,n):(a.stopAnimation(),a.attr(o)))}function propsEqual(n,r){if(isObject3(n)&&isObject3(r)){var a=!0;return each(r,function(o,s){a=a&&propsEqual(n[s],o)}),!!a}else return n===r}function updateLabelShowHide(n,r){n[r.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function updateMandatoryProps(n,r,a){var o=r.get("z"),s=r.get("zlevel");n&&n.traverse(function(l){l.type!=="group"&&(o!=null&&(l.z=o),s!=null&&(l.zlevel=s),l.silent=a)})}var BaseAxisPointer_default=BaseAxisPointer;function buildElStyle(n){var r=n.get("type"),a=n.getModel(r+"Style"),o;return r==="line"?(o=a.getLineStyle(),o.fill=null):r==="shadow"&&(o=a.getAreaStyle(),o.stroke=null),o}function buildLabelElOption(n,r,a,o,s){var l=a.get("value"),u=getValueLabel(l,r.axis,r.ecModel,a.get("seriesDataIndices"),{precision:a.get(["label","precision"]),formatter:a.get(["label","formatter"])}),f=a.getModel("label"),d=normalizeCssArray2(f.get("padding")||0),v=f.getFont(),g=getBoundingRect(u,v),y=s.position,b=g.width+d[1]+d[3],_=g.height+d[0]+d[2],x=s.align;x==="right"&&(y[0]-=b),x==="center"&&(y[0]-=b/2);var C=s.verticalAlign;C==="bottom"&&(y[1]-=_),C==="middle"&&(y[1]-=_/2),confineInContainer(y,b,_,o);var w=f.get("backgroundColor");(!w||w==="auto")&&(w=r.get(["axisLine","lineStyle","color"])),n.label={x:y[0],y:y[1],style:createTextStyle(f,{text:u,font:v,fill:f.getTextColor(),padding:d,backgroundColor:w}),z2:10}}function confineInContainer(n,r,a,o){var s=o.getWidth(),l=o.getHeight();n[0]=Math.min(n[0]+r,s)-r,n[1]=Math.min(n[1]+a,l)-a,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function getValueLabel(n,r,a,o,s){n=r.scale.parse(n);var l=r.scale.getLabel({value:n},{precision:s.precision}),u=s.formatter;if(u){var f={value:getAxisRawValue(r,{value:n}),axisDimension:r.dim,axisIndex:r.index,seriesData:[]};each(o,function(d){var v=a.getSeriesByIndex(d.seriesIndex),g=d.dataIndexInside,y=v&&v.getDataParams(g);y&&f.seriesData.push(y)}),isString2(u)?l=u.replace("{value}",l):isFunction3(u)&&(l=u(f))}return l}function getTransformedPosition(n,r,a){var o=create2();return rotate(o,o,a.rotation),translate(o,o,a.position),applyTransform2([n.dataToCoord(r),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],o)}function buildCartesianSingleLabelElOption(n,r,a,o,s,l){var u=AxisBuilder_default.innerTextLayout(a.rotation,0,a.labelDirection);a.labelMargin=s.get(["label","margin"]),buildLabelElOption(r,o,s,l,{position:getTransformedPosition(o.axis,n,a),align:u.textAlign,verticalAlign:u.textVerticalAlign})}function makeLineShape(n,r,a){return a=a||0,{x1:n[a],y1:n[1-a],x2:r[a],y2:r[1-a]}}function makeRectShape(n,r,a){return a=a||0,{x:n[a],y:n[1-a],width:r[a],height:r[1-a]}}function makeSectorShape(n,r,a,o,s,l){return{cx:n,cy:r,r0:a,r:o,startAngle:s,endAngle:l,clockwise:!0}}var CartesianAxisPointer=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.makeElOption=function(a,o,s,l,u){var f=s.axis,d=f.grid,v=l.get("type"),g=getCartesian(d,f).getOtherAxis(f).getGlobalExtent(),y=f.toGlobalCoord(f.dataToCoord(o,!0));if(v&&v!=="none"){var b=buildElStyle(l),_=pointerShapeBuilder[v](f,y,g);_.style=b,a.graphicKey=_.type,a.pointer=_}var x=layout2(d.model,s);buildCartesianSingleLabelElOption(o,a,x,s,l,u)},r.prototype.getHandleTransform=function(a,o,s){var l=layout2(o.axis.grid.model,o,{labelInside:!1});l.labelMargin=s.get(["handle","margin"]);var u=getTransformedPosition(o.axis,a,l);return{x:u[0],y:u[1],rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(a,o,s,l){var u=s.axis,f=u.grid,d=u.getGlobalExtent(!0),v=getCartesian(f,u).getOtherAxis(u).getGlobalExtent(),g=u.dim==="x"?0:1,y=[a.x,a.y];y[g]+=o[g],y[g]=Math.min(d[1],y[g]),y[g]=Math.max(d[0],y[g]);var b=(v[1]+v[0])/2,_=[b,b];_[g]=y[g];var x=[{verticalAlign:"middle"},{align:"center"}];return{x:y[0],y:y[1],rotation:a.rotation,cursorPoint:_,tooltipOption:x[g]}},r}(BaseAxisPointer_default);function getCartesian(n,r){var a={};return a[r.dim+"AxisIndex"]=r.index,n.getCartesian(a)}var pointerShapeBuilder={line:function(n,r,a){var o=makeLineShape([r,a[0]],[r,a[1]],getAxisDimIndex(n));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(n,r,a){var o=Math.max(1,n.getBandWidth()),s=a[1]-a[0];return{type:"Rect",shape:makeRectShape([r-o/2,a[0]],[o,s],getAxisDimIndex(n))}}};function getAxisDimIndex(n){return n.dim==="x"?0:1}var CartesianAxisPointer_default=CartesianAxisPointer,AxisPointerModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="axisPointer",r.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},r}(Component_default),AxisPointerModel_default=AxisPointerModel,inner9=makeInner(),each4=each;function register2(n,r,a){if(!env_default.node){var o=r.getZr();inner9(o).records||(inner9(o).records={}),initGlobalListeners(o,r);var s=inner9(o).records[n]||(inner9(o).records[n]={});s.handler=a}}function initGlobalListeners(n,r){if(inner9(n).initialized)return;inner9(n).initialized=!0,a("click",curry(doEnter,"click")),a("mousemove",curry(doEnter,"mousemove")),a("globalout",onLeave);function a(o,s){n.on(o,function(l){var u=makeDispatchAction(r);each4(inner9(n).records,function(f){f&&s(f,l,u.dispatchAction)}),dispatchTooltipFinally(u.pendings,r)})}}function dispatchTooltipFinally(n,r){var a=n.showTip.length,o=n.hideTip.length,s;a?s=n.showTip[a-1]:o&&(s=n.hideTip[o-1]),s&&(s.dispatchAction=null,r.dispatchAction(s))}function onLeave(n,r,a){n.handler("leave",null,a)}function doEnter(n,r,a,o){r.handler(n,a,o)}function makeDispatchAction(n){var r={showTip:[],hideTip:[]},a=function(o){var s=r[o.type];s?s.push(o):(o.dispatchAction=a,n.dispatchAction(o))};return{dispatchAction:a,pendings:r}}function unregister(n,r){if(!env_default.node){var a=r.getZr(),o=(inner9(a).records||{})[n];o&&(inner9(a).records[n]=null)}}var AxisPointerView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){var l=o.getComponent("tooltip"),u=a.get("triggerOn")||l&&l.get("triggerOn")||"mousemove|click";register2("axisPointer",s,function(f,d,v){u!=="none"&&(f==="leave"||u.indexOf(f)>=0)&&v({type:"updateAxisPointer",currTrigger:f,x:d&&d.offsetX,y:d&&d.offsetY})})},r.prototype.remove=function(a,o){unregister("axisPointer",o)},r.prototype.dispose=function(a,o){unregister("axisPointer",o)},r.type="axisPointer",r}(Component_default2),AxisPointerView_default=AxisPointerView;function findPointFromSeries(n,r){var a=[],o=n.seriesIndex,s;if(o==null||!(s=r.getSeriesByIndex(o)))return{point:[]};var l=s.getData(),u=queryDataIndex(l,n);if(u==null||u<0||isArray3(u))return{point:[]};var f=l.getItemGraphicEl(u),d=s.coordinateSystem;if(s.getTooltipPosition)a=s.getTooltipPosition(u)||[];else if(d&&d.dataToPoint)if(n.isStacked){var v=d.getBaseAxis(),g=d.getOtherAxis(v),y=g.dim,b=v.dim,_=y==="x"||y==="radius"?1:0,x=l.mapDimension(b),C=[];C[_]=l.get(x,u),C[1-_]=l.get(l.getCalculationInfo("stackResultDimension"),u),a=d.dataToPoint(C)||[]}else a=d.dataToPoint(l.getValues(map3(d.dimensions,function(S){return l.mapDimension(S)}),u))||[];else if(f){var w=f.getBoundingRect().clone();w.applyTransform(f.transform),a=[w.x+w.width/2,w.y+w.height/2]}return{point:a,el:f}}var inner10=makeInner();function axisTrigger(n,r,a){var o=n.currTrigger,s=[n.x,n.y],l=n,u=n.dispatchAction||bind(a.dispatchAction,a),f=r.getComponent("axisPointer").coordSysAxesInfo;if(!!f){illegalPoint(s)&&(s=findPointFromSeries({seriesIndex:l.seriesIndex,dataIndex:l.dataIndex},r).point);var d=illegalPoint(s),v=l.axesInfo,g=f.axesInfo,y=o==="leave"||illegalPoint(s),b={},_={},x={list:[],map:{}},C={showPointer:curry(showPointer,_),showTooltip:curry(showTooltip,x)};each(f.coordSysMap,function(S,D){var A=d||S.containPoint(s);each(f.coordSysAxesInfo[D],function(T,M){var E=T.axis,P=findInputAxisInfo(v,T);if(!y&&A&&(!v||P)){var I=P&&P.value;I==null&&!d&&(I=E.pointToData(s)),I!=null&&processOnAxis(T,I,C,!1,b)}})});var w={};return each(g,function(S,D){var A=S.linkGroup;A&&!_[D]&&each(A.axesInfo,function(T,M){var E=_[M];if(T!==S&&E){var P=E.value;A.mapper&&(P=S.axis.scale.parse(A.mapper(P,makeMapperParam(T),makeMapperParam(S)))),w[S.key]=P}})}),each(w,function(S,D){processOnAxis(g[D],S,C,!0,b)}),updateModelActually(_,g,b),dispatchTooltipActually(x,s,n,u),dispatchHighDownActually(g,u,a),b}}function processOnAxis(n,r,a,o,s){var l=n.axis;if(!(l.scale.isBlank()||!l.containData(r))){if(!n.involveSeries){a.showPointer(n,r);return}var u=buildPayloadsBySeries(r,n),f=u.payloadBatch,d=u.snapToValue;f[0]&&s.seriesIndex==null&&extend3(s,f[0]),!o&&n.snap&&l.containData(d)&&d!=null&&(r=d),a.showPointer(n,r,f),a.showTooltip(n,u,d)}}function buildPayloadsBySeries(n,r){var a=r.axis,o=a.dim,s=n,l=[],u=Number.MAX_VALUE,f=-1;return each(r.seriesModels,function(d,v){var g=d.getData().mapDimensionsAll(o),y,b;if(d.getAxisTooltipData){var _=d.getAxisTooltipData(g,n,a);b=_.dataIndices,y=_.nestestValue}else{if(b=d.getData().indicesOfNearest(g[0],n,a.type==="category"?.5:null),!b.length)return;y=d.getData().get(g[0],b[0])}if(!(y==null||!isFinite(y))){var x=n-y,C=Math.abs(x);C<=u&&((C<u||x>=0&&f<0)&&(u=C,f=x,s=y,l.length=0),each(b,function(w){l.push({seriesIndex:d.seriesIndex,dataIndexInside:w,dataIndex:d.getData().getRawIndex(w)})}))}}),{payloadBatch:l,snapToValue:s}}function showPointer(n,r,a,o){n[r.key]={value:a,payloadBatch:o}}function showTooltip(n,r,a,o){var s=a.payloadBatch,l=r.axis,u=l.model,f=r.axisPointerModel;if(!(!r.triggerTooltip||!s.length)){var d=r.coordSys.model,v=makeKey(d),g=n.map[v];g||(g=n.map[v]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},n.list.push(g)),g.dataByAxis.push({axisDim:l.dim,axisIndex:u.componentIndex,axisType:u.type,axisId:u.id,value:o,valueLabelOpt:{precision:f.get(["label","precision"]),formatter:f.get(["label","formatter"])},seriesDataIndices:s.slice()})}}function updateModelActually(n,r,a){var o=a.axesInfo=[];each(r,function(s,l){var u=s.axisPointerModel.option,f=n[l];f?(!s.useHandle&&(u.status="show"),u.value=f.value,u.seriesDataIndices=(f.payloadBatch||[]).slice()):!s.useHandle&&(u.status="hide"),u.status==="show"&&o.push({axisDim:s.axis.dim,axisIndex:s.axis.model.componentIndex,value:u.value})})}function dispatchTooltipActually(n,r,a,o){if(illegalPoint(r)||!n.list.length){o({type:"hideTip"});return}var s=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:r[0],y:r[1],tooltipOption:a.tooltipOption,position:a.position,dataIndexInside:s.dataIndexInside,dataIndex:s.dataIndex,seriesIndex:s.seriesIndex,dataByCoordSys:n.list})}function dispatchHighDownActually(n,r,a){var o=a.getZr(),s="axisPointerLastHighlights",l=inner10(o)[s]||{},u=inner10(o)[s]={};each(n,function(v,g){var y=v.axisPointerModel.option;y.status==="show"&&each(y.seriesDataIndices,function(b){var _=b.seriesIndex+" | "+b.dataIndex;u[_]=b})});var f=[],d=[];each(l,function(v,g){!u[g]&&d.push(v)}),each(u,function(v,g){!l[g]&&f.push(v)}),d.length&&a.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),f.length&&a.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:f})}function findInputAxisInfo(n,r){for(var a=0;a<(n||[]).length;a++){var o=n[a];if(r.axis.dim===o.axisDim&&r.axis.model.componentIndex===o.axisIndex)return o}}function makeMapperParam(n){var r=n.axis.model,a={},o=a.axisDim=n.axis.dim;return a.axisIndex=a[o+"AxisIndex"]=r.componentIndex,a.axisName=a[o+"AxisName"]=r.name,a.axisId=a[o+"AxisId"]=r.id,a}function illegalPoint(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function install2(n){AxisView_default.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer_default),n.registerComponentModel(AxisPointerModel_default),n.registerComponentView(AxisPointerView_default),n.registerPreprocessor(function(r){if(r){(!r.axisPointer||r.axisPointer.length===0)&&(r.axisPointer={});var a=r.axisPointer.link;a&&!isArray3(a)&&(r.axisPointer.link=[a])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(r,a){r.getComponent("axisPointer").coordSysAxesInfo=collect(r,a)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install3(n){use(install),use(install2)}var PolarAxisPointer=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.makeElOption=function(a,o,s,l,u){var f=s.axis;f.dim==="angle"&&(this.animationThreshold=Math.PI/18);var d=f.polar,v=d.getOtherAxis(f),g=v.getExtent(),y=f.dataToCoord(o),b=l.get("type");if(b&&b!=="none"){var _=buildElStyle(l),x=pointerShapeBuilder2[b](f,d,y,g);x.style=_,a.graphicKey=x.type,a.pointer=x}var C=l.get(["label","margin"]),w=getLabelPosition(o,s,l,d,C);buildLabelElOption(a,s,l,u,w)},r}(BaseAxisPointer_default);function getLabelPosition(n,r,a,o,s){var l=r.axis,u=l.dataToCoord(n),f=o.getAngleAxis().getExtent()[0];f=f/180*Math.PI;var d=o.getRadiusAxis().getExtent(),v,g,y;if(l.dim==="radius"){var b=create2();rotate(b,b,f),translate(b,b,[o.cx,o.cy]),v=applyTransform2([u,-s],b);var _=r.getModel("axisLabel").get("rotate")||0,x=AxisBuilder_default.innerTextLayout(f,_*Math.PI/180,-1);g=x.textAlign,y=x.textVerticalAlign}else{var C=d[1];v=o.coordToPoint([C+s,u]);var w=o.cx,S=o.cy;g=Math.abs(v[0]-w)/C<.3?"center":v[0]>w?"left":"right",y=Math.abs(v[1]-S)/C<.3?"middle":v[1]>S?"top":"bottom"}return{position:v,align:g,verticalAlign:y}}var pointerShapeBuilder2={line:function(n,r,a,o){return n.dim==="angle"?{type:"Line",shape:makeLineShape(r.coordToPoint([o[0],a]),r.coordToPoint([o[1],a]))}:{type:"Circle",shape:{cx:r.cx,cy:r.cy,r:a}}},shadow:function(n,r,a,o){var s=Math.max(1,n.getBandWidth()),l=Math.PI/180;return n.dim==="angle"?{type:"Sector",shape:makeSectorShape(r.cx,r.cy,o[0],o[1],(-a-s/2)*l,(-a+s/2)*l)}:{type:"Sector",shape:makeSectorShape(r.cx,r.cy,a-s/2,a+s/2,0,Math.PI*2)}}},elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(n,r,a){r[1]>r[0]&&(r=r.slice().reverse());var o=n.coordToPoint([r[0],a]),s=n.coordToPoint([r[1],a]);return{x1:o[0],y1:o[1],x2:s[0],y2:s[1]}}function getRadiusIdx(n){var r=n.getRadiusAxis();return r.inverse?0:1}function fixAngleOverlap(n){var r=n[0],a=n[n.length-1];r&&a&&Math.abs(Math.abs(r.coord-a.coord)-360)<1e-4&&n.pop()}var AngleAxisView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.axisPointerClass="PolarAxisPointer",a}return r.prototype.render=function(a,o){if(this.group.removeAll(),!!a.get("show")){var s=a.axis,l=s.polar,u=l.getRadiusAxis().getExtent(),f=s.getTicksCoords(),d=s.getMinorTicksCoords(),v=map3(s.getViewLabels(),function(g){g=clone(g);var y=s.scale,b=y.type==="ordinal"?y.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=s.dataToCoord(b),g});fixAngleOverlap(v),fixAngleOverlap(f),each(elementList,function(g){a.get([g,"show"])&&(!s.scale.isBlank()||g==="axisLine")&&angelAxisElementsBuilders[g](this.group,a,l,f,d,u,v)},this)}},r.type="angleAxis",r}(AxisView_default),angelAxisElementsBuilders={axisLine:function(n,r,a,o,s,l){var u=r.getModel(["axisLine","lineStyle"]),f=getRadiusIdx(a),d=f?0:1,v;l[d]===0?v=new Circle_default({shape:{cx:a.cx,cy:a.cy,r:l[f]},style:u.getLineStyle(),z2:1,silent:!0}):v=new Ring_default({shape:{cx:a.cx,cy:a.cy,r:l[f],r0:l[d]},style:u.getLineStyle(),z2:1,silent:!0}),v.style.fill=null,n.add(v)},axisTick:function(n,r,a,o,s,l){var u=r.getModel("axisTick"),f=(u.get("inside")?-1:1)*u.get("length"),d=l[getRadiusIdx(a)],v=map3(o,function(g){return new Line_default({shape:getAxisLineShape(a,[d,d+f],g.coord)})});n.add(mergePath2(v,{style:defaults(u.getModel("lineStyle").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,r,a,o,s,l){if(!!s.length){for(var u=r.getModel("axisTick"),f=r.getModel("minorTick"),d=(u.get("inside")?-1:1)*f.get("length"),v=l[getRadiusIdx(a)],g=[],y=0;y<s.length;y++)for(var b=0;b<s[y].length;b++)g.push(new Line_default({shape:getAxisLineShape(a,[v,v+d],s[y][b].coord)}));n.add(mergePath2(g,{style:defaults(f.getModel("lineStyle").getLineStyle(),defaults(u.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,r,a,o,s,l,u){var f=r.getCategories(!0),d=r.getModel("axisLabel"),v=d.get("margin"),g=r.get("triggerEvent");each(u,function(y,b){var _=d,x=y.tickValue,C=l[getRadiusIdx(a)],w=a.coordToPoint([C+v,y.coord]),S=a.cx,D=a.cy,A=Math.abs(w[0]-S)/C<.3?"center":w[0]>S?"left":"right",T=Math.abs(w[1]-D)/C<.3?"middle":w[1]>D?"top":"bottom";if(f&&f[x]){var M=f[x];isObject3(M)&&M.textStyle&&(_=new Model_default(M.textStyle,d,d.ecModel))}var E=new Text_default({silent:AxisBuilder_default.isLabelSilent(r),style:createTextStyle(_,{x:w[0],y:w[1],fill:_.getTextColor()||r.get(["axisLine","lineStyle","color"]),text:y.formattedLabel,align:A,verticalAlign:T})});if(n.add(E),g){var P=AxisBuilder_default.makeAxisEventDataBase(r);P.targetType="axisLabel",P.value=y.rawLabel,getECData(E).eventData=P}},this)},splitLine:function(n,r,a,o,s,l){var u=r.getModel("splitLine"),f=u.getModel("lineStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=0;y<o.length;y++){var b=v++%d.length;g[b]=g[b]||[],g[b].push(new Line_default({shape:getAxisLineShape(a,l,o[y].coord)}))}for(var y=0;y<g.length;y++)n.add(mergePath2(g[y],{style:defaults({stroke:d[y%d.length]},f.getLineStyle()),silent:!0,z:r.get("z")}))},minorSplitLine:function(n,r,a,o,s,l){if(!!s.length){for(var u=r.getModel("minorSplitLine"),f=u.getModel("lineStyle"),d=[],v=0;v<s.length;v++)for(var g=0;g<s[v].length;g++)d.push(new Line_default({shape:getAxisLineShape(a,l,s[v][g].coord)}));n.add(mergePath2(d,{style:f.getLineStyle(),silent:!0,z:r.get("z")}))}},splitArea:function(n,r,a,o,s,l){if(!!o.length){var u=r.getModel("splitArea"),f=u.getModel("areaStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=Math.PI/180,b=-o[0].coord*y,_=Math.min(l[0],l[1]),x=Math.max(l[0],l[1]),C=r.get("clockwise"),w=1,S=o.length;w<=S;w++){var D=w===S?o[0].coord:o[w].coord,A=v++%d.length;g[A]=g[A]||[],g[A].push(new Sector_default({shape:{cx:a.cx,cy:a.cy,r0:_,r:x,startAngle:b,endAngle:-D*y,clockwise:C},silent:!0})),b=-D*y}for(var w=0;w<g.length;w++)n.add(mergePath2(g[w],{style:defaults({fill:d[w%d.length]},f.getAreaStyle()),silent:!0}))}}},axisBuilderAttrs2=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs2=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.axisPointerClass="PolarAxisPointer",a}return r.prototype.render=function(a,o){if(this.group.removeAll(),!!a.get("show")){var s=this._axisGroup,l=this._axisGroup=new Group_default;this.group.add(l);var u=a.axis,f=u.polar,d=f.getAngleAxis(),v=u.getTicksCoords(),g=u.getMinorTicksCoords(),y=d.getExtent()[0],b=u.getExtent(),_=layoutAxis(f,a,y),x=new AxisBuilder_default(a,_);each(axisBuilderAttrs2,x.add,x),l.add(x.getGroup()),groupTransition(s,l,a),each(selfBuilderAttrs2,function(C){a.get([C,"show"])&&!u.scale.isBlank()&&axisElementBuilders2[C](this.group,a,f,y,b,v,g)},this)}},r.type="radiusAxis",r}(AxisView_default),axisElementBuilders2={splitLine:function(n,r,a,o,s,l){var u=r.getModel("splitLine"),f=u.getModel("lineStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=0;y<l.length;y++){var b=v++%d.length;g[b]=g[b]||[],g[b].push(new Circle_default({shape:{cx:a.cx,cy:a.cy,r:Math.max(l[y].coord,0)}}))}for(var y=0;y<g.length;y++)n.add(mergePath2(g[y],{style:defaults({stroke:d[y%d.length],fill:null},f.getLineStyle()),silent:!0}))},minorSplitLine:function(n,r,a,o,s,l,u){if(!!u.length){for(var f=r.getModel("minorSplitLine"),d=f.getModel("lineStyle"),v=[],g=0;g<u.length;g++)for(var y=0;y<u[g].length;y++)v.push(new Circle_default({shape:{cx:a.cx,cy:a.cy,r:u[g][y].coord}}));n.add(mergePath2(v,{style:defaults({fill:null},d.getLineStyle()),silent:!0}))}},splitArea:function(n,r,a,o,s,l){if(!!l.length){var u=r.getModel("splitArea"),f=u.getModel("areaStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=l[0].coord,b=1;b<l.length;b++){var _=v++%d.length;g[_]=g[_]||[],g[_].push(new Sector_default({shape:{cx:a.cx,cy:a.cy,r0:y,r:l[b].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=l[b].coord}for(var b=0;b<g.length;b++)n.add(mergePath2(g[b],{style:defaults({fill:d[b%d.length]},f.getAreaStyle()),silent:!0}))}}};function layoutAxis(n,r,a){return{position:[n.cx,n.cy],rotation:a/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:r.getModel("axisLabel").get("rotate"),z2:1}}var PolarView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="polar",r}(Component_default2),axisBuilderAttrs3=["axisLine","axisTickLabel","axisName"],RadarView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){var l=this.group;l.removeAll(),this._buildAxes(a),this._buildSplitLineAndArea(a)},r.prototype._buildAxes=function(a){var o=a.coordinateSystem,s=o.getIndicatorAxes(),l=map3(s,function(u){var f=u.model.get("showName")?u.name:"",d=new AxisBuilder_default(u.model,{axisName:f,position:[o.cx,o.cy],rotation:u.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return d});each(l,function(u){each(axisBuilderAttrs3,u.add,u),this.group.add(u.getGroup())},this)},r.prototype._buildSplitLineAndArea=function(a){var o=a.coordinateSystem,s=o.getIndicatorAxes();if(!s.length)return;var l=a.get("shape"),u=a.getModel("splitLine"),f=a.getModel("splitArea"),d=u.getModel("lineStyle"),v=f.getModel("areaStyle"),g=u.get("show"),y=f.get("show"),b=d.get("color"),_=v.get("color"),x=isArray3(b)?b:[b],C=isArray3(_)?_:[_],w=[],S=[];function D(N,H,W){var V=W%H.length;return N[V]=N[V]||[],V}if(l==="circle")for(var A=s[0].getTicksCoords(),T=o.cx,M=o.cy,E=0;E<A.length;E++){if(g){var P=D(w,x,E);w[P].push(new Circle_default({shape:{cx:T,cy:M,r:A[E].coord}}))}if(y&&E<A.length-1){var P=D(S,C,E);S[P].push(new Ring_default({shape:{cx:T,cy:M,r0:A[E].coord,r:A[E+1].coord}}))}}else for(var I,F=map3(s,function(N,H){var W=N.getTicksCoords();return I=I==null?W.length-1:Math.min(W.length-1,I),map3(W,function(V){return o.coordToPoint(V.coord,H)})}),L=[],E=0;E<=I;E++){for(var O=[],z=0;z<s.length;z++)O.push(F[z][E]);if(O[0]?O.push(O[0].slice()):console.error("Can't draw value axis "+E),g){var P=D(w,x,E);w[P].push(new Polyline_default({shape:{points:O}}))}if(y&&L){var P=D(S,C,E-1);S[P].push(new Polygon_default({shape:{points:O.concat(L)}}))}L=O.slice().reverse()}var R=d.getLineStyle(),B=v.getAreaStyle();each(S,function(N,H){this.group.add(mergePath2(N,{style:defaults({stroke:"none",fill:C[H%C.length]},B),silent:!0}))},this),each(w,function(N,H){this.group.add(mergePath2(N,{style:defaults({fill:"none",stroke:x[H%x.length]},R),silent:!0}))},this)},r.type="radar",r}(Component_default2),v2ApplyTransform=applyTransform,View=function(n){__extends(r,n);function r(a){var o=n.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new Transformable_default,o._rawTransformable=new Transformable_default,o.name=a,o}return r.prototype.setBoundingRect=function(a,o,s,l){return this._rect=new BoundingRect_default(a,o,s,l),this._rect},r.prototype.getBoundingRect=function(){return this._rect},r.prototype.setViewRect=function(a,o,s,l){this._transformTo(a,o,s,l),this._viewRect=new BoundingRect_default(a,o,s,l)},r.prototype._transformTo=function(a,o,s,l){var u=this.getBoundingRect(),f=this._rawTransformable;f.transform=u.calculateTransform(new BoundingRect_default(a,o,s,l));var d=f.parent;f.parent=null,f.decomposeTransform(),f.parent=d,this._updateTransform()},r.prototype.setCenter=function(a){!a||(this._center=a,this._updateCenterAndZoom())},r.prototype.setZoom=function(a){a=a||1;var o=this.zoomLimit;o&&(o.max!=null&&(a=Math.min(o.max,a)),o.min!=null&&(a=Math.max(o.min,a))),this._zoom=a,this._updateCenterAndZoom()},r.prototype.getDefaultCenter=function(){var a=this.getBoundingRect(),o=a.x+a.width/2,s=a.y+a.height/2;return[o,s]},r.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},r.prototype.getZoom=function(){return this._zoom||1},r.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},r.prototype._updateCenterAndZoom=function(){var a=this._rawTransformable.getLocalTransform(),o=this._roamTransformable,s=this.getDefaultCenter(),l=this.getCenter(),u=this.getZoom();l=applyTransform([],l,a),s=applyTransform([],s,a),o.originX=l[0],o.originY=l[1],o.x=s[0]-l[0],o.y=s[1]-l[1],o.scaleX=o.scaleY=u,this._updateTransform()},r.prototype._updateTransform=function(){var a=this._roamTransformable,o=this._rawTransformable;o.parent=a,a.updateTransform(),o.updateTransform(),copy2(this.transform||(this.transform=[]),o.transform||create2()),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},r.prototype.getTransformInfo=function(){var a=this._rawTransformable,o=this._roamTransformable,s=new Transformable_default;return s.transform=o.transform,s.decomposeTransform(),{roam:{x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY},raw:{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY}}},r.prototype.getViewRect=function(){return this._viewRect},r.prototype.getViewRectAfterRoam=function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},r.prototype.dataToPoint=function(a,o,s){var l=o?this._rawTransform:this.transform;return s=s||[],l?v2ApplyTransform(s,a,l):copy(s,a)},r.prototype.pointToData=function(a){var o=this.invTransform;return o?v2ApplyTransform([],a,o):[a[0],a[1]]},r.prototype.convertToPixel=function(a,o,s){var l=getCoordSys(o);return l===this?l.dataToPoint(s):null},r.prototype.convertFromPixel=function(a,o,s){var l=getCoordSys(o);return l===this?l.pointToData(s):null},r.prototype.containPoint=function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])},r.dimensions=["x","y"],r}(Transformable_default);function getCoordSys(n){var r=n.seriesModel;return r?r.coordinateSystem:null}var View_default=View;function parseXML(n){if(isString2(n)){var r=new DOMParser;n=r.parseFromString(n,"text/xml")}var a=n;for(a.nodeType===9&&(a=a.firstChild);a.nodeName.toLowerCase()!=="svg"||a.nodeType!==1;)a=a.nextSibling;return a}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys3(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys3(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(r,a){a=a||{};var o=parseXML(r);if(!o)throw new Error("Illegal svg");this._defsUsePending=[];var s=new Group_default;this._root=s;var l=[],u=o.getAttribute("viewBox")||"",f=parseFloat(o.getAttribute("width")||a.width),d=parseFloat(o.getAttribute("height")||a.height);isNaN(f)&&(f=null),isNaN(d)&&(d=null),parseAttributes(o,s,null,!0,!1);for(var v=o.firstChild;v;)this._parseNode(v,s,l,null,!1,!1),v=v.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var g,y;if(u){var b=splitNumberSequence(u);b.length>=4&&(g={x:parseFloat(b[0]||0),y:parseFloat(b[1]||0),width:parseFloat(b[2]),height:parseFloat(b[3])})}if(g&&f!=null&&d!=null&&(y=makeViewBoxTransform(g,{x:0,y:0,width:f,height:d}),!a.ignoreViewBox)){var _=s;s=new Group_default,s.add(_),_.scaleX=_.scaleY=y.scale,_.x=y.x,_.y=y.y}return!a.ignoreRootClip&&f!=null&&d!=null&&s.setClipPath(new Rect_default({shape:{x:0,y:0,width:f,height:d}})),{root:s,width:f,height:d,viewBoxRect:g,viewBoxTransform:y,named:l}},n.prototype._parseNode=function(r,a,o,s,l,u){var f=r.nodeName.toLowerCase(),d,v=s;if(f==="defs"&&(l=!0),f==="text"&&(u=!0),f==="defs"||f==="switch")d=a;else{if(!l){var g=nodeParsers[f];if(g&&hasOwn2(nodeParsers,f)){d=g.call(this,r,a);var y=r.getAttribute("name");if(y){var b={name:y,namedFrom:null,svgNodeTagLower:f,el:d};o.push(b),f==="g"&&(v=b)}else s&&o.push({name:s.name,namedFrom:s,svgNodeTagLower:f,el:d});a.add(d)}}var _=paintServerParsers[f];if(_&&hasOwn2(paintServerParsers,f)){var x=_.call(this,r),C=r.getAttribute("id");C&&(this._defs[C]=x)}}if(d&&d.isGroup)for(var w=r.firstChild;w;)w.nodeType===1?this._parseNode(w,d,o,v,l,u):w.nodeType===3&&u&&this._parseText(w,d),w=w.nextSibling},n.prototype._parseText=function(r,a){var o=new TSpan_default({style:{text:r.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(a,o),parseAttributes(r,o,this._defsUsePending,!1,!1),applyTextAlignment(o,a);var s=o.style,l=s.fontSize;l&&l<9&&(s.fontSize=9,o.scaleX*=l/9,o.scaleY*=l/9);var u=(s.fontSize||s.fontFamily)&&[s.fontStyle,s.fontWeight,(s.fontSize||12)+"px",s.fontFamily||"sans-serif"].join(" ");s.font=u;var f=o.getBoundingRect();return this._textX+=f.width,a.add(o),o},n.internalField=function(){nodeParsers={g:function(r,a){var o=new Group_default;return inheritStyle(a,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o},rect:function(r,a){var o=new Rect_default;return inheritStyle(a,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o.setShape({x:parseFloat(r.getAttribute("x")||"0"),y:parseFloat(r.getAttribute("y")||"0"),width:parseFloat(r.getAttribute("width")||"0"),height:parseFloat(r.getAttribute("height")||"0")}),o.silent=!0,o},circle:function(r,a){var o=new Circle_default;return inheritStyle(a,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(r.getAttribute("cx")||"0"),cy:parseFloat(r.getAttribute("cy")||"0"),r:parseFloat(r.getAttribute("r")||"0")}),o.silent=!0,o},line:function(r,a){var o=new Line_default;return inheritStyle(a,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o.setShape({x1:parseFloat(r.getAttribute("x1")||"0"),y1:parseFloat(r.getAttribute("y1")||"0"),x2:parseFloat(r.getAttribute("x2")||"0"),y2:parseFloat(r.getAttribute("y2")||"0")}),o.silent=!0,o},ellipse:function(r,a){var o=new Ellipse_default;return inheritStyle(a,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o.setShape({cx:parseFloat(r.getAttribute("cx")||"0"),cy:parseFloat(r.getAttribute("cy")||"0"),rx:parseFloat(r.getAttribute("rx")||"0"),ry:parseFloat(r.getAttribute("ry")||"0")}),o.silent=!0,o},polygon:function(r,a){var o=r.getAttribute("points"),s;o&&(s=parsePoints(o));var l=new Polygon_default({shape:{points:s||[]},silent:!0});return inheritStyle(a,l),parseAttributes(r,l,this._defsUsePending,!1,!1),l},polyline:function(r,a){var o=r.getAttribute("points"),s;o&&(s=parsePoints(o));var l=new Polyline_default({shape:{points:s||[]},silent:!0});return inheritStyle(a,l),parseAttributes(r,l,this._defsUsePending,!1,!1),l},image:function(r,a){var o=new Image_default;return inheritStyle(a,o),parseAttributes(r,o,this._defsUsePending,!1,!1),o.setStyle({image:r.getAttribute("xlink:href")||r.getAttribute("href"),x:+r.getAttribute("x"),y:+r.getAttribute("y"),width:+r.getAttribute("width"),height:+r.getAttribute("height")}),o.silent=!0,o},text:function(r,a){var o=r.getAttribute("x")||"0",s=r.getAttribute("y")||"0",l=r.getAttribute("dx")||"0",u=r.getAttribute("dy")||"0";this._textX=parseFloat(o)+parseFloat(l),this._textY=parseFloat(s)+parseFloat(u);var f=new Group_default;return inheritStyle(a,f),parseAttributes(r,f,this._defsUsePending,!1,!0),f},tspan:function(r,a){var o=r.getAttribute("x"),s=r.getAttribute("y");o!=null&&(this._textX=parseFloat(o)),s!=null&&(this._textY=parseFloat(s));var l=r.getAttribute("dx")||"0",u=r.getAttribute("dy")||"0",f=new Group_default;return inheritStyle(a,f),parseAttributes(r,f,this._defsUsePending,!1,!0),this._textX+=parseFloat(l),this._textY+=parseFloat(u),f},path:function(r,a){var o=r.getAttribute("d")||"",s=createFromString(o);return inheritStyle(a,s),parseAttributes(r,s,this._defsUsePending,!1,!1),s.silent=!0,s}}}(),n}(),paintServerParsers={lineargradient:function(n){var r=parseInt(n.getAttribute("x1")||"0",10),a=parseInt(n.getAttribute("y1")||"0",10),o=parseInt(n.getAttribute("x2")||"10",10),s=parseInt(n.getAttribute("y2")||"0",10),l=new LinearGradient_default(r,a,o,s);return parsePaintServerUnit(n,l),parseGradientColorStops(n,l),l},radialgradient:function(n){var r=parseInt(n.getAttribute("cx")||"0",10),a=parseInt(n.getAttribute("cy")||"0",10),o=parseInt(n.getAttribute("r")||"0",10),s=new RadialGradient_default(r,a,o);return parsePaintServerUnit(n,s),parseGradientColorStops(n,s),s}};function parsePaintServerUnit(n,r){var a=n.getAttribute("gradientUnits");a==="userSpaceOnUse"&&(r.global=!0)}function parseGradientColorStops(n,r){for(var a=n.firstChild;a;){if(a.nodeType===1&&a.nodeName.toLocaleLowerCase()==="stop"){var o=a.getAttribute("offset"),s=void 0;o&&o.indexOf("%")>0?s=parseInt(o,10)/100:o?s=parseFloat(o):s=0;var l={};parseInlineStyle(a,l,l);var u=l.stopColor||a.getAttribute("stop-color")||"#000000";r.colorStops.push({offset:s,color:u})}a=a.nextSibling}}function inheritStyle(n,r){n&&n.__inheritedStyle&&(r.__inheritedStyle||(r.__inheritedStyle={}),defaults(r.__inheritedStyle,n.__inheritedStyle))}function parsePoints(n){for(var r=splitNumberSequence(n),a=[],o=0;o<r.length;o+=2){var s=parseFloat(r[o]),l=parseFloat(r[o+1]);a.push([s,l])}return a}function parseAttributes(n,r,a,o,s){var l=r,u=l.__inheritedStyle=l.__inheritedStyle||{},f={};n.nodeType===1&&(parseTransformAttribute(n,r),parseInlineStyle(n,u,f),o||parseAttributeStyle(n,u,f)),l.style=l.style||{},u.fill!=null&&(l.style.fill=getFillStrokeStyle(l,"fill",u.fill,a)),u.stroke!=null&&(l.style.stroke=getFillStrokeStyle(l,"stroke",u.stroke,a)),each(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(d){u[d]!=null&&(l.style[d]=parseFloat(u[d]))}),each(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(d){u[d]!=null&&(l.style[d]=u[d])}),s&&(l.__selfStyle=f),u.lineDash&&(l.style.lineDash=map3(splitNumberSequence(u.lineDash),function(d){return parseFloat(d)})),(u.visibility==="hidden"||u.visibility==="collapse")&&(l.invisible=!0),u.display==="none"&&(l.ignore=!0)}function applyTextAlignment(n,r){var a=r.__selfStyle;if(a){var o=a.textBaseline,s=o;!o||o==="auto"||o==="baseline"?s="alphabetic":o==="before-edge"||o==="text-before-edge"?s="top":o==="after-edge"||o==="text-after-edge"?s="bottom":(o==="central"||o==="mathematical")&&(s="middle"),n.style.textBaseline=s}var l=r.__inheritedStyle;if(l){var u=l.textAlign,f=u;u&&(u==="middle"&&(f="center"),n.style.textAlign=f)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(n,r,a,o){var s=a&&a.match(urlRegex);if(s){var l=trim(s[1]);o.push([n,r,l]);return}return a==="none"&&(a=null),a}function applyDefs(n,r){for(var a=0;a<r.length;a++){var o=r[a];o[0].style[o[1]]=n[o[2]]}}var numberReg2=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(n){return n.match(numberReg2)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(n,r){var a=n.getAttribute("transform");if(a){a=a.replace(/,/g," ");var o=[],s=null;a.replace(transformRegex,function(y,b,_){return o.push(b,_),""});for(var l=o.length-1;l>0;l-=2){var u=o[l],f=o[l-1],d=splitNumberSequence(u);switch(s=s||create2(),f){case"translate":translate(s,s,[parseFloat(d[0]),parseFloat(d[1]||"0")]);break;case"scale":scale2(s,s,[parseFloat(d[0]),parseFloat(d[1]||d[0])]);break;case"rotate":rotate(s,s,-parseFloat(d[0])*DEGREE_TO_ANGLE);break;case"skewX":var v=Math.tan(parseFloat(d[0])*DEGREE_TO_ANGLE);mul(s,[1,0,v,1,0,0],s);break;case"skewY":var g=Math.tan(parseFloat(d[0])*DEGREE_TO_ANGLE);mul(s,[1,g,0,1,0,0],s);break;case"matrix":s[0]=parseFloat(d[0]),s[1]=parseFloat(d[1]),s[2]=parseFloat(d[2]),s[3]=parseFloat(d[3]),s[4]=parseFloat(d[4]),s[5]=parseFloat(d[5]);break}}r.setLocalTransform(s)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(n,r,a){var o=n.getAttribute("style");if(!!o){styleRegex.lastIndex=0;for(var s;(s=styleRegex.exec(o))!=null;){var l=s[1],u=hasOwn2(INHERITABLE_STYLE_ATTRIBUTES_MAP,l)?INHERITABLE_STYLE_ATTRIBUTES_MAP[l]:null;u&&(r[u]=s[2]);var f=hasOwn2(SELF_STYLE_ATTRIBUTES_MAP,l)?SELF_STYLE_ATTRIBUTES_MAP[l]:null;f&&(a[f]=s[2])}}}function parseAttributeStyle(n,r,a){for(var o=0;o<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;o++){var s=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[o],l=n.getAttribute(s);l!=null&&(r[INHERITABLE_STYLE_ATTRIBUTES_MAP[s]]=l)}for(var o=0;o<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;o++){var s=SELF_STYLE_ATTRIBUTES_MAP_KEYS[o],l=n.getAttribute(s);l!=null&&(a[SELF_STYLE_ATTRIBUTES_MAP[s]]=l)}}function makeViewBoxTransform(n,r){var a=r.width/n.width,o=r.height/n.height,s=Math.min(a,o);return{scale:s,x:-(n.x+n.width/2)*s+(r.x+r.width/2),y:-(n.y+n.height/2)*s+(r.y+r.height/2)}}function parseSVG(n,r){var a=new SVGParser;return a.parse(n,r)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function n(r,a){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=r,this._parsedXML=parseXML(a)}return n.prototype.load=function(){var r=this._firstGraphic;if(!r){r=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(r),this._boundingRect=this._firstGraphic.boundingRect.clone();var a=createRegions(r.named),o=a.regions,s=a.regionsMap;this._regions=o,this._regionsMap=s}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(r){var a,o;try{a=r&&parseSVG(r,{ignoreViewBox:!0,ignoreRootClip:!0})||{},o=a.root,assert(o!=null)}catch(w){throw new Error(`Invalid svg format
`+w.message)}var s=new Group_default;s.add(o),s.isGeoSVGGraphicRoot=!0;var l=a.width,u=a.height,f=a.viewBoxRect,d=this._boundingRect;if(!d){var v=void 0,g=void 0,y=void 0,b=void 0;if(l!=null?(v=0,y=l):f&&(v=f.x,y=f.width),u!=null?(g=0,b=u):f&&(g=f.y,b=f.height),v==null||g==null){var _=o.getBoundingRect();v==null&&(v=_.x,y=_.width),g==null&&(g=_.y,b=_.height)}d=this._boundingRect=new BoundingRect_default(v,g,y,b)}if(f){var x=makeViewBoxTransform(f,d);o.scaleX=o.scaleY=x.scale,o.x=x.x,o.y=x.y}s.setClipPath(new Rect_default({shape:d.plain()}));var C=[];return each(a.named,function(w){REGION_AVAILABLE_SVG_TAG_MAP.get(w.svgNodeTagLower)!=null&&(C.push(w),setSilent(w.el))}),{root:s,boundingRect:d,named:C}},n.prototype.useGraphic=function(r){var a=this._usedGraphicMap,o=a.get(r);return o||(o=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),a.set(r,o),o)},n.prototype.freeGraphic=function(r){var a=this._usedGraphicMap,o=a.get(r);o&&(a.removeKey(r),this._freedGraphics.push(o))},n}();function setSilent(n){n.silent=!1,n.isGroup&&n.traverse(function(r){r.silent=!1})}function createRegions(n){var r=[],a=createHashMap();return each(n,function(o){if(o.namedFrom==null){var s=new GeoSVGRegion(o.name,o.el);r.push(s),a.set(o.name,s)}}),{regions:r,regionsMap:a}}var geoCoord=[126,25],nanhaiName="\u5357\u6D77\u8BF8\u5C9B",points2=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(i=0;i<points2.length;i++)for(k=0;k<points2[i].length;k++)points2[i][k][0]/=10.5,points2[i][k][1]/=-10.5/.75,points2[i][k][0]+=geoCoord[0],points2[i][k][1]+=geoCoord[1];var k,i;function fixNanhai(n,r){if(n==="china"){for(var a=0;a<r.length;a++)if(r[a].name===nanhaiName)return;r.push(new GeoJSONRegion(nanhaiName,map3(points2,function(o){return{type:"polygon",exterior:o}}),geoCoord))}}var coordsOffsetMap={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function fixTextCoords(n,r){if(n==="china"){var a=coordsOffsetMap[r.name];if(a){var o=r.getCenter();o[0]+=a[0]/10.5,o[1]+=-a[1]/(10.5/.75),r.setCenter(o)}}}var points3=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(n,r){n==="china"&&r.name==="\u53F0\u6E7E"&&r.geometries.push({type:"polygon",exterior:points3[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function n(r,a,o){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=r,this._specialAreas=o,this._geoJSON=parseInput(a)}return n.prototype.load=function(r,a){a=a||DEFAULT_NAME_PROPERTY;var o=this._parsedMap.get(a);if(!o){var s=this._parseToRegions(a);o=this._parsedMap.set(a,{regions:s,boundingRect:calculateBoundingRect(s)})}var l=createHashMap(),u=[];return each(o.regions,function(f){var d=f.name;r&&hasOwn2(r,d)&&(f=f.cloneShallow(d=r[d])),u.push(f),l.set(d,f)}),{regions:u,boundingRect:o.boundingRect||new BoundingRect_default(0,0,0,0),regionsMap:l}},n.prototype._parseToRegions=function(r){var a=this._mapName,o=this._geoJSON,s;try{s=o?parseGeoJSON(o,r):[]}catch(l){throw new Error(`Invalid geoJson format
`+l.message)}return fixNanhai(a,s),each(s,function(l){var u=l.name;fixTextCoords(a,l),fixDiaoyuIsland(a,l);var f=this._specialAreas&&this._specialAreas[u];f&&l.transformTo(f.left,f.top,f.width,f.height)},this),s},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function calculateBoundingRect(n){for(var r,a=0;a<n.length;a++){var o=n[a].getBoundingRect();r=r||o.clone(),r.union(o)}return r}function parseInput(n){return isString2(n)?typeof JSON!="undefined"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}var storage=createHashMap(),geoSourceManager_default={registerMap:function(n,r,a){if(r.svg){var o=new GeoSVGResource(n,r.svg);storage.set(n,o)}else{var s=r.geoJson||r.geoJSON;s&&!r.features?a=r.specialAreas:s=r;var o=new GeoJSONResource(n,s,a);storage.set(n,o)}},getGeoResource:function(n){return storage.get(n)},getMapForUser:function(n){var r=storage.get(n);return r&&r.type==="geoJSON"&&r.getMapForUser()},load:function(n,r,a){var o=storage.get(n);if(!o){console.error("Map "+n+" not exists. The GeoJSON of the map must be provided.");return}return o.load(r,a)}},ATTR="\0_ec_interaction_mutex";function take(n,r,a){var o=getStore(n);o[r]=a}function release(n,r,a){var o=getStore(n),s=o[r];s===a&&(o[r]=null)}function isTaken(n,r){return!!getStore(n)[r]}function getStore(n){return n[ATTR]||(n[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(n){__extends(r,n);function r(a){var o=n.call(this)||this;o._zr=a;var s=bind(o._mousedownHandler,o),l=bind(o._mousemoveHandler,o),u=bind(o._mouseupHandler,o),f=bind(o._mousewheelHandler,o),d=bind(o._pinchHandler,o);return o.enable=function(v,g){this.disable(),this._opt=defaults(clone(g)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),v==null&&(v=!0),(v===!0||v==="move"||v==="pan")&&(a.on("mousedown",s),a.on("mousemove",l),a.on("mouseup",u)),(v===!0||v==="scale"||v==="zoom")&&(a.on("mousewheel",f),a.on("pinch",d))},o.disable=function(){a.off("mousedown",s),a.off("mousemove",l),a.off("mouseup",u),a.off("mousewheel",f),a.off("pinch",d)},o}return r.prototype.isDragging=function(){return this._dragging},r.prototype.isPinching=function(){return this._pinching},r.prototype.setPointerChecker=function(a){this.pointerChecker=a},r.prototype.dispose=function(){this.disable()},r.prototype._mousedownHandler=function(a){if(!(isMiddleOrRightButtonOnMouseUpDown(a)||a.target&&a.target.draggable)){var o=a.offsetX,s=a.offsetY;this.pointerChecker&&this.pointerChecker(a,o,s)&&(this._x=o,this._y=s,this._dragging=!0)}},r.prototype._mousemoveHandler=function(a){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",a,this._opt)||a.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var o=a.offsetX,s=a.offsetY,l=this._x,u=this._y,f=o-l,d=s-u;this._x=o,this._y=s,this._opt.preventDefaultMouseMove&&stop2(a.event),trigger3(this,"pan","moveOnMouseMove",a,{dx:f,dy:d,oldX:l,oldY:u,newX:o,newY:s,isAvailableBehavior:null})}},r.prototype._mouseupHandler=function(a){isMiddleOrRightButtonOnMouseUpDown(a)||(this._dragging=!1)},r.prototype._mousewheelHandler=function(a){var o=isAvailableBehavior("zoomOnMouseWheel",a,this._opt),s=isAvailableBehavior("moveOnMouseWheel",a,this._opt),l=a.wheelDelta,u=Math.abs(l),f=a.offsetX,d=a.offsetY;if(!(l===0||!o&&!s)){if(o){var v=u>3?1.4:u>1?1.2:1.1,g=l>0?v:1/v;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",a,{scale:g,originX:f,originY:d,isAvailableBehavior:null})}if(s){var y=Math.abs(l),b=(l>0?1:-1)*(y>3?.4:y>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",a,{scrollDelta:b,originX:f,originY:d,isAvailableBehavior:null})}}},r.prototype._pinchHandler=function(a){if(!isTaken(this._zr,"globalPan")){var o=a.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,a,{scale:o,originX:a.pinchX,originY:a.pinchY,isAvailableBehavior:null})}},r}(Eventful_default);function checkPointerAndTrigger(n,r,a,o,s){n.pointerChecker&&n.pointerChecker(o,s.originX,s.originY)&&(stop2(o.event),trigger3(n,r,a,o,s))}function trigger3(n,r,a,o,s){s.isAvailableBehavior=bind(isAvailableBehavior,null,a,o),n.trigger(r,s)}function isAvailableBehavior(n,r,a){var o=a[n];return!n||o&&(!isString2(o)||r.event[o+"Key"])}var RoamController_default=RoamController;function updateViewOnPan(n,r,a){var o=n.target;o.x+=r,o.y+=a,o.dirty()}function updateViewOnZoom(n,r,a,o){var s=n.target,l=n.zoomLimit,u=n.zoom=n.zoom||1;if(u*=r,l){var f=l.min||0,d=l.max||1/0;u=Math.max(Math.min(d,u),f)}var v=u/n.zoom;n.zoom=u,s.x-=(a-s.x)*(v-1),s.y-=(o-s.y)*(v-1),s.scaleX*=v,s.scaleY*=v,s.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(n,r,a){var o=r.getComponentByElement(n.topTarget),s=o&&o.coordinateSystem;return o&&o!==a&&!IRRELEVANT_EXCLUDES.hasOwnProperty(o.mainType)&&s&&s.model!==a}var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(n){var r=n.getItemStyle(),a=n.get("areaColor");return a!=null&&(r.fill=a),r}function fixLineStyle(n){var r=n.style;r&&(r.stroke=r.stroke||r.fill,r.fill=null)}var MapDraw=function(){function n(r){var a=new Group_default;this.uid=getUID("ec_map_draw"),this._controller=new RoamController_default(r.getZr()),this._controllerHost={target:a},this.group=a,a.add(this._regionsGroup=new Group_default),a.add(this._svgGroup=new Group_default)}return n.prototype.draw=function(r,a,o,s,l){var u=r.mainType==="geo",f=r.getData&&r.getData();u&&a.eachComponent({mainType:"series",subType:"map"},function(S){!f&&S.getHostGeoModel()===r&&(f=S.getData())});var d=r.coordinateSystem,v=this._regionsGroup,g=this.group,y=d.getTransformInfo(),b=y.raw,_=y.roam,x=!v.childAt(0)||l;x?(g.x=_.x,g.y=_.y,g.scaleX=_.scaleX,g.scaleY=_.scaleY,g.dirty()):updateProps2(g,_,r);var C=f&&f.getVisual("visualMeta")&&f.getVisual("visualMeta").length>0,w={api:o,geo:d,mapOrGeoModel:r,data:f,isVisualEncodedByVisualMap:C,isGeo:u,transformInfoRaw:b};d.resourceType==="geoJSON"?this._buildGeoJSON(w):d.resourceType==="geoSVG"&&this._buildSVG(w),this._updateController(r,a,o),this._updateMapSelectHandler(r,v,o,s)},n.prototype._buildGeoJSON=function(r){var a=this._regionsGroupByName=createHashMap(),o=createHashMap(),s=this._regionsGroup,l=r.transformInfoRaw,u=r.mapOrGeoModel,f=r.data,d=r.geo.projection,v=d&&d.stream;function g(_,x){return x&&(_=x(_)),_&&[_[0]*l.scaleX+l.x,_[1]*l.scaleY+l.y]}function y(_){for(var x=[],C=!v&&d&&d.project,w=0;w<_.length;++w){var S=g(_[w],C);S&&x.push(S)}return x}function b(_){return{shape:{points:y(_)}}}s.removeAll(),each(r.geo.regions,function(_){var x=_.name,C=a.get(x),w=o.get(x)||{},S=w.dataIdx,D=w.regionModel;C||(C=a.set(x,new Group_default),s.add(C),S=f?f.indexOfName(x):null,D=r.isGeo?u.getRegionModel(x):f?f.getItemModel(S):null,o.set(x,{dataIdx:S,regionModel:D}));var A=[],T=[];each(_.geometries,function(P){if(P.type==="polygon"){var I=[P.exterior].concat(P.interiors||[]);v&&(I=projectPolys(I,v)),each(I,function(L){A.push(new Polygon_default(b(L)))})}else{var F=P.points;v&&(F=projectPolys(F,v,!0)),each(F,function(L){T.push(new Polyline_default(b(L)))})}});var M=g(_.getCenter(),d&&d.project);function E(P,I){if(!!P.length){var F=new CompoundPath_default({culling:!0,segmentIgnoreThreshold:1,shape:{paths:P}});C.add(F),applyOptionStyleForRegion(r,F,S,D),resetLabelForRegion(r,F,x,D,u,S,M),I&&(fixLineStyle(F),each(F.states,fixLineStyle))}}E(A),E(T,!0)}),a.each(function(_,x){var C=o.get(x),w=C.dataIdx,S=C.regionModel;resetEventTriggerForRegion(r,_,x,S,u,w),resetTooltipForRegion(r,_,x,S,u),resetStateTriggerForRegion(r,_,x,S,u)},this)},n.prototype._buildSVG=function(r){var a=r.geo.map,o=r.transformInfoRaw;this._svgGroup.x=o.x,this._svgGroup.y=o.y,this._svgGroup.scaleX=o.scaleX,this._svgGroup.scaleY=o.scaleY,this._svgResourceChanged(a)&&(this._freeSVG(),this._useSVG(a));var s=this._svgDispatcherMap=createHashMap(),l=!1;each(this._svgGraphicRecord.named,function(u){var f=u.name,d=r.mapOrGeoModel,v=r.data,g=u.svgNodeTagLower,y=u.el,b=v?v.indexOfName(f):null,_=d.getRegionModel(f);if(OPTION_STYLE_ENABLED_TAG_MAP.get(g)!=null&&y instanceof Displayable_default&&applyOptionStyleForRegion(r,y,b,_),y instanceof Displayable_default&&(y.culling=!0),y.z2EmphasisLift=0,!u.namedFrom&&(LABEL_HOST_MAP.get(g)!=null&&resetLabelForRegion(r,y,f,_,d,b,null),resetEventTriggerForRegion(r,y,f,_,d,b),resetTooltipForRegion(r,y,f,_,d),STATE_TRIGGER_TAG_MAP.get(g)!=null)){var x=resetStateTriggerForRegion(r,y,f,_,d);x==="self"&&(l=!0);var C=s.get(f)||s.set(f,[]);C.push(y)}},this),this._enableBlurEntireSVG(l,r)},n.prototype._enableBlurEntireSVG=function(r,a){if(r&&a.isGeo){var o=a.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),s=o.opacity;this._svgGraphicRecord.root.traverse(function(l){if(!l.isGroup){setDefaultStateProxy(l);var u=l.ensureState("blur").style||{};u.opacity==null&&s!=null&&(u.opacity=s),l.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(r,a){if(r==null)return[];var o=a.coordinateSystem;if(o.resourceType==="geoJSON"){var s=this._regionsGroupByName;if(s){var l=s.get(r);return l?[l]:[]}}else if(o.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(r)||[]},n.prototype._svgResourceChanged=function(r){return this._svgMapName!==r},n.prototype._useSVG=function(r){var a=geoSourceManager_default.getGeoResource(r);if(a&&a.type==="geoSVG"){var o=a.useGraphic(this.uid);this._svgGroup.add(o.root),this._svgGraphicRecord=o,this._svgMapName=r}},n.prototype._freeSVG=function(){var r=this._svgMapName;if(r!=null){var a=geoSourceManager_default.getGeoResource(r);a&&a.type==="geoSVG"&&a.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(r,a,o){var s=r.coordinateSystem,l=this._controller,u=this._controllerHost;u.zoomLimit=r.get("scaleLimit"),u.zoom=s.getZoom(),l.enable(r.get("roam")||!1);var f=r.mainType;function d(){var v={type:"geoRoam",componentType:f};return v[f+"Id"]=r.id,v}l.off("pan").on("pan",function(v){this._mouseDownFlag=!1,updateViewOnPan(u,v.dx,v.dy),o.dispatchAction(extend3(d(),{dx:v.dx,dy:v.dy,animation:{duration:0}}))},this),l.off("zoom").on("zoom",function(v){this._mouseDownFlag=!1,updateViewOnZoom(u,v.scale,v.originX,v.originY),o.dispatchAction(extend3(d(),{zoom:v.scale,originX:v.originX,originY:v.originY,animation:{duration:0}}))},this),l.setPointerChecker(function(v,g,y){return s.containPoint([g,y])&&!onIrrelevantElement(v,o,r)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(r){var a=r.getTextContent();a&&(a.ignore=mapLabelRaw(a).ignore)})},n.prototype._updateMapSelectHandler=function(r,a,o,s){var l=this;a.off("mousedown"),a.off("click"),r.get("selectedMode")&&(a.on("mousedown",function(){l._mouseDownFlag=!0}),a.on("click",function(u){!l._mouseDownFlag||(l._mouseDownFlag=!1)}))},n}();function applyOptionStyleForRegion(n,r,a,o){var s=o.getModel("itemStyle"),l=o.getModel(["emphasis","itemStyle"]),u=o.getModel(["blur","itemStyle"]),f=o.getModel(["select","itemStyle"]),d=getFixedItemStyle(s),v=getFixedItemStyle(l),g=getFixedItemStyle(f),y=getFixedItemStyle(u),b=n.data;if(b){var _=b.getItemVisual(a,"style"),x=b.getItemVisual(a,"decal");n.isVisualEncodedByVisualMap&&_.fill&&(d.fill=_.fill),x&&(d.decal=createOrUpdatePatternFromDecal(x,n.api))}r.setStyle(d),r.style.strokeNoScale=!0,r.ensureState("emphasis").style=v,r.ensureState("select").style=g,r.ensureState("blur").style=y,setDefaultStateProxy(r)}function resetLabelForRegion(n,r,a,o,s,l,u){var f=n.data,d=n.isGeo,v=f&&isNaN(f.get(f.mapDimension("value"),l)),g=f&&f.getItemLayout(l);if(d||v||g&&g.showLabel){var y=d?a:l,b=void 0;(!f||l>=0)&&(b=s);var _=u?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(r,getLabelStatesModels(o),{labelFetcher:b,labelDataIndex:y,defaultText:a},_);var x=r.getTextContent();if(x&&(mapLabelRaw(x).ignore=x.ignore,r.textConfig&&u)){var C=r.getBoundingRect().clone();r.textConfig.layoutRect=C,r.textConfig.position=[(u[0]-C.x)/C.width*100+"%",(u[1]-C.y)/C.height*100+"%"]}r.disableLabelAnimation=!0}else r.removeTextContent(),r.removeTextConfig(),r.disableLabelAnimation=null}function resetEventTriggerForRegion(n,r,a,o,s,l){n.data?n.data.setItemGraphicEl(l,r):getECData(r).eventData={componentType:"geo",componentIndex:s.componentIndex,geoIndex:s.componentIndex,name:a,region:o&&o.option||{}}}function resetTooltipForRegion(n,r,a,o,s){n.data||setTooltipConfig({el:r,componentModel:s,itemName:a,itemTooltipOption:o.get("tooltip")})}function resetStateTriggerForRegion(n,r,a,o,s){r.highDownSilentOnTouch=!!s.get("selectedMode");var l=o.getModel("emphasis"),u=l.get("focus");return toggleHoverEmphasis(r,u,l.get("blurScope"),l.get("disabled")),n.isGeo&&enableComponentHighDownFeatures(r,s,a),u}function projectPolys(n,r,a){var o=[],s;function l(){s=[]}function u(){s.length&&(o.push(s),s=[])}var f=r({polygonStart:l,polygonEnd:u,lineStart:l,lineEnd:u,point:function(d,v){isFinite(d)&&isFinite(v)&&s.push([d,v])},sphere:function(){}});return!a&&f.polygonStart(),each(n,function(d){f.lineStart();for(var v=0;v<d.length;v++)f.point(d[v][0],d[v][1]);f.lineEnd()}),!a&&f.polygonEnd(),o}var MapDraw_default=MapDraw,GeoView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.focusBlurEnabled=!0,a}return r.prototype.init=function(a,o){this._api=o},r.prototype.render=function(a,o,s,l){if(this._model=a,!a.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw_default(s));var u=this._mapDraw;u.draw(a,o,s,this,l),u.group.on("click",this._handleRegionClick,this),u.group.silent=a.get("silent"),this.group.add(u.group),this.updateSelectStatus(a,o,s)},r.prototype._handleRegionClick=function(a){var o;findEventDispatcher(a.target,function(s){return(o=getECData(s).eventData)!=null},!0),o&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:o.name})},r.prototype.updateSelectStatus=function(a,o,s){var l=this;this._mapDraw.group.traverse(function(u){var f=getECData(u).eventData;if(f)return l._model.isSelected(f.name)?s.enterSelect(u):s.leaveSelect(u),!0})},r.prototype.findHighDownDispatchers=function(a){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(a,this._model)},r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},r.type="geo",r}(Component_default2);function layout3(n,r){r=r||{};var a=n.coordinateSystem,o=n.axis,s={},l=o.position,u=o.orient,f=a.getRect(),d=[f.x,f.x+f.width,f.y,f.y+f.height],v={horizontal:{top:d[2],bottom:d[3]},vertical:{left:d[0],right:d[1]}};s.position=[u==="vertical"?v.vertical[l]:d[0],u==="horizontal"?v.horizontal[l]:d[3]];var g={horizontal:0,vertical:1};s.rotation=Math.PI/2*g[u];var y={top:-1,bottom:1,right:1,left:-1};s.labelDirection=s.tickDirection=s.nameDirection=y[l],n.get(["axisTick","inside"])&&(s.tickDirection=-s.tickDirection),retrieve(r.labelInside,n.get(["axisLabel","inside"]))&&(s.labelDirection=-s.labelDirection);var b=r.rotate;return b==null&&(b=n.get(["axisLabel","rotate"])),s.labelRotation=l==="top"?-b:b,s.z2=1,s}var axisBuilderAttrs4=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs3=["splitArea","splitLine"],SingleAxisView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.axisPointerClass="SingleAxisPointer",a}return r.prototype.render=function(a,o,s,l){var u=this.group;u.removeAll();var f=this._axisGroup;this._axisGroup=new Group_default;var d=layout3(a),v=new AxisBuilder_default(a,d);each(axisBuilderAttrs4,v.add,v),u.add(this._axisGroup),u.add(v.getGroup()),each(selfBuilderAttrs3,function(g){a.get([g,"show"])&&axisElementBuilders3[g](this,this.group,this._axisGroup,a)},this),groupTransition(f,this._axisGroup,a),n.prototype.render.call(this,a,o,s,l)},r.prototype.remove=function(){rectCoordAxisHandleRemove(this)},r.type="singleAxis",r}(AxisView_default),axisElementBuilders3={splitLine:function(n,r,a,o){var s=o.axis;if(!s.scale.isBlank()){var l=o.getModel("splitLine"),u=l.getModel("lineStyle"),f=u.get("color");f=f instanceof Array?f:[f];for(var d=o.coordinateSystem.getRect(),v=s.isHorizontal(),g=[],y=0,b=s.getTicksCoords({tickModel:l}),_=[],x=[],C=0;C<b.length;++C){var w=s.toGlobalCoord(b[C].coord);v?(_[0]=w,_[1]=d.y,x[0]=w,x[1]=d.y+d.height):(_[0]=d.x,_[1]=w,x[0]=d.x+d.width,x[1]=w);var S=y++%f.length;g[S]=g[S]||[],g[S].push(new Line_default({subPixelOptimize:!0,shape:{x1:_[0],y1:_[1],x2:x[0],y2:x[1]},silent:!0}))}for(var D=u.getLineStyle(["color"]),C=0;C<g.length;++C)r.add(mergePath2(g[C],{style:defaults({stroke:f[C%f.length]},D),silent:!0}))}},splitArea:function(n,r,a,o){rectCoordAxisBuildSplitArea(n,a,o,o)}},XY=["x","y"],WH=["width","height"],SingleAxisPointer=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.makeElOption=function(a,o,s,l,u){var f=s.axis,d=f.coordinateSystem,v=getGlobalExtent(d,1-getPointDimIndex(f)),g=d.dataToPoint(o)[0],y=l.get("type");if(y&&y!=="none"){var b=buildElStyle(l),_=pointerShapeBuilder3[y](f,g,v);_.style=b,a.graphicKey=_.type,a.pointer=_}var x=layout3(s);buildCartesianSingleLabelElOption(o,a,x,s,l,u)},r.prototype.getHandleTransform=function(a,o,s){var l=layout3(o,{labelInside:!1});l.labelMargin=s.get(["handle","margin"]);var u=getTransformedPosition(o.axis,a,l);return{x:u[0],y:u[1],rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(a,o,s,l){var u=s.axis,f=u.coordinateSystem,d=getPointDimIndex(u),v=getGlobalExtent(f,d),g=[a.x,a.y];g[d]+=o[d],g[d]=Math.min(v[1],g[d]),g[d]=Math.max(v[0],g[d]);var y=getGlobalExtent(f,1-d),b=(y[1]+y[0])/2,_=[b,b];return _[d]=g[d],{x:g[0],y:g[1],rotation:a.rotation,cursorPoint:_,tooltipOption:{verticalAlign:"middle"}}},r}(BaseAxisPointer_default),pointerShapeBuilder3={line:function(n,r,a){var o=makeLineShape([r,a[0]],[r,a[1]],getPointDimIndex(n));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(n,r,a){var o=n.getBandWidth(),s=a[1]-a[0];return{type:"Rect",shape:makeRectShape([r-o/2,a[0]],[o,s],getPointDimIndex(n))}}};function getPointDimIndex(n){return n.isHorizontal()?0:1}function getGlobalExtent(n,r){var a=n.getRect();return[a[XY[r]],a[XY[r]]+a[WH[r]]]}var SingleView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="single",r}(Component_default2),CLICK_THRESHOLD=5,ParallelView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){this._model=a,this._api=s,this._handlers||(this._handlers={},each(handlers,function(l,u){s.getZr().on(u,this._handlers[u]=bind(l,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},r.prototype.dispose=function(a,o){clear2(this,"_throttledDispatchExpand"),each(this._handlers,function(s,l){o.getZr().off(l,s)}),this._handlers=null},r.prototype._throttledDispatchExpand=function(a){this._dispatchExpand(a)},r.prototype._dispatchExpand=function(a){a&&this._api.dispatchAction(extend3({type:"parallelAxisExpand"},a))},r.type="parallel",r}(Component_default2),handlers={mousedown:function(n){checkTrigger(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var r=this._mouseDownPoint;if(checkTrigger(this,"click")&&r){var a=[n.offsetX,n.offsetY],o=Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2);if(o>CLICK_THRESHOLD)return;var s=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);s.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:s.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var r=this._model,a=r.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),o=a.behavior;o==="jump"&&this._throttledDispatchExpand.debounceNextCall(r.get("axisExpandDebounce")),this._throttledDispatchExpand(o==="none"?null:{axisExpandWindow:a.axisExpandWindow,animation:o==="jump"?null:{duration:0}})}}};function checkTrigger(n,r){var a=n._model;return a.get("axisExpandable")&&a.get("axisExpandTriggerOn")===r}function sliderMove(n,r,a,o,s,l){n=n||0;var u=a[1]-a[0];if(s!=null&&(s=restrict(s,[0,u])),l!=null&&(l=Math.max(l,s!=null?s:0)),o==="all"){var f=Math.abs(r[1]-r[0]);f=restrict(f,[0,u]),s=l=restrict(f,[s,l]),o=0}r[0]=restrict(r[0],a),r[1]=restrict(r[1],a);var d=getSpanSign(r,o);r[o]+=n;var v=s||0,g=a.slice();d.sign<0?g[0]+=v:g[1]-=v,r[o]=restrict(r[o],g);var y;return y=getSpanSign(r,o),s!=null&&(y.sign!==d.sign||y.span<s)&&(r[1-o]=r[o]+d.sign*s),y=getSpanSign(r,o),l!=null&&y.span>l&&(r[1-o]=r[o]+y.sign*l),r}function getSpanSign(n,r){var a=n[r]-n[1-r];return{span:Math.abs(a),sign:a>0?-1:a<0?1:r?-1:1}}function restrict(n,r){return Math.min(r[1]!=null?r[1]:1/0,Math.max(r[0]!=null?r[0]:-1/0,n))}var BRUSH_PANEL_GLOBAL=!0,mathMin6=Math.min,mathMax6=Math.max,mathPow3=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(n){__extends(r,n);function r(a){var o=n.call(this)||this;return o._track=[],o._covers=[],o._handlers={},assert(a),o._zr=a,o.group=new Group_default,o._uid="brushController_"+baseUID++,each(pointerHandlers,function(s,l){this._handlers[l]=bind(s,this)},o),o}return r.prototype.enableBrush=function(a){return assert(this._mounted),this._brushType&&this._doDisableBrush(),a.brushType&&this._doEnableBrush(a),this},r.prototype._doEnableBrush=function(a){var o=this._zr;this._enableGlobalPan||take(o,MUTEX_RESOURCE_KEY,this._uid),each(this._handlers,function(s,l){o.on(l,s)}),this._brushType=a.brushType,this._brushOption=merge3(clone(DEFAULT_BRUSH_OPT),a,!0)},r.prototype._doDisableBrush=function(){var a=this._zr;release(a,MUTEX_RESOURCE_KEY,this._uid),each(this._handlers,function(o,s){a.off(s,o)}),this._brushType=this._brushOption=null},r.prototype.setPanels=function(a){if(a&&a.length){var o=this._panels={};each(a,function(s){o[s.panelId]=clone(s)})}else this._panels=null;return this},r.prototype.mount=function(a){a=a||{},this._mounted=!0,this._enableGlobalPan=a.enableGlobalPan;var o=this.group;return this._zr.add(o),o.attr({x:a.x||0,y:a.y||0,rotation:a.rotation||0,scaleX:a.scaleX||1,scaleY:a.scaleY||1}),this._transform=o.getLocalTransform(),this},r.prototype.updateCovers=function(a){assert(this._mounted),a=map3(a,function(b){return merge3(clone(DEFAULT_BRUSH_OPT),b,!0)});var o="\0-brush-index-",s=this._covers,l=this._covers=[],u=this,f=this._creatingCover;return new DataDiffer_default(s,a,v,d).add(g).update(g).remove(y).execute(),this;function d(b,_){return(b.id!=null?b.id:o+_)+"-"+b.brushType}function v(b,_){return d(b.__brushOption,_)}function g(b,_){var x=a[b];if(_!=null&&s[_]===f)l[b]=s[_];else{var C=l[b]=_!=null?(s[_].__brushOption=x,s[_]):endCreating(u,createCover(u,x));updateCoverAfterCreation(u,C)}}function y(b){s[b]!==f&&u.group.remove(s[b])}},r.prototype.unmount=function(){if(!!this._mounted)return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this._mounted=!1,this},r.prototype.dispose=function(){this.unmount(),this.off()},r}(Eventful_default);function createCover(n,r){var a=coverRenderers[r.brushType].createCover(n,r);return a.__brushOption=r,updateZ(a,r),n.group.add(a),a}function endCreating(n,r){var a=getCoverRenderer(r);return a.endCreating&&(a.endCreating(n,r),updateZ(r,r.__brushOption)),r}function updateCoverShape(n,r){var a=r.__brushOption;getCoverRenderer(r).updateCoverShape(n,r,a.range,a)}function updateZ(n,r){var a=r.z;a==null&&(a=COVER_Z),n.traverse(function(o){o.z=a,o.z2=a})}function updateCoverAfterCreation(n,r){getCoverRenderer(r).updateCommon(n,r),updateCoverShape(n,r)}function getCoverRenderer(n){return coverRenderers[n.__brushOption.brushType]}function getPanelByPoint(n,r,a){var o=n._panels;if(!o)return BRUSH_PANEL_GLOBAL;var s,l=n._transform;return each(o,function(u){u.isTargetByCursor(r,a,l)&&(s=u)}),s}function getPanelByCover(n,r){var a=n._panels;if(!a)return BRUSH_PANEL_GLOBAL;var o=r.__brushOption.panelId;return o!=null?a[o]:BRUSH_PANEL_GLOBAL}function clearCovers(n){var r=n._covers,a=r.length;return each(r,function(o){n.group.remove(o)},n),r.length=0,!!a}function trigger4(n,r){var a=map3(n._covers,function(o){var s=o.__brushOption,l=clone(s.range);return{brushType:s.brushType,panelId:s.panelId,range:l}});n.trigger("brush",{areas:a,isEnd:!!r.isEnd,removeOnClick:!!r.removeOnClick})}function shouldShowCover(n){var r=n._track;if(!r.length)return!1;var a=r[r.length-1],o=r[0],s=a[0]-o[0],l=a[1]-o[1],u=mathPow3(s*s+l*l,.5);return u>UNSELECT_THRESHOLD}function getTrackEnds(n){var r=n.length-1;return r<0&&(r=0),[n[0],n[r]]}function createBaseRectCover(n,r,a,o){var s=new Group_default;return s.add(new Rect_default({name:"main",style:makeStyle(a),silent:!0,draggable:!0,cursor:"move",drift:curry(driftRect,n,r,s,["n","s","w","e"]),ondragend:curry(trigger4,r,{isEnd:!0})})),each(o,function(l){s.add(new Rect_default({name:l.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry(driftRect,n,r,s,l),ondragend:curry(trigger4,r,{isEnd:!0})}))}),s}function updateBaseRect(n,r,a,o){var s=o.brushStyle.lineWidth||0,l=mathMax6(s,MIN_RESIZE_LINE_WIDTH),u=a[0][0],f=a[1][0],d=u-s/2,v=f-s/2,g=a[0][1],y=a[1][1],b=g-l+s/2,_=y-l+s/2,x=g-u,C=y-f,w=x+s,S=C+s;updateRectShape(n,r,"main",u,f,x,C),o.transformable&&(updateRectShape(n,r,"w",d,v,l,S),updateRectShape(n,r,"e",b,v,l,S),updateRectShape(n,r,"n",d,v,w,l),updateRectShape(n,r,"s",d,_,w,l),updateRectShape(n,r,"nw",d,v,l,l),updateRectShape(n,r,"ne",b,v,l,l),updateRectShape(n,r,"sw",d,_,l,l),updateRectShape(n,r,"se",b,_,l,l))}function updateCommon(n,r){var a=r.__brushOption,o=a.transformable,s=r.childAt(0);s.useStyle(makeStyle(a)),s.attr({silent:!o,cursor:o?"move":"default"}),each([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(l){var u=r.childOfName(l.join("")),f=l.length===1?getGlobalDirection1(n,l[0]):getGlobalDirection2(n,l);u&&u.attr({silent:!o,invisible:!o,cursor:o?CURSOR_MAP[f]+"-resize":null})})}function updateRectShape(n,r,a,o,s,l,u){var f=r.childOfName(a);f&&f.setShape(pointsToRect(clipByPanel(n,r,[[o,s],[o+l,s+u]])))}function makeStyle(n){return defaults({strokeNoScale:!0},n.brushStyle)}function formatRectRange(n,r,a,o){var s=[mathMin6(n,a),mathMin6(r,o)],l=[mathMax6(n,a),mathMax6(r,o)];return[[s[0],l[0]],[s[1],l[1]]]}function getTransform2(n){return getTransform(n.group)}function getGlobalDirection1(n,r){var a={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},s=transformDirection(a[r],getTransform2(n));return o[s]}function getGlobalDirection2(n,r){var a=[getGlobalDirection1(n,r[0]),getGlobalDirection1(n,r[1])];return(a[0]==="e"||a[0]==="w")&&a.reverse(),a.join("")}function driftRect(n,r,a,o,s,l){var u=a.__brushOption,f=n.toRectRange(u.range),d=toLocalDelta(r,s,l);each(o,function(v){var g=DIRECTION_MAP[v];f[g[0]][g[1]]+=d[g[0]]}),u.range=n.fromRectRange(formatRectRange(f[0][0],f[1][0],f[0][1],f[1][1])),updateCoverAfterCreation(r,a),trigger4(r,{isEnd:!1})}function driftPolygon(n,r,a,o){var s=r.__brushOption.range,l=toLocalDelta(n,a,o);each(s,function(u){u[0]+=l[0],u[1]+=l[1]}),updateCoverAfterCreation(n,r),trigger4(n,{isEnd:!1})}function toLocalDelta(n,r,a){var o=n.group,s=o.transformCoordToLocal(r,a),l=o.transformCoordToLocal(0,0);return[s[0]-l[0],s[1]-l[1]]}function clipByPanel(n,r,a){var o=getPanelByCover(n,r);return o&&o!==BRUSH_PANEL_GLOBAL?o.clipPath(a,n._transform):clone(a)}function pointsToRect(n){var r=mathMin6(n[0][0],n[1][0]),a=mathMin6(n[0][1],n[1][1]),o=mathMax6(n[0][0],n[1][0]),s=mathMax6(n[0][1],n[1][1]);return{x:r,y:a,width:o-r,height:s-a}}function resetCursor(n,r,a){if(!(!n._brushType||isOutsideZrArea(n,r.offsetX,r.offsetY))){var o=n._zr,s=n._covers,l=getPanelByPoint(n,r,a);if(!n._dragging)for(var u=0;u<s.length;u++){var f=s[u].__brushOption;if(l&&(l===BRUSH_PANEL_GLOBAL||f.panelId===l.panelId)&&coverRenderers[f.brushType].contain(s[u],a[0],a[1]))return}l&&o.setCursorStyle("crosshair")}}function preventDefault(n){var r=n.event;r.preventDefault&&r.preventDefault()}function mainShapeContain(n,r,a){return n.childOfName("main").contain(r,a)}function updateCoverByMouse(n,r,a,o){var s=n._creatingCover,l=n._creatingPanel,u=n._brushOption,f;if(n._track.push(a.slice()),shouldShowCover(n)||s){if(l&&!s){u.brushMode==="single"&&clearCovers(n);var d=clone(u);d.brushType=determineBrushType(d.brushType,l),d.panelId=l===BRUSH_PANEL_GLOBAL?null:l.panelId,s=n._creatingCover=createCover(n,d),n._covers.push(s)}if(s){var v=coverRenderers[determineBrushType(n._brushType,l)],g=s.__brushOption;g.range=v.getCreatingRange(clipByPanel(n,s,n._track)),o&&(endCreating(n,s),v.updateCommon(n,s)),updateCoverShape(n,s),f={isEnd:o}}}else o&&u.brushMode==="single"&&u.removeOnClick&&getPanelByPoint(n,r,a)&&clearCovers(n)&&(f={isEnd:o,removeOnClick:!0});return f}function determineBrushType(n,r){return n==="auto"?(assert(r&&r.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),r.defaultBrushType):n}var pointerHandlers={mousedown:function(n){if(this._dragging)handleDragEnd(this,n);else if(!n.target||!n.target.draggable){preventDefault(n);var r=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null;var a=this._creatingPanel=getPanelByPoint(this,n,r);a&&(this._dragging=!0,this._track=[r.slice()])}},mousemove:function(n){var r=n.offsetX,a=n.offsetY,o=this.group.transformCoordToLocal(r,a);if(resetCursor(this,n,o),this._dragging){preventDefault(n);var s=updateCoverByMouse(this,n,o,!1);s&&trigger4(this,s)}},mouseup:function(n){handleDragEnd(this,n)}};function handleDragEnd(n,r){if(n._dragging){preventDefault(r);var a=r.offsetX,o=r.offsetY,s=n.group.transformCoordToLocal(a,o),l=updateCoverByMouse(n,r,s,!0);n._dragging=!1,n._track=[],n._creatingCover=null,l&&trigger4(n,l)}}function isOutsideZrArea(n,r,a){var o=n._zr;return r<0||r>o.getWidth()||a<0||a>o.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(n,r){function a(o){return o}return createBaseRectCover({toRectRange:a,fromRectRange:a},n,r,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var r=getTrackEnds(n);return formatRectRange(r[1][0],r[1][1],r[0][0],r[0][1])},updateCoverShape:function(n,r,a,o){updateBaseRect(n,r,a,o)},updateCommon,contain:mainShapeContain},polygon:{createCover:function(n,r){var a=new Group_default;return a.add(new Polyline_default({name:"main",style:makeStyle(r),silent:!0})),a},getCreatingRange:function(n){return n},endCreating:function(n,r){r.remove(r.childAt(0)),r.add(new Polygon_default({name:"main",draggable:!0,drift:curry(driftPolygon,n,r),ondragend:curry(trigger4,n,{isEnd:!0})}))},updateCoverShape:function(n,r,a,o){r.childAt(0).setShape({points:clipByPanel(n,r,a)})},updateCommon,contain:mainShapeContain}};function getLineRenderer(n){return{createCover:function(r,a){return createBaseRectCover({toRectRange:function(o){var s=[o,[0,100]];return n&&s.reverse(),s},fromRectRange:function(o){return o[n]}},r,a,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(r){var a=getTrackEnds(r),o=mathMin6(a[0][n],a[1][n]),s=mathMax6(a[0][n],a[1][n]);return[o,s]},updateCoverShape:function(r,a,o,s){var l,u=getPanelByCover(r,a);if(u!==BRUSH_PANEL_GLOBAL&&u.getLinearBrushOtherExtent)l=u.getLinearBrushOtherExtent(n);else{var f=r._zr;l=[0,[f.getWidth(),f.getHeight()][1-n]]}var d=[o,l];n&&d.reverse(),updateBaseRect(r,a,d,s)},updateCommon,contain:mainShapeContain}}var BrushController_default=BrushController;function makeRectPanelClipPath(n){return n=normalizeRect(n),function(r){return clipPointsByRect(r,n)}}function makeLinearBrushOtherExtent(n,r){return n=normalizeRect(n),function(a){var o=r!=null?r:a,s=o?n.width:n.height,l=o?n.x:n.y;return[l,l+(s||0)]}}function makeRectIsTargetByCursor(n,r,a){var o=normalizeRect(n);return function(s,l){return o.contain(l[0],l[1])&&!onIrrelevantElement(s,r,a)}}function normalizeRect(n){return BoundingRect_default.create(n)}var elementList2=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.init=function(a,o){n.prototype.init.apply(this,arguments),(this._brushController=new BrushController_default(o.getZr())).on("brush",bind(this._onBrush,this))},r.prototype.render=function(a,o,s,l){if(!fromAxisAreaSelect(a,o,l)){this.axisModel=a,this.api=s,this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new Group_default,this.group.add(this._axisGroup),!!a.get("show")){var f=getCoordSysModel(a,o),d=f.coordinateSystem,v=a.getAreaSelectStyle(),g=v.width,y=a.axis.dim,b=d.getAxisLayout(y),_=extend3({strokeContainThreshold:g},b),x=new AxisBuilder_default(a,_);each(elementList2,x.add,x),this._axisGroup.add(x.getGroup()),this._refreshBrushController(_,v,a,f,g,s),groupTransition(u,this._axisGroup,a)}}},r.prototype._refreshBrushController=function(a,o,s,l,u,f){var d=s.axis.getExtent(),v=d[1]-d[0],g=Math.min(30,Math.abs(v)*.1),y=BoundingRect_default.create({x:d[0],y:-u/2,width:v,height:u});y.x-=g,y.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,x:a.position[0],y:a.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(y),isTargetByCursor:makeRectIsTargetByCursor(y,f,l),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(y,0)}]).enableBrush({brushType:"lineX",brushStyle:o,removeOnClick:!0}).updateCovers(getCoverInfoList(s))},r.prototype._onBrush=function(a){var o=a.areas,s=this.axisModel,l=s.axis,u=map3(o,function(f){return[l.coordToData(f.range[0],!0),l.coordToData(f.range[1],!0)]});(!s.option.realtime===a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:s.id,intervals:u})},r.prototype.dispose=function(){this._brushController.dispose()},r.type="parallelAxis",r}(Component_default2);function fromAxisAreaSelect(n,r,a){return a&&a.type==="axisAreaSelect"&&r.findComponents({mainType:"parallelAxis",query:a})[0]===n}function getCoverInfoList(n){var r=n.axis;return map3(n.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[r.dataToCoord(a[0],!0),r.dataToCoord(a[1],!0)]}})}function getCoordSysModel(n,r){return r.getComponent("parallel",n.get("parallelIndex"))}var CalendarView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){var l=this.group;l.removeAll();var u=a.coordinateSystem,f=u.getRangeInfo(),d=u.getOrient(),v=o.getLocaleModel();this._renderDayRect(a,f,l),this._renderLines(a,f,d,l),this._renderYearText(a,f,d,l),this._renderMonthText(a,v,d,l),this._renderWeekText(a,v,f,d,l)},r.prototype._renderDayRect=function(a,o,s){for(var l=a.coordinateSystem,u=a.getModel("itemStyle").getItemStyle(),f=l.getCellWidth(),d=l.getCellHeight(),v=o.start.time;v<=o.end.time;v=l.getNextNDay(v,1).time){var g=l.dataToRect([v],!1).tl,y=new Rect_default({shape:{x:g[0],y:g[1],width:f,height:d},cursor:"default",style:u});s.add(y)}},r.prototype._renderLines=function(a,o,s,l){var u=this,f=a.coordinateSystem,d=a.getModel(["splitLine","lineStyle"]).getLineStyle(),v=a.get(["splitLine","show"]),g=d.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var y=o.start,b=0;y.time<=o.end.time;b++){x(y.formatedDate),b===0&&(y=f.getDateInfo(o.start.y+"-"+o.start.m));var _=y.date;_.setMonth(_.getMonth()+1),y=f.getDateInfo(_)}x(f.getNextNDay(o.end.time,1).formatedDate);function x(C){u._firstDayOfMonth.push(f.getDateInfo(C)),u._firstDayPoints.push(f.dataToRect([C],!1).tl);var w=u._getLinePointsOfOneWeek(a,C,s);u._tlpoints.push(w[0]),u._blpoints.push(w[w.length-1]),v&&u._drawSplitline(w,d,l)}v&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,g,s),d,l),v&&this._drawSplitline(u._getEdgesPoints(u._blpoints,g,s),d,l)},r.prototype._getEdgesPoints=function(a,o,s){var l=[a[0].slice(),a[a.length-1].slice()],u=s==="horizontal"?0:1;return l[0][u]=l[0][u]-o/2,l[1][u]=l[1][u]+o/2,l},r.prototype._drawSplitline=function(a,o,s){var l=new Polyline_default({z2:20,shape:{points:a},style:o});s.add(l)},r.prototype._getLinePointsOfOneWeek=function(a,o,s){for(var l=a.coordinateSystem,u=l.getDateInfo(o),f=[],d=0;d<7;d++){var v=l.getNextNDay(u.time,d),g=l.dataToRect([v.time],!1);f[2*v.day]=g.tl,f[2*v.day+1]=g[s==="horizontal"?"bl":"tr"]}return f},r.prototype._formatterLabel=function(a,o){return isString2(a)&&a?formatTplSimple(a,o):isFunction3(a)?a(o):o.nameMap},r.prototype._yearTextPositionControl=function(a,o,s,l,u){var f=o[0],d=o[1],v=["center","bottom"];l==="bottom"?(d+=u,v=["center","top"]):l==="left"?f-=u:l==="right"?(f+=u,v=["center","top"]):d-=u;var g=0;return(l==="left"||l==="right")&&(g=Math.PI/2),{rotation:g,x:f,y:d,style:{align:v[0],verticalAlign:v[1]}}},r.prototype._renderYearText=function(a,o,s,l){var u=a.getModel("yearLabel");if(!!u.get("show")){var f=u.get("margin"),d=u.get("position");d||(d=s!=="horizontal"?"top":"left");var v=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(v[0][0]+v[1][0])/2,y=(v[0][1]+v[1][1])/2,b=s==="horizontal"?0:1,_={top:[g,v[b][1]],bottom:[g,v[1-b][1]],left:[v[1-b][0],y],right:[v[b][0],y]},x=o.start.y;+o.end.y>+o.start.y&&(x=x+"-"+o.end.y);var C=u.get("formatter"),w={start:o.start.y,end:o.end.y,nameMap:x},S=this._formatterLabel(C,w),D=new Text_default({z2:30,style:createTextStyle(u,{text:S})});D.attr(this._yearTextPositionControl(D,_[d],s,d,f)),l.add(D)}},r.prototype._monthTextPositionControl=function(a,o,s,l,u){var f="left",d="top",v=a[0],g=a[1];return s==="horizontal"?(g=g+u,o&&(f="center"),l==="start"&&(d="bottom")):(v=v+u,o&&(d="middle"),l==="start"&&(f="right")),{x:v,y:g,align:f,verticalAlign:d}},r.prototype._renderMonthText=function(a,o,s,l){var u=a.getModel("monthLabel");if(!!u.get("show")){var f=u.get("nameMap"),d=u.get("margin"),v=u.get("position"),g=u.get("align"),y=[this._tlpoints,this._blpoints];(!f||isString2(f))&&(f&&(o=getLocaleModel(f)||o),f=o.get(["time","monthAbbr"])||[]);var b=v==="start"?0:1,_=s==="horizontal"?0:1;d=v==="start"?-d:d;for(var x=g==="center",C=0;C<y[b].length-1;C++){var w=y[b][C].slice(),S=this._firstDayOfMonth[C];if(x){var D=this._firstDayPoints[C];w[_]=(D[_]+y[0][C+1][_])/2}var A=u.get("formatter"),T=f[+S.m-1],M={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:T},E=this._formatterLabel(A,M),P=new Text_default({z2:30,style:extend3(createTextStyle(u,{text:E}),this._monthTextPositionControl(w,x,s,v,d))});l.add(P)}}},r.prototype._weekTextPositionControl=function(a,o,s,l,u){var f="center",d="middle",v=a[0],g=a[1],y=s==="start";return o==="horizontal"?(v=v+l+(y?1:-1)*u[0]/2,f=y?"right":"left"):(g=g+l+(y?1:-1)*u[1]/2,d=y?"bottom":"top"),{x:v,y:g,align:f,verticalAlign:d}},r.prototype._renderWeekText=function(a,o,s,l,u){var f=a.getModel("dayLabel");if(!!f.get("show")){var d=a.coordinateSystem,v=f.get("position"),g=f.get("nameMap"),y=f.get("margin"),b=d.getFirstDayOfWeek();if(!g||isString2(g)){g&&(o=getLocaleModel(g)||o);var _=o.get(["time","dayOfWeekShort"]);g=_||map3(o.get(["time","dayOfWeekAbbr"]),function(M){return M[0]})}var x=d.getNextNDay(s.end.time,7-s.lweek).time,C=[d.getCellWidth(),d.getCellHeight()];y=parsePercent2(y,Math.min(C[1],C[0])),v==="start"&&(x=d.getNextNDay(s.start.time,-(7+s.fweek)).time,y=-y);for(var w=0;w<7;w++){var S=d.getNextNDay(x,w),D=d.dataToRect([S.time],!1).center,A=w;A=Math.abs((w+b)%7);var T=new Text_default({z2:30,style:extend3(createTextStyle(f,{text:g[A]}),this._weekTextPositionControl(D,l,v,y,C))});u.add(T)}}},r.type="calendar",r}(Component_default2);function setKeyInfoToNewElOption(n,r){var a=n.existing;if(r.id=n.keyInfo.id,!r.type&&a&&(r.type=a.type),r.parentId==null){var o=r.parentOption;o?r.parentId=o.id:a&&(r.parentId=a.parentId)}r.parentOption=null}function isSetLoc(n,r){var a;return each(r,function(o){n[o]!=null&&n[o]!=="auto"&&(a=!0)}),a}function mergeNewElOptionToExist(n,r,a){var o=extend3({},a),s=n[r],l=a.$action||"merge";if(l==="merge")if(s){var u=a.type;assert(!u||s.type===u,'Please set $action: "replace" to change `type`'),merge3(s,o,!0),mergeLayoutParam(s,o,{ignoreSize:!0}),copyLayoutParams(a,s),copyTransitionInfo(a,s),copyTransitionInfo(a,s,"shape"),copyTransitionInfo(a,s,"style"),copyTransitionInfo(a,s,"extra"),a.clipPath=s.clipPath}else n[r]=o;else l==="replace"?n[r]=o:l==="remove"&&s&&(n[r]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(n,r,a){if(a&&(!n[a]&&r[a]&&(n[a]={}),n=n[a],r=r[a]),!(!n||!r))for(var o=a?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,s=0;s<o.length;s++){var l=o[s];n[l]==null&&r[l]!=null&&(n[l]=r[l])}}function setLayoutInfoToExist(n,r){if(!!n&&(n.hv=r.hv=[isSetLoc(r,["left","right"]),isSetLoc(r,["top","bottom"])],n.type==="group")){var a=n,o=r;a.width==null&&(a.width=o.width=0),a.height==null&&(a.height=o.height=0)}}var GraphicComponentModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.preventAutoZ=!0,a}return r.prototype.mergeOption=function(a,o){var s=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,a,o),this.option.elements=s},r.prototype.optionUpdated=function(a,o){var s=this.option,l=(o?s:a).elements,u=s.elements=o?[]:s.elements,f=[];this._flatten(l,f,null);var d=mappingToExists(u,f,"normalMerge"),v=this._elOptionsToUpdate=[];each(d,function(g,y){var b=g.newOption;assert(isObject3(b)||g.existing,"Empty graphic option definition"),!!b&&(v.push(b),setKeyInfoToNewElOption(g,b),mergeNewElOptionToExist(u,y,b),setLayoutInfoToExist(u[y],b))},this),s.elements=filter(u,function(g){return g&&delete g.$action,g!=null})},r.prototype._flatten=function(a,o,s){each(a,function(l){if(!!l){s&&(l.parentOption=s),o.push(l);var u=l.children;l.type==="group"&&u&&this._flatten(u,o,l),delete l.children}},this)},r.prototype.useElOptionsToUpdate=function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a},r.type="graphic",r.defaultOption={elements:[]},r}(Component_default),deprecatedLogs={};function isEC4CompatibleStyle(n,r,a,o){return n&&(n.legacy||n.legacy!==!1&&!a&&!o&&r!=="tspan"&&(r==="text"||hasOwn2(n,"text")))}function convertFromEC4CompatibleStyle(n,r,a){var o=n,s,l,u;if(r==="text")u=o;else{u={},hasOwn2(o,"text")&&(u.text=o.text),hasOwn2(o,"rich")&&(u.rich=o.rich),hasOwn2(o,"textFill")&&(u.fill=o.textFill),hasOwn2(o,"textStroke")&&(u.stroke=o.textStroke),hasOwn2(o,"fontFamily")&&(u.fontFamily=o.fontFamily),hasOwn2(o,"fontSize")&&(u.fontSize=o.fontSize),hasOwn2(o,"fontStyle")&&(u.fontStyle=o.fontStyle),hasOwn2(o,"fontWeight")&&(u.fontWeight=o.fontWeight),l={type:"text",style:u,silent:!0},s={};var f=hasOwn2(o,"textPosition");a?s.position=f?o.textPosition:"inside":f&&(s.position=o.textPosition),hasOwn2(o,"textPosition")&&(s.position=o.textPosition),hasOwn2(o,"textOffset")&&(s.offset=o.textOffset),hasOwn2(o,"textRotation")&&(s.rotation=o.textRotation),hasOwn2(o,"textDistance")&&(s.distance=o.textDistance)}return convertEC4CompatibleRichItem(u,n),each(u.rich,function(d){convertEC4CompatibleRichItem(d,d)}),{textConfig:s,textContent:l}}function convertEC4CompatibleRichItem(n,r){!r||(r.font=r.textFont||r.font,hasOwn2(r,"textStrokeWidth")&&(n.lineWidth=r.textStrokeWidth),hasOwn2(r,"textAlign")&&(n.align=r.textAlign),hasOwn2(r,"textVerticalAlign")&&(n.verticalAlign=r.textVerticalAlign),hasOwn2(r,"textLineHeight")&&(n.lineHeight=r.textLineHeight),hasOwn2(r,"textWidth")&&(n.width=r.textWidth),hasOwn2(r,"textHeight")&&(n.height=r.textHeight),hasOwn2(r,"textBackgroundColor")&&(n.backgroundColor=r.textBackgroundColor),hasOwn2(r,"textPadding")&&(n.padding=r.textPadding),hasOwn2(r,"textBorderColor")&&(n.borderColor=r.textBorderColor),hasOwn2(r,"textBorderWidth")&&(n.borderWidth=r.textBorderWidth),hasOwn2(r,"textBorderRadius")&&(n.borderRadius=r.textBorderRadius),hasOwn2(r,"textBoxShadowColor")&&(n.shadowColor=r.textBoxShadowColor),hasOwn2(r,"textBoxShadowBlur")&&(n.shadowBlur=r.textBoxShadowBlur),hasOwn2(r,"textBoxShadowOffsetX")&&(n.shadowOffsetX=r.textBoxShadowOffsetX),hasOwn2(r,"textBoxShadowOffsetY")&&(n.shadowOffsetY=r.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(n,r,a){var o=n;o.textPosition=o.textPosition||a.position||"inside",a.offset!=null&&(o.textOffset=a.offset),a.rotation!=null&&(o.textRotation=a.rotation),a.distance!=null&&(o.textDistance=a.distance);var s=o.textPosition.indexOf("inside")>=0,l=n.fill||"#000";convertToEC4RichItem(o,r);var u=o.textFill==null;return s?u&&(o.textFill=a.insideFill||"#fff",!o.textStroke&&a.insideStroke&&(o.textStroke=a.insideStroke),!o.textStroke&&(o.textStroke=l),o.textStrokeWidth==null&&(o.textStrokeWidth=2)):(u&&(o.textFill=n.fill||a.outsideFill||"#000"),!o.textStroke&&a.outsideStroke&&(o.textStroke=a.outsideStroke)),o.text=r.text,o.rich=r.rich,each(r.rich,function(f){convertToEC4RichItem(f,f)}),o}function convertToEC4RichItem(n,r){!r||(hasOwn2(r,"fill")&&(n.textFill=r.fill),hasOwn2(r,"stroke")&&(n.textStroke=r.fill),hasOwn2(r,"lineWidth")&&(n.textStrokeWidth=r.lineWidth),hasOwn2(r,"font")&&(n.font=r.font),hasOwn2(r,"fontStyle")&&(n.fontStyle=r.fontStyle),hasOwn2(r,"fontWeight")&&(n.fontWeight=r.fontWeight),hasOwn2(r,"fontSize")&&(n.fontSize=r.fontSize),hasOwn2(r,"fontFamily")&&(n.fontFamily=r.fontFamily),hasOwn2(r,"align")&&(n.textAlign=r.align),hasOwn2(r,"verticalAlign")&&(n.textVerticalAlign=r.verticalAlign),hasOwn2(r,"lineHeight")&&(n.textLineHeight=r.lineHeight),hasOwn2(r,"width")&&(n.textWidth=r.width),hasOwn2(r,"height")&&(n.textHeight=r.height),hasOwn2(r,"backgroundColor")&&(n.textBackgroundColor=r.backgroundColor),hasOwn2(r,"padding")&&(n.textPadding=r.padding),hasOwn2(r,"borderColor")&&(n.textBorderColor=r.borderColor),hasOwn2(r,"borderWidth")&&(n.textBorderWidth=r.borderWidth),hasOwn2(r,"borderRadius")&&(n.textBorderRadius=r.borderRadius),hasOwn2(r,"shadowColor")&&(n.textBoxShadowColor=r.shadowColor),hasOwn2(r,"shadowBlur")&&(n.textBoxShadowBlur=r.shadowBlur),hasOwn2(r,"shadowOffsetX")&&(n.textBoxShadowOffsetX=r.shadowOffsetX),hasOwn2(r,"shadowOffsetY")&&(n.textBoxShadowOffsetY=r.shadowOffsetY),hasOwn2(r,"textShadowColor")&&(n.textShadowColor=r.textShadowColor),hasOwn2(r,"textShadowBlur")&&(n.textShadowBlur=r.textShadowBlur),hasOwn2(r,"textShadowOffsetX")&&(n.textShadowOffsetX=r.textShadowOffsetX),hasOwn2(r,"textShadowOffsetY")&&(n.textShadowOffsetY=r.textShadowOffsetY))}function warnDeprecated(n,r){var a=n+"^_^"+r;deprecatedLogs[a]||(console.warn('[ECharts] DEPRECATED: "'+n+'" has been deprecated. '+r),deprecatedLogs[a]=!0)}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys3(LEGACY_TRANSFORM_PROPS_MAP),TRANSFORM_PROPS_MAP=reduce(TRANSFORMABLE_PROPS,function(n,r){return n[r]=1,n},{}),transformPropNamesStr=TRANSFORMABLE_PROPS.join(", "),ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(n,r,a,o,s){var l=n+"Animation",u=getAnimationConfig(n,o,s)||{},f=transitionInnerStore(r).userDuring;return u.duration>0&&(u.during=f?bind(duringCall,{el:r,userDuring:f}):null,u.setToFinal=!0,u.scope=n),extend3(u,a[l]),u}function applyUpdateTransition(n,r,a,o){o=o||{};var s=o.dataIndex,l=o.isInit,u=o.clearStyle,f=a.isAnimationEnabled(),d=transitionInnerStore(n),v=r.style;d.userDuring=r.during;var g={},y={};if(prepareTransformAllPropsFinal(n,r,y),prepareShapeOrExtraAllPropsFinal("shape",r,y),prepareShapeOrExtraAllPropsFinal("extra",r,y),!l&&f&&(prepareTransformTransitionFrom(n,r,g),prepareShapeOrExtraTransitionFrom("shape",n,r,g),prepareShapeOrExtraTransitionFrom("extra",n,r,g),prepareStyleTransitionFrom(n,r,v,g)),y.style=v,applyPropsDirectly(n,y,u),applyMiscProps(n,r),f)if(l){var b={};each(ELEMENT_ANIMATABLE_PROPS,function(x){var C=x?r[x]:r;C&&C.enterFrom&&(x&&(b[x]=b[x]||{}),extend3(x?b[x]:b,C.enterFrom))});var _=getElementAnimationConfig("enter",n,r,a,s);_.duration>0&&n.animateFrom(b,_)}else applyPropsTransition(n,r,s||0,a,g);updateLeaveTo(n,r),v?n.dirty():n.markRedraw()}function updateLeaveTo(n,r){for(var a=transitionInnerStore(n).leaveToProps,o=0;o<ELEMENT_ANIMATABLE_PROPS.length;o++){var s=ELEMENT_ANIMATABLE_PROPS[o],l=s?r[s]:r;l&&l.leaveTo&&(a||(a=transitionInnerStore(n).leaveToProps={}),s&&(a[s]=a[s]||{}),extend3(s?a[s]:a,l.leaveTo))}}function applyLeaveTransition(n,r,a,o){if(n){var s=n.parent,l=transitionInnerStore(n).leaveToProps;if(l){var u=getElementAnimationConfig("update",n,r,a,0);u.done=function(){s.remove(n),o&&o()},n.animateTo(l,u)}else s.remove(n),o&&o()}}function isTransitionAll(n){return n==="all"}function applyPropsDirectly(n,r,a){var o=r.style;if(!n.isGroup&&o){if(a){n.useStyle({});for(var s=n.animators,l=0;l<s.length;l++){var u=s[l];u.targetName==="style"&&u.changeTarget(n.style)}}n.setStyle(o)}r&&(r.style=null,r&&n.attr(r),r.style=o)}function applyPropsTransition(n,r,a,o,s){if(s){var l=getElementAnimationConfig("update",n,r,o,a);l.duration>0&&n.animateFrom(s,l)}}function applyMiscProps(n,r){hasOwn2(r,"silent")&&(n.silent=r.silent),hasOwn2(r,"ignore")&&(n.ignore=r.ignore),n instanceof Displayable_default&&hasOwn2(r,"invisible")&&(n.invisible=r.invisible),n instanceof Path_default&&hasOwn2(r,"autoBatch")&&(n.autoBatch=r.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(n,r){return assert(hasOwn2(TRANSFORM_PROPS_MAP,n),"Only "+transformPropNamesStr+" available in `setTransform`."),tmpDuringScope.el[n]=r,this},getTransform:function(n){return assert(hasOwn2(TRANSFORM_PROPS_MAP,n),"Only "+transformPropNamesStr+" available in `getTransform`."),tmpDuringScope.el[n]},setShape:function(n,r){assertNotReserved(n);var a=tmpDuringScope.el,o=a.shape||(a.shape={});return o[n]=r,a.dirtyShape&&a.dirtyShape(),this},getShape:function(n){assertNotReserved(n);var r=tmpDuringScope.el.shape;if(r)return r[n]},setStyle:function(n,r){assertNotReserved(n);var a=tmpDuringScope.el,o=a.style;return o&&(eqNaN(r)&&warn6("style."+n+" must not be assigned with NaN."),o[n]=r,a.dirtyStyle&&a.dirtyStyle()),this},getStyle:function(n){assertNotReserved(n);var r=tmpDuringScope.el.style;if(r)return r[n]},setExtra:function(n,r){assertNotReserved(n);var a=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return a[n]=r,this},getExtra:function(n){assertNotReserved(n);var r=tmpDuringScope.el.extra;if(r)return r[n]}};function assertNotReserved(n){if(n==="transition"||n==="enterFrom"||n==="leaveTo")throw new Error('key must not be "'+n+'"')}function duringCall(){var n=this,r=n.el;if(!!r){var a=transitionInnerStore(r).userDuring,o=n.userDuring;if(a!==o){n.el=n.userDuring=null;return}tmpDuringScope.el=r,o(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(n,r,a,o){var s=a[n];if(!!s){var l=r[n],u;if(l){var f=a.transition,d=s.transition;if(d)if(!u&&(u=o[n]={}),isTransitionAll(d))extend3(u,l);else for(var v=normalizeToArray(d),g=0;g<v.length;g++){var y=v[g],b=l[y];u[y]=b}else if(isTransitionAll(f)||indexOf(f,n)>=0){!u&&(u=o[n]={});for(var _=keys3(l),g=0;g<_.length;g++){var y=_[g],b=l[y];isNonStyleTransitionEnabled(s[y],b)&&(u[y]=b)}}}}}function prepareShapeOrExtraAllPropsFinal(n,r,a){var o=r[n];if(!!o)for(var s=a[n]={},l=keys3(o),u=0;u<l.length;u++){var f=l[u];s[f]=cloneValue(o[f])}}function prepareTransformTransitionFrom(n,r,a){for(var o=r.transition,s=isTransitionAll(o)?TRANSFORMABLE_PROPS:normalizeToArray(o||[]),l=0;l<s.length;l++){var u=s[l];if(!(u==="style"||u==="shape"||u==="extra")){var f=n[u];checkTransformPropRefer(u,"el.transition"),a[u]=f}}}function prepareTransformAllPropsFinal(n,r,a){for(var o=0;o<LEGACY_TRANSFORM_PROPS.length;o++){var s=LEGACY_TRANSFORM_PROPS[o],l=LEGACY_TRANSFORM_PROPS_MAP[s],u=r[s];u&&(a[l[0]]=u[0],a[l[1]]=u[1])}for(var o=0;o<TRANSFORMABLE_PROPS.length;o++){var f=TRANSFORMABLE_PROPS[o];r[f]!=null&&(a[f]=r[f])}}function prepareStyleTransitionFrom(n,r,a,o){if(!!a){var s=n.style,l;if(s){var u=a.transition,f=r.transition;if(u&&!isTransitionAll(u)){var d=normalizeToArray(u);!l&&(l=o.style={});for(var v=0;v<d.length;v++){var g=d[v],y=s[g];l[g]=y}}else if(n.getAnimationStyleProps&&(isTransitionAll(f)||isTransitionAll(u)||indexOf(f,"style")>=0)){var b=n.getAnimationStyleProps(),_=b?b.style:null;if(_){!l&&(l=o.style={});for(var x=keys3(a),v=0;v<x.length;v++){var g=x[v];if(_[g]){var y=s[g];l[g]=y}}}}}}}function isNonStyleTransitionEnabled(n,r){return isArrayLike2(n)?n!==r:n!=null&&isFinite(n)}var checkTransformPropRefer;checkTransformPropRefer=function(n,r){hasOwn2(TRANSFORM_PROPS_MAP,n)||warn6("Prop `"+n+"` is not a permitted in `"+r+"`. Only `"+keys3(TRANSFORM_PROPS_MAP).join("`, `")+"` are permitted.")};var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(n){n.stopAnimation("keyframe"),n.attr(getStateToRestore(n))}function applyKeyframeAnimation(n,r,a){if(!(!a.isAnimationEnabled()||!r)){if(isArray3(r)){each(r,function(f){applyKeyframeAnimation(n,f,a)});return}var o=r.keyframes,s=r.duration;if(a&&s==null){var l=getAnimationConfig("enter",a,0);s=l&&l.duration}if(!(!o||!s)){var u=getStateToRestore(n);each(ELEMENT_ANIMATABLE_PROPS,function(f){if(!(f&&!n[f])){var d,v=!1;o.sort(function(g,y){return g.percent-y.percent}),each(o,function(g){var y=n.animators,b=f?g[f]:g;if(g.percent>=1&&(v=!0),!!b){var _=keys3(b);if(f||(_=filter(_,function(w){return indexOf(KEYFRAME_EXCLUDE_KEYS,w)<0})),!!_.length){d||(d=n.animate(f,r.loop,!0),d.scope="keyframe");for(var x=0;x<y.length;x++)y[x]!==d&&y[x].targetName===d.targetName&&y[x].stopTracks(_);f&&(u[f]=u[f]||{});var C=f?u[f]:u;each(_,function(w){C[w]=((f?n[f]:n)||{})[w]}),d.whenWithKeys(s*g.percent,b,_,g.easing)}}}),!!d&&(v||warn6("End frame with percent: 1 is missing in the keyframeAnimation.",!0),d.delay(r.delay||0).duration(s).start(r.easing))}})}}}var nonShapeGraphicElements={path:null,compoundPath:null,group:Group_default,image:Image_default,text:Text_default},inner11=makeInner(),GraphicComponentView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.init=function(){this._elMap=createHashMap()},r.prototype.render=function(a,o,s){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a),this._relocate(a,s)},r.prototype._updateElements=function(a){var o=a.useElOptionsToUpdate();if(!!o){var s=this._elMap,l=this.group,u=a.get("z"),f=a.get("zlevel");each(o,function(d){var v=convertOptionIdName(d.id,null),g=v!=null?s.get(v):null,y=convertOptionIdName(d.parentId,null),b=y!=null?s.get(y):l,_=d.type,x=d.style;_==="text"&&x&&d.hv&&d.hv[1]&&(x.textVerticalAlign=x.textBaseline=x.verticalAlign=x.align=null);var C=d.textContent,w=d.textConfig;if(x&&isEC4CompatibleStyle(x,_,!!w,!!C)){var S=convertFromEC4CompatibleStyle(x,_,!0);!w&&S.textConfig&&(w=d.textConfig=S.textConfig),!C&&S.textContent&&(C=S.textContent)}var D=getCleanedElOption(d);g&&assert(b===g.parent,"Changing parent is not supported.");var A=d.$action||"merge",T=A==="merge",M=A==="replace";if(T){var E=!g,P=g;E?P=createEl(v,b,d.type,s):(P&&(inner11(P).isNew=!1),stopPreviousKeyframeAnimationAndRestore(P)),P&&(applyUpdateTransition(P,D,a,{isInit:E}),updateCommonAttrs(P,d,u,f))}else if(M){removeEl(g,d,s,a);var I=createEl(v,b,d.type,s);I&&(applyUpdateTransition(I,D,a,{isInit:!0}),updateCommonAttrs(I,d,u,f))}else A==="remove"&&(updateLeaveTo(g,d),removeEl(g,d,s,a));var F=s.get(v);if(F&&C)if(T){var L=F.getTextContent();L?L.attr(C):F.setTextContent(new Text_default(C))}else M&&F.setTextContent(new Text_default(C));if(F){var O=d.clipPath;if(O){var z=O.type,R=void 0,E=!1;if(T){var B=F.getClipPath();E=!B||inner11(B).type!==z,R=E?newEl(z):B}else M&&(E=!0,R=newEl(z));F.setClipPath(R),applyUpdateTransition(R,O,a,{isInit:E}),applyKeyframeAnimation(R,O.keyframeAnimation,a)}var N=inner11(F);F.setTextConfig(w),N.option=d,setEventData(F,a,d),setTooltipConfig({el:F,componentModel:a,itemName:F.name,itemTooltipOption:d.tooltip}),applyKeyframeAnimation(F,d.keyframeAnimation,a)}})}},r.prototype._relocate=function(a,o){for(var s=a.option.elements,l=this.group,u=this._elMap,f=o.getWidth(),d=o.getHeight(),v=["x","y"],g=0;g<s.length;g++){var y=s[g],b=convertOptionIdName(y.id,null),_=b!=null?u.get(b):null;if(!(!_||!_.isGroup)){var x=_.parent,C=x===l,w=inner11(_),S=inner11(x);w.width=parsePercent2(w.option.width,C?f:S.width)||0,w.height=parsePercent2(w.option.height,C?d:S.height)||0}}for(var g=s.length-1;g>=0;g--){var y=s[g],b=convertOptionIdName(y.id,null),_=b!=null?u.get(b):null;if(!!_){var x=_.parent,S=inner11(x),D=x===l?{width:f,height:d}:{width:S.width,height:S.height},A={},T=positionElement(_,y,D,null,{hv:y.hv,boundingMode:y.bounding},A);if(!inner11(_).isNew&&T){for(var M=y.transition,E={},P=0;P<v.length;P++){var I=v[P],F=A[I];M&&(isTransitionAll(M)||indexOf(M,I)>=0)?E[I]=F:_[I]=F}updateProps2(_,E,a,0)}else _.attr(A)}}},r.prototype._clear=function(){var a=this,o=this._elMap;o.each(function(s){removeEl(s,inner11(s).option,o,a._lastGraphicModel)}),this._elMap=createHashMap()},r.prototype.dispose=function(){this._clear()},r.type="graphic",r}(Component_default2);function newEl(n){assert(n,"graphic type MUST be set");var r=hasOwn2(nonShapeGraphicElements,n)?nonShapeGraphicElements[n]:getShapeClass(n);assert(r,"graphic type "+n+" can not be found");var a=new r({});return inner11(a).type=n,a}function createEl(n,r,a,o){var s=newEl(a);return r.add(s),o.set(n,s),inner11(s).id=n,inner11(s).isNew=!0,s}function removeEl(n,r,a,o){var s=n&&n.parent;s&&(n.type==="group"&&n.traverse(function(l){removeEl(l,r,a,o)}),applyLeaveTransition(n,r,o),a.removeKey(inner11(n).id))}function updateCommonAttrs(n,r,a,o){if(!n.isGroup){var s=n;s.cursor=retrieve2(r.cursor,Displayable_default.prototype.cursor),s.z=retrieve2(r.z,a||0),s.zlevel=retrieve2(r.zlevel,o||0);var l=r.z2;l!=null&&(s.z2=l||0)}each(keys3(r),function(u){var f=r[u];u.indexOf("on")===0&&isFunction3(f)&&(n[u]=f)}),n.draggable=r.draggable,r.name!=null&&(n.name=r.name),r.id!=null&&(n.id=r.id)}function getCleanedElOption(n){return n=extend3({},n),each(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(r){delete n[r]}),n}function setEventData(n,r,a){var o=getECData(n).eventData;!n.silent&&!n.ignore&&!o&&(o=getECData(n).eventData={componentType:"graphic",componentIndex:r.componentIndex,name:n.name}),o&&(o.info=a.info)}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(n){var r=n.get("coordinateSystem");return indexOf(SERIES_COORDS,r)>=0}function getAxisMainType(n){return assert(n),n+"Axis"}function collectReferCoordSysModelInfo(n){var r=n.ecModel,a={infoList:[],infoMap:createHashMap()};return n.eachTargetAxis(function(o,s){var l=r.getComponent(getAxisMainType(o),s);if(!!l){var u=l.getCoordSysModel();if(!!u){var f=u.uid,d=a.infoMap.get(f);d||(d={model:u,axisModels:[]},a.infoList.push(d),a.infoMap.set(f,d)),d.axisModels.push(l)}}}),a}var DataZoomAxisInfo=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(r){this.indexMap[r]||(this.indexList.push(r),this.indexMap[r]=!0)},n}(),DataZoomModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a._autoThrottle=!0,a._noTarget=!0,a._rangePropMode=["percent","percent"],a}return r.prototype.init=function(a,o,s){var l=retrieveRawOption(a);this.settledOption=l,this.mergeDefaultAndTheme(a,s),this._doInit(l)},r.prototype.mergeOption=function(a){var o=retrieveRawOption(a);merge3(this.option,a,!0),merge3(this.settledOption,o,!0),this._doInit(o)},r.prototype._doInit=function(a){var o=this.option;this._setDefaultThrottle(a),this._updateRangeUse(a);var s=this.settledOption;each([["start","startValue"],["end","endValue"]],function(l,u){this._rangePropMode[u]==="value"&&(o[l[0]]=s[l[0]]=null)},this),this._resetTarget()},r.prototype._resetTarget=function(){var a=this.get("orient",!0),o=this._targetAxisInfoMap=createHashMap(),s=this._fillSpecifiedTargetAxis(o);s?this._orient=a||this._makeAutoOrientByTargetAxis():(this._orient=a||"horizontal",this._fillAutoTargetAxisByOrient(o,this._orient)),this._noTarget=!0,o.each(function(l){l.indexList.length&&(this._noTarget=!1)},this)},r.prototype._fillSpecifiedTargetAxis=function(a){var o=!1;return each(DATA_ZOOM_AXIS_DIMENSIONS,function(s){var l=this.getReferringComponents(getAxisMainType(s),MULTIPLE_REFERRING);if(!!l.specified){o=!0;var u=new DataZoomAxisInfo;each(l.models,function(f){u.add(f.componentIndex)}),a.set(s,u)}},this),o},r.prototype._fillAutoTargetAxisByOrient=function(a,o){var s=this.ecModel,l=!0;if(l){var u=o==="vertical"?"y":"x",f=s.findComponents({mainType:u+"Axis"});d(f,u)}if(l){var f=s.findComponents({mainType:"singleAxis",filter:function(g){return g.get("orient",!0)===o}});d(f,"single")}function d(v,g){var y=v[0];if(!!y){var b=new DataZoomAxisInfo;if(b.add(y.componentIndex),a.set(g,b),l=!1,g==="x"||g==="y"){var _=y.getReferringComponents("grid",SINGLE_REFERRING).models[0];_&&each(v,function(x){y.componentIndex!==x.componentIndex&&_===x.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&b.add(x.componentIndex)})}}}l&&each(DATA_ZOOM_AXIS_DIMENSIONS,function(v){if(!!l){var g=s.findComponents({mainType:getAxisMainType(v),filter:function(b){return b.get("type",!0)==="category"}});if(g[0]){var y=new DataZoomAxisInfo;y.add(g[0].componentIndex),a.set(v,y),l=!1}}},this)},r.prototype._makeAutoOrientByTargetAxis=function(){var a;return this.eachTargetAxis(function(o){!a&&(a=o)},this),a==="y"?"vertical":"horizontal"},r.prototype._setDefaultThrottle=function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var o=this.ecModel.option;this.option.throttle=o.animation&&o.animationDurationUpdate>0?100:20}},r.prototype._updateRangeUse=function(a){var o=this._rangePropMode,s=this.get("rangeMode");each([["start","startValue"],["end","endValue"]],function(l,u){var f=a[l[0]]!=null,d=a[l[1]]!=null;f&&!d?o[u]="percent":!f&&d?o[u]="value":s?o[u]=s[u]:f&&(o[u]="percent")})},r.prototype.noTarget=function(){return this._noTarget},r.prototype.getFirstTargetAxisModel=function(){var a;return this.eachTargetAxis(function(o,s){a==null&&(a=this.ecModel.getComponent(getAxisMainType(o),s))},this),a},r.prototype.eachTargetAxis=function(a,o){this._targetAxisInfoMap.each(function(s,l){each(s.indexList,function(u){a.call(o,l,u)})})},r.prototype.getAxisProxy=function(a,o){var s=this.getAxisModel(a,o);if(s)return s.__dzAxisProxy},r.prototype.getAxisModel=function(a,o){assert(a&&o!=null);var s=this._targetAxisInfoMap.get(a);if(s&&s.indexMap[o])return this.ecModel.getComponent(getAxisMainType(a),o)},r.prototype.setRawRange=function(a){var o=this.option,s=this.settledOption;each([["start","startValue"],["end","endValue"]],function(l){(a[l[0]]!=null||a[l[1]]!=null)&&(o[l[0]]=s[l[0]]=a[l[0]],o[l[1]]=s[l[1]]=a[l[1]])},this),this._updateRangeUse(a)},r.prototype.setCalculatedRange=function(a){var o=this.option;each(["start","startValue","end","endValue"],function(s){o[s]=a[s]})},r.prototype.getPercentRange=function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},r.prototype.getValueRange=function(a,o){if(a==null&&o==null){var s=this.findRepresentativeAxisProxy();if(s)return s.getDataValueWindow()}else return this.getAxisProxy(a,o).getDataValueWindow()},r.prototype.findRepresentativeAxisProxy=function(a){if(a)return a.__dzAxisProxy;for(var o,s=this._targetAxisInfoMap.keys(),l=0;l<s.length;l++)for(var u=s[l],f=this._targetAxisInfoMap.get(u),d=0;d<f.indexList.length;d++){var v=this.getAxisProxy(u,f.indexList[d]);if(v.hostedBy(this))return v;o||(o=v)}return o},r.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},r.prototype.getOrient=function(){return assert(this._orient),this._orient},r.type="dataZoom",r.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],r.defaultOption={z:4,filterMode:"filter",start:0,end:100},r}(Component_default);function retrieveRawOption(n){var r={};return each(["start","end","startValue","endValue","throttle"],function(a){n.hasOwnProperty(a)&&(r[a]=n[a])}),r}var DataZoomModel_default=DataZoomModel,SelectDataZoomModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="dataZoom.select",r}(DataZoomModel_default),DataZoomView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s,l){this.dataZoomModel=a,this.ecModel=o,this.api=s},r.type="dataZoom",r}(Component_default2),DataZoomView_default=DataZoomView,SelectDataZoomView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="dataZoom.select",r}(DataZoomView_default),each5=each,asc2=asc,AxisProxy=function(){function n(r,a,o,s){this._dimName=r,this._axisIndex=a,this.ecModel=s,this._dataZoomModel=o}return n.prototype.hostedBy=function(r){return this._dataZoomModel===r},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var r=[];return this.ecModel.eachSeries(function(a){if(isCoordSupported(a)){var o=getAxisMainType(this._dimName),s=a.getReferringComponents(o,SINGLE_REFERRING).models[0];s&&this._axisIndex===s.componentIndex&&r.push(a)}},this),r},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return clone(this._minMaxSpan)},n.prototype.calculateDataWindow=function(r){var a=this._dataExtent,o=this.getAxisModel(),s=o.axis.scale,l=this._dataZoomModel.getRangePropMode(),u=[0,100],f=[],d=[],v;each5(["start","end"],function(b,_){var x=r[b],C=r[b+"Value"];l[_]==="percent"?(x==null&&(x=u[_]),C=s.parse(linearMap(x,u,a))):(v=!0,C=C==null?a[_]:s.parse(C),x=linearMap(C,a,u)),d[_]=C,f[_]=x}),asc2(d),asc2(f);var g=this._minMaxSpan;v?y(d,f,a,u,!1):y(f,d,u,a,!0);function y(b,_,x,C,w){var S=w?"Span":"ValueSpan";sliderMove(0,b,x,"all",g["min"+S],g["max"+S]);for(var D=0;D<2;D++)_[D]=linearMap(b[D],x,C,!0),w&&(_[D]=s.parse(_[D]))}return{valueWindow:d,percentWindow:f}},n.prototype.reset=function(r){if(r===this._dataZoomModel){var a=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,a),this._updateMinMaxSpan();var o=this.calculateDataWindow(r.settledOption);this._valueWindow=o.valueWindow,this._percentWindow=o.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(r,a){if(r!==this._dataZoomModel)return;var o=this._dimName,s=this.getTargetSeriesModels(),l=r.get("filterMode"),u=this._valueWindow;if(l==="none")return;each5(s,function(d){var v=d.getData(),g=v.mapDimensionsAll(o);if(!!g.length){if(l==="weakFilter"){var y=v.getStore(),b=map3(g,function(_){return v.getDimensionIndex(_)},v);v.filterSelf(function(_){for(var x,C,w,S=0;S<g.length;S++){var D=y.get(b[S],_),A=!isNaN(D),T=D<u[0],M=D>u[1];if(A&&!T&&!M)return!0;A&&(w=!0),T&&(x=!0),M&&(C=!0)}return w&&x&&C})}else each5(g,function(_){if(l==="empty")d.setData(v=v.map(_,function(C){return f(C)?C:NaN}));else{var x={};x[_]=u,v.selectRange(x)}});each5(g,function(_){v.setApproximateExtent(u,_)})}});function f(d){return d>=u[0]&&d<=u[1]}},n.prototype._updateMinMaxSpan=function(){var r=this._minMaxSpan={},a=this._dataZoomModel,o=this._dataExtent;each5(["min","max"],function(s){var l=a.get(s+"Span"),u=a.get(s+"ValueSpan");u!=null&&(u=this.getAxisModel().axis.scale.parse(u)),u!=null?l=linearMap(o[0]+u,o,[0,100],!0):l!=null&&(u=linearMap(l,[0,100],o,!0)-o[0]),r[s+"Span"]=l,r[s+"ValueSpan"]=u},this)},n.prototype._setAxisModel=function(){var r=this.getAxisModel(),a=this._percentWindow,o=this._valueWindow;if(!!a){var s=getPixelPrecision(o,[0,500]);s=Math.min(s,20);var l=r.axis.scale.rawExtentInfo;a[0]!==0&&l.setDeterminedMinMax("min",+o[0].toFixed(s)),a[1]!==100&&l.setDeterminedMinMax("max",+o[1].toFixed(s)),l.freeze()}},n}();function calculateDataExtent(n,r,a){var o=[1/0,-1/0];each5(a,function(u){unionAxisExtentFromData(o,u.getData(),r)});var s=n.getAxisModel(),l=ensureScaleRawExtentInfo(s.axis.scale,s,o).calculate();return[l.min,l.max]}var ToolboxFeature=function(){function n(){}return n}(),features={};function getFeature(n){return features[n]}var ToolboxModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var a=this.ecModel;each(this.option.feature,function(o,s){var l=getFeature(s);l&&(l.getDefaultOption&&(l.defaultOption=l.getDefaultOption(a)),merge3(o,l.defaultOption))})},r.type="toolbox",r.layoutMode={type:"box",ignoreSize:!0},r.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},r}(Component_default);function layout4(n,r,a){var o=r.getBoxLayoutParams(),s=r.get("padding"),l={width:a.getWidth(),height:a.getHeight()},u=getLayoutRect(o,l,s);box(r.get("orient"),n,r.get("itemGap"),u.width,u.height),positionElement(n,o,l,s)}function makeBackground(n,r){var a=normalizeCssArray2(r.get("padding")),o=r.getItemStyle(["color","opacity"]);return o.fill=r.get("backgroundColor"),n=new Rect_default({shape:{x:n.x-a[3],y:n.y-a[0],width:n.width+a[1]+a[3],height:n.height+a[0]+a[2],r:r.get("borderRadius")},style:o,silent:!0,z2:-1}),n}var ToolboxView=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.render=function(a,o,s,l){var u=this.group;if(u.removeAll(),!a.get("show"))return;var f=+a.get("itemSize"),d=a.get("orient")==="vertical",v=a.get("feature")||{},g=this._features||(this._features={}),y=[];each(v,function(x,C){y.push(C)}),new DataDiffer_default(this._featureNames||[],y).add(b).update(b).remove(curry(b,null)).execute(),this._featureNames=y;function b(x,C){var w=y[x],S=y[C],D=v[w],A=new Model_default(D,a,a.ecModel),T;if(l&&l.newTitle!=null&&l.featureName===w&&(D.title=l.newTitle),w&&!S){if(isUserFeatureName(w))T={onclick:A.option.onclick,featureName:w};else{var M=getFeature(w);if(!M)return;T=new M}g[w]=T}else if(T=g[S],!T)return;T.uid=getUID("toolbox-feature"),T.model=A,T.ecModel=o,T.api=s;var E=T instanceof ToolboxFeature;if(!w&&S){E&&T.dispose&&T.dispose(o,s);return}if(!A.get("show")||E&&T.unusable){E&&T.remove&&T.remove(o,s);return}_(A,T,w),A.setIconStatus=function(P,I){var F=this.option,L=this.iconPaths;F.iconStatus=F.iconStatus||{},F.iconStatus[P]=I,L[P]&&(I==="emphasis"?enterEmphasis:leaveEmphasis)(L[P])},T instanceof ToolboxFeature&&T.render&&T.render(A,o,s,l)}function _(x,C,w){var S=x.getModel("iconStyle"),D=x.getModel(["emphasis","iconStyle"]),A=C instanceof ToolboxFeature&&C.getIcons?C.getIcons():x.get("icon"),T=x.get("title")||{},M,E;isString2(A)?(M={},M[w]=A):M=A,isString2(T)?(E={},E[w]=T):E=T;var P=x.iconPaths={};each(M,function(I,F){var L=createIcon(I,{},{x:-f/2,y:-f/2,width:f,height:f});L.setStyle(S.getItemStyle());var O=L.ensureState("emphasis");O.style=D.getItemStyle();var z=new Text_default({style:{text:E[F],align:D.get("textAlign"),borderRadius:D.get("textBorderRadius"),padding:D.get("textPadding"),fill:null},ignore:!0});L.setTextContent(z),setTooltipConfig({el:L,componentModel:a,itemName:F,formatterParamsExtra:{title:E[F]}}),L.__title=E[F],L.on("mouseover",function(){var R=D.getItemStyle(),B=d?a.get("right")==null&&a.get("left")!=="right"?"right":"left":a.get("bottom")==null&&a.get("top")!=="bottom"?"bottom":"top";z.setStyle({fill:D.get("textFill")||R.fill||R.stroke||"#000",backgroundColor:D.get("textBackgroundColor")}),L.setTextConfig({position:D.get("textPosition")||B}),z.ignore=!a.get("showTitle"),s.enterEmphasis(this)}).on("mouseout",function(){x.get(["iconStatus",F])!=="emphasis"&&s.leaveEmphasis(this),z.hide()}),(x.get(["iconStatus",F])==="emphasis"?enterEmphasis:leaveEmphasis)(L),u.add(L),L.on("click",bind(C.onclick,C,o,s,F)),P[F]=L})}layout4(u,a,s),u.add(makeBackground(u.getBoundingRect(),a)),d||u.eachChild(function(x){var C=x.__title,w=x.ensureState("emphasis"),S=w.textConfig||(w.textConfig={}),D=x.getTextContent(),A=D&&D.ensureState("emphasis");if(A&&!isFunction3(A)&&C){var T=A.style||(A.style={}),M=getBoundingRect(C,Text_default.makeFont(T)),E=x.x+u.x,P=x.y+u.y+f,I=!1;P+M.height>s.getHeight()&&(S.position="top",I=!0);var F=I?-5-M.height:f+10;E+M.width/2>s.getWidth()?(S.position=["100%",F],T.align="right"):E-M.width/2<0&&(S.position=[0,F],T.align="left")}})},r.prototype.updateView=function(a,o,s,l){each(this._features,function(u){u instanceof ToolboxFeature&&u.updateView&&u.updateView(u.model,o,s,l)})},r.prototype.remove=function(a,o){each(this._features,function(s){s instanceof ToolboxFeature&&s.remove&&s.remove(a,o)}),this.group.removeAll()},r.prototype.dispose=function(a,o){each(this._features,function(s){s instanceof ToolboxFeature&&s.dispose&&s.dispose(a,o)})},r.type="toolbox",r}(Component_default2);function isUserFeatureName(n){return n.indexOf("my")===0}var SaveAsImage=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.onclick=function(a,o){var s=this.model,l=s.get("name")||a.get("title.0.text")||"echarts",u=o.getZr().painter.getType()==="svg",f=u?"svg":s.get("type",!0)||"png",d=o.getConnectedDataURL({type:f,backgroundColor:s.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",connectedBackgroundColor:s.get("connectedBackgroundColor"),excludeComponents:s.get("excludeComponents"),pixelRatio:s.get("pixelRatio")}),v=env_default.browser;if(isFunction3(MouseEvent)&&(v.newEdge||!v.ie&&!v.edge)){var g=document.createElement("a");g.download=l+"."+f,g.target="_blank",g.href=d;var y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(y)}else if(window.navigator.msSaveOrOpenBlob||u){var b=d.split(","),_=b[0].indexOf("base64")>-1,x=u?decodeURIComponent(b[1]):b[1];_&&(x=window.atob(x));var C=l+"."+f;if(window.navigator.msSaveOrOpenBlob){for(var w=x.length,S=new Uint8Array(w);w--;)S[w]=x.charCodeAt(w);var D=new Blob([S]);window.navigator.msSaveOrOpenBlob(D,C)}else{var A=document.createElement("iframe");document.body.appendChild(A);var T=A.contentWindow,M=T.document;M.open("image/svg+xml","replace"),M.write(x),M.close(),T.focus(),M.execCommand("SaveAs",!0,C),document.body.removeChild(A)}}else{var E=s.get("lang"),P='<body style="margin:0;"><img src="'+d+'" style="max-width:100%;" title="'+(E&&E[0]||"")+'" /></body>',I=window.open();I.document.write(P),I.document.title=l}},r.getDefaultOption=function(a){var o={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:a.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return o},r}(ToolboxFeature),INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getIcons=function(){var a=this.model,o=a.get("icon"),s={};return each(a.get("type"),function(l){o[l]&&(s[l]=o[l])}),s},r.getDefaultOption=function(a){var o={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:a.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return o},r.prototype.onclick=function(a,o,s){var l=this.model,u=l.get(["seriesIndex",s]);if(!!seriesOptGenreator[s]){var f={series:[]},d=function(y){var b=y.subType,_=y.id,x=seriesOptGenreator[s](b,_,y,l);x&&(defaults(x,y.option),f.series.push(x));var C=y.coordinateSystem;if(C&&C.type==="cartesian2d"&&(s==="line"||s==="bar")){var w=C.getAxesByScale("ordinal")[0];if(w){var S=w.dim,D=S+"Axis",A=y.getReferringComponents(D,SINGLE_REFERRING).models[0],T=A.componentIndex;f[D]=f[D]||[];for(var M=0;M<=T;M++)f[D][T]=f[D][T]||{};f[D][T].boundaryGap=s==="bar"}}};each(radioTypes,function(y){indexOf(y,s)>=0&&each(y,function(b){l.setIconStatus(b,"normal")})}),l.setIconStatus(s,"emphasis"),a.eachComponent({mainType:"series",query:u==null?null:{seriesIndex:u}},d);var v,g=s;s==="stack"&&(v=merge3({stack:l.option.title.tiled,tiled:l.option.title.stack},l.option.title),l.get(["iconStatus",s])!=="emphasis"&&(g="tiled")),o.dispatchAction({type:"changeMagicType",currentType:g,newOption:f,newTitle:v,featureName:"magicType"})}},r}(ToolboxFeature),seriesOptGenreator={line:function(n,r,a,o){if(n==="bar")return merge3({id:r,type:"line",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(n,r,a,o){if(n==="line")return merge3({id:r,type:"bar",data:a.get("data"),stack:a.get("stack"),markPoint:a.get("markPoint"),markLine:a.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(n,r,a,o){var s=a.get("stack")===INNER_STACK_KEYWORD;if(n==="line"||n==="bar")return o.setIconStatus("stack",s?"normal":"emphasis"),merge3({id:r,stack:s?"":INNER_STACK_KEYWORD},o.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,r){r.mergeOption(n.newOption)});var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(n){var r={},a=[],o=[];return n.eachRawSeries(function(s){var l=s.coordinateSystem;if(l&&(l.type==="cartesian2d"||l.type==="polar")){var u=l.getBaseAxis();if(u.type==="category"){var f=u.dim+"_"+u.index;r[f]||(r[f]={categoryAxis:u,valueAxis:l.getOtherAxis(u),series:[]},o.push({axisDim:u.dim,axisIndex:u.index})),r[f].series.push(s)}else a.push(s)}else a.push(s)}),{seriesGroupByCategoryAxis:r,other:a,meta:o}}function assembleSeriesWithCategoryAxis(n){var r=[];return each(n,function(a,o){var s=a.categoryAxis,l=a.valueAxis,u=l.dim,f=[" "].concat(map3(a.series,function(_){return _.name})),d=[s.model.getCategories()];each(a.series,function(_){var x=_.getRawData();d.push(_.getRawData().mapArray(x.mapDimension(u),function(C){return C}))});for(var v=[f.join(ITEM_SPLITER)],g=0;g<d[0].length;g++){for(var y=[],b=0;b<d.length;b++)y.push(d[b][g]);v.push(y.join(ITEM_SPLITER))}r.push(v.join(`
`))}),r.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(n){return map3(n,function(r){var a=r.getRawData(),o=[r.name],s=[];return a.each(a.dimensions,function(){for(var l=arguments.length,u=arguments[l-1],f=a.getName(u),d=0;d<l-1;d++)s[d]=arguments[d];o.push((f?f+ITEM_SPLITER:"")+s.join(ITEM_SPLITER))}),o.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(n){var r=groupSeries(n);return{value:filter([assembleSeriesWithCategoryAxis(r.seriesGroupByCategoryAxis),assembleOtherSeries(r.other)],function(a){return!!a.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:r.meta}}function trim2(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(n){var r=n.slice(0,n.indexOf(`
`));if(r.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(n){for(var r=n.split(/\n+/g),a=trim2(r.shift()).split(itemSplitRegex),o=[],s=map3(a,function(d){return{name:d,data:[]}}),l=0;l<r.length;l++){var u=trim2(r[l]).split(itemSplitRegex);o.push(u.shift());for(var f=0;f<u.length;f++)s[f]&&(s[f].data[l]=u[f])}return{series:s,categories:o}}function parseListContents(n){for(var r=n.split(/\n+/g),a=trim2(r.shift()),o=[],s=0;s<r.length;s++){var l=trim2(r[s]);if(!!l){var u=l.split(itemSplitRegex),f="",d=void 0,v=!1;isNaN(u[0])?(v=!0,f=u[0],u=u.slice(1),o[s]={name:f,value:[]},d=o[s].value):d=o[s]=[];for(var g=0;g<u.length;g++)d.push(+u[g]);d.length===1&&(v?o[s].value=d[0]:o[s]=d[0])}}return{name:a,data:o}}function parseContents(n,r){var a=n.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),o={series:[]};return each(a,function(s,l){if(isTSVFormat(s)){var u=parseTSVContents(s),f=r[l],d=f.axisDim+"Axis";f&&(o[d]=o[d]||[],o[d][f.axisIndex]={data:u.categories},o.series=o.series.concat(u.series))}else{var u=parseListContents(s);o.series.push(u)}}),o}var DataView2=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.onclick=function(a,o){setTimeout(function(){o.dispatchAction({type:"hideTip"})});var s=o.getDom(),l=this.model;this._dom&&s.removeChild(this._dom);var u=document.createElement("div");u.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",u.style.backgroundColor=l.get("backgroundColor")||"#fff";var f=document.createElement("h4"),d=l.get("lang")||[];f.innerHTML=d[0]||l.get("title"),f.style.cssText="margin:10px 20px",f.style.color=l.get("textColor");var v=document.createElement("div"),g=document.createElement("textarea");v.style.cssText="overflow:auto";var y=l.get("optionToContent"),b=l.get("contentToOption"),_=getContentFromModel(a);if(isFunction3(y)){var x=y(o.getOption());isString2(x)?v.innerHTML=x:isDom(x)&&v.appendChild(x)}else{g.readOnly=l.get("readOnly");var C=g.style;C.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",C.color=l.get("textColor"),C.borderColor=l.get("textareaBorderColor"),C.backgroundColor=l.get("textareaColor"),g.value=_.value,v.appendChild(g)}var w=_.meta,S=document.createElement("div");S.style.cssText="position:absolute;bottom:5px;left:0;right:0";var D="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",A=document.createElement("div"),T=document.createElement("div");D+=";background-color:"+l.get("buttonColor"),D+=";color:"+l.get("buttonTextColor");var M=this;function E(){s.removeChild(u),M._dom=null}addEventListener3(A,"click",E),addEventListener3(T,"click",function(){if(b==null&&y!=null||b!=null&&y==null){warn6("It seems you have just provided one of `contentToOption` and `optionToContent` functions but missed the other one. Data change is ignored."),E();return}var P;try{isFunction3(b)?P=b(v,o.getOption()):P=parseContents(g.value,w)}catch(I){throw E(),new Error("Data view format error "+I)}P&&o.dispatchAction({type:"changeDataView",newOption:P}),E()}),A.innerHTML=d[1],T.innerHTML=d[2],T.style.cssText=A.style.cssText=D,!l.get("readOnly")&&S.appendChild(T),S.appendChild(A),u.appendChild(f),u.appendChild(v),u.appendChild(S),v.style.height=s.clientHeight-80+"px",s.appendChild(u),this._dom=u},r.prototype.remove=function(a,o){this._dom&&o.getDom().removeChild(this._dom)},r.prototype.dispose=function(a,o){this.remove(a,o)},r.getDefaultOption=function(a){var o={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:a.getLocaleModel().get(["toolbox","dataView","title"]),lang:a.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return o},r}(ToolboxFeature);function tryMergeDataOption(n,r){return map3(n,function(a,o){var s=r&&r[o];if(isObject3(s)&&!isArray3(s)){var l=isObject3(a)&&!isArray3(a);l||(a={value:a});var u=s.name!=null&&a.name==null;return a=defaults(a,s),u&&delete a.name,a}else return a})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,r){var a=[];each(n.newOption.series,function(o){var s=r.getSeriesByName(o.name)[0];if(!s)a.push(extend3({type:"scatter"},o));else{var l=s.get("data");a.push({name:o.name,data:tryMergeDataOption(o.data,l)})}}),r.mergeOption(defaults({series:a},n.newOption))});var each6=each,inner12=makeInner();function push(n,r){var a=getStoreSnapshots(n);each6(r,function(o,s){for(var l=a.length-1;l>=0;l--){var u=a[l];if(u[s])break}if(l<0){var f=n.queryComponents({mainType:"dataZoom",subType:"select",id:s})[0];if(f){var d=f.getPercentRange();a[0][s]={dataZoomId:s,start:d[0],end:d[1]}}}}),a.push(r)}function pop(n){var r=getStoreSnapshots(n),a=r[r.length-1];r.length>1&&r.pop();var o={};return each6(a,function(s,l){for(var u=r.length-1;u>=0;u--)if(s=r[u][l],s){o[l]=s;break}}),o}function clear3(n){inner12(n).snapshots=null}function count(n){return getStoreSnapshots(n).length}function getStoreSnapshots(n){var r=inner12(n);return r.snapshots||(r.snapshots=[{}]),r.snapshots}var RestoreOption=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.onclick=function(a,o){clear3(a),o.dispatchAction({type:"restore",from:this.uid})},r.getDefaultOption=function(a){var o={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:a.getLocaleModel().get(["toolbox","restore","title"])};return o},r}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,r){r.resetOption("recreate")});var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function n(r,a,o){var s=this;this._targetInfoList=[];var l=parseFinder2(a,r);each(targetInfoBuilders,function(u,f){(!o||!o.include||indexOf(o.include,f)>=0)&&u(l,s._targetInfoList)})}return n.prototype.setOutputRanges=function(r,a){return this.matchOutputRanges(r,a,function(o,s,l){if((o.coordRanges||(o.coordRanges=[])).push(s),!o.coordRange){o.coordRange=s;var u=coordConvert[o.brushType](0,l,s);o.__rangeOffset={offset:diffProcessor[o.brushType](u.values,o.range,[1,1]),xyMinMax:u.xyMinMax}}}),r},n.prototype.matchOutputRanges=function(r,a,o){each(r,function(s){var l=this.findTargetInfo(s,a);l&&l!==!0&&each(l.coordSyses,function(u){var f=coordConvert[s.brushType](1,u,s.range,!0);o(s,f.values,u,a)})},this)},n.prototype.setInputRanges=function(r,a){each(r,function(o){var s=this.findTargetInfo(o,a);if(assert(!s||s===!0||o.coordRange,"coordRange must be specified when coord index specified."),assert(!s||s!==!0||o.range,"range must be specified in global brush."),o.range=o.range||[],s&&s!==!0){o.panelId=s.panelId;var l=coordConvert[o.brushType](0,s.coordSys,o.coordRange),u=o.__rangeOffset;o.range=u?diffProcessor[o.brushType](l.values,u.offset,getScales(l.xyMinMax,u.xyMinMax)):l.values}},this)},n.prototype.makePanelOpts=function(r,a){return map3(this._targetInfoList,function(o){var s=o.getPanelRect();return{panelId:o.panelId,defaultBrushType:a?a(o):null,clipPath:makeRectPanelClipPath(s),isTargetByCursor:makeRectIsTargetByCursor(s,r,o.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(s)}})},n.prototype.controlSeries=function(r,a,o){var s=this.findTargetInfo(r,o);return s===!0||s&&indexOf(s.coordSyses,a.coordinateSystem)>=0},n.prototype.findTargetInfo=function(r,a){for(var o=this._targetInfoList,s=parseFinder2(a,r),l=0;l<o.length;l++){var u=o[l],f=r.panelId;if(f){if(u.panelId===f)return u}else for(var d=0;d<targetInfoMatchers.length;d++)if(targetInfoMatchers[d](s,u))return u}return!0},n}();function formatMinMax(n){return n[0]>n[1]&&n.reverse(),n}function parseFinder2(n,r){return parseFinder(n,r,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(n,r){var a=n.xAxisModels,o=n.yAxisModels,s=n.gridModels,l=createHashMap(),u={},f={};!a&&!o&&!s||(each(a,function(d){var v=d.axis.grid.model;l.set(v.id,v),u[v.id]=!0}),each(o,function(d){var v=d.axis.grid.model;l.set(v.id,v),f[v.id]=!0}),each(s,function(d){l.set(d.id,d),u[d.id]=!0,f[d.id]=!0}),l.each(function(d){var v=d.coordinateSystem,g=[];each(v.getCartesians(),function(y,b){(indexOf(a,y.getAxis("x").model)>=0||indexOf(o,y.getAxis("y").model)>=0)&&g.push(y)}),r.push({panelId:"grid--"+d.id,gridModel:d,coordSysModel:d,coordSys:g[0],coordSyses:g,getPanelRect:panelRectBuilders.grid,xAxisDeclared:u[d.id],yAxisDeclared:f[d.id]})}))},geo:function(n,r){each(n.geoModels,function(a){var o=a.coordinateSystem;r.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:o,coordSyses:[o],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(n,r){var a=n.xAxisModel,o=n.yAxisModel,s=n.gridModel;return!s&&a&&(s=a.axis.grid.model),!s&&o&&(s=o.axis.grid.model),s&&s===r.gridModel},function(n,r){var a=n.geoModel;return a&&a===r.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,r=n.getBoundingRect().clone();return r.applyTransform(getTransform(n)),r}},coordConvert={lineX:curry(axisConvert,0),lineY:curry(axisConvert,1),rect:function(n,r,a,o){var s=n?r.pointToData([a[0][0],a[1][0]],o):r.dataToPoint([a[0][0],a[1][0]],o),l=n?r.pointToData([a[0][1],a[1][1]],o):r.dataToPoint([a[0][1],a[1][1]],o),u=[formatMinMax([s[0],l[0]]),formatMinMax([s[1],l[1]])];return{values:u,xyMinMax:u}},polygon:function(n,r,a,o){var s=[[1/0,-1/0],[1/0,-1/0]],l=map3(a,function(u){var f=n?r.pointToData(u,o):r.dataToPoint(u,o);return s[0][0]=Math.min(s[0][0],f[0]),s[1][0]=Math.min(s[1][0],f[1]),s[0][1]=Math.max(s[0][1],f[0]),s[1][1]=Math.max(s[1][1],f[1]),f});return{values:l,xyMinMax:s}}};function axisConvert(n,r,a,o){assert(a.type==="cartesian2d","lineX/lineY brush is available only in cartesian2d.");var s=a.getAxis(["x","y"][n]),l=formatMinMax(map3([0,1],function(f){return r?s.coordToData(s.toLocalCoord(o[f]),!0):s.toGlobalCoord(s.dataToCoord(o[f]))})),u=[];return u[n]=l,u[1-n]=[NaN,NaN],{values:l,xyMinMax:u}}var diffProcessor={lineX:curry(axisDiffProcessor,0),lineY:curry(axisDiffProcessor,1),rect:function(n,r,a){return[[n[0][0]-a[0]*r[0][0],n[0][1]-a[0]*r[0][1]],[n[1][0]-a[1]*r[1][0],n[1][1]-a[1]*r[1][1]]]},polygon:function(n,r,a){return map3(n,function(o,s){return[o[0]-a[0]*r[s][0],o[1]-a[1]*r[s][1]]})}};function axisDiffProcessor(n,r,a,o){return[r[0]-o[n]*a[0],r[1]-o[n]*a[1]]}function getScales(n,r){var a=getSize2(n),o=getSize2(r),s=[a[0]/o[0],a[1]/o[1]];return isNaN(s[0])&&(s[0]=1),isNaN(s[1])&&(s[1]=1),s}function getSize2(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}var BrushTargetManager_default=BrushTargetManager,each7=each,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.render=function(a,o,s,l){this._brushController||(this._brushController=new BrushController_default(s.getZr()),this._brushController.on("brush",bind(this._onBrush,this)).mount()),updateZoomBtnStatus(a,o,this,l,s),updateBackBtnStatus(a,o)},r.prototype.onclick=function(a,o,s){handlers2[s].call(this)},r.prototype.remove=function(a,o){this._brushController&&this._brushController.unmount()},r.prototype.dispose=function(a,o){this._brushController&&this._brushController.dispose()},r.prototype._onBrush=function(a){var o=a.areas;if(!a.isEnd||!o.length)return;var s={},l=this.ecModel;this._brushController.updateCovers([]);var u=new BrushTargetManager_default(makeAxisFinder(this.model),l,{include:["grid"]});u.matchOutputRanges(o,l,function(v,g,y){if(y.type==="cartesian2d"){var b=v.brushType;b==="rect"?(f("x",y,g[0]),f("y",y,g[1])):f({lineX:"x",lineY:"y"}[b],y,g)}}),push(l,s),this._dispatchZoomAction(s);function f(v,g,y){var b=g.getAxis(v),_=b.model,x=d(v,_,l),C=x.findRepresentativeAxisProxy(_).getMinMaxSpan();(C.minValueSpan!=null||C.maxValueSpan!=null)&&(y=sliderMove(0,y.slice(),b.scale.getExtent(),0,C.minValueSpan,C.maxValueSpan)),x&&(s[x.id]={dataZoomId:x.id,startValue:y[0],endValue:y[1]})}function d(v,g,y){var b;return y.eachComponent({mainType:"dataZoom",subType:"select"},function(_){var x=_.getAxisModel(v,g.componentIndex);x&&(b=_)}),b}},r.prototype._dispatchZoomAction=function(a){var o=[];each7(a,function(s,l){o.push(clone(s))}),o.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:o})},r.getDefaultOption=function(a){var o={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:a.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return o},r}(ToolboxFeature),handlers2={zoom:function(){var n=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:n})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(n){var r={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return r.xAxisIndex==null&&r.xAxisId==null&&(r.xAxisIndex="all"),r.yAxisIndex==null&&r.yAxisId==null&&(r.yAxisIndex="all"),r}function updateBackBtnStatus(n,r){n.setIconStatus("back",count(r)>1?"emphasis":"normal")}function updateZoomBtnStatus(n,r,a,o,s){var l=a._isZoomActive;o&&o.type==="takeGlobalCursor"&&(l=o.key==="dataZoomSelect"?o.dataZoomSelectActive:!1),a._isZoomActive=l,n.setIconStatus("zoom",l?"emphasis":"normal");var u=new BrushTargetManager_default(makeAxisFinder(n),r,{include:["grid"]}),f=u.makePanelOpts(s,function(d){return d.xAxisDeclared&&!d.yAxisDeclared?"lineX":!d.xAxisDeclared&&d.yAxisDeclared?"lineY":"rect"});a._brushController.setPanels(f).enableBrush(l&&f.length?{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(n){var r=n.getComponent("toolbox",0),a=["feature","dataZoom"];if(!r||r.get(a)==null)return;var o=r.getModel(a),s=[],l=makeAxisFinder(o),u=parseFinder(n,l);each7(u.xAxisModels,function(d){return f(d,"xAxis","xAxisIndex")}),each7(u.yAxisModels,function(d){return f(d,"yAxis","yAxisIndex")});function f(d,v,g){var y=d.componentIndex,b={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+v+y};b[g]=y,s.push(b)}return s});var TooltipModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="tooltip",r.dependencies=["axisPointer"],r.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},r}(Component_default),TooltipModel_default=TooltipModel;function shouldTooltipConfine(n){var r=n.get("confine");return r!=null?!!r:n.get("renderMode")==="richText"}function testStyle(n){if(!!env_default.domSupported){for(var r=document.documentElement.style,a=0,o=n.length;a<o;a++)if(n[a]in r)return n[a]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(n,r){if(!n)return r;r=toCamelCase(r,!0);var a=n.indexOf(r);return n=a===-1?r:"-"+n.slice(0,a)+"-"+r,n.toLowerCase()}function getComputedStyle2(n,r){var a=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return a?r?a[r]:a:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env_default.transform3dSupported?"will-change:transform;":"");function mirrorPos(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function assembleArrow(n,r,a){if(!isString2(a)||a==="inside")return"";var o=n.get("backgroundColor"),s=n.get("borderWidth");r=convertToColorString(r);var l=mirrorPos(a),u=Math.max(Math.round(s)*1.5,6),f="",d=CSS_TRANSFORM_VENDOR+":",v;indexOf(["left","right"],l)>-1?(f+="top:50%",d+="translateY(-50%) rotate("+(v=l==="left"?-225:-45)+"deg)"):(f+="left:50%",d+="translateX(-50%) rotate("+(v=l==="top"?225:45)+"deg)");var g=v*Math.PI/180,y=u+s,b=y*Math.abs(Math.cos(g))+y*Math.abs(Math.sin(g)),_=Math.round(((b-Math.SQRT2*s)/2+Math.SQRT2*s-(b-y)/2)*100)/100;f+=";"+l+":-"+_+"px";var x=r+" solid "+s+"px;",C=["position:absolute;width:"+u+"px;height:"+u+"px;",f+";"+d+";","border-bottom:"+x,"border-right:"+x,"background-color:"+o+";"];return'<div style="'+C.join("")+'"></div>'}function assembleTransition(n,r){var a="cubic-bezier(0.23,1,0.32,1)",o=" "+n/2+"s "+a,s="opacity"+o+",visibility"+o;return r||(o=" "+n+"s "+a,s+=env_default.transformSupported?","+CSS_TRANSFORM_VENDOR+o:",left"+o+",top"+o),CSS_TRANSITION_VENDOR+":"+s}function assembleTransform(n,r,a){var o=n.toFixed(0)+"px",s=r.toFixed(0)+"px";if(!env_default.transformSupported)return a?"top:"+s+";left:"+o+";":[["top",s],["left",o]];var l=env_default.transform3dSupported,u="translate"+(l?"3d":"")+"("+o+","+s+(l?",0":"")+")";return a?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+u+";":[["top",0],["left",0],[TRANSFORM_VENDOR,u]]}function assembleFont(n){var r=[],a=n.get("fontSize"),o=n.getTextColor();o&&r.push("color:"+o),r.push("font:"+n.getFont()),a&&r.push("line-height:"+Math.round(a*3/2)+"px");var s=n.get("textShadowColor"),l=n.get("textShadowBlur")||0,u=n.get("textShadowOffsetX")||0,f=n.get("textShadowOffsetY")||0;return s&&l&&r.push("text-shadow:"+u+"px "+f+"px "+l+"px "+s),each(["decoration","align"],function(d){var v=n.get(d);v&&r.push("text-"+d+":"+v)}),r.join(";")}function assembleCssText(n,r,a){var o=[],s=n.get("transitionDuration"),l=n.get("backgroundColor"),u=n.get("shadowBlur"),f=n.get("shadowColor"),d=n.get("shadowOffsetX"),v=n.get("shadowOffsetY"),g=n.getModel("textStyle"),y=getPaddingFromTooltipModel(n,"html"),b=d+"px "+v+"px "+u+"px "+f;return o.push("box-shadow:"+b),r&&s&&o.push(assembleTransition(s,a)),l&&o.push("background-color:"+l),each(["width","color","radius"],function(_){var x="border-"+_,C=toCamelCase(x),w=n.get(C);w!=null&&o.push(x+":"+w+(_==="color"?"":"px"))}),o.push(assembleFont(g)),y!=null&&o.push("padding:"+normalizeCssArray2(y).join("px ")+"px"),o.join(";")+";"}function makeStyleCoord(n,r,a,o,s){var l=r&&r.painter;if(a){var u=l&&l.getViewportRoot();u&&transformLocalCoord(n,u,document.body,o,s)}else{n[0]=o,n[1]=s;var f=l&&l.getViewportRootOffset();f&&(n[0]+=f.offsetLeft,n[1]+=f.offsetTop)}n[2]=n[0]/r.getWidth(),n[3]=n[1]/r.getHeight()}var TooltipHTMLContent=function(){function n(r,a,o){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env_default.wxa)return null;var s=document.createElement("div");s.domBelongToZr=!0,this.el=s;var l=this._zr=a.getZr(),u=this._appendToBody=o&&o.appendToBody;makeStyleCoord(this._styleCoord,l,u,a.getWidth()/2,a.getHeight()/2),u?document.body.appendChild(s):r.appendChild(s),this._container=r;var f=this;s.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},s.onmousemove=function(d){if(d=d||window.event,!f._enterable){var v=l.handler,g=l.painter.getViewportRoot();normalizeEvent(g,d,!0),v.dispatch("mousemove",d)}},s.onmouseleave=function(){f._inContent=!1,f._enterable&&f._show&&f.hideLater(f._hideDelay)}}return n.prototype.update=function(r){var a=this._container,o=getComputedStyle2(a,"position"),s=a.style;s.position!=="absolute"&&o!=="absolute"&&(s.position="relative");var l=r.get("alwaysShowContent");l&&this._moveIfResized(),this.el.className=r.get("className")||""},n.prototype.show=function(r,a){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,s=o.style,l=this._styleCoord;o.innerHTML?s.cssText=gCssText+assembleCssText(r,!this._firstShow,this._longHide)+assembleTransform(l[0],l[1],!0)+("border-color:"+convertToColorString(a)+";")+(r.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):s.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(r,a,o,s,l){var u=this.el;if(r==null){u.innerHTML="";return}var f="";if(isString2(l)&&o.get("trigger")==="item"&&!shouldTooltipConfine(o)&&(f=assembleArrow(o,s,l)),isString2(r))u.innerHTML=r+f;else if(r){u.innerHTML="",isArray3(r)||(r=[r]);for(var d=0;d<r.length;d++)isDom(r[d])&&r[d].parentNode!==u&&u.appendChild(r[d]);if(f&&u.childNodes.length){var v=document.createElement("div");v.innerHTML=f,u.appendChild(v)}}},n.prototype.setEnterable=function(r){this._enterable=r},n.prototype.getSize=function(){var r=this.el;return[r.offsetWidth,r.offsetHeight]},n.prototype.moveTo=function(r,a){var o=this._styleCoord;if(makeStyleCoord(o,this._zr,this._appendToBody,r,a),o[0]!=null&&o[1]!=null){var s=this.el.style,l=assembleTransform(o[0],o[1]);each(l,function(u){s[u[0]]=u[1]})}},n.prototype._moveIfResized=function(){var r=this._styleCoord[2],a=this._styleCoord[3];this.moveTo(r*this._zr.getWidth(),a*this._zr.getHeight())},n.prototype.hide=function(){var r=this,a=this.el.style;a.visibility="hidden",a.opacity="0",env_default.transform3dSupported&&(a.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return r._longHide=!0},500)},n.prototype.hideLater=function(r){this._show&&!(this._inContent&&this._enterable)&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout(bind(this.hide,this),r)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}(),TooltipHTMLContent_default=TooltipHTMLContent,TooltipRichContent=function(){function n(r){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=r.getZr(),makeStyleCoord2(this._styleCoord,this._zr,r.getWidth()/2,r.getHeight()/2)}return n.prototype.update=function(r){var a=r.get("alwaysShowContent");a&&this._moveIfResized()},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(r,a,o,s,l){var u=this;isObject3(r)&&throwError2("Passing DOM nodes as content is not supported in richText tooltip!"),this.el&&this._zr.remove(this.el);var f=o.getModel("textStyle");this.el=new Text_default({style:{rich:a.richTextStyles,text:r,lineHeight:22,borderWidth:1,borderColor:s,textShadowColor:f.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),each(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(v){u.el.style[v]=o.get(v)}),each(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(v){u.el.style[v]=f.get(v)||0}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},n.prototype.setEnterable=function(r){this._enterable=r},n.prototype.getSize=function(){var r=this.el,a=this.el.getBoundingRect(),o=calcShadowOuterSize(r.style);return[a.width+o.left+o.right,a.height+o.top+o.bottom]},n.prototype.moveTo=function(r,a){var o=this.el;if(o){var s=this._styleCoord;makeStyleCoord2(s,this._zr,r,a),r=s[0],a=s[1];var l=o.style,u=mathMaxWith0(l.borderWidth||0),f=calcShadowOuterSize(l);o.x=r+u+f.left,o.y=a+u+f.top,o.markRedraw()}},n.prototype._moveIfResized=function(){var r=this._styleCoord[2],a=this._styleCoord[3];this.moveTo(r*this._zr.getWidth(),a*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(r){this._show&&!(this._inContent&&this._enterable)&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout(bind(this.hide,this),r)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function mathMaxWith0(n){return Math.max(0,n)}function calcShadowOuterSize(n){var r=mathMaxWith0(n.shadowBlur||0),a=mathMaxWith0(n.shadowOffsetX||0),o=mathMaxWith0(n.shadowOffsetY||0);return{left:mathMaxWith0(r-a),right:mathMaxWith0(r+a),top:mathMaxWith0(r-o),bottom:mathMaxWith0(r+o)}}function makeStyleCoord2(n,r,a,o){n[0]=a,n[1]=o,n[2]=n[0]/r.getWidth(),n[3]=n[1]/r.getHeight()}var TooltipRichContent_default=TooltipRichContent,proxyRect=new Rect_default({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.init=function(a,o){if(!(env_default.node||!o.getDom())){var s=a.getComponent("tooltip"),l=this._renderMode=getTooltipRenderMode(s.get("renderMode"));this._tooltipContent=l==="richText"?new TooltipRichContent_default(o):new TooltipHTMLContent_default(o.getDom(),o,{appendToBody:s.get("appendToBody",!0)})}},r.prototype.render=function(a,o,s){if(!(env_default.node||!s.getDom())){this.group.removeAll(),this._tooltipModel=a,this._ecModel=o,this._api=s,this._alwaysShowContent=a.get("alwaysShowContent");var l=this._tooltipContent;l.update(a),l.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&a.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear2(this,"_updatePosition")}},r.prototype._initGlobalListener=function(){var a=this._tooltipModel,o=a.get("triggerOn");register2("itemTooltip",this._api,bind(function(s,l,u){o!=="none"&&(o.indexOf(s)>=0?this._tryShow(l,u):s==="leave"&&this._hide(u))},this))},r.prototype._keepShow=function(){var a=this._tooltipModel,o=this._ecModel,s=this._api;if(this._lastX!=null&&this._lastY!=null&&a.get("triggerOn")!=="none"){var l=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!s.isDisposed()&&l.manuallyShowTip(a,o,s,{x:l._lastX,y:l._lastY,dataByCoordSys:l._lastDataByCoordSys})})}},r.prototype.manuallyShowTip=function(a,o,s,l){if(!(l.from===this.uid||env_default.node||!s.getDom())){var u=makeDispatchAction2(l,s);this._ticket="";var f=l.dataByCoordSys,d=findComponentReference(l,o,s);if(d){var v=d.el.getBoundingRect().clone();v.applyTransform(d.el.transform),this._tryShow({offsetX:v.x+v.width/2,offsetY:v.y+v.height/2,target:d.el,position:l.position,positionDefault:"bottom"},u)}else if(l.tooltip&&l.x!=null&&l.y!=null){var g=proxyRect;g.x=l.x,g.y=l.y,g.update(),getECData(g).tooltipConfig={name:null,option:l.tooltip},this._tryShow({offsetX:l.x,offsetY:l.y,target:g},u)}else if(f)this._tryShow({offsetX:l.x,offsetY:l.y,position:l.position,dataByCoordSys:f,tooltipOption:l.tooltipOption},u);else if(l.seriesIndex!=null){if(this._manuallyAxisShowTip(a,o,s,l))return;var y=findPointFromSeries(l,o),b=y.point[0],_=y.point[1];b!=null&&_!=null&&this._tryShow({offsetX:b,offsetY:_,target:y.el,position:l.position,positionDefault:"bottom"},u)}else l.x!=null&&l.y!=null&&(s.dispatchAction({type:"updateAxisPointer",x:l.x,y:l.y}),this._tryShow({offsetX:l.x,offsetY:l.y,position:l.position,target:s.getZr().findHover(l.x,l.y).target},u))}},r.prototype.manuallyHideTip=function(a,o,s,l){var u=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&u.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,l.from!==this.uid&&this._hide(makeDispatchAction2(l,s))},r.prototype._manuallyAxisShowTip=function(a,o,s,l){var u=l.seriesIndex,f=l.dataIndex,d=o.getComponent("axisPointer").coordSysAxesInfo;if(!(u==null||f==null||d==null)){var v=o.getSeriesByIndex(u);if(!!v){var g=v.getData(),y=buildTooltipModel([g.getItemModel(f),v,(v.coordinateSystem||{}).model],this._tooltipModel);if(y.get("trigger")==="axis")return s.dispatchAction({type:"updateAxisPointer",seriesIndex:u,dataIndex:f,position:l.position}),!0}}},r.prototype._tryShow=function(a,o){var s=a.target,l=this._tooltipModel;if(!!l){this._lastX=a.offsetX,this._lastY=a.offsetY;var u=a.dataByCoordSys;if(u&&u.length)this._showAxisTooltip(u,a);else if(s){this._lastDataByCoordSys=null;var f,d;findEventDispatcher(s,function(v){if(getECData(v).dataIndex!=null)return f=v,!0;if(getECData(v).tooltipConfig!=null)return d=v,!0},!0),f?this._showSeriesItemTooltip(a,f,o):d?this._showComponentItemTooltip(a,d,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},r.prototype._showOrMove=function(a,o){var s=a.get("showDelay");o=bind(o,this),clearTimeout(this._showTimout),s>0?this._showTimout=setTimeout(o,s):o()},r.prototype._showAxisTooltip=function(a,o){var s=this._ecModel,l=this._tooltipModel,u=[o.offsetX,o.offsetY],f=buildTooltipModel([o.tooltipOption],l),d=this._renderMode,v=[],g=createTooltipMarkup("section",{blocks:[],noHeader:!0}),y=[],b=new TooltipMarkupStyleCreator;each(a,function(D){each(D.dataByAxis,function(A){var T=s.getComponent(A.axisDim+"Axis",A.axisIndex),M=A.value;if(!(!T||M==null)){var E=getValueLabel(M,T.axis,s,A.seriesDataIndices,A.valueLabelOpt),P=createTooltipMarkup("section",{header:E,noHeader:!trim(E),sortBlocks:!0,blocks:[]});g.blocks.push(P),each(A.seriesDataIndices,function(I){var F=s.getSeriesByIndex(I.seriesIndex),L=I.dataIndexInside,O=F.getDataParams(L);if(!(O.dataIndex<0)){O.axisDim=A.axisDim,O.axisIndex=A.axisIndex,O.axisType=A.axisType,O.axisId=A.axisId,O.axisValue=getAxisRawValue(T.axis,{value:M}),O.axisValueLabel=E,O.marker=b.makeTooltipMarker("item",convertToColorString(O.color),d);var z=normalizeTooltipFormatResult(F.formatTooltip(L,!0,null)),R=z.frag;if(R){var B=buildTooltipModel([F],l).get("valueFormatter");P.blocks.push(B?extend3({valueFormatter:B},R):R)}z.text&&y.push(z.text),v.push(O)}})}})}),g.blocks.reverse(),y.reverse();var _=o.position,x=f.get("order"),C=buildTooltipMarkup(g,b,d,x,s.get("useUTC"),f.get("textStyle"));C&&y.unshift(C);var w=d==="richText"?`

`:"<br/>",S=y.join(w);this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(a,v)?this._updatePosition(f,_,u[0],u[1],this._tooltipContent,v):this._showTooltipContent(f,S,v,Math.random()+"",u[0],u[1],_,null,b)})},r.prototype._showSeriesItemTooltip=function(a,o,s){var l=this._ecModel,u=getECData(o),f=u.seriesIndex,d=l.getSeriesByIndex(f),v=u.dataModel||d,g=u.dataIndex,y=u.dataType,b=v.getData(y),_=this._renderMode,x=a.positionDefault,C=buildTooltipModel([b.getItemModel(g),v,d&&(d.coordinateSystem||{}).model],this._tooltipModel,x?{position:x}:null),w=C.get("trigger");if(!(w!=null&&w!=="item")){var S=v.getDataParams(g,y),D=new TooltipMarkupStyleCreator;S.marker=D.makeTooltipMarker("item",convertToColorString(S.color),_);var A=normalizeTooltipFormatResult(v.formatTooltip(g,!1,y)),T=C.get("order"),M=C.get("valueFormatter"),E=A.frag,P=E?buildTooltipMarkup(M?extend3({valueFormatter:M},E):E,D,_,T,l.get("useUTC"),C.get("textStyle")):A.text,I="item_"+v.name+"_"+g;this._showOrMove(C,function(){this._showTooltipContent(C,P,S,I,a.offsetX,a.offsetY,a.position,a.target,D)}),s({type:"showTip",dataIndexInside:g,dataIndex:b.getRawIndex(g),seriesIndex:f,from:this.uid})}},r.prototype._showComponentItemTooltip=function(a,o,s){var l=getECData(o),u=l.tooltipConfig,f=u.option||{};if(isString2(f)){var d=f;f={content:d,formatter:d}}var v=[f],g=this._ecModel.getComponent(l.componentMainType,l.componentIndex);g&&v.push(g),v.push({formatter:f.content});var y=a.positionDefault,b=buildTooltipModel(v,this._tooltipModel,y?{position:y}:null),_=b.get("content"),x=Math.random()+"",C=new TooltipMarkupStyleCreator;this._showOrMove(b,function(){var w=clone(b.get("formatterParams")||{});this._showTooltipContent(b,_,w,x,a.offsetX,a.offsetY,a.position,o,C)}),s({type:"showTip",from:this.uid})},r.prototype._showTooltipContent=function(a,o,s,l,u,f,d,v,g){if(this._ticket="",!(!a.get("showContent")||!a.get("show"))){var y=this._tooltipContent;y.setEnterable(a.get("enterable"));var b=a.get("formatter");d=d||a.get("position");var _=o,x=this._getNearestPoint([u,f],s,a.get("trigger"),a.get("borderColor")),C=x.color;if(b)if(isString2(b)){var w=a.ecModel.get("useUTC"),S=isArray3(s)?s[0]:s,D=S&&S.axisType&&S.axisType.indexOf("time")>=0;_=b,D&&(_=format2(S.axisValue,_,w)),_=formatTpl(_,s,!0)}else if(isFunction3(b)){var A=bind(function(T,M){T===this._ticket&&(y.setContent(M,g,a,C,d),this._updatePosition(a,d,u,f,y,s,v))},this);this._ticket=l,_=b(s,l,A)}else _=b;y.setContent(_,g,a,C,d),y.show(a,C),this._updatePosition(a,d,u,f,y,s,v)}},r.prototype._getNearestPoint=function(a,o,s,l){if(s==="axis"||isArray3(o))return{color:l||(this._renderMode==="html"?"#fff":"none")};if(!isArray3(o))return{color:l||o.color||o.borderColor}},r.prototype._updatePosition=function(a,o,s,l,u,f,d){var v=this._api.getWidth(),g=this._api.getHeight();o=o||a.get("position");var y=u.getSize(),b=a.get("align"),_=a.get("verticalAlign"),x=d&&d.getBoundingRect().clone();if(d&&x.applyTransform(d.transform),isFunction3(o)&&(o=o([s,l],f,u.el,x,{viewSize:[v,g],contentSize:y.slice()})),isArray3(o))s=parsePercent2(o[0],v),l=parsePercent2(o[1],g);else if(isObject3(o)){var C=o;C.width=y[0],C.height=y[1];var w=getLayoutRect(C,{width:v,height:g});s=w.x,l=w.y,b=null,_=null}else if(isString2(o)&&d){var S=calcTooltipPosition(o,x,y,a.get("borderWidth"));s=S[0],l=S[1]}else{var S=refixTooltipPosition(s,l,u,v,g,b?null:20,_?null:20);s=S[0],l=S[1]}if(b&&(s-=isCenterAlign(b)?y[0]/2:b==="right"?y[0]:0),_&&(l-=isCenterAlign(_)?y[1]/2:_==="bottom"?y[1]:0),shouldTooltipConfine(a)){var S=confineTooltipPosition(s,l,u,v,g);s=S[0],l=S[1]}u.moveTo(s,l)},r.prototype._updateContentNotChangedOnAxis=function(a,o){var s=this._lastDataByCoordSys,l=this._cbParamsList,u=!!s&&s.length===a.length;return u&&each(s,function(f,d){var v=f.dataByAxis||[],g=a[d]||{},y=g.dataByAxis||[];u=u&&v.length===y.length,u&&each(v,function(b,_){var x=y[_]||{},C=b.seriesDataIndices||[],w=x.seriesDataIndices||[];u=u&&b.value===x.value&&b.axisType===x.axisType&&b.axisId===x.axisId&&C.length===w.length,u&&each(C,function(S,D){var A=w[D];u=u&&S.seriesIndex===A.seriesIndex&&S.dataIndex===A.dataIndex}),l&&each(b.seriesDataIndices,function(S){var D=S.seriesIndex,A=o[D],T=l[D];A&&T&&T.data!==A.data&&(u=!1)})})}),this._lastDataByCoordSys=a,this._cbParamsList=o,!!u},r.prototype._hide=function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},r.prototype.dispose=function(a,o){env_default.node||!o.getDom()||(clear2(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",o))},r.type="tooltip",r}(Component_default2);function buildTooltipModel(n,r,a){var o=r.ecModel,s;a?(s=new Model_default(a,o,o),s=new Model_default(r.option,s,o)):s=r;for(var l=n.length-1;l>=0;l--){var u=n[l];u&&(u instanceof Model_default&&(u=u.get("tooltip",!0)),isString2(u)&&(u={formatter:u}),u&&(s=new Model_default(u,s,o)))}return s}function makeDispatchAction2(n,r){return n.dispatchAction||bind(r.dispatchAction,r)}function refixTooltipPosition(n,r,a,o,s,l,u){var f=a.getSize(),d=f[0],v=f[1];return l!=null&&(n+d+l+2>o?n-=d+l:n+=l),u!=null&&(r+v+u>s?r-=v+u:r+=u),[n,r]}function confineTooltipPosition(n,r,a,o,s){var l=a.getSize(),u=l[0],f=l[1];return n=Math.min(n+u,o)-u,r=Math.min(r+f,s)-f,n=Math.max(n,0),r=Math.max(r,0),[n,r]}function calcTooltipPosition(n,r,a,o){var s=a[0],l=a[1],u=Math.ceil(Math.SQRT2*o)+8,f=0,d=0,v=r.width,g=r.height;switch(n){case"inside":f=r.x+v/2-s/2,d=r.y+g/2-l/2;break;case"top":f=r.x+v/2-s/2,d=r.y-l-u;break;case"bottom":f=r.x+v/2-s/2,d=r.y+g+u;break;case"left":f=r.x-s-u,d=r.y+g/2-l/2;break;case"right":f=r.x+v+u,d=r.y+g/2-l/2}return[f,d]}function isCenterAlign(n){return n==="center"||n==="middle"}function findComponentReference(n,r,a){var o=preParseFinder(n).queryOptionMap,s=o.keys()[0];if(!(!s||s==="series")){var l=queryReferringComponents(r,s,o.get(s),{useDefault:!1,enableAll:!1,enableNone:!1}),u=l.models[0];if(!!u){var f=a.getViewOfComponentModel(u),d;if(f.group.traverse(function(v){var g=getECData(v).tooltipConfig;if(g&&g.name===n.name)return d=v,!0}),d)return{componentMainType:s,componentIndex:u.componentIndex,el:d}}}}var TooltipView_default=TooltipView;function install5(n){use(install2),n.registerComponentModel(TooltipModel_default),n.registerComponentView(TooltipView_default),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var each8=each,isObject6=isObject3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function n(r){var a=r.mappingMethod,o=r.type,s=this.option=clone(r);this.type=o,this.mappingMethod=a,this._normalizeData=normalizers[a];var l=n.visualHandlers[o];this.applyVisual=l.applyVisual,this.getColorMapper=l.getColorMapper,this._normalizedToVisual=l._normalizedToVisual[a],a==="piecewise"?(normalizeVisualRange(s),preprocessForPiecewise(s)):a==="category"?s.categories?preprocessForSpecifiedCategory(s):normalizeVisualRange(s,!0):(assert(a!=="linear"||s.dataExtent),normalizeVisualRange(s))}return n.prototype.mapValueToVisual=function(r){var a=this._normalizeData(r);return this._normalizedToVisual(a,r)},n.prototype.getNormalizer=function(){return bind(this._normalizeData,this)},n.listVisualTypes=function(){return keys3(n.visualHandlers)},n.isValidType=function(r){return n.visualHandlers.hasOwnProperty(r)},n.eachVisual=function(r,a,o){isObject3(r)?each(r,a,o):a.call(o,r)},n.mapVisual=function(r,a,o){var s,l=isArray3(r)?[]:isObject3(r)?{}:(s=!0,null);return n.eachVisual(r,function(u,f){var d=a.call(o,u,f);s?l=d:l[f]=d}),l},n.retrieveVisuals=function(r){var a={},o;return r&&each8(n.visualHandlers,function(s,l){r.hasOwnProperty(l)&&(a[l]=r[l],o=!0)}),o?a:null},n.prepareVisualTypes=function(r){if(isArray3(r))r=r.slice();else if(isObject6(r)){var a=[];each8(r,function(o,s){a.push(s)}),r=a}else return[];return r.sort(function(o,s){return s==="color"&&o!=="color"&&o.indexOf("color")===0?1:-1}),r},n.dependsOn=function(r,a){return a==="color"?!!(r&&r.indexOf(a)===0):r===a},n.findPieceIndex=function(r,a,o){for(var s,l=1/0,u=0,f=a.length;u<f;u++){var d=a[u].value;if(d!=null){if(d===r||isString2(d)&&d===r+"")return u;o&&b(d,u)}}for(var u=0,f=a.length;u<f;u++){var v=a[u],g=v.interval,y=v.close;if(g){if(g[0]===-1/0){if(littleThan(y[1],r,g[1]))return u}else if(g[1]===1/0){if(littleThan(y[0],g[0],r))return u}else if(littleThan(y[0],g[0],r)&&littleThan(y[1],r,g[1]))return u;o&&b(g[0],u),o&&b(g[1],u)}}if(o)return r===1/0?a.length-1:r===-1/0?0:s;function b(_,x){var C=Math.abs(_-r);C<l&&(l=C,s=x)}},n.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var r=this.option;return bind(r.mappingMethod==="category"?function(a,o){return!o&&(a=this._normalizeData(a)),doMapCategory.call(this,a)}:function(a,o,s){var l=!!s;return!o&&(a=this._normalizeData(a)),s=fastLerp(a,r.parsedVisual,s),l?s:stringify(s,"rgba")},this)},_normalizedToVisual:{linear:function(r){return stringify(fastLerp(r,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(r,a){var o=getSpecifiedVisual.call(this,a);return o==null&&(o=stringify(fastLerp(r,this.option.parsedVisual),"rgba")),o},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(r,a){return modifyHSL(r,a)}),colorSaturation:makePartialColorVisualHandler(function(r,a){return modifyHSL(r,null,a)}),colorLightness:makePartialColorVisualHandler(function(r,a){return modifyHSL(r,null,null,a)}),colorAlpha:makePartialColorVisualHandler(function(r,a){return modifyAlpha(r,a)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(r,a,o){var s=this.mapValueToVisual(r);o("symbol",s)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(r,a){var o=getSpecifiedVisual.call(this,a);return o==null&&(o=doMapToArray.call(this,r)),o},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},n}();function preprocessForPiecewise(n){var r=n.pieceList;n.hasSpecialVisual=!1,each(r,function(a,o){a.originIndex=o,a.visual!=null&&(n.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(n){var r=n.categories,a=n.categoryMap={},o=n.visual;if(each8(r,function(u,f){a[u]=f}),!isArray3(o)){var s=[];isObject3(o)?each8(o,function(u,f){var d=a[f];s[d!=null?d:CATEGORY_DEFAULT_VISUAL_INDEX]=u}):s[CATEGORY_DEFAULT_VISUAL_INDEX]=o,o=setVisualToOption(n,s)}for(var l=r.length-1;l>=0;l--)o[l]==null&&(delete a[r[l]],r.pop())}function normalizeVisualRange(n,r){var a=n.visual,o=[];isObject3(a)?each8(a,function(l){o.push(l)}):a!=null&&o.push(a);var s={color:1,symbol:1};!r&&o.length===1&&!s.hasOwnProperty(n.type)&&(o[1]=o[0]),setVisualToOption(n,o)}function makePartialColorVisualHandler(n){return{applyVisual:function(r,a,o){var s=this.mapValueToVisual(r);o("color",n(a("color"),s))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(n){var r=this.option.visual;return r[Math.round(linearMap(n,[0,1],[0,r.length-1],!0))]||{}}function makeApplyVisual(n){return function(r,a,o){o(n,this.mapValueToVisual(r))}}function doMapCategory(n){var r=this.option.visual;return r[this.option.loop&&n!==CATEGORY_DEFAULT_VISUAL_INDEX?n%r.length:n]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(n){return{linear:function(r){return linearMap(r,n,this.option.visual,!0)},category:doMapCategory,piecewise:function(r,a){var o=getSpecifiedVisual.call(this,a);return o==null&&(o=linearMap(r,n,this.option.visual,!0)),o},fixed:doMapFixed}}function getSpecifiedVisual(n){var r=this.option,a=r.pieceList;if(r.hasSpecialVisual){var o=VisualMapping.findPieceIndex(n,a),s=a[o];if(s&&s.visual)return s.visual[this.type]}}function setVisualToOption(n,r){return n.visual=r,n.type==="color"&&(n.parsedVisual=map3(r,function(a){var o=parse2(a);return o||warn6("'"+a+"' is an illegal color, fallback to '#000000'",!0),o||[0,0,0,1]})),r}var normalizers={linear:function(n){return linearMap(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var r=this.option.pieceList,a=VisualMapping.findPieceIndex(n,r,!0);if(a!=null)return linearMap(a,[0,r.length-1],[0,1],!0)},category:function(n){var r=this.option.categories?this.option.categoryMap[n]:n;return r==null?CATEGORY_DEFAULT_VISUAL_INDEX:r},fixed:noop};function littleThan(n,r,a){return n?r<=a:r<a}var VisualMapping_default=VisualMapping,each9=each;function hasKeys(n){if(n){for(var r in n)if(n.hasOwnProperty(r))return!0}}function createVisualMappings(n,r,a){var o={};return each9(r,function(l){var u=o[l]=s();each9(n[l],function(f,d){if(!!VisualMapping_default.isValidType(d)){var v={type:d,visual:f};a&&a(v,l),u[d]=new VisualMapping_default(v),d==="opacity"&&(v=clone(v),v.type="colorAlpha",u.__hidden.__alphaForOpacity=new VisualMapping_default(v))}})}),o;function s(){var l=function(){};l.prototype.__hidden=l.prototype;var u=new l;return u}}function replaceVisualOption(n,r,a){var o;each(a,function(s){r.hasOwnProperty(s)&&hasKeys(r[s])&&(o=!0)}),o&&each(a,function(s){r.hasOwnProperty(s)&&hasKeys(r[s])?n[s]=clone(r[s]):delete n[s]})}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(n,r,a){return n&&a.boundingRect.contain(n[0],n[1])},rect:function(n,r,a){return n&&a.boundingRect.intersect(n)}},polygon:{point:function(n,r,a){return n&&a.boundingRect.contain(n[0],n[1])&&contain3(a.range,n[0],n[1])},rect:function(n,r,a){var o=a.range;if(!n||o.length<=1)return!1;var s=n.x,l=n.y,u=n.width,f=n.height,d=o[0];if(contain3(o,s,l)||contain3(o,s+u,l)||contain3(o,s,l+f)||contain3(o,s+u,l+f)||BoundingRect_default.create(n).contain(d[0],d[1])||linePolygonIntersect(s,l,s+u,l,o)||linePolygonIntersect(s,l,s,l+f,o)||linePolygonIntersect(s+u,l,s+u,l+f,o)||linePolygonIntersect(s,l+f,s+u,l+f,o))return!0}}};function getLineSelectors(n){var r=["x","y"],a=["width","height"];return{point:function(o,s,l){if(o){var u=l.range,f=o[n];return inLineRange(f,u)}},rect:function(o,s,l){if(o){var u=l.range,f=[o[r[n]],o[r[n]]+o[a[n]]];return f[1]<f[0]&&f.reverse(),inLineRange(f[0],u)||inLineRange(f[1],u)||inLineRange(u[0],f)||inLineRange(u[1],f)}}}}function inLineRange(n,r){return r[0]<=n&&n<=r[1]}function layoutCovers(n){n.eachComponent({mainType:"brush"},function(r){var a=r.brushTargetManager=new BrushTargetManager_default(r.option,n);a.setInputRanges(r.areas,n)})}var BrushView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.init=function(a,o){this.ecModel=a,this.api=o,this.model,(this._brushController=new BrushController_default(o.getZr())).on("brush",bind(this._onBrush,this)).mount()},r.prototype.render=function(a,o,s,l){this.model=a,this._updateController(a,o,s,l)},r.prototype.updateTransform=function(a,o,s,l){layoutCovers(o),this._updateController(a,o,s,l)},r.prototype.updateVisual=function(a,o,s,l){this.updateTransform(a,o,s,l)},r.prototype.updateView=function(a,o,s,l){this._updateController(a,o,s,l)},r.prototype._updateController=function(a,o,s,l){(!l||l.$from!==a.id)&&this._brushController.setPanels(a.brushTargetManager.makePanelOpts(s)).enableBrush(a.brushOption).updateCovers(a.areas.slice())},r.prototype.dispose=function(){this._brushController.dispose()},r.prototype._onBrush=function(a){var o=this.model.id,s=this.model.brushTargetManager.setOutputRanges(a.areas,this.ecModel);(!a.isEnd||a.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:o,areas:clone(s),$from:o}),a.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:o,areas:clone(s),$from:o})},r.type="brush",r}(Component_default2),DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.areas=[],a.brushOption={},a}return r.prototype.optionUpdated=function(a,o){var s=this.option;!o&&replaceVisualOption(s,a,["inBrush","outOfBrush"]);var l=s.inBrush=s.inBrush||{};s.outOfBrush=s.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},l.hasOwnProperty("liftZ")||(l.liftZ=5)},r.prototype.setAreas=function(a){assert(isArray3(a)),each(a,function(o){assert(o.brushType,"Illegal areas")}),!!a&&(this.areas=map3(a,function(o){return generateBrushOption(this.option,o)},this))},r.prototype.setBrushOption=function(a){this.brushOption=generateBrushOption(this.option,a),this.brushType=this.brushOption.brushType},r.type="brush",r.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],r.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},r}(Component_default);function generateBrushOption(n,r){return merge3({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Model_default(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},r,!0)}var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.render=function(a,o,s){var l,u,f;o.eachComponent({mainType:"brush"},function(d){l=d.brushType,u=d.brushOption.brushMode||"single",f=f||!!d.areas.length}),this._brushType=l,this._brushMode=u,each(a.get("type",!0),function(d){a.setIconStatus(d,(d==="keep"?u==="multiple":d==="clear"?f:d===l)?"emphasis":"normal")})},r.prototype.updateView=function(a,o,s){this.render(a,o,s)},r.prototype.getIcons=function(){var a=this.model,o=a.get("icon",!0),s={};return each(a.get("type",!0),function(l){o[l]&&(s[l]=o[l])}),s},r.prototype.onclick=function(a,o,s){var l=this._brushType,u=this._brushMode;s==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:s==="keep"?l:l===s?!1:s,brushMode:s==="keep"?u==="multiple"?"single":"multiple":u}})},r.getDefaultOption=function(a){var o={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:a.getLocaleModel().get(["toolbox","brush","title"])};return o},r}(ToolboxFeature),TitleModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.layoutMode={type:"box",ignoreSize:!0},a}return r.type="title",r.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},r}(Component_default),TitleView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){if(this.group.removeAll(),!!a.get("show")){var l=this.group,u=a.getModel("textStyle"),f=a.getModel("subtextStyle"),d=a.get("textAlign"),v=retrieve2(a.get("textBaseline"),a.get("textVerticalAlign")),g=new Text_default({style:createTextStyle(u,{text:a.get("text"),fill:u.getTextColor()},{disableBox:!0}),z2:10}),y=g.getBoundingRect(),b=a.get("subtext"),_=new Text_default({style:createTextStyle(f,{text:b,fill:f.getTextColor(),y:y.height+a.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),x=a.get("link"),C=a.get("sublink"),w=a.get("triggerEvent",!0);g.silent=!x&&!w,_.silent=!C&&!w,x&&g.on("click",function(){windowOpen(x,"_"+a.get("target"))}),C&&_.on("click",function(){windowOpen(C,"_"+a.get("subtarget"))}),getECData(g).eventData=getECData(_).eventData=w?{componentType:"title",componentIndex:a.componentIndex}:null,l.add(g),b&&l.add(_);var S=l.getBoundingRect(),D=a.getBoxLayoutParams();D.width=S.width,D.height=S.height;var A=getLayoutRect(D,{width:s.getWidth(),height:s.getHeight()},a.get("padding"));d||(d=a.get("left")||a.get("right"),d==="middle"&&(d="center"),d==="right"?A.x+=A.width:d==="center"&&(A.x+=A.width/2)),v||(v=a.get("top")||a.get("bottom"),v==="center"&&(v="middle"),v==="bottom"?A.y+=A.height:v==="middle"&&(A.y+=A.height/2),v=v||"top"),l.x=A.x,l.y=A.y,l.markRedraw();var T={align:d,verticalAlign:v};g.setStyle(T),_.setStyle(T),S=l.getBoundingRect();var M=A.margin,E=a.getItemStyle(["color","opacity"]);E.fill=a.get("backgroundColor");var P=new Rect_default({shape:{x:S.x-M[3],y:S.y-M[0],width:S.width+M[1]+M[3],height:S.height+M[0]+M[2],r:a.get("borderRadius")},style:E,subPixelOptimize:!0,silent:!0});l.add(P)}},r.type="title",r}(Component_default2);function install6(n){n.registerComponentModel(TitleModel),n.registerComponentView(TitleView)}var TimelineModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.layoutMode="box",a}return r.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s),this._initData()},r.prototype.mergeOption=function(a){n.prototype.mergeOption.apply(this,arguments),this._initData()},r.prototype.setCurrentIndex=function(a){a==null&&(a=this.option.currentIndex);var o=this._data.count();this.option.loop?a=(a%o+o)%o:(a>=o&&(a=o-1),a<0&&(a=0)),this.option.currentIndex=a},r.prototype.getCurrentIndex=function(){return this.option.currentIndex},r.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},r.prototype.setPlayState=function(a){this.option.autoPlay=!!a},r.prototype.getPlayState=function(){return!!this.option.autoPlay},r.prototype._initData=function(){var a=this.option,o=a.data||[],s=a.axisType,l=this._names=[],u;s==="category"?(u=[],each(o,function(v,g){var y=convertOptionIdName(getDataItemValue(v),""),b;isObject3(v)?(b=clone(v),b.value=g):b=g,u.push(b),l.push(y)})):u=o;var f={category:"ordinal",time:"time",value:"number"}[s]||"number",d=this._data=new SeriesData_default([{name:"value",type:f}],this);d.initData(u,l)},r.prototype.getData=function(){return this._data},r.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},r.type="timeline",r.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},r}(Component_default),TimelineModel_default=TimelineModel,SliderTimelineModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="timeline.slider",r.defaultOption=inheritDefaultOption(TimelineModel_default.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),r}(TimelineModel_default);mixin(SliderTimelineModel,DataFormatMixin.prototype);var TimelineView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="timeline",r}(Component_default2),TimelineView_default=TimelineView,TimelineAxis=function(n){__extends(r,n);function r(a,o,s,l){var u=n.call(this,a,o,s)||this;return u.type=l||"value",u}return r.prototype.getLabelModel=function(){return this.model.getModel("label")},r.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},r}(Axis_default),TimelineAxis_default=TimelineAxis,PI7=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.init=function(a,o){this.api=o},r.prototype.render=function(a,o,s){if(this.model=a,this.api=s,this.ecModel=o,this.group.removeAll(),a.get("show",!0)){var l=this._layout(a,s),u=this._createGroup("_mainGroup"),f=this._createGroup("_labelGroup"),d=this._axis=this._createAxis(l,a);a.formatTooltip=function(v){var g=d.scale.getLabel({value:v});return createTooltipMarkup("nameValue",{noName:!0,value:g})},each(["AxisLine","AxisTick","Control","CurrentPointer"],function(v){this["_render"+v](l,u,d,a)},this),this._renderAxisLabel(l,f,d,a),this._position(l,a)}this._doPlayStop(),this._updateTicksStatus()},r.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},r.prototype.dispose=function(){this._clearTimer()},r.prototype._layout=function(a,o){var s=a.get(["label","position"]),l=a.get("orient"),u=getViewRect(a,o),f;s==null||s==="auto"?f=l==="horizontal"?u.y+u.height/2<o.getHeight()/2?"-":"+":u.x+u.width/2<o.getWidth()/2?"+":"-":isString2(s)?f={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[l][s]:f=s;var d={horizontal:"center",vertical:f>=0||f==="+"?"left":"right"},v={horizontal:f>=0||f==="+"?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:PI7/2},y=l==="vertical"?u.height:u.width,b=a.getModel("controlStyle"),_=b.get("show",!0),x=_?b.get("itemSize"):0,C=_?b.get("itemGap"):0,w=x+C,S=a.get(["label","rotate"])||0;S=S*PI7/180;var D,A,T,M=b.get("position",!0),E=_&&b.get("showPlayBtn",!0),P=_&&b.get("showPrevBtn",!0),I=_&&b.get("showNextBtn",!0),F=0,L=y;M==="left"||M==="bottom"?(E&&(D=[0,0],F+=w),P&&(A=[F,0],F+=w),I&&(T=[L-x,0],L-=w)):(E&&(D=[L-x,0],L-=w),P&&(A=[0,0],F+=w),I&&(T=[L-x,0],L-=w));var O=[F,L];return a.get("inverse")&&O.reverse(),{viewRect:u,mainLength:y,orient:l,rotation:g[l],labelRotation:S,labelPosOpt:f,labelAlign:a.get(["label","align"])||d[l],labelBaseline:a.get(["label","verticalAlign"])||a.get(["label","baseline"])||v[l],playPosition:D,prevBtnPosition:A,nextBtnPosition:T,axisExtent:O,controlSize:x,controlGap:C}},r.prototype._position=function(a,o){var s=this._mainGroup,l=this._labelGroup,u=a.viewRect;if(a.orient==="vertical"){var f=create2(),d=u.x,v=u.y+u.height;translate(f,f,[-d,-v]),rotate(f,f,-PI7/2),translate(f,f,[d,v]),u=u.clone(),u.applyTransform(f)}var g=D(u),y=D(s.getBoundingRect()),b=D(l.getBoundingRect()),_=[s.x,s.y],x=[l.x,l.y];x[0]=_[0]=g[0][0];var C=a.labelPosOpt;if(C==null||isString2(C)){var w=C==="+"?0:1;A(_,y,g,1,w),A(x,b,g,1,1-w)}else{var w=C>=0?0:1;A(_,y,g,1,w),x[1]=_[1]+C}s.setPosition(_),l.setPosition(x),s.rotation=l.rotation=a.rotation,S(s),S(l);function S(T){T.originX=g[0][0]-T.x,T.originY=g[1][0]-T.y}function D(T){return[[T.x,T.x+T.width],[T.y,T.y+T.height]]}function A(T,M,E,P,I){T[P]+=E[P][I]-M[P][I]}},r.prototype._createAxis=function(a,o){var s=o.getData(),l=o.get("axisType"),u=createScaleByModel2(o,l);u.getTicks=function(){return s.mapArray(["value"],function(v){return{value:v}})};var f=s.getDataExtent("value");u.setExtent(f[0],f[1]),u.calcNiceTicks();var d=new TimelineAxis_default("value",u,a.axisExtent,l);return d.model=o,d},r.prototype._createGroup=function(a){var o=this[a]=new Group_default;return this.group.add(o),o},r.prototype._renderAxisLine=function(a,o,s,l){var u=s.getExtent();if(!!l.get(["lineStyle","show"])){var f=new Line_default({shape:{x1:u[0],y1:0,x2:u[1],y2:0},style:extend3({lineCap:"round"},l.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});o.add(f);var d=this._progressLine=new Line_default({shape:{x1:u[0],x2:this._currentPointer?this._currentPointer.x:u[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:f.style.lineWidth},l.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});o.add(d)}},r.prototype._renderAxisTick=function(a,o,s,l){var u=this,f=l.getData(),d=s.scale.getTicks();this._tickSymbols=[],each(d,function(v){var g=s.dataToCoord(v.value),y=f.getItemModel(v.value),b=y.getModel("itemStyle"),_=y.getModel(["emphasis","itemStyle"]),x=y.getModel(["progress","itemStyle"]),C={x:g,y:0,onclick:bind(u._changeTimeline,u,v.value)},w=giveSymbol(y,b,o,C);w.ensureState("emphasis").style=_.getItemStyle(),w.ensureState("progress").style=x.getItemStyle(),enableHoverEmphasis(w);var S=getECData(w);y.get("tooltip")?(S.dataIndex=v.value,S.dataModel=l):S.dataIndex=S.dataModel=null,u._tickSymbols.push(w)})},r.prototype._renderAxisLabel=function(a,o,s,l){var u=this,f=s.getLabelModel();if(!!f.get("show")){var d=l.getData(),v=s.getViewLabels();this._tickLabels=[],each(v,function(g){var y=g.tickValue,b=d.getItemModel(y),_=b.getModel("label"),x=b.getModel(["emphasis","label"]),C=b.getModel(["progress","label"]),w=s.dataToCoord(g.tickValue),S=new Text_default({x:w,y:0,rotation:a.labelRotation-a.rotation,onclick:bind(u._changeTimeline,u,y),silent:!1,style:createTextStyle(_,{text:g.formattedLabel,align:a.labelAlign,verticalAlign:a.labelBaseline})});S.ensureState("emphasis").style=createTextStyle(x),S.ensureState("progress").style=createTextStyle(C),o.add(S),enableHoverEmphasis(S),labelDataIndexStore(S).dataIndex=y,u._tickLabels.push(S)})}},r.prototype._renderControl=function(a,o,s,l){var u=a.controlSize,f=a.rotation,d=l.getModel("controlStyle").getItemStyle(),v=l.getModel(["emphasis","controlStyle"]).getItemStyle(),g=l.getPlayState(),y=l.get("inverse",!0);b(a.nextBtnPosition,"next",bind(this._changeTimeline,this,y?"-":"+")),b(a.prevBtnPosition,"prev",bind(this._changeTimeline,this,y?"+":"-")),b(a.playPosition,g?"stop":"play",bind(this._handlePlayClick,this,!g),!0);function b(_,x,C,w){if(!!_){var S=parsePercent(retrieve2(l.get(["controlStyle",x+"BtnSize"]),u),u),D=[0,-S/2,S,S],A=makeControlIcon(l,x+"Icon",D,{x:_[0],y:_[1],originX:u/2,originY:0,rotation:w?-f:0,rectHover:!0,style:d,onclick:C});A.ensureState("emphasis").style=v,o.add(A),enableHoverEmphasis(A)}}},r.prototype._renderCurrentPointer=function(a,o,s,l){var u=l.getData(),f=l.getCurrentIndex(),d=u.getItemModel(f).getModel("checkpointStyle"),v=this,g={onCreate:function(y){y.draggable=!0,y.drift=bind(v._handlePointerDrag,v),y.ondragend=bind(v._handlePointerDragend,v),pointerMoveTo(y,v._progressLine,f,s,l,!0)},onUpdate:function(y){pointerMoveTo(y,v._progressLine,f,s,l)}};this._currentPointer=giveSymbol(d,d,this._mainGroup,{},this._currentPointer,g)},r.prototype._handlePlayClick=function(a){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},r.prototype._handlePointerDrag=function(a,o,s){this._clearTimer(),this._pointerChangeTimeline([s.offsetX,s.offsetY])},r.prototype._handlePointerDragend=function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},r.prototype._pointerChangeTimeline=function(a,o){var s=this._toAxisCoord(a)[0],l=this._axis,u=asc(l.getExtent().slice());s>u[1]&&(s=u[1]),s<u[0]&&(s=u[0]),this._currentPointer.x=s,this._currentPointer.markRedraw(),this._progressLine.shape.x2=s,this._progressLine.dirty();var f=this._findNearestTick(s),d=this.model;(o||f!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(f)},r.prototype._doPlayStop=function(){var a=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var o=a.model;a._changeTimeline(o.getCurrentIndex()+(o.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},r.prototype._toAxisCoord=function(a){var o=this._mainGroup.getLocalTransform();return applyTransform2(a,o,!0)},r.prototype._findNearestTick=function(a){var o=this.model.getData(),s=1/0,l,u=this._axis;return o.each(["value"],function(f,d){var v=u.dataToCoord(f),g=Math.abs(v-a);g<s&&(s=g,l=d)}),l},r.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},r.prototype._changeTimeline=function(a){var o=this.model.getCurrentIndex();a==="+"?a=o+1:a==="-"&&(a=o-1),this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})},r.prototype._updateTicksStatus=function(){var a=this.model.getCurrentIndex(),o=this._tickSymbols,s=this._tickLabels;if(o)for(var l=0;l<o.length;l++)o&&o[l]&&o[l].toggleState("progress",l<a);if(s)for(var l=0;l<s.length;l++)s&&s[l]&&s[l].toggleState("progress",labelDataIndexStore(s[l]).dataIndex<=a)},r.type="timeline.slider",r}(TimelineView_default);function createScaleByModel2(n,r){if(r=r||n.get("type"),r)switch(r){case"category":return new Ordinal_default({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new Time_default({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new Interval_default}}function getViewRect(n,r){return getLayoutRect(n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()},n.get("padding"))}function makeControlIcon(n,r,a,o){var s=o.style,l=createIcon(n.get(["controlStyle",r]),o||{},new BoundingRect_default(a[0],a[1],a[2],a[3]));return s&&l.setStyle(s),l}function giveSymbol(n,r,a,o,s,l){var u=r.get("color");if(s)s.setColor(u),a.add(s),l&&l.onUpdate(s);else{var f=n.get("symbol");s=createSymbol(f,-1,-1,2,2,u),s.setStyle("strokeNoScale",!0),a.add(s),l&&l.onCreate(s)}var d=r.getItemStyle(["color"]);s.setStyle(d),o=merge3({rectHover:!0,z2:100},o,!0);var v=normalizeSymbolSize(n.get("symbolSize"));o.scaleX=v[0]/2,o.scaleY=v[1]/2;var g=normalizeSymbolOffset(n.get("symbolOffset"),v);g&&(o.x=(o.x||0)+g[0],o.y=(o.y||0)+g[1]);var y=n.get("symbolRotate");return o.rotation=(y||0)*Math.PI/180||0,s.attr(o),s.updateTransform(),s}function pointerMoveTo(n,r,a,o,s,l){if(!n.dragging){var u=s.getModel("checkpointStyle"),f=o.dataToCoord(s.getData().get("value",a));if(l||!u.get("animation",!0))n.attr({x:f,y:0}),r&&r.attr({shape:{x2:f}});else{var d={duration:u.get("animationDuration",!0),easing:u.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:f,y:0},d),r&&r.animateTo({shape:{x2:f}},d)}}}function fillLabel(n){defaultEmphasis(n,"label",["show"])}var inner13=makeInner(),MarkerModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.createdBySelf=!1,a}return r.prototype.init=function(a,o,s){if(this.type==="marker")throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(a,s),this._mergeOption(a,s,!1,!0)},r.prototype.isAnimationEnabled=function(){if(env_default.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},r.prototype.mergeOption=function(a,o){this._mergeOption(a,o,!1,!1)},r.prototype._mergeOption=function(a,o,s,l){var u=this.mainType;s||o.eachSeries(function(f){var d=f.get(this.mainType,!0),v=inner13(f)[u];if(!d||!d.data){inner13(f)[u]=null;return}v?v._mergeOption(d,o,!0):(l&&fillLabel(d),each(d.data,function(g){g instanceof Array?(fillLabel(g[0]),fillLabel(g[1])):fillLabel(g)}),v=this.createMarkerModelFromSeries(d,this,o),extend3(v,{mainType:this.mainType,seriesIndex:f.seriesIndex,name:f.name,createdBySelf:!0}),v.__hostSeries=f),inner13(f)[u]=v},this)},r.prototype.formatTooltip=function(a,o,s){var l=this.getData(),u=this.getRawValue(a),f=l.getName(a);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:f,value:u,noName:!f,noValue:u==null})]})},r.prototype.getData=function(){return this._data},r.prototype.setData=function(a){this._data=a},r.getMarkerModelFromSeries=function(a,o){return inner13(a)[o]},r.type="marker",r.dependencies=["series","grid","polar","geo"],r}(Component_default);mixin(MarkerModel,DataFormatMixin.prototype);var MarkerModel_default=MarkerModel,MarkPointModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.createMarkerModelFromSeries=function(a,o,s){return new r(a,o,s)},r.type="markPoint",r.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},r}(MarkerModel_default);function getDefaultLabel(n,r){var a=n.mapDimensionsAll("defaultedLabel"),o=a.length;if(o===1){var s=retrieveRawValue(n,r,a[0]);return s!=null?s+"":null}else if(o){for(var l=[],u=0;u<a.length;u++)l.push(retrieveRawValue(n,r,a[u]));return l.join(" ")}}function getDefaultInterpolatedLabel(n,r){var a=n.mapDimensionsAll("defaultedLabel");if(!isArray3(r))return r+"";for(var o=[],s=0;s<a.length;s++){var l=n.getDimensionIndex(a[s]);l>=0&&o.push(r[l])}return o.join(" ")}var Symbol3=function(n){__extends(r,n);function r(a,o,s,l){var u=n.call(this)||this;return u.updateData(a,o,s,l),u}return r.prototype._createSymbol=function(a,o,s,l,u){this.removeAll();var f=createSymbol(a,-1,-1,2,2,null,u);f.attr({z2:100,culling:!0,scaleX:l[0]/2,scaleY:l[1]/2}),f.drift=driftSymbol,this._symbolType=a,this.add(f)},r.prototype.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(null,a)},r.prototype.getSymbolType=function(){return this._symbolType},r.prototype.getSymbolPath=function(){return this.childAt(0)},r.prototype.highlight=function(){enterEmphasis(this.childAt(0))},r.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},r.prototype.setZ=function(a,o){var s=this.childAt(0);s.zlevel=a,s.z=o},r.prototype.setDraggable=function(a){var o=this.childAt(0);o.draggable=a,o.cursor=a?"move":o.cursor},r.prototype.updateData=function(a,o,s,l){this.silent=!1;var u=a.getItemVisual(o,"symbol")||"circle",f=a.hostModel,d=r.getSymbolSize(a,o),v=u!==this._symbolType,g=l&&l.disableAnimation;if(v){var y=a.getItemVisual(o,"symbolKeepAspect");this._createSymbol(u,a,o,d,y)}else{var b=this.childAt(0);b.silent=!1;var _={scaleX:d[0]/2,scaleY:d[1]/2};g?b.attr(_):updateProps2(b,_,f,o),saveOldStyle(b)}if(this._updateCommon(a,o,d,s,l),v){var b=this.childAt(0);if(!g){var _={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:b.style.opacity}};b.scaleX=b.scaleY=0,b.style.opacity=0,initProps2(b,_,f,o)}}g&&this.childAt(0).stopAnimation("leave")},r.prototype._updateCommon=function(a,o,s,l,u){var f=this.childAt(0),d=a.hostModel,v,g,y,b,_,x,C,w,S;if(l&&(v=l.emphasisItemStyle,g=l.blurItemStyle,y=l.selectItemStyle,b=l.focus,_=l.blurScope,C=l.labelStatesModels,w=l.hoverScale,S=l.cursorStyle,x=l.emphasisDisabled),!l||a.hasItemOption){var D=l&&l.itemModel?l.itemModel:a.getItemModel(o),A=D.getModel("emphasis");v=A.getModel("itemStyle").getItemStyle(),y=D.getModel(["select","itemStyle"]).getItemStyle(),g=D.getModel(["blur","itemStyle"]).getItemStyle(),b=A.get("focus"),_=A.get("blurScope"),x=A.get("disabled"),C=getLabelStatesModels(D),w=A.getShallow("scale"),S=D.getShallow("cursor")}var T=a.getItemVisual(o,"symbolRotate");f.attr("rotation",(T||0)*Math.PI/180||0);var M=normalizeSymbolOffset(a.getItemVisual(o,"symbolOffset"),s);M&&(f.x=M[0],f.y=M[1]),S&&f.attr("cursor",S);var E=a.getItemVisual(o,"style"),P=E.fill;if(f instanceof Image_default){var I=f.style;f.useStyle(extend3({image:I.image,x:I.x,y:I.y,width:I.width,height:I.height},E))}else f.__isEmptyBrush?f.useStyle(extend3({},E)):f.useStyle(E),f.style.decal=null,f.setColor(P,u&&u.symbolInnerColor),f.style.strokeNoScale=!0;var F=a.getItemVisual(o,"liftZ"),L=this._z2;F!=null?L==null&&(this._z2=f.z2,f.z2+=F):L!=null&&(f.z2=L,this._z2=null);var O=u&&u.useNameLabel;setLabelStyle(f,C,{labelFetcher:d,labelDataIndex:o,defaultText:z,inheritColor:P,defaultOpacity:E.opacity});function z(N){return O?a.getName(N):getDefaultLabel(a,N)}this._sizeX=s[0]/2,this._sizeY=s[1]/2;var R=f.ensureState("emphasis");if(R.style=v,f.ensureState("select").style=y,f.ensureState("blur").style=g,w){var B=Math.max(isNumber(w)?w:1.1,3/this._sizeY);R.scaleX=this._sizeX*B,R.scaleY=this._sizeY*B}this.setSymbolScale(1),toggleHoverEmphasis(this,b,_,x)},r.prototype.setSymbolScale=function(a){this.scaleX=this.scaleY=a},r.prototype.fadeOut=function(a,o,s){var l=this.childAt(0),u=getECData(this).dataIndex,f=s&&s.animation;if(this.silent=l.silent=!0,s&&s.fadeLabel){var d=l.getTextContent();d&&removeElement2(d,{style:{opacity:0}},o,{dataIndex:u,removeOpt:f,cb:function(){l.removeTextContent()}})}else l.removeTextContent();removeElement2(l,{style:{opacity:0},scaleX:0,scaleY:0},o,{dataIndex:u,cb:a,removeOpt:f})},r.getSymbolSize=function(a,o){return normalizeSymbolSize(a.getItemVisual(o,"symbolSize"))},r}(Group_default);function driftSymbol(n,r){this.parent.drift(n,r)}var Symbol_default2=Symbol3;function symbolNeedsDraw(n,r,a,o){return r&&!isNaN(r[0])&&!isNaN(r[1])&&!(o.isIgnore&&o.isIgnore(a))&&!(o.clipShape&&!o.clipShape.contain(r[0],r[1]))&&n.getItemVisual(a,"symbol")!=="none"}function normalizeUpdateOpt(n){return n!=null&&!isObject3(n)&&(n={isIgnore:n}),n||{}}function makeSeriesScope(n){var r=n.hostModel,a=r.getModel("emphasis");return{emphasisItemStyle:a.getModel("itemStyle").getItemStyle(),blurItemStyle:r.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:r.getModel(["select","itemStyle"]).getItemStyle(),focus:a.get("focus"),blurScope:a.get("blurScope"),emphasisDisabled:a.get("disabled"),hoverScale:a.get("scale"),labelStatesModels:getLabelStatesModels(r),cursorStyle:r.get("cursor")}}var SymbolDraw=function(){function n(r){this.group=new Group_default,this._SymbolCtor=r||Symbol_default2}return n.prototype.updateData=function(r,a){this._progressiveEls=null,a=normalizeUpdateOpt(a);var o=this.group,s=r.hostModel,l=this._data,u=this._SymbolCtor,f=a.disableAnimation,d=makeSeriesScope(r),v={disableAnimation:f},g=a.getSymbolPoint||function(y){return r.getItemLayout(y)};l||o.removeAll(),r.diff(l).add(function(y){var b=g(y);if(symbolNeedsDraw(r,b,y,a)){var _=new u(r,y,d,v);_.setPosition(b),r.setItemGraphicEl(y,_),o.add(_)}}).update(function(y,b){var _=l.getItemGraphicEl(b),x=g(y);if(!symbolNeedsDraw(r,x,y,a)){o.remove(_);return}var C=r.getItemVisual(y,"symbol")||"circle",w=_&&_.getSymbolType&&_.getSymbolType();if(!_||w&&w!==C)o.remove(_),_=new u(r,y,d,v),_.setPosition(x);else{_.updateData(r,y,d,v);var S={x:x[0],y:x[1]};f?_.attr(S):updateProps2(_,S,s)}o.add(_),r.setItemGraphicEl(y,_)}).remove(function(y){var b=l.getItemGraphicEl(y);b&&b.fadeOut(function(){o.remove(b)},s)}).execute(),this._getSymbolPoint=g,this._data=r},n.prototype.updateLayout=function(){var r=this,a=this._data;a&&a.eachItemGraphicEl(function(o,s){var l=r._getSymbolPoint(s);o.setPosition(l),o.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(r){this._seriesScope=makeSeriesScope(r),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(r,a,o){this._progressiveEls=[],o=normalizeUpdateOpt(o);function s(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var l=r.start;l<r.end;l++){var u=a.getItemLayout(l);if(symbolNeedsDraw(a,u,l,o)){var f=new this._SymbolCtor(a,l,this._seriesScope);f.traverse(s),f.setPosition(u),this.group.add(f),a.setItemGraphicEl(l,f),this._progressiveEls.push(f)}}},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype.remove=function(r){var a=this.group,o=this._data;o&&r?o.eachItemGraphicEl(function(s){s.fadeOut(function(){a.remove(s)},o.hostModel)}):a.removeAll()},n}(),SymbolDraw_default=SymbolDraw;function hasXOrY(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function hasXAndY(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}function markerTypeCalculatorWithExtent(n,r,a,o,s,l){var u=[],f=isDimensionStacked(r,o),d=f?r.getCalculationInfo("stackResultDimension"):o,v=numCalculate(r,d,n),g=r.indicesOfNearest(d,v)[0];u[s]=r.get(a,g),u[l]=r.get(d,g);var y=r.get(o,g),b=getPrecision(r.get(o,g));return b=Math.min(b,20),b>=0&&(u[l]=+u[l].toFixed(b)),[u,y]}var markerTypeCalculator={min:curry(markerTypeCalculatorWithExtent,"min"),max:curry(markerTypeCalculatorWithExtent,"max"),average:curry(markerTypeCalculatorWithExtent,"average"),median:curry(markerTypeCalculatorWithExtent,"median")};function dataTransform(n,r){var a=n.getData(),o=n.coordinateSystem;if(r&&!hasXAndY(r)&&!isArray3(r.coord)&&o){var s=o.dimensions,l=getAxisInfo2(r,a,o,n);if(r=clone(r),r.type&&markerTypeCalculator[r.type]&&l.baseAxis&&l.valueAxis){var u=indexOf(s,l.baseAxis.dim),f=indexOf(s,l.valueAxis.dim),d=markerTypeCalculator[r.type](a,l.baseDataDim,l.valueDataDim,u,f);r.coord=d[0],r.value=d[1]}else{for(var v=[r.xAxis!=null?r.xAxis:r.radiusAxis,r.yAxis!=null?r.yAxis:r.angleAxis],g=0;g<2;g++)markerTypeCalculator[v[g]]&&(v[g]=numCalculate(a,a.mapDimension(s[g]),v[g]));r.coord=v}}return r}function getAxisInfo2(n,r,a,o){var s={};return n.valueIndex!=null||n.valueDim!=null?(s.valueDataDim=n.valueIndex!=null?r.getDimension(n.valueIndex):n.valueDim,s.valueAxis=a.getAxis(dataDimToCoordDim(o,s.valueDataDim)),s.baseAxis=a.getOtherAxis(s.valueAxis),s.baseDataDim=r.mapDimension(s.baseAxis.dim)):(s.baseAxis=o.getBaseAxis(),s.valueAxis=a.getOtherAxis(s.baseAxis),s.baseDataDim=r.mapDimension(s.baseAxis.dim),s.valueDataDim=r.mapDimension(s.valueAxis.dim)),s}function dataDimToCoordDim(n,r){var a=n.getData().getDimensionInfo(r);return a&&a.coordDim}function dataFilter(n,r){return n&&n.containData&&r.coord&&!hasXOrY(r)?n.containData(r.coord):!0}function createMarkerDimValueGetter(n,r){return n?function(a,o,s,l){var u=l<2?a.coord&&a.coord[l]:a.value;return parseDataValue(u,r[l])}:function(a,o,s,l){return parseDataValue(a.value,r[l])}}function numCalculate(n,r,a){if(a==="average"){var o=0,s=0;return n.each(r,function(l,u){isNaN(l)||(o+=l,s++)}),o/s}else return a==="median"?n.getMedian(r):n.getDataExtent(r)[a==="max"?1:0]}var inner14=makeInner(),MarkerView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.init=function(){this.markerGroupMap=createHashMap()},r.prototype.render=function(a,o,s){var l=this,u=this.markerGroupMap;u.each(function(f){inner14(f).keep=!1}),o.eachSeries(function(f){var d=MarkerModel_default.getMarkerModelFromSeries(f,l.type);d&&l.renderSeries(f,d,o,s)}),u.each(function(f){!inner14(f).keep&&l.group.remove(f.group)})},r.prototype.markKeep=function(a){inner14(a).keep=!0},r.prototype.toggleBlurSeries=function(a,o){var s=this;each(a,function(l){var u=MarkerModel_default.getMarkerModelFromSeries(l,s.type);if(u){var f=u.getData();f.eachItemGraphicEl(function(d){d&&(o?enterBlur(d):leaveBlur(d))})}})},r.type="marker",r}(Component_default2),MarkerView_default=MarkerView;function updateMarkerLayout(n,r,a){var o=r.coordinateSystem;n.each(function(s){var l=n.getItemModel(s),u,f=parsePercent2(l.get("x"),a.getWidth()),d=parsePercent2(l.get("y"),a.getHeight());if(!isNaN(f)&&!isNaN(d))u=[f,d];else if(r.getMarkerPosition)u=r.getMarkerPosition(n.getValues(n.dimensions,s));else if(o){var v=n.get(o.dimensions[0],s),g=n.get(o.dimensions[1],s);u=o.dataToPoint([v,g])}isNaN(f)||(u[0]=f),isNaN(d)||(u[1]=d),n.setItemLayout(s,u)})}var MarkPointView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.updateTransform=function(a,o,s){o.eachSeries(function(l){var u=MarkerModel_default.getMarkerModelFromSeries(l,"markPoint");u&&(updateMarkerLayout(u.getData(),l,s),this.markerGroupMap.get(l.id).updateLayout())},this)},r.prototype.renderSeries=function(a,o,s,l){var u=a.coordinateSystem,f=a.id,d=a.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,new SymbolDraw_default),y=createData(u,a,o);o.setData(y),updateMarkerLayout(o.getData(),a,l),y.each(function(b){var _=y.getItemModel(b),x=_.getShallow("symbol"),C=_.getShallow("symbolSize"),w=_.getShallow("symbolRotate"),S=_.getShallow("symbolOffset"),D=_.getShallow("symbolKeepAspect");if(isFunction3(x)||isFunction3(C)||isFunction3(w)||isFunction3(S)){var A=o.getRawValue(b),T=o.getDataParams(b);isFunction3(x)&&(x=x(A,T)),isFunction3(C)&&(C=C(A,T)),isFunction3(w)&&(w=w(A,T)),isFunction3(S)&&(S=S(A,T))}var M=_.getModel("itemStyle").getItemStyle(),E=getVisualFromData(d,"color");M.fill||(M.fill=E),y.setItemVisual(b,{symbol:x,symbolSize:C,symbolRotate:w,symbolOffset:S,symbolKeepAspect:D,style:M})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(b){b.traverse(function(_){getECData(_).dataModel=o})}),this.markKeep(g),g.group.silent=o.get("silent")||a.get("silent")},r.type="markPoint",r}(MarkerView_default);function createData(n,r,a){var o;n?o=map3(n&&n.dimensions,function(f){var d=r.getData().getDimensionInfo(r.getData().mapDimension(f))||{};return extend3(extend3({},d),{name:f,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var s=new SeriesData_default(o,a),l=map3(a.get("data"),curry(dataTransform,r));n&&(l=filter(l,curry(dataFilter,n)));var u=createMarkerDimValueGetter(!!n,o);return s.initData(l,null,u),s}var MarkLineModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.createMarkerModelFromSeries=function(a,o,s){return new r(a,o,s)},r.type="markLine",r.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},r}(MarkerModel_default),straightLineProto=Line_default.prototype,bezierCurveProto=BezierCurve_default.prototype,StraightLineShape=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),CurveShape=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(StraightLineShape);function isStraightLine(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}var ECLinePath=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o.type="ec-line",o}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new StraightLineShape},r.prototype.buildPath=function(a,o){isStraightLine(o)?straightLineProto.buildPath.call(this,a,o):bezierCurveProto.buildPath.call(this,a,o)},r.prototype.pointAt=function(a){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,a):bezierCurveProto.pointAt.call(this,a)},r.prototype.tangentAt=function(a){var o=this.shape,s=isStraightLine(o)?[o.x2-o.x1,o.y2-o.y1]:bezierCurveProto.tangentAt.call(this,a);return normalize2(s,s)},r}(Path_default),LinePath_default=ECLinePath,SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(n){return"_"+n+"Type"}function createSymbol2(n,r,a){var o=r.getItemVisual(a,n);if(!(!o||o==="none")){var s=r.getItemVisual(a,n+"Size"),l=r.getItemVisual(a,n+"Rotate"),u=r.getItemVisual(a,n+"Offset"),f=r.getItemVisual(a,n+"KeepAspect"),d=normalizeSymbolSize(s),v=normalizeSymbolOffset(u||0,d),g=createSymbol(o,-d[0]/2+v[0],-d[1]/2+v[1],d[0],d[1],null,f);return g.__specifiedRotation=l==null||isNaN(l)?void 0:+l*Math.PI/180||0,g.name=n,g}}function createLine(n){var r=new LinePath_default({name:"line",subPixelOptimize:!0});return setLinePoints(r.shape,n),r}function setLinePoints(n,r){n.x1=r[0][0],n.y1=r[0][1],n.x2=r[1][0],n.y2=r[1][1],n.percent=1;var a=r[2];a?(n.cpx1=a[0],n.cpy1=a[1]):(n.cpx1=NaN,n.cpy1=NaN)}var Line2=function(n){__extends(r,n);function r(a,o,s){var l=n.call(this)||this;return l._createLine(a,o,s),l}return r.prototype._createLine=function(a,o,s){var l=a.hostModel,u=a.getItemLayout(o),f=createLine(u);f.shape.percent=0,initProps2(f,{shape:{percent:1}},l,o),this.add(f),each(SYMBOL_CATEGORIES,function(d){var v=createSymbol2(d,a,o);this.add(v),this[makeSymbolTypeKey(d)]=a.getItemVisual(o,d)},this),this._updateCommonStl(a,o,s)},r.prototype.updateData=function(a,o,s){var l=a.hostModel,u=this.childOfName("line"),f=a.getItemLayout(o),d={shape:{}};setLinePoints(d.shape,f),updateProps2(u,d,l,o),each(SYMBOL_CATEGORIES,function(v){var g=a.getItemVisual(o,v),y=makeSymbolTypeKey(v);if(this[y]!==g){this.remove(this.childOfName(v));var b=createSymbol2(v,a,o);this.add(b)}this[y]=g},this),this._updateCommonStl(a,o,s)},r.prototype.getLinePath=function(){return this.childAt(0)},r.prototype._updateCommonStl=function(a,o,s){var l=a.hostModel,u=this.childOfName("line"),f=s&&s.emphasisLineStyle,d=s&&s.blurLineStyle,v=s&&s.selectLineStyle,g=s&&s.labelStatesModels,y=s&&s.emphasisDisabled,b=s&&s.focus,_=s&&s.blurScope;if(!s||a.hasItemOption){var x=a.getItemModel(o),C=x.getModel("emphasis");f=C.getModel("lineStyle").getLineStyle(),d=x.getModel(["blur","lineStyle"]).getLineStyle(),v=x.getModel(["select","lineStyle"]).getLineStyle(),y=C.get("disabled"),b=C.get("focus"),_=C.get("blurScope"),g=getLabelStatesModels(x)}var w=a.getItemVisual(o,"style"),S=w.stroke;u.useStyle(w),u.style.fill=null,u.style.strokeNoScale=!0,u.ensureState("emphasis").style=f,u.ensureState("blur").style=d,u.ensureState("select").style=v,each(SYMBOL_CATEGORIES,function(E){var P=this.childOfName(E);if(P){P.setColor(S),P.style.opacity=w.opacity;for(var I=0;I<SPECIAL_STATES.length;I++){var F=SPECIAL_STATES[I],L=u.getState(F);if(L){var O=L.style||{},z=P.ensureState(F),R=z.style||(z.style={});O.stroke!=null&&(R[P.__isEmptyBrush?"stroke":"fill"]=O.stroke),O.opacity!=null&&(R.opacity=O.opacity)}}P.markRedraw()}},this);var D=l.getRawValue(o);setLabelStyle(this,g,{labelDataIndex:o,labelFetcher:{getFormattedLabel:function(E,P){return l.getFormattedLabel(E,P,a.dataType)}},inheritColor:S||"#000",defaultOpacity:w.opacity,defaultText:(D==null?a.getName(o):isFinite(D)?round(D):D)+""});var A=this.getTextContent();if(A){var T=g.normal;A.__align=A.style.align,A.__verticalAlign=A.style.verticalAlign,A.__position=T.get("position")||"middle";var M=T.get("distance");isArray3(M)||(M=[M,M]),A.__labelDistance=M}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,b,_,y)},r.prototype.highlight=function(){enterEmphasis(this)},r.prototype.downplay=function(){leaveEmphasis(this)},r.prototype.updateLayout=function(a,o){this.setLinePoints(a.getItemLayout(o))},r.prototype.setLinePoints=function(a){var o=this.childOfName("line");setLinePoints(o.shape,a),o.dirty()},r.prototype.beforeUpdate=function(){var a=this,o=a.childOfName("fromSymbol"),s=a.childOfName("toSymbol"),l=a.getTextContent();if(!o&&!s&&(!l||l.ignore))return;for(var u=1,f=this.parent;f;)f.scaleX&&(u/=f.scaleX),f=f.parent;var d=a.childOfName("line");if(!this.__dirty&&!d.__dirty)return;var v=d.shape.percent,g=d.pointAt(0),y=d.pointAt(v),b=sub([],y,g);normalize2(b,b);function _(L,O){var z=L.__specifiedRotation;if(z==null){var R=d.tangentAt(O);L.attr("rotation",(O===1?-1:1)*Math.PI/2-Math.atan2(R[1],R[0]))}else L.attr("rotation",z)}if(o&&(o.setPosition(g),_(o,0),o.scaleX=o.scaleY=u*v,o.markRedraw()),s&&(s.setPosition(y),_(s,1),s.scaleX=s.scaleY=u*v,s.markRedraw()),l&&!l.ignore){l.x=l.y=0,l.originX=l.originY=0;var x=void 0,C=void 0,w=l.__labelDistance,S=w[0]*u,D=w[1]*u,A=v/2,T=d.tangentAt(A),M=[T[1],-T[0]],E=d.pointAt(A);M[1]>0&&(M[0]=-M[0],M[1]=-M[1]);var P=T[0]<0?-1:1;if(l.__position!=="start"&&l.__position!=="end"){var I=-Math.atan2(T[1],T[0]);y[0]<g[0]&&(I=Math.PI+I),l.rotation=I}var F=void 0;switch(l.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":F=-D,C="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":F=D,C="top";break;default:F=0,C="middle"}switch(l.__position){case"end":l.x=b[0]*S+y[0],l.y=b[1]*D+y[1],x=b[0]>.8?"left":b[0]<-.8?"right":"center",C=b[1]>.8?"top":b[1]<-.8?"bottom":"middle";break;case"start":l.x=-b[0]*S+g[0],l.y=-b[1]*D+g[1],x=b[0]>.8?"right":b[0]<-.8?"left":"center",C=b[1]>.8?"bottom":b[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":l.x=S*P+g[0],l.y=g[1]+F,x=T[0]<0?"right":"left",l.originX=-S*P,l.originY=-F;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":l.x=E[0],l.y=E[1]+F,x="center",l.originY=-F;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":l.x=-S*P+y[0],l.y=y[1]+F,x=T[0]>=0?"right":"left",l.originX=S*P,l.originY=-F;break}l.scaleX=l.scaleY=u,l.setStyle({verticalAlign:l.__verticalAlign||C,align:l.__align||x})}},r}(Group_default),Line_default2=Line2,LineDraw=function(){function n(r){this.group=new Group_default,this._LineCtor=r||Line_default2}return n.prototype.updateData=function(r){var a=this;this._progressiveEls=null;var o=this,s=o.group,l=o._lineData;o._lineData=r,l||s.removeAll();var u=makeSeriesScope2(r);r.diff(l).add(function(f){a._doAdd(r,f,u)}).update(function(f,d){a._doUpdate(l,r,d,f,u)}).remove(function(f){s.remove(l.getItemGraphicEl(f))}).execute()},n.prototype.updateLayout=function(){var r=this._lineData;!r||r.eachItemGraphicEl(function(a,o){a.updateLayout(r,o)},this)},n.prototype.incrementalPrepareUpdate=function(r){this._seriesScope=makeSeriesScope2(r),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(r,a){this._progressiveEls=[];function o(f){!f.isGroup&&!isEffectObject(f)&&(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var s=r.start;s<r.end;s++){var l=a.getItemLayout(s);if(lineNeedsDraw(l)){var u=new this._LineCtor(a,s,this._seriesScope);u.traverse(o),this.group.add(u),a.setItemGraphicEl(s,u),this._progressiveEls.push(u)}}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._doAdd=function(r,a,o){var s=r.getItemLayout(a);if(!!lineNeedsDraw(s)){var l=new this._LineCtor(r,a,o);r.setItemGraphicEl(a,l),this.group.add(l)}},n.prototype._doUpdate=function(r,a,o,s,l){var u=r.getItemGraphicEl(o);if(!lineNeedsDraw(a.getItemLayout(s))){this.group.remove(u);return}u?u.updateData(a,s,l):u=new this._LineCtor(a,s,l),a.setItemGraphicEl(s,u),this.group.add(u)},n}();function isEffectObject(n){return n.animators&&n.animators.length>0}function makeSeriesScope2(n){var r=n.hostModel,a=r.getModel("emphasis");return{lineStyle:r.getModel("lineStyle").getLineStyle(),emphasisLineStyle:a.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:r.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:r.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:a.get("disabled"),blurScope:a.get("blurScope"),focus:a.get("focus"),labelStatesModels:getLabelStatesModels(r)}}function isPointNaN(n){return isNaN(n[0])||isNaN(n[1])}function lineNeedsDraw(n){return n&&!isPointNaN(n[0])&&!isPointNaN(n[1])}var LineDraw_default=LineDraw;function isCoordinateSystemType(n,r){return n.type===r}var inner15=makeInner(),markLineTransform=function(n,r,a,o){var s=n.getData(),l;if(isArray3(o))l=o;else{var u=o.type;if(u==="min"||u==="max"||u==="average"||u==="median"||o.xAxis!=null||o.yAxis!=null){var f=void 0,d=void 0;if(o.yAxis!=null||o.xAxis!=null)f=r.getAxis(o.yAxis!=null?"y":"x"),d=retrieve(o.yAxis,o.xAxis);else{var v=getAxisInfo2(o,s,r,n);f=v.valueAxis;var g=getStackedDimension(s,v.valueDataDim);d=numCalculate(s,g,u)}var y=f.dim==="x"?0:1,b=1-y,_=clone(o),x={coord:[]};_.type=null,_.coord=[],_.coord[b]=-1/0,x.coord[b]=1/0;var C=a.get("precision");C>=0&&isNumber(d)&&(d=+d.toFixed(Math.min(C,20))),_.coord[y]=x.coord[y]=d,l=[_,x,{type:u,valueIndex:o.valueIndex,value:d}]}else logError2("Invalid markLine data."),l=[]}var w=[dataTransform(n,l[0]),dataTransform(n,l[1]),extend3({},l[2])];return w[2].type=w[2].type||null,merge3(w[2],w[0]),merge3(w[2],w[1]),w};function isInifinity(n){return!isNaN(n)&&!isFinite(n)}function ifMarkLineHasOnlyDim(n,r,a,o){var s=1-n,l=o.dimensions[n];return isInifinity(r[s])&&isInifinity(a[s])&&r[n]===a[n]&&o.getAxis(l).containData(r[n])}function markLineFilter(n,r){if(n.type==="cartesian2d"){var a=r[0].coord,o=r[1].coord;if(a&&o&&(ifMarkLineHasOnlyDim(1,a,o,n)||ifMarkLineHasOnlyDim(0,a,o,n)))return!0}return dataFilter(n,r[0])&&dataFilter(n,r[1])}function updateSingleMarkerEndLayout(n,r,a,o,s){var l=o.coordinateSystem,u=n.getItemModel(r),f,d=parsePercent2(u.get("x"),s.getWidth()),v=parsePercent2(u.get("y"),s.getHeight());if(!isNaN(d)&&!isNaN(v))f=[d,v];else{if(o.getMarkerPosition)f=o.getMarkerPosition(n.getValues(n.dimensions,r));else{var g=l.dimensions,y=n.get(g[0],r),b=n.get(g[1],r);f=l.dataToPoint([y,b])}if(isCoordinateSystemType(l,"cartesian2d")){var _=l.getAxis("x"),x=l.getAxis("y"),g=l.dimensions;isInifinity(n.get(g[0],r))?f[0]=_.toGlobalCoord(_.getExtent()[a?0:1]):isInifinity(n.get(g[1],r))&&(f[1]=x.toGlobalCoord(x.getExtent()[a?0:1]))}isNaN(d)||(f[0]=d),isNaN(v)||(f[1]=v)}n.setItemLayout(r,f)}var MarkLineView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.updateTransform=function(a,o,s){o.eachSeries(function(l){var u=MarkerModel_default.getMarkerModelFromSeries(l,"markLine");if(u){var f=u.getData(),d=inner15(u).from,v=inner15(u).to;d.each(function(g){updateSingleMarkerEndLayout(d,g,!0,l,s),updateSingleMarkerEndLayout(v,g,!1,l,s)}),f.each(function(g){f.setItemLayout(g,[d.getItemLayout(g),v.getItemLayout(g)])}),this.markerGroupMap.get(l.id).updateLayout()}},this)},r.prototype.renderSeries=function(a,o,s,l){var u=a.coordinateSystem,f=a.id,d=a.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,new LineDraw_default);this.group.add(g.group);var y=createList(u,a,o),b=y.from,_=y.to,x=y.line;inner15(o).from=b,inner15(o).to=_,o.setData(x);var C=o.get("symbol"),w=o.get("symbolSize"),S=o.get("symbolRotate"),D=o.get("symbolOffset");isArray3(C)||(C=[C,C]),isArray3(w)||(w=[w,w]),isArray3(S)||(S=[S,S]),isArray3(D)||(D=[D,D]),y.from.each(function(T){A(b,T,!0),A(_,T,!1)}),x.each(function(T){var M=x.getItemModel(T).getModel("lineStyle").getLineStyle();x.setItemLayout(T,[b.getItemLayout(T),_.getItemLayout(T)]),M.stroke==null&&(M.stroke=b.getItemVisual(T,"style").fill),x.setItemVisual(T,{fromSymbolKeepAspect:b.getItemVisual(T,"symbolKeepAspect"),fromSymbolOffset:b.getItemVisual(T,"symbolOffset"),fromSymbolRotate:b.getItemVisual(T,"symbolRotate"),fromSymbolSize:b.getItemVisual(T,"symbolSize"),fromSymbol:b.getItemVisual(T,"symbol"),toSymbolKeepAspect:_.getItemVisual(T,"symbolKeepAspect"),toSymbolOffset:_.getItemVisual(T,"symbolOffset"),toSymbolRotate:_.getItemVisual(T,"symbolRotate"),toSymbolSize:_.getItemVisual(T,"symbolSize"),toSymbol:_.getItemVisual(T,"symbol"),style:M})}),g.updateData(x),y.line.eachItemGraphicEl(function(T,M){T.traverse(function(E){getECData(E).dataModel=o})});function A(T,M,E){var P=T.getItemModel(M);updateSingleMarkerEndLayout(T,M,E,a,l);var I=P.getModel("itemStyle").getItemStyle();I.fill==null&&(I.fill=getVisualFromData(d,"color")),T.setItemVisual(M,{symbolKeepAspect:P.get("symbolKeepAspect"),symbolOffset:retrieve2(P.get("symbolOffset",!0),D[E?0:1]),symbolRotate:retrieve2(P.get("symbolRotate",!0),S[E?0:1]),symbolSize:retrieve2(P.get("symbolSize"),w[E?0:1]),symbol:retrieve2(P.get("symbol",!0),C[E?0:1]),style:I})}this.markKeep(g),g.group.silent=o.get("silent")||a.get("silent")},r.type="markLine",r}(MarkerView_default);function createList(n,r,a){var o;n?o=map3(n&&n.dimensions,function(v){var g=r.getData().getDimensionInfo(r.getData().mapDimension(v))||{};return extend3(extend3({},g),{name:v,ordinalMeta:null})}):o=[{name:"value",type:"float"}];var s=new SeriesData_default(o,a),l=new SeriesData_default(o,a),u=new SeriesData_default([],a),f=map3(a.get("data"),curry(markLineTransform,r,n,a));n&&(f=filter(f,curry(markLineFilter,n)));var d=createMarkerDimValueGetter(!!n,o);return s.initData(map3(f,function(v){return v[0]}),null,d),l.initData(map3(f,function(v){return v[1]}),null,d),u.initData(map3(f,function(v){return v[2]})),u.hasItemOption=!0,{from:s,to:l,line:u}}var MarkAreaModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.createMarkerModelFromSeries=function(a,o,s){return new r(a,o,s)},r.type="markArea",r.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},r}(MarkerModel_default),inner16=makeInner(),markAreaTransform=function(n,r,a,o){var s=dataTransform(n,o[0]),l=dataTransform(n,o[1]),u=s.coord,f=l.coord;u[0]=retrieve(u[0],-1/0),u[1]=retrieve(u[1],-1/0),f[0]=retrieve(f[0],1/0),f[1]=retrieve(f[1],1/0);var d=mergeAll([{},s,l]);return d.coord=[s.coord,l.coord],d.x0=s.x,d.y0=s.y,d.x1=l.x,d.y1=l.y,d};function isInifinity2(n){return!isNaN(n)&&!isFinite(n)}function ifMarkAreaHasOnlyDim(n,r,a,o){var s=1-n;return isInifinity2(r[s])&&isInifinity2(a[s])}function markAreaFilter(n,r){var a=r.coord[0],o=r.coord[1];return isCoordinateSystemType(n,"cartesian2d")&&a&&o&&(ifMarkAreaHasOnlyDim(1,a,o,n)||ifMarkAreaHasOnlyDim(0,a,o,n))?!0:dataFilter(n,{coord:a,x:r.x0,y:r.y0})||dataFilter(n,{coord:o,x:r.x1,y:r.y1})}function getSingleMarkerEndPoint(n,r,a,o,s){var l=o.coordinateSystem,u=n.getItemModel(r),f,d=parsePercent2(u.get(a[0]),s.getWidth()),v=parsePercent2(u.get(a[1]),s.getHeight());if(!isNaN(d)&&!isNaN(v))f=[d,v];else{if(o.getMarkerPosition)f=o.getMarkerPosition(n.getValues(a,r));else{var g=n.get(a[0],r),y=n.get(a[1],r),b=[g,y];l.clampData&&l.clampData(b,b),f=l.dataToPoint(b,!0)}if(isCoordinateSystemType(l,"cartesian2d")){var _=l.getAxis("x"),x=l.getAxis("y"),g=n.get(a[0],r),y=n.get(a[1],r);isInifinity2(g)?f[0]=_.toGlobalCoord(_.getExtent()[a[0]==="x0"?0:1]):isInifinity2(y)&&(f[1]=x.toGlobalCoord(x.getExtent()[a[1]==="y0"?0:1]))}isNaN(d)||(f[0]=d),isNaN(v)||(f[1]=v)}return f}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.updateTransform=function(a,o,s){o.eachSeries(function(l){var u=MarkerModel_default.getMarkerModelFromSeries(l,"markArea");if(u){var f=u.getData();f.each(function(d){var v=map3(dimPermutations,function(y){return getSingleMarkerEndPoint(f,d,y,l,s)});f.setItemLayout(d,v);var g=f.getItemGraphicEl(d);g.setShape("points",v)})}},this)},r.prototype.renderSeries=function(a,o,s,l){var u=a.coordinateSystem,f=a.id,d=a.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,{group:new Group_default});this.group.add(g.group),this.markKeep(g);var y=createList2(u,a,o);o.setData(y),y.each(function(b){var _=map3(dimPermutations,function(I){return getSingleMarkerEndPoint(y,b,I,a,l)}),x=u.getAxis("x").scale,C=u.getAxis("y").scale,w=x.getExtent(),S=C.getExtent(),D=[x.parse(y.get("x0",b)),x.parse(y.get("x1",b))],A=[C.parse(y.get("y0",b)),C.parse(y.get("y1",b))];asc(D),asc(A);var T=!(w[0]>D[1]||w[1]<D[0]||S[0]>A[1]||S[1]<A[0]),M=!T;y.setItemLayout(b,{points:_,allClipped:M});var E=y.getItemModel(b).getModel("itemStyle").getItemStyle(),P=getVisualFromData(d,"color");E.fill||(E.fill=P,isString2(E.fill)&&(E.fill=modifyAlpha(E.fill,.4))),E.stroke||(E.stroke=P),y.setItemVisual(b,"style",E)}),y.diff(inner16(g).data).add(function(b){var _=y.getItemLayout(b);if(!_.allClipped){var x=new Polygon_default({shape:{points:_.points}});y.setItemGraphicEl(b,x),g.group.add(x)}}).update(function(b,_){var x=inner16(g).data.getItemGraphicEl(_),C=y.getItemLayout(b);C.allClipped?x&&g.group.remove(x):(x?updateProps2(x,{shape:{points:C.points}},o,b):x=new Polygon_default({shape:{points:C.points}}),y.setItemGraphicEl(b,x),g.group.add(x))}).remove(function(b){var _=inner16(g).data.getItemGraphicEl(b);g.group.remove(_)}).execute(),y.eachItemGraphicEl(function(b,_){var x=y.getItemModel(_),C=y.getItemVisual(_,"style");b.useStyle(y.getItemVisual(_,"style")),setLabelStyle(b,getLabelStatesModels(x),{labelFetcher:o,labelDataIndex:_,defaultText:y.getName(_)||"",inheritColor:isString2(C.fill)?modifyAlpha(C.fill,1):"#000"}),setStatesStylesFromModel(b,x),toggleHoverEmphasis(b,null,null,x.get(["emphasis","disabled"])),getECData(b).dataModel=o}),inner16(g).data=y,g.group.silent=o.get("silent")||a.get("silent")},r.type="markArea",r}(MarkerView_default);function createList2(n,r,a){var o,s,l=["x0","y0","x1","y1"];if(n){var u=map3(n&&n.dimensions,function(v){var g=r.getData(),y=g.getDimensionInfo(g.mapDimension(v))||{};return extend3(extend3({},y),{name:v,ordinalMeta:null})});s=map3(l,function(v,g){return{name:v,type:u[g%2].type}}),o=new SeriesData_default(s,a)}else s=[{name:"value",type:"float"}],o=new SeriesData_default(s,a);var f=map3(a.get("data"),curry(markAreaTransform,r,n,a));n&&(f=filter(f,curry(markAreaFilter,n)));var d=n?function(v,g,y,b){var _=v.coord[Math.floor(b/2)][b%2];return parseDataValue(_,s[b])}:function(v,g,y,b){return parseDataValue(v.value,s[b])};return o.initData(f,null,d),o.hasItemOption=!0,o}var getDefaultSelectorOptions=function(n,r){if(r==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(r==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.layoutMode={type:"box",ignoreSize:!0},a}return r.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s),a.selected=a.selected||{},this._updateSelector(a)},r.prototype.mergeOption=function(a,o){n.prototype.mergeOption.call(this,a,o),this._updateSelector(a)},r.prototype._updateSelector=function(a){var o=a.selector,s=this.ecModel;o===!0&&(o=a.selector=["all","inverse"]),isArray3(o)&&each(o,function(l,u){isString2(l)&&(l={type:l}),o[u]=merge3(l,getDefaultSelectorOptions(s,l.type))})},r.prototype.optionUpdated=function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&this.get("selectedMode")==="single"){for(var o=!1,s=0;s<a.length;s++){var l=a[s].get("name");if(this.isSelected(l)){this.select(l),o=!0;break}}!o&&this.select(a[0].get("name"))}},r.prototype._updateData=function(a){var o=[],s=[];a.eachRawSeries(function(f){var d=f.name;s.push(d);var v;if(f.legendVisualProvider){var g=f.legendVisualProvider,y=g.getAllNames();a.isSeriesFiltered(f)||(s=s.concat(y)),y.length?o=o.concat(y):v=!0}else v=!0;v&&isNameSpecified(f)&&o.push(f.name)}),this._availableNames=s;var l=this.get("data")||o,u=map3(l,function(f){return(isString2(f)||isNumber(f))&&(f={name:f}),new Model_default(f,this,this.ecModel)},this);this._data=u},r.prototype.getData=function(){return this._data},r.prototype.select=function(a){var o=this.option.selected,s=this.get("selectedMode");if(s==="single"){var l=this._data;each(l,function(u){o[u.get("name")]=!1})}o[a]=!0},r.prototype.unSelect=function(a){this.get("selectedMode")!=="single"&&(this.option.selected[a]=!1)},r.prototype.toggleSelected=function(a){var o=this.option.selected;o.hasOwnProperty(a)||(o[a]=!0),this[o[a]?"unSelect":"select"](a)},r.prototype.allSelect=function(){var a=this._data,o=this.option.selected;each(a,function(s){o[s.get("name",!0)]=!0})},r.prototype.inverseSelect=function(){var a=this._data,o=this.option.selected;each(a,function(s){var l=s.get("name",!0);o.hasOwnProperty(l)||(o[l]=!0),o[l]=!o[l]})},r.prototype.isSelected=function(a){var o=this.option.selected;return!(o.hasOwnProperty(a)&&!o[a])&&indexOf(this._availableNames,a)>=0},r.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},r.type="legend.plain",r.dependencies=["series"],r.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},r}(Component_default),LegendModel_default=LegendModel,curry2=curry,each10=each,Group2=Group_default,LegendView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.newlineDisabled=!1,a}return r.prototype.init=function(){this.group.add(this._contentGroup=new Group2),this.group.add(this._selectorGroup=new Group2),this._isFirstRender=!0},r.prototype.getContentGroup=function(){return this._contentGroup},r.prototype.getSelectorGroup=function(){return this._selectorGroup},r.prototype.render=function(a,o,s){var l=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!a.get("show",!0)){var u=a.get("align"),f=a.get("orient");(!u||u==="auto")&&(u=a.get("left")==="right"&&f==="vertical"?"right":"left");var d=a.get("selector",!0),v=a.get("selectorPosition",!0);d&&(!v||v==="auto")&&(v=f==="horizontal"?"end":"start"),this.renderInner(u,a,o,s,d,f,v);var g=a.getBoxLayoutParams(),y={width:s.getWidth(),height:s.getHeight()},b=a.get("padding"),_=getLayoutRect(g,y,b),x=this.layoutInner(a,u,_,l,d,v),C=getLayoutRect(defaults({width:x.width,height:x.height},g),y,b);this.group.x=C.x-x.x,this.group.y=C.y-x.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(x,a))}},r.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},r.prototype.renderInner=function(a,o,s,l,u,f,d){var v=this.getContentGroup(),g=createHashMap(),y=o.get("selectedMode"),b=[];s.eachRawSeries(function(_){!_.get("legendHoverLink")&&b.push(_.id)}),each10(o.getData(),function(_,x){var C=_.get("name");if(!this.newlineDisabled&&(C===""||C===`
`)){var w=new Group2;w.newline=!0,v.add(w);return}var S=s.getSeriesByName(C)[0];if(!g.get(C)){if(S){var D=S.getData(),A=D.getVisual("legendLineStyle")||{},T=D.getVisual("legendIcon"),M=D.getVisual("style"),E=this._createItem(S,C,x,_,o,a,A,M,T,y);E.on("click",curry2(dispatchSelectAction,C,null,l,b)).on("mouseover",curry2(dispatchHighlightAction,S.name,null,l,b)).on("mouseout",curry2(dispatchDownplayAction,S.name,null,l,b)),g.set(C,!0)}else s.eachRawSeries(function(P){if(!g.get(C)&&P.legendVisualProvider){var I=P.legendVisualProvider;if(!I.containName(C))return;var F=I.indexOfName(C),L=I.getItemVisual(F,"style"),O=I.getItemVisual(F,"legendIcon"),z=parse2(L.fill);z&&z[3]===0&&(z[3]=.2,L=extend3(extend3({},L),{fill:stringify(z,"rgba")}));var R=this._createItem(P,C,x,_,o,a,{},L,O,y);R.on("click",curry2(dispatchSelectAction,null,C,l,b)).on("mouseover",curry2(dispatchHighlightAction,null,C,l,b)).on("mouseout",curry2(dispatchDownplayAction,null,C,l,b)),g.set(C,!0)}},this);g.get(C)||console.warn(C+" series not exists. Legend data should be same with series name or data name.")}},this),u&&this._createSelector(u,o,l,f,d)},r.prototype._createSelector=function(a,o,s,l,u){var f=this.getSelectorGroup();each10(a,function(v){var g=v.type,y=new Text_default({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){s.dispatchAction({type:g==="all"?"legendAllSelect":"legendInverseSelect"})}});f.add(y);var b=o.getModel("selectorLabel"),_=o.getModel(["emphasis","selectorLabel"]);setLabelStyle(y,{normal:b,emphasis:_},{defaultText:v.title}),enableHoverEmphasis(y)})},r.prototype._createItem=function(a,o,s,l,u,f,d,v,g,y){var b=a.visualDrawType,_=u.get("itemWidth"),x=u.get("itemHeight"),C=u.isSelected(o),w=l.get("symbolRotate"),S=l.get("symbolKeepAspect"),D=l.get("icon");g=D||g||"roundRect";var A=getLegendStyle(g,l,d,v,b,C),T=new Group2,M=l.getModel("textStyle");if(isFunction3(a.getLegendIcon)&&(!D||D==="inherit"))T.add(a.getLegendIcon({itemWidth:_,itemHeight:x,icon:g,iconRotate:w,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:S}));else{var E=D==="inherit"&&a.getData().getVisual("symbol")?w==="inherit"?a.getData().getVisual("symbolRotate"):w:0;T.add(getDefaultLegendIcon({itemWidth:_,itemHeight:x,icon:g,iconRotate:E,itemStyle:A.itemStyle,lineStyle:A.lineStyle,symbolKeepAspect:S}))}var P=f==="left"?_+5:-5,I=f,F=u.get("formatter"),L=o;isString2(F)&&F?L=F.replace("{name}",o!=null?o:""):isFunction3(F)&&(L=F(o));var O=l.get("inactiveColor");T.add(new Text_default({style:createTextStyle(M,{text:L,x:P,y:x/2,fill:C?M.getTextColor():O,align:I,verticalAlign:"middle"})}));var z=new Rect_default({shape:T.getBoundingRect(),invisible:!0}),R=l.getModel("tooltip");return R.get("show")&&setTooltipConfig({el:z,componentModel:u,itemName:o,itemTooltipOption:R.option}),T.add(z),T.eachChild(function(B){B.silent=!0}),z.silent=!y,this.getContentGroup().add(T),enableHoverEmphasis(T),T.__legendDataIndex=s,T},r.prototype.layoutInner=function(a,o,s,l,u,f){var d=this.getContentGroup(),v=this.getSelectorGroup();box(a.get("orient"),d,a.get("itemGap"),s.width,s.height);var g=d.getBoundingRect(),y=[-g.x,-g.y];if(v.markRedraw(),d.markRedraw(),u){box("horizontal",v,a.get("selectorItemGap",!0));var b=v.getBoundingRect(),_=[-b.x,-b.y],x=a.get("selectorButtonGap",!0),C=a.getOrient().index,w=C===0?"width":"height",S=C===0?"height":"width",D=C===0?"y":"x";f==="end"?_[C]+=g[w]+x:y[C]+=b[w]+x,_[1-C]+=g[S]/2-b[S]/2,v.x=_[0],v.y=_[1],d.x=y[0],d.y=y[1];var A={x:0,y:0};return A[w]=g[w]+x+b[w],A[S]=Math.max(g[S],b[S]),A[D]=Math.min(0,b[D]+_[1-C]),A}else return d.x=y[0],d.y=y[1],this.group.getBoundingRect()},r.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},r.type="legend.plain",r}(Component_default2);function getLegendStyle(n,r,a,o,s,l){function u(x,C){x.lineWidth==="auto"&&(x.lineWidth=C.lineWidth>0?2:0),each10(x,function(w,S){x[S]==="inherit"&&(x[S]=C[S])})}var f=r.getModel("itemStyle"),d=f.getItemStyle(),v=n.lastIndexOf("empty",0)===0?"fill":"stroke";d.decal=o.decal,d.fill==="inherit"&&(d.fill=o[s]),d.stroke==="inherit"&&(d.stroke=o[v]),d.opacity==="inherit"&&(d.opacity=(s==="fill"?o:a).opacity),u(d,o);var g=r.getModel("lineStyle"),y=g.getLineStyle();if(u(y,a),d.fill==="auto"&&(d.fill=o.fill),d.stroke==="auto"&&(d.stroke=o.fill),y.stroke==="auto"&&(y.stroke=o.fill),!l){var b=r.get("inactiveBorderWidth"),_=d[v];d.lineWidth=b==="auto"?o.lineWidth>0&&_?2:0:d.lineWidth,d.fill=r.get("inactiveColor"),d.stroke=r.get("inactiveBorderColor"),y.stroke=g.get("inactiveColor"),y.lineWidth=g.get("inactiveWidth")}return{itemStyle:d,lineStyle:y}}function getDefaultLegendIcon(n){var r=n.icon||"roundRect",a=createSymbol(r,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return a.setStyle(n.itemStyle),a.rotation=(n.iconRotate||0)*Math.PI/180,a.setOrigin([n.itemWidth/2,n.itemHeight/2]),r.indexOf("empty")>-1&&(a.style.stroke=a.style.fill,a.style.fill="#fff",a.style.lineWidth=2),a}function dispatchSelectAction(n,r,a,o){dispatchDownplayAction(n,r,a,o),a.dispatchAction({type:"legendToggleSelect",name:n!=null?n:r}),dispatchHighlightAction(n,r,a,o)}function isUseHoverLayer(n){for(var r=n.getZr().storage.getDisplayList(),a,o=0,s=r.length;o<s&&!(a=r[o].states.emphasis);)o++;return a&&a.hoverLayer}function dispatchHighlightAction(n,r,a,o){isUseHoverLayer(a)||a.dispatchAction({type:"highlight",seriesName:n,name:r,excludeSeriesId:o})}function dispatchDownplayAction(n,r,a,o){isUseHoverLayer(a)||a.dispatchAction({type:"downplay",seriesName:n,name:r,excludeSeriesId:o})}var LegendView_default=LegendView,ScrollableLegendModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.setScrollDataIndex=function(a){this.option.scrollDataIndex=a},r.prototype.init=function(a,o,s){var l=getLayoutParams(a);n.prototype.init.call(this,a,o,s),mergeAndNormalizeLayoutParams(this,a,l)},r.prototype.mergeOption=function(a,o){n.prototype.mergeOption.call(this,a,o),mergeAndNormalizeLayoutParams(this,this.option,a)},r.type="legend.scroll",r.defaultOption=inheritDefaultOption(LegendModel_default.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),r}(LegendModel_default);function mergeAndNormalizeLayoutParams(n,r,a){var o=n.getOrient(),s=[1,1];s[o.index]=0,mergeLayoutParam(r,a,{type:"box",ignoreSize:!!s})}var Group3=Group_default,WH2=["width","height"],XY2=["x","y"],ScrollableLegendView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.newlineDisabled=!0,a._currentIndex=0,a}return r.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new Group3),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group3)},r.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},r.prototype.renderInner=function(a,o,s,l,u,f,d){var v=this;n.prototype.renderInner.call(this,a,o,s,l,u,f,d);var g=this._controllerGroup,y=o.get("pageIconSize",!0),b=isArray3(y)?y:[y,y];x("pagePrev",0);var _=o.getModel("pageTextStyle");g.add(new Text_default({name:"pageText",style:{text:"xx/xx",fill:_.getTextColor(),font:_.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),x("pageNext",1);function x(C,w){var S=C+"DataIndex",D=createIcon(o.get("pageIcons",!0)[o.getOrient().name][w],{onclick:bind(v._pageGo,v,S,o,l)},{x:-b[0]/2,y:-b[1]/2,width:b[0],height:b[1]});D.name=C,g.add(D)}},r.prototype.layoutInner=function(a,o,s,l,u,f){var d=this.getSelectorGroup(),v=a.getOrient().index,g=WH2[v],y=XY2[v],b=WH2[1-v],_=XY2[1-v];u&&box("horizontal",d,a.get("selectorItemGap",!0));var x=a.get("selectorButtonGap",!0),C=d.getBoundingRect(),w=[-C.x,-C.y],S=clone(s);u&&(S[g]=s[g]-C[g]-x);var D=this._layoutContentAndController(a,l,S,v,g,b,_,y);if(u){if(f==="end")w[v]+=D[g]+x;else{var A=C[g]+x;w[v]-=A,D[y]-=A}D[g]+=C[g]+x,w[1-v]+=D[_]+D[b]/2-C[b]/2,D[b]=Math.max(D[b],C[b]),D[_]=Math.min(D[_],C[_]+w[1-v]),d.x=w[0],d.y=w[1],d.markRedraw()}return D},r.prototype._layoutContentAndController=function(a,o,s,l,u,f,d,v){var g=this.getContentGroup(),y=this._containerGroup,b=this._controllerGroup;box(a.get("orient"),g,a.get("itemGap"),l?s.width:null,l?null:s.height),box("horizontal",b,a.get("pageButtonItemGap",!0));var _=g.getBoundingRect(),x=b.getBoundingRect(),C=this._showController=_[u]>s[u],w=[-_.x,-_.y];o||(w[l]=g[v]);var S=[0,0],D=[-x.x,-x.y],A=retrieve2(a.get("pageButtonGap",!0),a.get("itemGap",!0));if(C){var T=a.get("pageButtonPosition",!0);T==="end"?D[l]+=s[u]-x[u]:S[l]+=x[u]+A}D[1-l]+=_[f]/2-x[f]/2,g.setPosition(w),y.setPosition(S),b.setPosition(D);var M={x:0,y:0};if(M[u]=C?s[u]:_[u],M[f]=Math.max(_[f],x[f]),M[d]=Math.min(0,x[d]+D[1-l]),y.__rectSize=s[u],C){var E={x:0,y:0};E[u]=Math.max(s[u]-x[u]-A,0),E[f]=M[f],y.setClipPath(new Rect_default({shape:E})),y.__rectSize=E[u]}else b.eachChild(function(I){I.attr({invisible:!0,silent:!0})});var P=this._getPageInfo(a);return P.pageIndex!=null&&updateProps2(g,{x:P.contentPosition[0],y:P.contentPosition[1]},C?a:null),this._updatePageInfoView(a,P),M},r.prototype._pageGo=function(a,o,s){var l=this._getPageInfo(o)[a];l!=null&&s.dispatchAction({type:"legendScroll",scrollDataIndex:l,legendId:o.id})},r.prototype._updatePageInfoView=function(a,o){var s=this._controllerGroup;each(["pagePrev","pageNext"],function(g){var y=g+"DataIndex",b=o[y]!=null,_=s.childOfName(g);_&&(_.setStyle("fill",b?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),_.cursor=b?"pointer":"default")});var l=s.childOfName("pageText"),u=a.get("pageFormatter"),f=o.pageIndex,d=f!=null?f+1:0,v=o.pageCount;l&&u&&l.setStyle("text",isString2(u)?u.replace("{current}",d==null?"":d+"").replace("{total}",v==null?"":v+""):u({current:d,total:v}))},r.prototype._getPageInfo=function(a){var o=a.get("scrollDataIndex",!0),s=this.getContentGroup(),l=this._containerGroup.__rectSize,u=a.getOrient().index,f=WH2[u],d=XY2[u],v=this._findTargetItemIndex(o),g=s.children(),y=g[v],b=g.length,_=b?1:0,x={contentPosition:[s.x,s.y],pageCount:_,pageIndex:_-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return x;var C=T(y);x.contentPosition[u]=-C.s;for(var w=v+1,S=C,D=C,A=null;w<=b;++w)A=T(g[w]),(!A&&D.e>S.s+l||A&&!M(A,S.s))&&(D.i>S.i?S=D:S=A,S&&(x.pageNextDataIndex==null&&(x.pageNextDataIndex=S.i),++x.pageCount)),D=A;for(var w=v-1,S=C,D=C,A=null;w>=-1;--w)A=T(g[w]),(!A||!M(D,A.s))&&S.i<D.i&&(D=S,x.pagePrevDataIndex==null&&(x.pagePrevDataIndex=S.i),++x.pageCount,++x.pageIndex),S=A;return x;function T(E){if(E){var P=E.getBoundingRect(),I=P[d]+E[d];return{s:I,e:I+P[f],i:E.__legendDataIndex}}}function M(E,P){return E.e>=P&&E.s<=P+l}},r.prototype._findTargetItemIndex=function(a){if(!this._showController)return 0;var o,s=this.getContentGroup(),l;return s.eachChild(function(u,f){var d=u.__legendDataIndex;l==null&&d!=null&&(l=f),d===a&&(o=f)}),o!=null?o:l},r.type="legend.scroll",r}(LegendView_default),InsideZoomModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="dataZoom.inside",r.defaultOption=inheritDefaultOption(DataZoomModel_default.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),r}(DataZoomModel_default),inner17=makeInner();function setViewInfoToCoordSysRecord(n,r,a){inner17(n).coordSysRecordMap.each(function(o){var s=o.dataZoomInfoMap.get(r.uid);s&&(s.getRange=a)})}function disposeCoordSysRecordIfNeeded(n,r){for(var a=inner17(n).coordSysRecordMap,o=a.keys(),s=0;s<o.length;s++){var l=o[s],u=a.get(l),f=u.dataZoomInfoMap;if(f){var d=r.uid,v=f.get(d);v&&(f.removeKey(d),f.keys().length||disposeCoordSysRecord(a,u))}}}function disposeCoordSysRecord(n,r){if(r){n.removeKey(r.model.uid);var a=r.controller;a&&a.dispose()}}var InsideZoomView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="dataZoom.inside",a}return r.prototype.render=function(a,o,s){if(n.prototype.render.apply(this,arguments),a.noTarget()){this._clear();return}this.range=a.getPercentRange(),setViewInfoToCoordSysRecord(s,a,{pan:bind(getRangeHandlers.pan,this),zoom:bind(getRangeHandlers.zoom,this),scrollMove:bind(getRangeHandlers.scrollMove,this)})},r.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},r.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},r.type="dataZoom.inside",r}(DataZoomView_default),getRangeHandlers={zoom:function(n,r,a,o){var s=this.range,l=s.slice(),u=n.axisModels[0];if(!!u){var f=getDirectionInfo[r](null,[o.originX,o.originY],u,a,n),d=(f.signal>0?f.pixelStart+f.pixelLength-f.pixel:f.pixel-f.pixelStart)/f.pixelLength*(l[1]-l[0])+l[0],v=Math.max(1/o.scale,0);l[0]=(l[0]-d)*v+d,l[1]=(l[1]-d)*v+d;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,l,[0,100],0,g.minSpan,g.maxSpan),this.range=l,s[0]!==l[0]||s[1]!==l[1])return l}},pan:makeMover(function(n,r,a,o,s,l){var u=getDirectionInfo[o]([l.oldX,l.oldY],[l.newX,l.newY],r,s,a);return u.signal*(n[1]-n[0])*u.pixel/u.pixelLength}),scrollMove:makeMover(function(n,r,a,o,s,l){var u=getDirectionInfo[o]([0,0],[l.scrollDelta,l.scrollDelta],r,s,a);return u.signal*(n[1]-n[0])*l.scrollDelta})};function makeMover(n){return function(r,a,o,s){var l=this.range,u=l.slice(),f=r.axisModels[0];if(!!f){var d=n(u,f,r,a,o,s);if(sliderMove(d,u,[0,100],"all"),this.range=u,l[0]!==u[0]||l[1]!==u[1])return u}}}var getDirectionInfo={grid:function(n,r,a,o,s){var l=a.axis,u={},f=s.model.coordinateSystem.getRect();return n=n||[0,0],l.dim==="x"?(u.pixel=r[0]-n[0],u.pixelLength=f.width,u.pixelStart=f.x,u.signal=l.inverse?1:-1):(u.pixel=r[1]-n[1],u.pixelLength=f.height,u.pixelStart=f.y,u.signal=l.inverse?-1:1),u},polar:function(n,r,a,o,s){var l=a.axis,u={},f=s.model.coordinateSystem,d=f.getRadiusAxis().getExtent(),v=f.getAngleAxis().getExtent();return n=n?f.pointToCoord(n):[0,0],r=f.pointToCoord(r),a.mainType==="radiusAxis"?(u.pixel=r[0]-n[0],u.pixelLength=d[1]-d[0],u.pixelStart=d[0],u.signal=l.inverse?1:-1):(u.pixel=r[1]-n[1],u.pixelLength=v[1]-v[0],u.pixelStart=v[0],u.signal=l.inverse?-1:1),u},singleAxis:function(n,r,a,o,s){var l=a.axis,u=s.model.coordinateSystem.getRect(),f={};return n=n||[0,0],l.orient==="horizontal"?(f.pixel=r[0]-n[0],f.pixelLength=u.width,f.pixelStart=u.x,f.signal=l.inverse?1:-1):(f.pixel=r[1]-n[1],f.pixelLength=u.height,f.pixelStart=u.y,f.signal=l.inverse?-1:1),f}},SliderZoomModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.type="dataZoom.slider",r.layoutMode="box",r.defaultOption=inheritDefaultOption(DataZoomModel_default.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),r}(DataZoomModel_default),Rect2=Rect_default,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a._displayables={},a}return r.prototype.init=function(a,o){this.api=o,this._onBrush=bind(this._onBrush,this),this._onBrushEnd=bind(this._onBrushEnd,this)},r.prototype.render=function(a,o,s,l){if(n.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",a.get("throttle"),"fixRate"),this._orient=a.getOrient(),a.get("show")===!1){this.group.removeAll();return}if(a.noTarget()){this._clear(),this.group.removeAll();return}(!l||l.type!=="dataZoom"||l.from!==this.uid)&&this._buildView(),this._updateView()},r.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},r.prototype._clear=function(){clear2(this,"_dispatchZoomAction");var a=this.api.getZr();a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)},r.prototype._buildView=function(){var a=this.group;a.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var o=this._displayables.sliderGroup=new Group_default;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(o),this._positionGroup()},r.prototype._resetLocation=function(){var a=this.dataZoomModel,o=this.api,s=a.get("brushSelect"),l=s?DEFAULT_MOVE_HANDLE_SIZE:0,u=this._findCoordRect(),f={width:o.getWidth(),height:o.getHeight()},d=this._orient===HORIZONTAL?{right:f.width-u.x-u.width,top:f.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-l,width:u.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:u.y,width:DEFAULT_FILLER_SIZE,height:u.height},v=getLayoutParams(a.option);each(["right","top","width","height"],function(y){v[y]==="ph"&&(v[y]=d[y])});var g=getLayoutRect(v,f);this._location={x:g.x,y:g.y},this._size=[g.width,g.height],this._orient===VERTICAL&&this._size.reverse()},r.prototype._positionGroup=function(){var a=this.group,o=this._location,s=this._orient,l=this.dataZoomModel.getFirstTargetAxisModel(),u=l&&l.get("inverse"),f=this._displayables.sliderGroup,d=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(s===HORIZONTAL&&!u?{scaleY:d?1:-1,scaleX:1}:s===HORIZONTAL&&u?{scaleY:d?1:-1,scaleX:-1}:s===VERTICAL&&!u?{scaleY:d?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:d?-1:1,scaleX:-1,rotation:Math.PI/2});var v=a.getBoundingRect([f]);a.x=o.x-v.x,a.y=o.y-v.y,a.markRedraw()},r.prototype._getViewExtent=function(){return[0,this._size[0]]},r.prototype._renderBackground=function(){var a=this.dataZoomModel,o=this._size,s=this._displayables.sliderGroup,l=a.get("brushSelect");s.add(new Rect2({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:a.get("backgroundColor")},z2:-40}));var u=new Rect2({shape:{x:0,y:0,width:o[0],height:o[1]},style:{fill:"transparent"},z2:0,onclick:bind(this._onClickPanel,this)}),f=this.api.getZr();l?(u.on("mousedown",this._onBrushStart,this),u.cursor="crosshair",f.on("mousemove",this._onBrush),f.on("mouseup",this._onBrushEnd)):(f.off("mousemove",this._onBrush),f.off("mouseup",this._onBrushEnd)),s.add(u)},r.prototype._renderDataShadow=function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!a)return;var o=this._size,s=this._shadowSize||[],l=a.series,u=l.getRawData(),f=l.getShadowDim?l.getShadowDim():a.otherDim;if(f==null)return;var d=this._shadowPolygonPts,v=this._shadowPolylinePts;if(u!==this._shadowData||f!==this._shadowDim||o[0]!==s[0]||o[1]!==s[1]){var g=u.getDataExtent(f),y=(g[1]-g[0])*.3;g=[g[0]-y,g[1]+y];var b=[0,o[1]],_=[0,o[0]],x=[[o[0],0],[0,0]],C=[],w=_[1]/(u.count()-1),S=0,D=Math.round(u.count()/o[0]),A;u.each([f],function(I,F){if(D>0&&F%D){S+=w;return}var L=I==null||isNaN(I)||I==="",O=L?0:linearMap(I,g,b,!0);L&&!A&&F?(x.push([x[x.length-1][0],0]),C.push([C[C.length-1][0],0])):!L&&A&&(x.push([S,0]),C.push([S,0])),x.push([S,O]),C.push([S,O]),S+=w,A=L}),d=this._shadowPolygonPts=x,v=this._shadowPolylinePts=C}this._shadowData=u,this._shadowDim=f,this._shadowSize=[o[0],o[1]];var T=this.dataZoomModel;function M(I){var F=T.getModel(I?"selectedDataBackground":"dataBackground"),L=new Group_default,O=new Polygon_default({shape:{points:d},segmentIgnoreThreshold:1,style:F.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),z=new Polyline_default({shape:{points:v},segmentIgnoreThreshold:1,style:F.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return L.add(O),L.add(z),L}for(var E=0;E<3;E++){var P=M(E===1);this._displayables.sliderGroup.add(P),this._displayables.dataShadowSegs.push(P)}},r.prototype._prepareDataShadowInfo=function(){var a=this.dataZoomModel,o=a.get("showDataShadow");if(o!==!1){var s,l=this.ecModel;return a.eachTargetAxis(function(u,f){var d=a.getAxisProxy(u,f).getTargetSeriesModels();each(d,function(v){if(!s&&!(o!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,v.get("type"))<0)){var g=l.getComponent(getAxisMainType(u),f).axis,y=getOtherDim(u),b,_=v.coordinateSystem;y!=null&&_.getOtherAxis&&(b=_.getOtherAxis(g).inverse),y=v.getData().mapDimension(y),s={thisAxis:g,series:v,thisDim:u,otherDim:y,otherAxisInverse:b}}},this)},this),s}},r.prototype._renderHandle=function(){var a=this.group,o=this._displayables,s=o.handles=[null,null],l=o.handleLabels=[null,null],u=this._displayables.sliderGroup,f=this._size,d=this.dataZoomModel,v=this.api,g=d.get("borderRadius")||0,y=d.get("brushSelect"),b=o.filler=new Rect2({silent:y,style:{fill:d.get("fillerColor")},textConfig:{position:"inside"}});u.add(b),u.add(new Rect2({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:f[0],height:f[1],r:g},style:{stroke:d.get("dataBackgroundColor")||d.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each([0,1],function(A){var T=d.get("handleIcon");!symbolBuildProxies[T]&&T.indexOf("path://")<0&&T.indexOf("image://")<0&&(T="path://"+T,deprecateLog("handleIcon now needs 'path://' prefix when using a path string"));var M=createSymbol(T,-1,0,2,2,null,!0);M.attr({cursor:getCursor(this._orient),draggable:!0,drift:bind(this._onDragMove,this,A),ondragend:bind(this._onDragEnd,this),onmouseover:bind(this._showDataInfo,this,!0),onmouseout:bind(this._showDataInfo,this,!1),z2:5});var E=M.getBoundingRect(),P=d.get("handleSize");this._handleHeight=parsePercent2(P,this._size[1]),this._handleWidth=E.width/E.height*this._handleHeight,M.setStyle(d.getModel("handleStyle").getItemStyle()),M.style.strokeNoScale=!0,M.rectHover=!0,M.ensureState("emphasis").style=d.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(M);var I=d.get("handleColor");I!=null&&(M.style.fill=I),u.add(s[A]=M);var F=d.getModel("textStyle");a.add(l[A]=new Text_default({silent:!0,invisible:!0,style:createTextStyle(F,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:F.getTextColor(),font:F.getFont()}),z2:10}))},this);var _=b;if(y){var x=parsePercent2(d.get("moveHandleSize"),f[1]),C=o.moveHandle=new Rect_default({style:d.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:f[1]-.5,height:x}}),w=x*.8,S=o.moveHandleIcon=createSymbol(d.get("moveHandleIcon"),-w/2,-w/2,w,w,"#fff",!0);S.silent=!0,S.y=f[1]+x/2-.5,C.ensureState("emphasis").style=d.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var D=Math.min(f[1]/2,Math.max(x,10));_=o.moveZone=new Rect_default({invisible:!0,shape:{y:f[1]-D,height:x+D}}),_.on("mouseover",function(){v.enterEmphasis(C)}).on("mouseout",function(){v.leaveEmphasis(C)}),u.add(C),u.add(S),u.add(_)}_.attr({draggable:!0,cursor:getCursor(this._orient),drift:bind(this._onDragMove,this,"all"),ondragstart:bind(this._showDataInfo,this,!0),ondragend:bind(this._onDragEnd,this),onmouseover:bind(this._showDataInfo,this,!0),onmouseout:bind(this._showDataInfo,this,!1)})},r.prototype._resetInterval=function(){var a=this._range=this.dataZoomModel.getPercentRange(),o=this._getViewExtent();this._handleEnds=[linearMap(a[0],[0,100],o,!0),linearMap(a[1],[0,100],o,!0)]},r.prototype._updateInterval=function(a,o){var s=this.dataZoomModel,l=this._handleEnds,u=this._getViewExtent(),f=s.findRepresentativeAxisProxy().getMinMaxSpan(),d=[0,100];sliderMove(o,l,u,s.get("zoomLock")?"all":a,f.minSpan!=null?linearMap(f.minSpan,d,u,!0):null,f.maxSpan!=null?linearMap(f.maxSpan,d,u,!0):null);var v=this._range,g=this._range=asc([linearMap(l[0],u,d,!0),linearMap(l[1],u,d,!0)]);return!v||v[0]!==g[0]||v[1]!==g[1]},r.prototype._updateView=function(a){var o=this._displayables,s=this._handleEnds,l=asc(s.slice()),u=this._size;each([0,1],function(_){var x=o.handles[_],C=this._handleHeight;x.attr({scaleX:C/2,scaleY:C/2,x:s[_]+(_?-1:1),y:u[1]/2-C/2})},this),o.filler.setShape({x:l[0],y:0,width:l[1]-l[0],height:u[1]});var f={x:l[0],width:l[1]-l[0]};o.moveHandle&&(o.moveHandle.setShape(f),o.moveZone.setShape(f),o.moveZone.getBoundingRect(),o.moveHandleIcon&&o.moveHandleIcon.attr("x",f.x+f.width/2));for(var d=o.dataShadowSegs,v=[0,l[0],l[1],u[0]],g=0;g<d.length;g++){var y=d[g],b=y.getClipPath();b||(b=new Rect_default,y.setClipPath(b)),b.setShape({x:v[g],y:0,width:v[g+1]-v[g],height:u[1]})}this._updateDataInfo(a)},r.prototype._updateDataInfo=function(a){var o=this.dataZoomModel,s=this._displayables,l=s.handleLabels,u=this._orient,f=["",""];if(o.get("showDetail")){var d=o.findRepresentativeAxisProxy();if(d){var v=d.getAxisModel().axis,g=this._range,y=a?d.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:d.getDataValueWindow();f=[this._formatLabel(y[0],v),this._formatLabel(y[1],v)]}}var b=asc(this._handleEnds.slice());_.call(this,0),_.call(this,1);function _(x){var C=getTransform(s.handles[x].parent,this.group),w=transformDirection(x===0?"right":"left",C),S=this._handleWidth/2+LABEL_GAP,D=applyTransform2([b[x]+(x===0?-S:S),this._size[1]/2],C);l[x].setStyle({x:D[0],y:D[1],verticalAlign:u===HORIZONTAL?"middle":w,align:u===HORIZONTAL?w:"center",text:f[x]})}},r.prototype._formatLabel=function(a,o){var s=this.dataZoomModel,l=s.get("labelFormatter"),u=s.get("labelPrecision");(u==null||u==="auto")&&(u=o.getPixelPrecision());var f=a==null||isNaN(a)?"":o.type==="category"||o.type==="time"?o.scale.getLabel({value:Math.round(a)}):a.toFixed(Math.min(u,20));return isFunction3(l)?l(a,f):isString2(l)?l.replace("{value}",f):f},r.prototype._showDataInfo=function(a){a=this._dragging||a;var o=this._displayables,s=o.handleLabels;s[0].attr("invisible",!a),s[1].attr("invisible",!a),o.moveHandle&&this.api[a?"enterEmphasis":"leaveEmphasis"](o.moveHandle,1)},r.prototype._onDragMove=function(a,o,s,l){this._dragging=!0,stop2(l.event);var u=this._displayables.sliderGroup.getLocalTransform(),f=applyTransform2([o,s],u,!0),d=this._updateInterval(a,f[0]),v=this.dataZoomModel.get("realtime");this._updateView(!v),d&&v&&this._dispatchZoomAction(!0)},r.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var a=this.dataZoomModel.get("realtime");!a&&this._dispatchZoomAction(!1)},r.prototype._onClickPanel=function(a){var o=this._size,s=this._displayables.sliderGroup.transformCoordToLocal(a.offsetX,a.offsetY);if(!(s[0]<0||s[0]>o[0]||s[1]<0||s[1]>o[1])){var l=this._handleEnds,u=(l[0]+l[1])/2,f=this._updateInterval("all",s[0]-u);this._updateView(),f&&this._dispatchZoomAction(!1)}},r.prototype._onBrushStart=function(a){var o=a.offsetX,s=a.offsetY;this._brushStart=new Point_default(o,s),this._brushing=!0,this._brushStartTime=+new Date},r.prototype._onBrushEnd=function(a){if(!!this._brushing){var o=this._displayables.brushRect;if(this._brushing=!1,!!o){o.attr("ignore",!0);var s=o.shape,l=+new Date;if(!(l-this._brushStartTime<200&&Math.abs(s.width)<5)){var u=this._getViewExtent(),f=[0,100];this._range=asc([linearMap(s.x,u,f,!0),linearMap(s.x+s.width,u,f,!0)]),this._handleEnds=[s.x,s.x+s.width],this._updateView(),this._dispatchZoomAction(!1)}}}},r.prototype._onBrush=function(a){this._brushing&&(stop2(a.event),this._updateBrushRect(a.offsetX,a.offsetY))},r.prototype._updateBrushRect=function(a,o){var s=this._displayables,l=this.dataZoomModel,u=s.brushRect;u||(u=s.brushRect=new Rect2({silent:!0,style:l.getModel("brushStyle").getItemStyle()}),s.sliderGroup.add(u)),u.attr("ignore",!1);var f=this._brushStart,d=this._displayables.sliderGroup,v=d.transformCoordToLocal(a,o),g=d.transformCoordToLocal(f.x,f.y),y=this._size;v[0]=Math.max(Math.min(y[0],v[0]),0),u.setShape({x:g[0],y:0,width:v[0]-g[0],height:y[1]})},r.prototype._dispatchZoomAction=function(a){var o=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:a?REALTIME_ANIMATION_CONFIG:null,start:o[0],end:o[1]})},r.prototype._findCoordRect=function(){var a,o=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!a&&o.length){var s=o[0].model.coordinateSystem;a=s.getRect&&s.getRect()}if(!a){var l=this.api.getWidth(),u=this.api.getHeight();a={x:l*.2,y:u*.2,width:l*.6,height:u*.6}}return a},r.type="dataZoom.slider",r}(DataZoomView_default);function getOtherDim(n){var r={x:"y",y:"x",radius:"angle",angle:"radius"};return r[n]}function getCursor(n){return n==="vertical"?"ns-resize":"ew-resize"}var visualDefault={get:function(n,r,a){var o=clone((defaultOption2[n]||{})[r]);return a&&isArray3(o)?o[o.length-1]:o}},defaultOption2={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},visualDefault_default=visualDefault,mapVisual=VisualMapping_default.mapVisual,eachVisual=VisualMapping_default.eachVisual,isArray4=isArray3,each11=each,asc3=asc,linearMap2=linearMap,VisualMapModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.stateList=["inRange","outOfRange"],a.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],a.layoutMode={type:"box",ignoreSize:!0},a.dataBound=[-1/0,1/0],a.targetVisuals={},a.controllerVisuals={},a}return r.prototype.init=function(a,o,s){this.mergeDefaultAndTheme(a,s)},r.prototype.optionUpdated=function(a,o){var s=this.option;!o&&replaceVisualOption(s,a,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},r.prototype.resetVisual=function(a){var o=this.stateList;a=bind(a,this),this.controllerVisuals=createVisualMappings(this.option.controller,o,a),this.targetVisuals=createVisualMappings(this.option.target,o,a)},r.prototype.getItemSymbol=function(){return null},r.prototype.getTargetSeriesIndices=function(){var a=this.option.seriesIndex,o=[];return a==null||a==="all"?this.ecModel.eachSeries(function(s,l){o.push(l)}):o=normalizeToArray(a),o},r.prototype.eachTargetSeries=function(a,o){each(this.getTargetSeriesIndices(),function(s){var l=this.ecModel.getSeriesByIndex(s);l&&a.call(o,l)},this)},r.prototype.isTargetSeries=function(a){var o=!1;return this.eachTargetSeries(function(s){s===a&&(o=!0)}),o},r.prototype.formatValueText=function(a,o,s){var l=this.option,u=l.precision,f=this.dataBound,d=l.formatter,v;s=s||["<",">"],isArray3(a)&&(a=a.slice(),v=!0);var g=o?a:v?[y(a[0]),y(a[1])]:y(a);if(isString2(d))return d.replace("{value}",v?g[0]:g).replace("{value2}",v?g[1]:g);if(isFunction3(d))return v?d(a[0],a[1]):d(a);if(v)return a[0]===f[0]?s[0]+" "+g[1]:a[1]===f[1]?s[1]+" "+g[0]:g[0]+" - "+g[1];return g;function y(b){return b===f[0]?"min":b===f[1]?"max":(+b).toFixed(Math.min(u,20))}},r.prototype.resetExtent=function(){var a=this.option,o=asc3([a.min,a.max]);this._dataExtent=o},r.prototype.getDataDimensionIndex=function(a){var o=this.option.dimension;if(o!=null)return a.getDimensionIndex(o);for(var s=a.dimensions,l=s.length-1;l>=0;l--){var u=s[l],f=a.getDimensionInfo(u);if(!f.isCalculationCoord)return f.storeDimIndex}},r.prototype.getExtent=function(){return this._dataExtent.slice()},r.prototype.completeVisualOption=function(){var a=this.ecModel,o=this.option,s={inRange:o.inRange,outOfRange:o.outOfRange},l=o.target||(o.target={}),u=o.controller||(o.controller={});merge3(l,s),merge3(u,s);var f=this.isCategory();d.call(this,l),d.call(this,u),v.call(this,l,"inRange","outOfRange"),g.call(this,u);function d(y){isArray4(o.color)&&!y.inRange&&(y.inRange={color:o.color.slice().reverse()}),y.inRange=y.inRange||{color:a.get("gradientColor")}}function v(y,b,_){var x=y[b],C=y[_];x&&!C&&(C=y[_]={},each11(x,function(w,S){if(!!VisualMapping_default.isValidType(S)){var D=visualDefault_default.get(S,"inactive",f);D!=null&&(C[S]=D,S==="color"&&!C.hasOwnProperty("opacity")&&!C.hasOwnProperty("colorAlpha")&&(C.opacity=[0,0]))}}))}function g(y){var b=(y.inRange||{}).symbol||(y.outOfRange||{}).symbol,_=(y.inRange||{}).symbolSize||(y.outOfRange||{}).symbolSize,x=this.get("inactiveColor"),C=this.getItemSymbol(),w=C||"roundRect";each11(this.stateList,function(S){var D=this.itemSize,A=y[S];A||(A=y[S]={color:f?x:[x]}),A.symbol==null&&(A.symbol=b&&clone(b)||(f?w:[w])),A.symbolSize==null&&(A.symbolSize=_&&clone(_)||(f?D[0]:[D[0],D[0]])),A.symbol=mapVisual(A.symbol,function(E){return E==="none"?w:E});var T=A.symbolSize;if(T!=null){var M=-1/0;eachVisual(T,function(E){E>M&&(M=E)}),A.symbolSize=mapVisual(T,function(E){return linearMap2(E,[0,M],[0,D[0]],!0)})}},this)}},r.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},r.prototype.isCategory=function(){return!!this.option.categories},r.prototype.setSelected=function(a){},r.prototype.getSelected=function(){return null},r.prototype.getValueState=function(a){return null},r.prototype.getVisualMeta=function(a){return null},r.type="visualMap",r.dependencies=["series"],r.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},r}(Component_default),VisualMapModel_default=VisualMapModel,DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.optionUpdated=function(a,o){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(s){s.mappingMethod="linear",s.dataExtent=this.getExtent()}),this._resetRange()},r.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var a=this.itemSize;(a[0]==null||isNaN(a[0]))&&(a[0]=DEFAULT_BAR_BOUND[0]),(a[1]==null||isNaN(a[1]))&&(a[1]=DEFAULT_BAR_BOUND[1])},r.prototype._resetRange=function(){var a=this.getExtent(),o=this.option.range;!o||o.auto?(a.auto=1,this.option.range=a):isArray3(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],a[0]),o[1]=Math.min(o[1],a[1]))},r.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),each(this.stateList,function(a){var o=this.option.controller[a].symbolSize;o&&o[0]!==o[1]&&(o[0]=o[1]/3)},this)},r.prototype.setSelected=function(a){this.option.range=a.slice(),this._resetRange()},r.prototype.getSelected=function(){var a=this.getExtent(),o=asc((this.get("range")||[]).slice());return o[0]>a[1]&&(o[0]=a[1]),o[1]>a[1]&&(o[1]=a[1]),o[0]<a[0]&&(o[0]=a[0]),o[1]<a[0]&&(o[1]=a[0]),o},r.prototype.getValueState=function(a){var o=this.option.range,s=this.getExtent();return(o[0]<=s[0]||o[0]<=a)&&(o[1]>=s[1]||a<=o[1])?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(a){var o=[];return this.eachTargetSeries(function(s){var l=[],u=s.getData();u.each(this.getDataDimensionIndex(u),function(f,d){a[0]<=f&&f<=a[1]&&l.push(d)},this),o.push({seriesId:s.id,dataIndex:l})},this),o},r.prototype.getVisualMeta=function(a){var o=getColorStopValues(this,"outOfRange",this.getExtent()),s=getColorStopValues(this,"inRange",this.option.range.slice()),l=[];function u(_,x){l.push({value:_,color:a(_,x)})}for(var f=0,d=0,v=s.length,g=o.length;d<g&&(!s.length||o[d]<=s[0]);d++)o[d]<s[f]&&u(o[d],"outOfRange");for(var y=1;f<v;f++,y=0)y&&l.length&&u(s[f],"outOfRange"),u(s[f],"inRange");for(var y=1;d<g;d++)(!s.length||s[s.length-1]<o[d])&&(y&&(l.length&&u(l[l.length-1].value,"outOfRange"),y=0),u(o[d],"outOfRange"));var b=l.length;return{stops:l,outerColors:[b?l[0].color:"transparent",b?l[b-1].color:"transparent"]}},r.type="visualMap.continuous",r.defaultOption=inheritDefaultOption(VisualMapModel_default.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),r}(VisualMapModel_default);function getColorStopValues(n,r,a){if(a[0]===a[1])return a.slice();for(var o=200,s=(a[1]-a[0])/o,l=a[0],u=[],f=0;f<=o&&l<a[1];f++)u.push(l),l+=s;return u.push(a[1]),u}var VisualMapView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.autoPositionValues={left:1,right:1,top:1,bottom:1},a}return r.prototype.init=function(a,o){this.ecModel=a,this.api=o},r.prototype.render=function(a,o,s,l){if(this.visualMapModel=a,a.get("show")===!1){this.group.removeAll();return}this.doRender(a,o,s,l)},r.prototype.renderBackground=function(a){var o=this.visualMapModel,s=normalizeCssArray2(o.get("padding")||0),l=a.getBoundingRect();a.add(new Rect_default({z2:-1,silent:!0,shape:{x:l.x-s[3],y:l.y-s[0],width:l.width+s[3]+s[1],height:l.height+s[0]+s[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},r.prototype.getControllerVisual=function(a,o,s){s=s||{};var l=s.forceState,u=this.visualMapModel,f={};if(o==="color"){var d=u.get("contentColor");f.color=d}function v(_){return f[_]}function g(_,x){f[_]=x}var y=u.controllerVisuals[l||u.getValueState(a)],b=VisualMapping_default.prepareVisualTypes(y);return each(b,function(_){var x=y[_];s.convertOpacityToAlpha&&_==="opacity"&&(_="colorAlpha",x=y.__alphaForOpacity),VisualMapping_default.dependsOn(_,o)&&x&&x.applyVisual(a,v,g)}),f[o]},r.prototype.positionGroup=function(a){var o=this.visualMapModel,s=this.api;positionElement(a,o.getBoxLayoutParams(),{width:s.getWidth(),height:s.getHeight()})},r.prototype.doRender=function(a,o,s,l){},r.type="visualMap",r}(Component_default2),VisualMapView_default=VisualMapView,paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(n,r,a){var o=n.option,s=o.align;if(s!=null&&s!=="auto")return s;for(var l={width:r.getWidth(),height:r.getHeight()},u=o.orient==="horizontal"?1:0,f=paramsSet[u],d=[0,null,10],v={},g=0;g<3;g++)v[paramsSet[1-u][g]]=d[g],v[f[g]]=g===2?a[0]:o[f[g]];var y=[["x","width",3],["y","height",0]][u],b=getLayoutRect(v,l,o.padding);return f[(b.margin[y[2]]||0)+b[y[0]]+b[y[1]]*.5<l[y[1]]*.5?0:1]}function makeHighDownBatch(n,r){return each(n||[],function(a){a.dataIndex!=null&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null),a.highlightKey="visualMap"+(r?r.componentIndex:"")}),n}var linearMap3=linearMap,each12=each,mathMin7=Math.min,mathMax7=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a._shapes={},a._dataInterval=[],a._handleEnds=[],a._hoverLinkDataIndices=[],a}return r.prototype.doRender=function(a,o,s,l){this._api=s,(!l||l.type!=="selectDataRange"||l.from!==this.uid)&&this._buildView()},r.prototype._buildView=function(){this.group.removeAll();var a=this.visualMapModel,o=this.group;this._orient=a.get("orient"),this._useHandle=a.get("calculable"),this._resetInterval(),this._renderBar(o);var s=a.get("text");this._renderEndsText(o,s,0),this._renderEndsText(o,s,1),this._updateView(!0),this.renderBackground(o),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(o)},r.prototype._renderEndsText=function(a,o,s){if(!!o){var l=o[1-s];l=l!=null?l+"":"";var u=this.visualMapModel,f=u.get("textGap"),d=u.itemSize,v=this._shapes.mainGroup,g=this._applyTransform([d[0]/2,s===0?-f:d[1]+f],v),y=this._applyTransform(s===0?"bottom":"top",v),b=this._orient,_=this.visualMapModel.textStyleModel;this.group.add(new Text_default({style:createTextStyle(_,{x:g[0],y:g[1],verticalAlign:b==="horizontal"?"middle":y,align:b==="horizontal"?y:"center",text:l})}))}},r.prototype._renderBar=function(a){var o=this.visualMapModel,s=this._shapes,l=o.itemSize,u=this._orient,f=this._useHandle,d=getItemAlign(o,this.api,l),v=s.mainGroup=this._createBarGroup(d),g=new Group_default;v.add(g),g.add(s.outOfRange=createPolygon()),g.add(s.inRange=createPolygon(null,f?getCursor2(this._orient):null,bind(this._dragHandle,this,"all",!1),bind(this._dragHandle,this,"all",!0))),g.setClipPath(new Rect_default({shape:{x:0,y:0,width:l[0],height:l[1],r:3}}));var y=o.textStyleModel.getTextRect("\u56FD"),b=mathMax7(y.width,y.height);f&&(s.handleThumbs=[],s.handleLabels=[],s.handleLabelPoints=[],this._createHandle(o,v,0,l,b,u),this._createHandle(o,v,1,l,b,u)),this._createIndicator(o,v,l,b,u),a.add(v)},r.prototype._createHandle=function(a,o,s,l,u,f){var d=bind(this._dragHandle,this,s,!1),v=bind(this._dragHandle,this,s,!0),g=parsePercent(a.get("handleSize"),l[0]),y=createSymbol(a.get("handleIcon"),-g/2,-g/2,g,g,null,!0),b=getCursor2(this._orient);y.attr({cursor:b,draggable:!0,drift:d,ondragend:v,onmousemove:function(S){stop2(S.event)}}),y.x=l[0]/2,y.useStyle(a.getModel("handleStyle").getItemStyle()),y.setStyle({strokeNoScale:!0,strokeFirst:!0}),y.style.lineWidth*=2,y.ensureState("emphasis").style=a.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(y,!0),o.add(y);var _=this.visualMapModel.textStyleModel,x=new Text_default({cursor:b,draggable:!0,drift:d,onmousemove:function(S){stop2(S.event)},ondragend:v,style:createTextStyle(_,{x:0,y:0,text:""})});x.ensureState("blur").style={opacity:.1},x.stateTransition={duration:200},this.group.add(x);var C=[g,0],w=this._shapes;w.handleThumbs[s]=y,w.handleLabelPoints[s]=C,w.handleLabels[s]=x},r.prototype._createIndicator=function(a,o,s,l,u){var f=parsePercent(a.get("indicatorSize"),s[0]),d=createSymbol(a.get("indicatorIcon"),-f/2,-f/2,f,f,null,!0);d.attr({cursor:"move",invisible:!0,silent:!0,x:s[0]/2});var v=a.getModel("indicatorStyle").getItemStyle();if(d instanceof Image_default){var g=d.style;d.useStyle(extend3({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},v))}else d.useStyle(v);o.add(d);var y=this.visualMapModel.textStyleModel,b=new Text_default({silent:!0,invisible:!0,style:createTextStyle(y,{x:0,y:0,text:""})});this.group.add(b);var _=[(u==="horizontal"?l/2:HOVER_LINK_OUT)+s[0]/2,0],x=this._shapes;x.indicator=d,x.indicatorLabel=b,x.indicatorLabelPoint=_,this._firstShowIndicator=!0},r.prototype._dragHandle=function(a,o,s,l){if(!!this._useHandle){if(this._dragging=!o,!o){var u=this._applyTransform([s,l],this._shapes.mainGroup,!0);this._updateInterval(a,u[1]),this._hideIndicator(),this._updateView()}o===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),o?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1)}},r.prototype._resetInterval=function(){var a=this.visualMapModel,o=this._dataInterval=a.getSelected(),s=a.getExtent(),l=[0,a.itemSize[1]];this._handleEnds=[linearMap3(o[0],s,l,!0),linearMap3(o[1],s,l,!0)]},r.prototype._updateInterval=function(a,o){o=o||0;var s=this.visualMapModel,l=this._handleEnds,u=[0,s.itemSize[1]];sliderMove(o,l,u,a,0);var f=s.getExtent();this._dataInterval=[linearMap3(l[0],u,f,!0),linearMap3(l[1],u,f,!0)]},r.prototype._updateView=function(a){var o=this.visualMapModel,s=o.getExtent(),l=this._shapes,u=[0,o.itemSize[1]],f=a?u:this._handleEnds,d=this._createBarVisual(this._dataInterval,s,f,"inRange"),v=this._createBarVisual(s,s,u,"outOfRange");l.inRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),l.outOfRange.setStyle({fill:v.barColor}).setShape("points",v.barPoints),this._updateHandle(f,d)},r.prototype._createBarVisual=function(a,o,s,l){var u={forceState:l,convertOpacityToAlpha:!0},f=this._makeColorGradient(a,u),d=[this.getControllerVisual(a[0],"symbolSize",u),this.getControllerVisual(a[1],"symbolSize",u)],v=this._createBarPoints(s,d);return{barColor:new LinearGradient_default(0,0,0,1,f),barPoints:v,handlesColor:[f[0].color,f[f.length-1].color]}},r.prototype._makeColorGradient=function(a,o){var s=100,l=[],u=(a[1]-a[0])/s;l.push({color:this.getControllerVisual(a[0],"color",o),offset:0});for(var f=1;f<s;f++){var d=a[0]+u*f;if(d>a[1])break;l.push({color:this.getControllerVisual(d,"color",o),offset:f/s})}return l.push({color:this.getControllerVisual(a[1],"color",o),offset:1}),l},r.prototype._createBarPoints=function(a,o){var s=this.visualMapModel.itemSize;return[[s[0]-o[0],a[0]],[s[0],a[0]],[s[0],a[1]],[s[0]-o[1],a[1]]]},r.prototype._createBarGroup=function(a){var o=this._orient,s=this.visualMapModel.get("inverse");return new Group_default(o==="horizontal"&&!s?{scaleX:a==="bottom"?1:-1,rotation:Math.PI/2}:o==="horizontal"&&s?{scaleX:a==="bottom"?-1:1,rotation:-Math.PI/2}:o==="vertical"&&!s?{scaleX:a==="left"?1:-1,scaleY:-1}:{scaleX:a==="left"?1:-1})},r.prototype._updateHandle=function(a,o){if(!!this._useHandle){var s=this._shapes,l=this.visualMapModel,u=s.handleThumbs,f=s.handleLabels,d=l.itemSize,v=l.getExtent();each12([0,1],function(g){var y=u[g];y.setStyle("fill",o.handlesColor[g]),y.y=a[g];var b=linearMap3(a[g],[0,d[1]],v,!0),_=this.getControllerVisual(b,"symbolSize");y.scaleX=y.scaleY=_/d[0],y.x=d[0]-_/2;var x=applyTransform2(s.handleLabelPoints[g],getTransform(y,this.group));f[g].setStyle({x:x[0],y:x[1],text:l.formatValueText(this._dataInterval[g]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",s.mainGroup):"center"})},this)}},r.prototype._showIndicator=function(a,o,s,l){var u=this.visualMapModel,f=u.getExtent(),d=u.itemSize,v=[0,d[1]],g=this._shapes,y=g.indicator;if(!!y){y.attr("invisible",!1);var b={convertOpacityToAlpha:!0},_=this.getControllerVisual(a,"color",b),x=this.getControllerVisual(a,"symbolSize"),C=linearMap3(a,f,v,!0),w=d[0]-x/2,S={x:y.x,y:y.y};y.y=C,y.x=w;var D=applyTransform2(g.indicatorLabelPoint,getTransform(y,this.group)),A=g.indicatorLabel;A.attr("invisible",!1);var T=this._applyTransform("left",g.mainGroup),M=this._orient,E=M==="horizontal";A.setStyle({text:(s||"")+u.formatValueText(o),verticalAlign:E?T:"middle",align:E?"center":T});var P={x:w,y:C,style:{fill:_}},I={style:{x:D[0],y:D[1]}};if(u.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var F={duration:100,easing:"cubicInOut",additive:!0};y.x=S.x,y.y=S.y,y.animateTo(P,F),A.animateTo(I,F)}else y.attr(P),A.attr(I);this._firstShowIndicator=!1;var L=this._shapes.handleLabels;if(L)for(var O=0;O<L.length;O++)this._api.enterBlur(L[O])}},r.prototype._enableHoverLinkToSeries=function(){var a=this;this._shapes.mainGroup.on("mousemove",function(o){if(a._hovering=!0,!a._dragging){var s=a.visualMapModel.itemSize,l=a._applyTransform([o.offsetX,o.offsetY],a._shapes.mainGroup,!0,!0);l[1]=mathMin7(mathMax7(0,l[1]),s[1]),a._doHoverLinkToSeries(l[1],0<=l[0]&&l[0]<=s[0])}}).on("mouseout",function(){a._hovering=!1,!a._dragging&&a._clearHoverLinkToSeries()})},r.prototype._enableHoverLinkFromSeries=function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},r.prototype._doHoverLinkToSeries=function(a,o){var s=this.visualMapModel,l=s.itemSize;if(!!s.option.hoverLink){var u=[0,l[1]],f=s.getExtent();a=mathMin7(mathMax7(u[0],a),u[1]);var d=getHalfHoverLinkSize(s,f,u),v=[a-d,a+d],g=linearMap3(a,u,f,!0),y=[linearMap3(v[0],u,f,!0),linearMap3(v[1],u,f,!0)];v[0]<u[0]&&(y[0]=-1/0),v[1]>u[1]&&(y[1]=1/0),o&&(y[0]===-1/0?this._showIndicator(g,y[1],"< ",d):y[1]===1/0?this._showIndicator(g,y[0],"> ",d):this._showIndicator(g,g,"\u2248 ",d));var b=this._hoverLinkDataIndices,_=[];(o||useHoverLinkOnHandle(s))&&(_=this._hoverLinkDataIndices=s.findTargetDataIndices(y));var x=compressBatches(b,_);this._dispatchHighDown("downplay",makeHighDownBatch(x[0],s)),this._dispatchHighDown("highlight",makeHighDownBatch(x[1],s))}},r.prototype._hoverLinkFromSeriesMouseOver=function(a){var o=a.target,s=this.visualMapModel;if(!(!o||getECData(o).dataIndex==null)){var l=getECData(o),u=this.ecModel.getSeriesByIndex(l.seriesIndex);if(!!s.isTargetSeries(u)){var f=u.getData(l.dataType),d=f.getStore().get(s.getDataDimensionIndex(f),l.dataIndex);isNaN(d)||this._showIndicator(d,d)}}},r.prototype._hideIndicator=function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0),a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0);var o=this._shapes.handleLabels;if(o)for(var s=0;s<o.length;s++)this._api.leaveBlur(o[s])},r.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(a,this.visualMapModel)),a.length=0},r.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver),a.off("mouseout",this._hideIndicator)},r.prototype._applyTransform=function(a,o,s,l){var u=getTransform(o,l?null:this.group);return isArray3(a)?applyTransform2(a,u,s):transformDirection(a,u,s)},r.prototype._dispatchHighDown=function(a,o){o&&o.length&&this.api.dispatchAction({type:a,batch:o})},r.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},r.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},r.type="visualMap.continuous",r}(VisualMapView_default);function createPolygon(n,r,a,o){return new Polygon_default({shape:{points:n},draggable:!!a,cursor:r,drift:a,onmousemove:function(s){stop2(s.event)},ondragend:o})}function getHalfHoverLinkSize(n,r,a){var o=HOVER_LINK_SIZE/2,s=n.get("hoverLinkDataSize");return s&&(o=linearMap3(s,r,a,!0)/2),o}function useHoverLinkOnHandle(n){var r=n.get("hoverLinkOnHandle");return!!(r==null?n.get("realtime"):r)}function getCursor2(n){return n==="vertical"?"ns-resize":"ew-resize"}var PiecewiseModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a._pieceList=[],a}return r.prototype.optionUpdated=function(a,o){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var s=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(a,o);var l=this.option.categories;this.resetVisual(function(u,f){s==="categories"?(u.mappingMethod="category",u.categories=clone(l)):(u.dataExtent=this.getExtent(),u.mappingMethod="piecewise",u.pieceList=map3(this._pieceList,function(d){return d=clone(d),f!=="inRange"&&(d.visual=null),d}))})},r.prototype.completeVisualOption=function(){var a=this.option,o={},s=VisualMapping_default.listVisualTypes(),l=this.isCategory();each(a.pieces,function(f){each(s,function(d){f.hasOwnProperty(d)&&(o[d]=1)})}),each(o,function(f,d){var v=!1;each(this.stateList,function(g){v=v||u(a,g,d)||u(a.target,g,d)},this),!v&&each(this.stateList,function(g){(a[g]||(a[g]={}))[d]=visualDefault_default.get(d,g==="inRange"?"active":"inactive",l)})},this);function u(f,d,v){return f&&f[d]&&f[d].hasOwnProperty(v)}n.prototype.completeVisualOption.apply(this,arguments)},r.prototype._resetSelected=function(a,o){var s=this.option,l=this._pieceList,u=(o?s:a).selected||{};if(s.selected=u,each(l,function(d,v){var g=this.getSelectedMapKey(d);u.hasOwnProperty(g)||(u[g]=!0)},this),s.selectedMode==="single"){var f=!1;each(l,function(d,v){var g=this.getSelectedMapKey(d);u[g]&&(f?u[g]=!1:f=!0)},this)}},r.prototype.getItemSymbol=function(){return this.get("itemSymbol")},r.prototype.getSelectedMapKey=function(a){return this._mode==="categories"?a.value+"":a.index+""},r.prototype.getPieceList=function(){return this._pieceList},r.prototype._determineMode=function(){var a=this.option;return a.pieces&&a.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},r.prototype.setSelected=function(a){this.option.selected=clone(a)},r.prototype.getValueState=function(a){var o=VisualMapping_default.findPieceIndex(a,this._pieceList);return o!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[o])]?"inRange":"outOfRange"},r.prototype.findTargetDataIndices=function(a){var o=[],s=this._pieceList;return this.eachTargetSeries(function(l){var u=[],f=l.getData();f.each(this.getDataDimensionIndex(f),function(d,v){var g=VisualMapping_default.findPieceIndex(d,s);g===a&&u.push(v)},this),o.push({seriesId:l.id,dataIndex:u})},this),o},r.prototype.getRepresentValue=function(a){var o;if(this.isCategory())o=a.value;else if(a.value!=null)o=a.value;else{var s=a.interval||[];o=s[0]===-1/0&&s[1]===1/0?0:(s[0]+s[1])/2}return o},r.prototype.getVisualMeta=function(a){if(this.isCategory())return;var o=[],s=["",""],l=this;function u(g,y){var b=l.getRepresentValue({interval:g});y||(y=l.getValueState(b));var _=a(b,y);g[0]===-1/0?s[0]=_:g[1]===1/0?s[1]=_:o.push({value:g[0],color:_},{value:g[1],color:_})}var f=this._pieceList.slice();if(!f.length)f.push({interval:[-1/0,1/0]});else{var d=f[0].interval[0];d!==-1/0&&f.unshift({interval:[-1/0,d]}),d=f[f.length-1].interval[1],d!==1/0&&f.push({interval:[d,1/0]})}var v=-1/0;return each(f,function(g){var y=g.interval;y&&(y[0]>v&&u([v,y[0]],"outOfRange"),u(y.slice()),v=y[1])},this),{stops:o,outerColors:s}},r.type="visualMap.piecewise",r.defaultOption=inheritDefaultOption(VisualMapModel_default.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),r}(VisualMapModel_default),resetMethods={splitNumber:function(n){var r=this.option,a=Math.min(r.precision,20),o=this.getExtent(),s=r.splitNumber;s=Math.max(parseInt(s,10),1),r.splitNumber=s;for(var l=(o[1]-o[0])/s;+l.toFixed(a)!==l&&a<5;)a++;r.precision=a,l=+l.toFixed(a),r.minOpen&&n.push({interval:[-1/0,o[0]],close:[0,0]});for(var u=0,f=o[0];u<s;f+=l,u++){var d=u===s-1?o[1]:f+l;n.push({interval:[f,d],close:[1,1]})}r.maxOpen&&n.push({interval:[o[1],1/0],close:[0,0]}),reformIntervals(n),each(n,function(v,g){v.index=g,v.text=this.formatValueText(v.interval)},this)},categories:function(n){var r=this.option;each(r.categories,function(a){n.push({text:this.formatValueText(a,!0),value:a})},this),normalizeReverse(r,n)},pieces:function(n){var r=this.option;each(r.pieces,function(a,o){isObject3(a)||(a={value:a});var s={text:"",index:o};if(a.label!=null&&(s.text=a.label),a.hasOwnProperty("value")){var l=s.value=a.value;s.interval=[l,l],s.close=[1,1]}else{for(var u=s.interval=[],f=s.close=[0,0],d=[1,0,1],v=[-1/0,1/0],g=[],y=0;y<2;y++){for(var b=[["gte","gt","min"],["lte","lt","max"]][y],_=0;_<3&&u[y]==null;_++)u[y]=a[b[_]],f[y]=d[_],g[y]=_===2;u[y]==null&&(u[y]=v[y])}g[0]&&u[1]===1/0&&(f[0]=0),g[1]&&u[0]===-1/0&&(f[1]=0),u[0]>u[1]&&console.warn("Piece "+o+"is illegal: "+u+" lower bound should not greater then uppper bound."),u[0]===u[1]&&f[0]&&f[1]&&(s.value=u[0])}s.visual=VisualMapping_default.retrieveVisuals(a),n.push(s)},this),normalizeReverse(r,n),reformIntervals(n),each(n,function(a){var o=a.close,s=[["<","\u2264"][o[1]],[">","\u2265"][o[0]]];a.text=a.text||this.formatValueText(a.value!=null?a.value:a.interval,!1,s)},this)}};function normalizeReverse(n,r){var a=n.inverse;(n.orient==="vertical"?!a:a)&&r.reverse()}var PiecewiseVisualMapView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.doRender=function(){var a=this.group;a.removeAll();var o=this.visualMapModel,s=o.get("textGap"),l=o.textStyleModel,u=l.getFont(),f=l.getTextColor(),d=this._getItemAlign(),v=o.itemSize,g=this._getViewData(),y=g.endsText,b=retrieve(o.get("showLabel",!0),!y);y&&this._renderEndsText(a,y[0],v,b,d),each(g.viewPieceList,function(_){var x=_.piece,C=new Group_default;C.onclick=bind(this._onItemClick,this,x),this._enableHoverLink(C,_.indexInModelPieceList);var w=o.getRepresentValue(x);if(this._createItemSymbol(C,w,[0,0,v[0],v[1]]),b){var S=this.visualMapModel.getValueState(w);C.add(new Text_default({style:{x:d==="right"?-s:v[0]+s,y:v[1]/2,text:x.text,verticalAlign:"middle",align:d,font:u,fill:f,opacity:S==="outOfRange"?.5:1}}))}a.add(C)},this),y&&this._renderEndsText(a,y[1],v,b,d),box(o.get("orient"),a,o.get("itemGap")),this.renderBackground(a),this.positionGroup(a)},r.prototype._enableHoverLink=function(a,o){var s=this;a.on("mouseover",function(){return l("highlight")}).on("mouseout",function(){return l("downplay")});var l=function(u){var f=s.visualMapModel;f.option.hoverLink&&s.api.dispatchAction({type:u,batch:makeHighDownBatch(f.findTargetDataIndices(o),f)})}},r.prototype._getItemAlign=function(){var a=this.visualMapModel,o=a.option;if(o.orient==="vertical")return getItemAlign(a,this.api,a.itemSize);var s=o.align;return(!s||s==="auto")&&(s="left"),s},r.prototype._renderEndsText=function(a,o,s,l,u){if(!!o){var f=new Group_default,d=this.visualMapModel.textStyleModel;f.add(new Text_default({style:createTextStyle(d,{x:l?u==="right"?s[0]:0:s[0]/2,y:s[1]/2,verticalAlign:"middle",align:l?u:"center",text:o})})),a.add(f)}},r.prototype._getViewData=function(){var a=this.visualMapModel,o=map3(a.getPieceList(),function(f,d){return{piece:f,indexInModelPieceList:d}}),s=a.get("text"),l=a.get("orient"),u=a.get("inverse");return(l==="horizontal"?u:!u)?o.reverse():s&&(s=s.slice().reverse()),{viewPieceList:o,endsText:s}},r.prototype._createItemSymbol=function(a,o,s){a.add(createSymbol(this.getControllerVisual(o,"symbol"),s[0],s[1],s[2],s[3],this.getControllerVisual(o,"color")))},r.prototype._onItemClick=function(a){var o=this.visualMapModel,s=o.option,l=clone(s.selected),u=o.getSelectedMapKey(a);s.selectedMode==="single"?(l[u]=!0,each(l,function(f,d){l[d]=d===u})):l[u]=!l[u],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:l})},r.type="visualMap.piecewise",r}(VisualMapView_default),sampleLog="";sampleLog=["Valid config is like:",'{ dimension: "age", order: "asc" }','or [{ dimension: "age", order: "asc"], { dimension: "date", order: "desc" }]'].join(" ");var DatasetModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="dataset",a}return r.prototype.init=function(a,o,s){n.prototype.init.call(this,a,o,s),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},r.prototype.mergeOption=function(a,o){n.prototype.mergeOption.call(this,a,o),disableTransformOptionMerge(this)},r.prototype.optionUpdated=function(){this._sourceManager.dirty()},r.prototype.getSourceManager=function(){return this._sourceManager},r.type="dataset",r.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},r}(Component_default),DatasetView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type="dataset",a}return r.type="dataset",r}(Component_default2),LineSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.hasSymbolVisual=!0,a}return r.prototype.getInitialData=function(a){var o=a.coordinateSystem;if(o!=="polar"&&o!=="cartesian2d")throw new Error("Line not support coordinateSystem besides cartesian and polar");return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},r.prototype.getLegendIcon=function(a){var o=new Group_default,s=createSymbol("line",0,a.itemHeight/2,a.itemWidth,0,a.lineStyle.stroke,!1);o.add(s),s.setStyle(a.lineStyle);var l=this.getData().getVisual("symbol"),u=this.getData().getVisual("symbolRotate"),f=l==="none"?"circle":l,d=a.itemHeight*.8,v=createSymbol(f,(a.itemWidth-d)/2,(a.itemHeight-d)/2,d,d,a.itemStyle.fill);o.add(v),v.setStyle(a.itemStyle);var g=a.iconRotate==="inherit"?u:a.iconRotate||0;return v.rotation=g*Math.PI/180,v.setOrigin([a.itemWidth/2,a.itemHeight/2]),f.indexOf("empty")>-1&&(v.style.stroke=v.style.fill,v.style.fill="#fff",v.style.lineWidth=2),o},r.type="series.line",r.dependencies=["grid","polar"],r.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},r}(Series_default),LineSeries_default=LineSeriesModel;function prepareDataCoordInfo(n,r,a){var o=n.getBaseAxis(),s=n.getOtherAxis(o),l=getValueStart(s,a),u=o.dim,f=s.dim,d=r.mapDimension(f),v=r.mapDimension(u),g=f==="x"||f==="radius"?1:0,y=map3(n.dimensions,function(x){return r.mapDimension(x)}),b=!1,_=r.getCalculationInfo("stackResultDimension");return isDimensionStacked(r,y[0])&&(b=!0,y[0]=_),isDimensionStacked(r,y[1])&&(b=!0,y[1]=_),{dataDimsForPoint:y,valueStart:l,valueAxisDim:f,baseAxisDim:u,stacked:!!b,valueDim:d,baseDim:v,baseDataOffset:g,stackedOverDimension:r.getCalculationInfo("stackedOverDimension")}}function getValueStart(n,r){var a=0,o=n.scale.getExtent();return r==="start"?a=o[0]:r==="end"?a=o[1]:isNumber(r)&&!isNaN(r)?a=r:o[0]>0?a=o[0]:o[1]<0&&(a=o[1]),a}function getStackedOnPoint(n,r,a,o){var s=NaN;n.stacked&&(s=a.get(a.getCalculationInfo("stackedOverDimension"),o)),isNaN(s)&&(s=n.valueStart);var l=n.baseDataOffset,u=[];return u[l]=a.get(n.baseDim,o),u[1-l]=s,r.dataToPoint(u)}function diffData(n,r){var a=[];return r.diff(n).add(function(o){a.push({cmd:"+",idx:o})}).update(function(o,s){a.push({cmd:"=",idx:s,idx1:o})}).remove(function(o){a.push({cmd:"-",idx:o})}).execute(),a}function lineAnimationDiff(n,r,a,o,s,l,u,f){for(var d=diffData(n,r),v=[],g=[],y=[],b=[],_=[],x=[],C=[],w=prepareDataCoordInfo(s,r,u),S=n.getLayout("points")||[],D=r.getLayout("points")||[],A=0;A<d.length;A++){var T=d[A],M=!0,E=void 0,P=void 0;switch(T.cmd){case"=":E=T.idx*2,P=T.idx1*2;var I=S[E],F=S[E+1],L=D[P],O=D[P+1];(isNaN(I)||isNaN(F))&&(I=L,F=O),v.push(I,F),g.push(L,O),y.push(a[E],a[E+1]),b.push(o[P],o[P+1]),C.push(r.getRawIndex(T.idx1));break;case"+":var z=T.idx,R=w.dataDimsForPoint,B=s.dataToPoint([r.get(R[0],z),r.get(R[1],z)]);P=z*2,v.push(B[0],B[1]),g.push(D[P],D[P+1]);var N=getStackedOnPoint(w,s,r,z);y.push(N[0],N[1]),b.push(o[P],o[P+1]),C.push(r.getRawIndex(z));break;case"-":M=!1}M&&(_.push(T),x.push(x.length))}x.sort(function(fe,he){return C[fe]-C[he]});for(var H=v.length,W=createFloat32Array(H),V=createFloat32Array(H),G=createFloat32Array(H),Y=createFloat32Array(H),Q=[],A=0;A<x.length;A++){var q=x[A],ne=A*2,ve=q*2;W[ne]=v[ve],W[ne+1]=v[ve+1],V[ne]=g[ve],V[ne+1]=g[ve+1],G[ne]=y[ve],G[ne+1]=y[ve+1],Y[ne]=b[ve],Y[ne+1]=b[ve+1],Q[A]=_[q]}return{current:W,next:V,stackedOnCurrent:G,stackedOnNext:Y,status:Q}}var mathMin8=Math.min,mathMax8=Math.max;function isPointNull(n,r){return isNaN(n)||isNaN(r)}function drawSegment(n,r,a,o,s,l,u,f,d){for(var v,g,y,b,_,x,C=a,w=0;w<o;w++){var S=r[C*2],D=r[C*2+1];if(C>=s||C<0)break;if(isPointNull(S,D)){if(d){C+=l;continue}break}if(C===a)n[l>0?"moveTo":"lineTo"](S,D),y=S,b=D;else{var A=S-v,T=D-g;if(A*A+T*T<.5){C+=l;continue}if(u>0){for(var M=C+l,E=r[M*2],P=r[M*2+1];E===S&&P===D&&w<o;)w++,M+=l,C+=l,E=r[M*2],P=r[M*2+1],S=r[C*2],D=r[C*2+1],A=S-v,T=D-g;var I=w+1;if(d)for(;isPointNull(E,P)&&I<o;)I++,M+=l,E=r[M*2],P=r[M*2+1];var F=.5,L=0,O=0,z=void 0,R=void 0;if(I>=o||isPointNull(E,P))_=S,x=D;else{L=E-v,O=P-g;var B=S-v,N=E-S,H=D-g,W=P-D,V=void 0,G=void 0;if(f==="x"){V=Math.abs(B),G=Math.abs(N);var Y=L>0?1:-1;_=S-Y*V*u,x=D,z=S+Y*G*u,R=D}else if(f==="y"){V=Math.abs(H),G=Math.abs(W);var Q=O>0?1:-1;_=S,x=D-Q*V*u,z=S,R=D+Q*G*u}else V=Math.sqrt(B*B+H*H),G=Math.sqrt(N*N+W*W),F=G/(G+V),_=S-L*u*(1-F),x=D-O*u*(1-F),z=S+L*u*F,R=D+O*u*F,z=mathMin8(z,mathMax8(E,S)),R=mathMin8(R,mathMax8(P,D)),z=mathMax8(z,mathMin8(E,S)),R=mathMax8(R,mathMin8(P,D)),L=z-S,O=R-D,_=S-L*V/G,x=D-O*V/G,_=mathMin8(_,mathMax8(v,S)),x=mathMin8(x,mathMax8(g,D)),_=mathMax8(_,mathMin8(v,S)),x=mathMax8(x,mathMin8(g,D)),L=S-_,O=D-x,z=S+L*G/V,R=D+O*G/V}n.bezierCurveTo(y,b,_,x,S,D),y=z,b=R}else n.lineTo(S,D)}v=S,g=D,C+=l}return w}var ECPolylineShape=function(){function n(){this.smooth=0,this.smoothConstraint=!0}return n}(),ECPolyline=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o.type="ec-polyline",o}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new ECPolylineShape},r.prototype.buildPath=function(a,o){var s=o.points,l=0,u=s.length/2;if(o.connectNulls){for(;u>0&&isPointNull(s[u*2-2],s[u*2-1]);u--);for(;l<u&&isPointNull(s[l*2],s[l*2+1]);l++);}for(;l<u;)l+=drawSegment(a,s,l,u,u,1,o.smooth,o.smoothMonotone,o.connectNulls)+1},r.prototype.getPointOn=function(a,o){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s=this.path,l=s.data,u=PathProxy_default.CMD,f,d,v=o==="x",g=[],y=0;y<l.length;){var b=l[y++],_=void 0,x=void 0,C=void 0,w=void 0,S=void 0,D=void 0,A=void 0;switch(b){case u.M:f=l[y++],d=l[y++];break;case u.L:if(_=l[y++],x=l[y++],A=v?(a-f)/(_-f):(a-d)/(x-d),A<=1&&A>=0){var T=v?(x-d)*A+d:(_-f)*A+f;return v?[a,T]:[T,a]}f=_,d=x;break;case u.C:_=l[y++],x=l[y++],C=l[y++],w=l[y++],S=l[y++],D=l[y++];var M=v?cubicRootAt(f,_,C,S,a,g):cubicRootAt(d,x,w,D,a,g);if(M>0)for(var E=0;E<M;E++){var P=g[E];if(P<=1&&P>=0){var T=v?cubicAt(d,x,w,D,P):cubicAt(f,_,C,S,P);return v?[a,T]:[T,a]}}f=S,d=D;break}}},r}(Path_default),ECPolygonShape=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r}(ECPolylineShape),ECPolygon=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o.type="ec-polygon",o}return r.prototype.getDefaultShape=function(){return new ECPolygonShape},r.prototype.buildPath=function(a,o){var s=o.points,l=o.stackedOnPoints,u=0,f=s.length/2,d=o.smoothMonotone;if(o.connectNulls){for(;f>0&&isPointNull(s[f*2-2],s[f*2-1]);f--);for(;u<f&&isPointNull(s[u*2],s[u*2+1]);u++);}for(;u<f;){var v=drawSegment(a,s,u,f,f,1,o.smooth,d,o.connectNulls);drawSegment(a,l,u+v-1,v,f,-1,o.stackedOnSmooth,d,o.connectNulls),u+=v+1,a.closePath()}},r}(Path_default);function createGridClipPath(n,r,a,o,s){var l=n.getArea(),u=l.x,f=l.y,d=l.width,v=l.height,g=a.get(["lineStyle","width"])||2;u-=g/2,f-=g/2,d+=g,v+=g,u=Math.floor(u),d=Math.round(d);var y=new Rect_default({shape:{x:u,y:f,width:d,height:v}});if(r){var b=n.getBaseAxis(),_=b.isHorizontal(),x=b.inverse;_?(x&&(y.shape.x+=d),y.shape.width=0):(x||(y.shape.y+=v),y.shape.height=0);var C=isFunction3(s)?function(w){s(w,y)}:null;initProps2(y,{shape:{width:d,height:v,x:u,y:f}},a,null,o,C)}return y}function createPolarClipPath(n,r,a){var o=n.getArea(),s=round(o.r0,1),l=round(o.r,1),u=new Sector_default({shape:{cx:round(n.cx,1),cy:round(n.cy,1),r0:s,r:l,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}});if(r){var f=n.getBaseAxis().dim==="angle";f?u.shape.endAngle=o.startAngle:u.shape.r=s,initProps2(u,{shape:{endAngle:o.endAngle,r:l}},a)}return u}function createClipPath(n,r,a,o,s){if(n){if(n.type==="polar")return createPolarClipPath(n,r,a);if(n.type==="cartesian2d")return createGridClipPath(n,r,a,o,s)}else return null;return null}function isPointsSame(n,r){if(n.length===r.length){for(var a=0;a<n.length;a++)if(n[a]!==r[a])return;return!0}}function bboxFromPoints(n){for(var r=1/0,a=1/0,o=-1/0,s=-1/0,l=0;l<n.length;){var u=n[l++],f=n[l++];isNaN(u)||(r=Math.min(u,r),o=Math.max(u,o)),isNaN(f)||(a=Math.min(f,a),s=Math.max(f,s))}return[[r,a],[o,s]]}function getBoundingDiff(n,r){var a=bboxFromPoints(n),o=a[0],s=a[1],l=bboxFromPoints(r),u=l[0],f=l[1];return Math.max(Math.abs(o[0]-u[0]),Math.abs(o[1]-u[1]),Math.abs(s[0]-f[0]),Math.abs(s[1]-f[1]))}function getSmooth(n){return isNumber(n)?n:n?.5:0}function getStackedOnPoints(n,r,a){if(!a.valueDim)return[];for(var o=r.count(),s=createFloat32Array(o*2),l=0;l<o;l++){var u=getStackedOnPoint(a,n,r,l);s[l*2]=u[0],s[l*2+1]=u[1]}return s}function turnPointsIntoStep(n,r,a,o){var s=r.getBaseAxis(),l=s.dim==="x"||s.dim==="radius"?0:1,u=[],f=0,d=[],v=[],g=[],y=[];if(o){for(f=0;f<n.length;f+=2)!isNaN(n[f])&&!isNaN(n[f+1])&&y.push(n[f],n[f+1]);n=y}for(f=0;f<n.length-2;f+=2)switch(g[0]=n[f+2],g[1]=n[f+3],v[0]=n[f],v[1]=n[f+1],u.push(v[0],v[1]),a){case"end":d[l]=g[l],d[1-l]=v[1-l],u.push(d[0],d[1]);break;case"middle":var b=(v[l]+g[l])/2,_=[];d[l]=_[l]=b,d[1-l]=v[1-l],_[1-l]=g[1-l],u.push(d[0],d[1]),u.push(_[0],_[1]);break;default:d[l]=v[l],d[1-l]=g[1-l],u.push(d[0],d[1])}return u.push(n[f++],n[f++]),u}function clipColorStops(n,r){var a=[],o=n.length,s,l;function u(g,y,b){var _=g.coord,x=(b-_)/(y.coord-_),C=lerp2(x,[g.color,y.color]);return{coord:b,color:C}}for(var f=0;f<o;f++){var d=n[f],v=d.coord;if(v<0)s=d;else if(v>r){l?a.push(u(l,d,r)):s&&a.push(u(s,d,0),u(s,d,r));break}else s&&(a.push(u(s,d,0)),s=null),a.push(d),l=d}return a}function getVisualGradient(n,r,a){var o=n.getVisual("visualMeta");if(!(!o||!o.length||!n.count())){if(r.type!=="cartesian2d"){console.warn("Visual map on line style is only supported on cartesian2d.");return}for(var s,l,u=o.length-1;u>=0;u--){var f=n.getDimensionInfo(o[u].dimension);if(s=f&&f.coordDim,s==="x"||s==="y"){l=o[u];break}}if(!l){console.warn("Visual map on line style only support x or y dimension.");return}var d=r.getAxis(s),v=map3(l.stops,function(A){return{coord:d.toGlobalCoord(d.dataToCoord(A.value)),color:A.color}}),g=v.length,y=l.outerColors.slice();g&&v[0].coord>v[g-1].coord&&(v.reverse(),y.reverse());var b=clipColorStops(v,s==="x"?a.getWidth():a.getHeight()),_=b.length;if(!_&&g)return v[0].coord<0?y[1]?y[1]:v[g-1].color:y[0]?y[0]:v[0].color;var x=10,C=b[0].coord-x,w=b[_-1].coord+x,S=w-C;if(S<.001)return"transparent";each(b,function(A){A.offset=(A.coord-C)/S}),b.push({offset:_?b[_-1].offset:.5,color:y[1]||"transparent"}),b.unshift({offset:_?b[0].offset:.5,color:y[0]||"transparent"});var D=new LinearGradient_default(0,0,0,0,b,!0);return D[s]=C,D[s+"2"]=w,D}}function getIsIgnoreFunc(n,r,a){var o=n.get("showAllSymbol"),s=o==="auto";if(!(o&&!s)){var l=a.getAxesByScale("ordinal")[0];if(!!l&&!(s&&canShowAllSymbolForCategory(l,r))){var u=r.mapDimension(l.dim),f={};return each(l.getViewLabels(),function(d){var v=l.scale.getRawOrdinalNumber(d.tickValue);f[v]=1}),function(d){return!f.hasOwnProperty(r.get(u,d))}}}}function canShowAllSymbolForCategory(n,r){var a=n.getExtent(),o=Math.abs(a[1]-a[0])/n.scale.count();isNaN(o)&&(o=0);for(var s=r.count(),l=Math.max(1,Math.round(s/5)),u=0;u<s;u+=l)if(Symbol_default2.getSymbolSize(r,u)[n.isHorizontal()?1:0]*1.5>o)return!1;return!0}function isPointNull2(n,r){return isNaN(n)||isNaN(r)}function getLastIndexNotNull(n){for(var r=n.length/2;r>0&&isPointNull2(n[r*2-2],n[r*2-1]);r--);return r-1}function getPointAtIndex(n,r){return[n[r*2],n[r*2+1]]}function getIndexRange(n,r,a){for(var o=n.length/2,s=a==="x"?0:1,l,u,f=0,d=-1,v=0;v<o;v++)if(u=n[v*2+s],!(isNaN(u)||isNaN(n[v*2+1-s]))){if(v===0){l=u;continue}if(l<=r&&u>=r||l>=r&&u<=r){d=v;break}f=v,l=u}return{range:[f,d],t:(r-l)/(u-l)}}function anyStateShowEndLabel(n){if(n.get(["endLabel","show"]))return!0;for(var r=0;r<SPECIAL_STATES.length;r++)if(n.get([SPECIAL_STATES[r],"endLabel","show"]))return!0;return!1}function createLineClipPath(n,r,a,o){if(isCoordinateSystemType(r,"cartesian2d")){var s=o.getModel("endLabel"),l=s.get("valueAnimation"),u=o.getData(),f={lastFrameIndex:0},d=anyStateShowEndLabel(o)?function(_,x){n._endLabelOnDuring(_,x,u,f,l,s,r)}:null,v=r.getBaseAxis().isHorizontal(),g=createGridClipPath(r,a,o,function(){var _=n._endLabel;_&&a&&f.originalX!=null&&_.attr({x:f.originalX,y:f.originalY})},d);if(!o.get("clip",!0)){var y=g.shape,b=Math.max(y.width,y.height);v?(y.y-=b,y.height+=b*2):(y.x-=b,y.width+=b*2)}return d&&d(1,g),g}else return o.get(["endLabel","show"])&&console.warn("endLabel is not supported for lines in polar systems."),createPolarClipPath(r,a,o)}function getEndLabelStateSpecified(n,r){var a=r.getBaseAxis(),o=a.isHorizontal(),s=a.inverse,l=o?s?"right":"left":"center",u=o?"middle":s?"top":"bottom";return{normal:{align:n.get("align")||l,verticalAlign:n.get("verticalAlign")||u}}}var LineView=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.init=function(){var a=new Group_default,o=new SymbolDraw_default;this.group.add(o.group),this._symbolDraw=o,this._lineGroup=a},r.prototype.render=function(a,o,s){var l=this,u=a.coordinateSystem,f=this.group,d=a.getData(),v=a.getModel("lineStyle"),g=a.getModel("areaStyle"),y=d.getLayout("points")||[],b=u.type==="polar",_=this._coordSys,x=this._symbolDraw,C=this._polyline,w=this._polygon,S=this._lineGroup,D=a.get("animation"),A=!g.isEmpty(),T=g.get("origin"),M=prepareDataCoordInfo(u,d,T),E=A&&getStackedOnPoints(u,d,M),P=a.get("showSymbol"),I=a.get("connectNulls"),F=P&&!b&&getIsIgnoreFunc(a,d,u),L=this._data;L&&L.eachItemGraphicEl(function(he,pe){he.__temp&&(f.remove(he),L.setItemGraphicEl(pe,null))}),P||x.remove(),f.add(S);var O=b?!1:a.get("step"),z;u&&u.getArea&&a.get("clip",!0)&&(z=u.getArea(),z.width!=null?(z.x-=.1,z.y-=.1,z.width+=.2,z.height+=.2):z.r0&&(z.r0-=.5,z.r+=.5)),this._clipShapeForSymbol=z;var R=getVisualGradient(d,u,s)||d.getVisual("style")[d.getVisual("drawType")];if(!(C&&_.type===u.type&&O===this._step))P&&x.updateData(d,{isIgnore:F,clipShape:z,disableAnimation:!0,getSymbolPoint:function(he){return[y[he*2],y[he*2+1]]}}),D&&this._initSymbolLabelAnimation(d,u,z),O&&(y=turnPointsIntoStep(y,u,O,I),E&&(E=turnPointsIntoStep(E,u,O,I))),C=this._newPolyline(y),A&&(w=this._newPolygon(y,E)),b||this._initOrUpdateEndLabel(a,u,convertToColorString(R)),S.setClipPath(createLineClipPath(this,u,!0,a));else{A&&!w?w=this._newPolygon(y,E):w&&!A&&(S.remove(w),w=this._polygon=null),b||this._initOrUpdateEndLabel(a,u,convertToColorString(R));var B=S.getClipPath();if(B){var N=createLineClipPath(this,u,!1,a);initProps2(B,{shape:N.shape},a)}else S.setClipPath(createLineClipPath(this,u,!0,a));P&&x.updateData(d,{isIgnore:F,clipShape:z,disableAnimation:!0,getSymbolPoint:function(he){return[y[he*2],y[he*2+1]]}}),(!isPointsSame(this._stackedOnPoints,E)||!isPointsSame(this._points,y))&&(D?this._doUpdateAnimation(d,E,u,s,O,T,I):(O&&(y=turnPointsIntoStep(y,u,O,I),E&&(E=turnPointsIntoStep(E,u,O,I))),C.setShape({points:y}),w&&w.setShape({points:y,stackedOnPoints:E})))}var H=a.getModel("emphasis"),W=H.get("focus"),V=H.get("blurScope"),G=H.get("disabled");if(C.useStyle(defaults(v.getLineStyle(),{fill:"none",stroke:R,lineJoin:"bevel"})),setStatesStylesFromModel(C,a,"lineStyle"),C.style.lineWidth>0&&a.get(["emphasis","lineStyle","width"])==="bolder"){var Y=C.getState("emphasis").style;Y.lineWidth=+C.style.lineWidth+1}getECData(C).seriesIndex=a.seriesIndex,toggleHoverEmphasis(C,W,V,G);var Q=getSmooth(a.get("smooth")),q=a.get("smoothMonotone");if(C.setShape({smooth:Q,smoothMonotone:q,connectNulls:I}),w){var ne=d.getCalculationInfo("stackedOnSeries"),ve=0;w.useStyle(defaults(g.getAreaStyle(),{fill:R,opacity:.7,lineJoin:"bevel",decal:d.getVisual("style").decal})),ne&&(ve=getSmooth(ne.get("smooth"))),w.setShape({smooth:Q,stackedOnSmooth:ve,smoothMonotone:q,connectNulls:I}),setStatesStylesFromModel(w,a,"areaStyle"),getECData(w).seriesIndex=a.seriesIndex,toggleHoverEmphasis(w,W,V,G)}var fe=function(he){l._changePolyState(he)};d.eachItemGraphicEl(function(he){he&&(he.onHoverStateChange=fe)}),this._polyline.onHoverStateChange=fe,this._data=d,this._coordSys=u,this._stackedOnPoints=E,this._points=y,this._step=O,this._valueOrigin=T,a.get("triggerLineEvent")&&(this.packEventData(a,C),w&&this.packEventData(a,w))},r.prototype.packEventData=function(a,o){getECData(o).eventData={componentType:"series",componentSubType:"line",componentIndex:a.componentIndex,seriesIndex:a.seriesIndex,seriesName:a.name,seriesType:"line"}},r.prototype.highlight=function(a,o,s,l){var u=a.getData(),f=queryDataIndex(u,l);if(this._changePolyState("emphasis"),!(f instanceof Array)&&f!=null&&f>=0){var d=u.getLayout("points"),v=u.getItemGraphicEl(f);if(!v){var g=d[f*2],y=d[f*2+1];if(isNaN(g)||isNaN(y)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,y))return;var b=a.get("zlevel"),_=a.get("z");v=new Symbol_default2(u,f),v.x=g,v.y=y,v.setZ(b,_);var x=v.getSymbolPath().getTextContent();x&&(x.zlevel=b,x.z=_,x.z2=this._polyline.z2+1),v.__temp=!0,u.setItemGraphicEl(f,v),v.stopSymbolAnimation(!0),this.group.add(v)}v.highlight()}else Chart_default.prototype.highlight.call(this,a,o,s,l)},r.prototype.downplay=function(a,o,s,l){var u=a.getData(),f=queryDataIndex(u,l);if(this._changePolyState("normal"),f!=null&&f>=0){var d=u.getItemGraphicEl(f);d&&(d.__temp?(u.setItemGraphicEl(f,null),this.group.remove(d)):d.downplay())}else Chart_default.prototype.downplay.call(this,a,o,s,l)},r.prototype._changePolyState=function(a){var o=this._polygon;setStatesFlag(this._polyline,a),o&&setStatesFlag(o,a)},r.prototype._newPolyline=function(a){var o=this._polyline;return o&&this._lineGroup.remove(o),o=new ECPolyline({shape:{points:a},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(o),this._polyline=o,o},r.prototype._newPolygon=function(a,o){var s=this._polygon;return s&&this._lineGroup.remove(s),s=new ECPolygon({shape:{points:a,stackedOnPoints:o},segmentIgnoreThreshold:2}),this._lineGroup.add(s),this._polygon=s,s},r.prototype._initSymbolLabelAnimation=function(a,o,s){var l,u,f=o.getBaseAxis(),d=f.inverse;o.type==="cartesian2d"?(l=f.isHorizontal(),u=!1):o.type==="polar"&&(l=f.dim==="angle",u=!0);var v=a.hostModel,g=v.get("animationDuration");isFunction3(g)&&(g=g(null));var y=v.get("animationDelay")||0,b=isFunction3(y)?y(null):y;a.eachItemGraphicEl(function(_,x){var C=_;if(C){var w=[_.x,_.y],S=void 0,D=void 0,A=void 0;if(s)if(u){var T=s,M=o.pointToCoord(w);l?(S=T.startAngle,D=T.endAngle,A=-M[1]/180*Math.PI):(S=T.r0,D=T.r,A=M[0])}else{var E=s;l?(S=E.x,D=E.x+E.width,A=_.x):(S=E.y+E.height,D=E.y,A=_.y)}var P=D===S?0:(A-S)/(D-S);d&&(P=1-P);var I=isFunction3(y)?y(x):g*P+b,F=C.getSymbolPath(),L=F.getTextContent();C.attr({scaleX:0,scaleY:0}),C.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:I}),L&&L.animateFrom({style:{opacity:0}},{duration:300,delay:I}),F.disableLabelAnimation=!0}})},r.prototype._initOrUpdateEndLabel=function(a,o,s){var l=a.getModel("endLabel");if(anyStateShowEndLabel(a)){var u=a.getData(),f=this._polyline,d=u.getLayout("points");if(!d){f.removeTextContent(),this._endLabel=null;return}var v=this._endLabel;v||(v=this._endLabel=new Text_default({z2:200}),v.ignoreClip=!0,f.setTextContent(this._endLabel),f.disableLabelAnimation=!0);var g=getLastIndexNotNull(d);g>=0&&(setLabelStyle(f,getLabelStatesModels(a,"endLabel"),{inheritColor:s,labelFetcher:a,labelDataIndex:g,defaultText:function(y,b,_){return _!=null?getDefaultInterpolatedLabel(u,_):getDefaultLabel(u,y)},enableTextSetter:!0},getEndLabelStateSpecified(l,o)),f.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},r.prototype._endLabelOnDuring=function(a,o,s,l,u,f,d){var v=this._endLabel,g=this._polyline;if(v){a<1&&l.originalX==null&&(l.originalX=v.x,l.originalY=v.y);var y=s.getLayout("points"),b=s.hostModel,_=b.get("connectNulls"),x=f.get("precision"),C=f.get("distance")||0,w=d.getBaseAxis(),S=w.isHorizontal(),D=w.inverse,A=o.shape,T=D?S?A.x:A.y+A.height:S?A.x+A.width:A.y,M=(S?C:0)*(D?-1:1),E=(S?0:-C)*(D?-1:1),P=S?"x":"y",I=getIndexRange(y,T,P),F=I.range,L=F[1]-F[0],O=void 0;if(L>=1){if(L>1&&!_){var z=getPointAtIndex(y,F[0]);v.attr({x:z[0]+M,y:z[1]+E}),u&&(O=b.getRawValue(F[0]))}else{var z=g.getPointOn(T,P);z&&v.attr({x:z[0]+M,y:z[1]+E});var R=b.getRawValue(F[0]),B=b.getRawValue(F[1]);u&&(O=interpolateRawValues(s,x,R,B,I.t))}l.lastFrameIndex=F[0]}else{var N=a===1||l.lastFrameIndex>0?F[0]:0,z=getPointAtIndex(y,N);u&&(O=b.getRawValue(N)),v.attr({x:z[0]+M,y:z[1]+E})}u&&labelInner(v).setLabelText(O)}},r.prototype._doUpdateAnimation=function(a,o,s,l,u,f,d){var v=this._polyline,g=this._polygon,y=a.hostModel,b=lineAnimationDiff(this._data,a,this._stackedOnPoints,o,this._coordSys,s,this._valueOrigin,f),_=b.current,x=b.stackedOnCurrent,C=b.next,w=b.stackedOnNext;if(u&&(_=turnPointsIntoStep(b.current,s,u,d),x=turnPointsIntoStep(b.stackedOnCurrent,s,u,d),C=turnPointsIntoStep(b.next,s,u,d),w=turnPointsIntoStep(b.stackedOnNext,s,u,d)),getBoundingDiff(_,C)>3e3||g&&getBoundingDiff(x,w)>3e3){v.stopAnimation(),v.setShape({points:C}),g&&(g.stopAnimation(),g.setShape({points:C,stackedOnPoints:w}));return}v.shape.__points=b.current,v.shape.points=_;var S={shape:{points:C}};b.current!==_&&(S.shape.__points=b.next),v.stopAnimation(),updateProps2(v,S,y),g&&(g.setShape({points:_,stackedOnPoints:x}),g.stopAnimation(),updateProps2(g,{shape:{stackedOnPoints:w}},y),v.shape.points!==g.shape.points&&(g.shape.points=v.shape.points));for(var D=[],A=b.status,T=0;T<A.length;T++){var M=A[T].cmd;if(M==="="){var E=a.getItemGraphicEl(A[T].idx1);E&&D.push({el:E,ptIdx:T})}}v.animators&&v.animators.length&&v.animators[0].during(function(){g&&g.dirtyShape();for(var P=v.shape.__points,I=0;I<D.length;I++){var F=D[I].el,L=D[I].ptIdx*2;F.x=P[L],F.y=P[L+1],F.markRedraw()}})},r.prototype.remove=function(a){var o=this.group,s=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),s&&s.eachItemGraphicEl(function(l,u){l.__temp&&(o.remove(l),s.setItemGraphicEl(u,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},r.type="line",r}(Chart_default),LineView_default=LineView;function pointsLayout(n,r){return{seriesType:n,plan:createRenderPlanner(),reset:function(a){var o=a.getData(),s=a.coordinateSystem,l=a.pipelineContext,u=r||l.large;if(!!s){var f=map3(s.dimensions,function(_){return o.mapDimension(_)}).slice(0,2),d=f.length,v=o.getCalculationInfo("stackResultDimension");isDimensionStacked(o,f[0])&&(f[0]=v),isDimensionStacked(o,f[1])&&(f[1]=v);var g=o.getStore(),y=o.getDimensionIndex(f[0]),b=o.getDimensionIndex(f[1]);return d&&{progress:function(_,x){for(var C=_.end-_.start,w=u&&createFloat32Array(C*d),S=[],D=[],A=_.start,T=0;A<_.end;A++){var M=void 0;if(d===1){var E=g.get(y,A);M=s.dataToPoint(E,null,D)}else S[0]=g.get(y,A),S[1]=g.get(b,A),M=s.dataToPoint(S,null,D);u?(w[T++]=M[0],w[T++]=M[1]):x.setItemLayout(A,M.slice())}u&&x.setLayout("points",w)}}}}}}var samplers={average:function(n){for(var r=0,a=0,o=0;o<n.length;o++)isNaN(n[o])||(r+=n[o],a++);return a===0?NaN:r/a},sum:function(n){for(var r=0,a=0;a<n.length;a++)r+=n[a]||0;return r},max:function(n){for(var r=-1/0,a=0;a<n.length;a++)n[a]>r&&(r=n[a]);return isFinite(r)?r:NaN},min:function(n){for(var r=1/0,a=0;a<n.length;a++)n[a]<r&&(r=n[a]);return isFinite(r)?r:NaN},nearest:function(n){return n[0]}},indexSampler=function(n){return Math.round(n.length/2)};function dataSample(n){return{seriesType:n,reset:function(r,a,o){var s=r.getData(),l=r.get("sampling"),u=r.coordinateSystem,f=s.count();if(f>10&&u.type==="cartesian2d"&&l){var d=u.getBaseAxis(),v=u.getOtherAxis(d),g=d.getExtent(),y=o.getDevicePixelRatio(),b=Math.abs(g[1]-g[0])*(y||1),_=Math.round(f/b);if(isFinite(_)&&_>1){l==="lttb"&&r.setData(s.lttbDownSample(s.mapDimension(v.dim),1/_));var x=void 0;isString2(l)?x=samplers[l]:isFunction3(l)&&(x=l),x&&r.setData(s.downSample(s.mapDimension(v.dim),1/_,x,indexSampler))}}}}}function install32(n){n.registerChartView(LineView_default),n.registerSeriesModel(LineSeries_default),n.registerLayout(pointsLayout("line",!0)),n.registerVisual({seriesType:"line",reset:function(r){var a=r.getData(),o=r.getModel("lineStyle").getLineStyle();o&&!o.stroke&&(o.stroke=a.getVisual("style").fill),a.setVisual("legendLineStyle",o)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},r.prototype.getMarkerPosition=function(a){var o=this.coordinateSystem;if(o&&o.clampData){var s=o.dataToPoint(o.clampData(a)),l=this.getData(),u=l.getLayout("offset"),f=l.getLayout("size"),d=o.getBaseAxis().isHorizontal()?0:1;return s[d]+=u+f/2,s}return[NaN,NaN]},r.type="series.__base_bar__",r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},r}(Series_default);Series_default.registerClass(BaseBarSeriesModel);var BaseBarSeries_default=BaseBarSeriesModel,BarSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.getInitialData=function(){return createSeriesData_default(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},r.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},r.prototype.getProgressiveThreshold=function(){var a=this.get("progressiveThreshold"),o=this.get("largeThreshold");return o>a&&(a=o),a},r.prototype.brushSelector=function(a,o,s){return s.rect(o.getItemLayout(a))},r.type="series.bar",r.dependencies=["grid","polar"],r.defaultOption=inheritDefaultOption(BaseBarSeries_default.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),r}(BaseBarSeries_default),SausageShape=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),SausagePath=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o.type="sausage",o}return r.prototype.getDefaultShape=function(){return new SausageShape},r.prototype.buildPath=function(a,o){var s=o.cx,l=o.cy,u=Math.max(o.r0||0,0),f=Math.max(o.r,0),d=(f-u)*.5,v=u+d,g=o.startAngle,y=o.endAngle,b=o.clockwise,_=Math.PI*2,x=b?y-g<_:g-y<_;x||(g=y-(b?_:-_));var C=Math.cos(g),w=Math.sin(g),S=Math.cos(y),D=Math.sin(y);x?(a.moveTo(C*u+s,w*u+l),a.arc(C*v+s,w*v+l,d,-Math.PI+g,g,!b)):a.moveTo(C*f+s,w*f+l),a.arc(s,l,f,g,y,!b),a.arc(S*v+s,D*v+l,d,y-Math.PI*2,y-Math.PI,!b),u!==0&&a.arc(s,l,u,y,g,b)},r}(Path_default),sausage_default=SausagePath;function createSectorCalculateTextPosition(n,r){r=r||{};var a=r.isRoundCap;return function(o,s,l){var u=s.position;if(!u||u instanceof Array)return calculateTextPosition(o,s,l);var f=n(u),d=s.distance!=null?s.distance:5,v=this.shape,g=v.cx,y=v.cy,b=v.r,_=v.r0,x=(b+_)/2,C=v.startAngle,w=v.endAngle,S=(C+w)/2,D=a?Math.abs(b-_)/2:0,A=Math.cos,T=Math.sin,M=g+b*A(C),E=y+b*T(C),P="left",I="top";switch(f){case"startArc":M=g+(_-d)*A(S),E=y+(_-d)*T(S),P="center",I="top";break;case"insideStartArc":M=g+(_+d)*A(S),E=y+(_+d)*T(S),P="center",I="bottom";break;case"startAngle":M=g+x*A(C)+adjustAngleDistanceX(C,d+D,!1),E=y+x*T(C)+adjustAngleDistanceY(C,d+D,!1),P="right",I="middle";break;case"insideStartAngle":M=g+x*A(C)+adjustAngleDistanceX(C,-d+D,!1),E=y+x*T(C)+adjustAngleDistanceY(C,-d+D,!1),P="left",I="middle";break;case"middle":M=g+x*A(S),E=y+x*T(S),P="center",I="middle";break;case"endArc":M=g+(b+d)*A(S),E=y+(b+d)*T(S),P="center",I="bottom";break;case"insideEndArc":M=g+(b-d)*A(S),E=y+(b-d)*T(S),P="center",I="top";break;case"endAngle":M=g+x*A(w)+adjustAngleDistanceX(w,d+D,!0),E=y+x*T(w)+adjustAngleDistanceY(w,d+D,!0),P="left",I="middle";break;case"insideEndAngle":M=g+x*A(w)+adjustAngleDistanceX(w,-d+D,!0),E=y+x*T(w)+adjustAngleDistanceY(w,-d+D,!0),P="right",I="middle";break;default:return calculateTextPosition(o,s,l)}return o=o||{},o.x=M,o.y=E,o.align=P,o.verticalAlign=I,o}}function setSectorTextRotation(n,r,a,o){if(isNumber(o)){n.setTextConfig({rotation:o});return}else if(isArray3(r)){n.setTextConfig({rotation:0});return}var s=n.shape,l=s.clockwise?s.startAngle:s.endAngle,u=s.clockwise?s.endAngle:s.startAngle,f=(l+u)/2,d,v=a(r);switch(v){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":d=f;break;case"startAngle":case"insideStartAngle":d=l;break;case"endAngle":case"insideEndAngle":d=u;break;default:n.setTextConfig({rotation:0});return}var g=Math.PI*1.5-d;v==="middle"&&g>Math.PI/2&&g<Math.PI*1.5&&(g-=Math.PI),n.setTextConfig({rotation:g})}function adjustAngleDistanceX(n,r,a){return r*Math.sin(n)*(a?-1:1)}function adjustAngleDistanceY(n,r,a){return r*Math.cos(n)*(a?1:-1)}var mathMax9=Math.max,mathMin9=Math.min;function getClipArea(n,r){var a=n.getArea&&n.getArea();if(isCoordinateSystemType(n,"cartesian2d")){var o=n.getBaseAxis();if(o.type!=="category"||!o.onBand){var s=r.getLayout("bandWidth");o.isHorizontal()?(a.x-=s,a.width+=s*2):(a.y-=s,a.height+=s*2)}}return a}var BarView=function(n){__extends(r,n);function r(){var a=n.call(this)||this;return a.type=r.type,a._isFirstFrame=!0,a}return r.prototype.render=function(a,o,s,l){this._model=a,this._removeOnRenderedListener(s),this._updateDrawMode(a);var u=a.get("coordinateSystem");u==="cartesian2d"||u==="polar"?(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(a,o,s):this._renderNormal(a,o,s,l)):warn6("Only cartesian2d and polar supported for bar.")},r.prototype.incrementalPrepareRender=function(a){this._clear(),this._updateDrawMode(a),this._updateLargeClip(a)},r.prototype.incrementalRender=function(a,o){this._progressiveEls=[],this._incrementalRenderLarge(a,o)},r.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},r.prototype._updateDrawMode=function(a){var o=a.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},r.prototype._renderNormal=function(a,o,s,l){var u=this.group,f=a.getData(),d=this._data,v=a.coordinateSystem,g=v.getBaseAxis(),y;v.type==="cartesian2d"?y=g.isHorizontal():v.type==="polar"&&(y=g.dim==="angle");var b=a.isAnimationEnabled()?a:null,_=shouldRealtimeSort(a,v);_&&this._enableRealtimeSort(_,f,s);var x=a.get("clip",!0)||_,C=getClipArea(v,f);u.removeClipPath();var w=a.get("roundCap",!0),S=a.get("showBackground",!0),D=a.getModel("backgroundStyle"),A=D.get("borderRadius")||0,T=[],M=this._backgroundEls,E=l&&l.isInitSort,P=l&&l.type==="changeAxisOrder";function I(O){var z=getLayout[v.type](f,O),R=createBackgroundEl(v,y,z);return R.useStyle(D.getItemStyle()),v.type==="cartesian2d"&&R.setShape("r",A),T[O]=R,R}f.diff(d).add(function(O){var z=f.getItemModel(O),R=getLayout[v.type](f,O,z);if(S&&I(O),!(!f.hasValue(O)||!isValidLayout[v.type](R))){var B=!1;x&&(B=clip[v.type](C,R));var N=elementCreator[v.type](a,f,O,R,y,b,g.model,!1,w);_&&(N.forceLabelAnimation=!0),updateStyle(N,f,O,z,R,a,y,v.type==="polar"),E?N.attr({shape:R}):_?updateRealtimeAnimation(_,b,N,R,O,y,!1,!1):initProps2(N,{shape:R},a,O),f.setItemGraphicEl(O,N),u.add(N),N.ignore=B}}).update(function(O,z){var R=f.getItemModel(O),B=getLayout[v.type](f,O,R);if(S){var N=void 0;M.length===0?N=I(z):(N=M[z],N.useStyle(D.getItemStyle()),v.type==="cartesian2d"&&N.setShape("r",A),T[O]=N);var H=getLayout[v.type](f,O),W=createBackgroundShape(y,H,v);updateProps2(N,{shape:W},b,O)}var V=d.getItemGraphicEl(z);if(!f.hasValue(O)||!isValidLayout[v.type](B)){u.remove(V);return}var G=!1;if(x&&(G=clip[v.type](C,B),G&&u.remove(V)),V?saveOldStyle(V):V=elementCreator[v.type](a,f,O,B,y,b,g.model,!!V,w),_&&(V.forceLabelAnimation=!0),P){var Y=V.getTextContent();if(Y){var Q=labelInner(Y);Q.prevValue!=null&&(Q.prevValue=Q.value)}}else updateStyle(V,f,O,R,B,a,y,v.type==="polar");E?V.attr({shape:B}):_?updateRealtimeAnimation(_,b,V,B,O,y,!0,P):updateProps2(V,{shape:B},a,O,null),f.setItemGraphicEl(O,V),V.ignore=G,u.add(V)}).remove(function(O){var z=d.getItemGraphicEl(O);z&&removeElementWithFadeOut(z,a,O)}).execute();var F=this._backgroundGroup||(this._backgroundGroup=new Group_default);F.removeAll();for(var L=0;L<T.length;++L)F.add(T[L]);u.add(F),this._backgroundEls=T,this._data=f},r.prototype._renderLarge=function(a,o,s){this._clear(),createLarge(a,this.group),this._updateLargeClip(a)},r.prototype._incrementalRenderLarge=function(a,o){this._removeBackground(),createLarge(o,this.group,this._progressiveEls,!0)},r.prototype._updateLargeClip=function(a){var o=a.get("clip",!0)&&createClipPath(a.coordinateSystem,!1,a),s=this.group;o?s.setClipPath(o):s.removeClipPath()},r.prototype._enableRealtimeSort=function(a,o,s){var l=this;if(!!o.count()){var u=a.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(o,a,s),this._isFirstFrame=!1;else{var f=function(d){var v=o.getItemGraphicEl(d),g=v&&v.shape;return g&&Math.abs(u.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){l._updateSortWithinSameData(o,f,u,s)},s.getZr().on("rendered",this._onRendered)}}},r.prototype._dataSort=function(a,o,s){var l=[];return a.each(a.mapDimension(o.dim),function(u,f){var d=s(f);d=d==null?NaN:d,l.push({dataIndex:f,mappedValue:d,ordinalNumber:u})}),l.sort(function(u,f){return f.mappedValue-u.mappedValue}),{ordinalNumbers:map3(l,function(u){return u.ordinalNumber})}},r.prototype._isOrderChangedWithinSameData=function(a,o,s){for(var l=s.scale,u=a.mapDimension(s.dim),f=Number.MAX_VALUE,d=0,v=l.getOrdinalMeta().categories.length;d<v;++d){var g=a.rawIndexOf(u,l.getRawOrdinalNumber(d)),y=g<0?Number.MIN_VALUE:o(a.indexOfRawIndex(g));if(y>f)return!0;f=y}return!1},r.prototype._isOrderDifferentInView=function(a,o){for(var s=o.scale,l=s.getExtent(),u=Math.max(0,l[0]),f=Math.min(l[1],s.getOrdinalMeta().categories.length-1);u<=f;++u)if(a.ordinalNumbers[u]!==s.getRawOrdinalNumber(u))return!0},r.prototype._updateSortWithinSameData=function(a,o,s,l){if(!!this._isOrderChangedWithinSameData(a,o,s)){var u=this._dataSort(a,s,o);this._isOrderDifferentInView(u,s)&&(this._removeOnRenderedListener(l),l.dispatchAction({type:"changeAxisOrder",componentType:s.dim+"Axis",axisId:s.index,sortInfo:u}))}},r.prototype._dispatchInitSort=function(a,o,s){var l=o.baseAxis,u=this._dataSort(a,l,function(f){return a.get(a.mapDimension(o.otherAxis.dim),f)});s.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",isInitSort:!0,axisId:l.index,sortInfo:u})},r.prototype.remove=function(a,o){this._clear(this._model),this._removeOnRenderedListener(o)},r.prototype.dispose=function(a,o){this._removeOnRenderedListener(o)},r.prototype._removeOnRenderedListener=function(a){this._onRendered&&(a.getZr().off("rendered",this._onRendered),this._onRendered=null)},r.prototype._clear=function(a){var o=this.group,s=this._data;a&&a.isAnimationEnabled()&&s&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],s.eachItemGraphicEl(function(l){removeElementWithFadeOut(l,a,getECData(l).dataIndex)})):o.removeAll(),this._data=null,this._isFirstFrame=!0},r.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},r.type="bar",r}(Chart_default),clip={cartesian2d:function(n,r){var a=r.width<0?-1:1,o=r.height<0?-1:1;a<0&&(r.x+=r.width,r.width=-r.width),o<0&&(r.y+=r.height,r.height=-r.height);var s=n.x+n.width,l=n.y+n.height,u=mathMax9(r.x,n.x),f=mathMin9(r.x+r.width,s),d=mathMax9(r.y,n.y),v=mathMin9(r.y+r.height,l),g=f<u,y=v<d;return r.x=g&&u>s?f:u,r.y=y&&d>l?v:d,r.width=g?0:f-u,r.height=y?0:v-d,a<0&&(r.x+=r.width,r.width=-r.width),o<0&&(r.y+=r.height,r.height=-r.height),g||y},polar:function(n,r){var a=r.r0<=r.r?1:-1;if(a<0){var o=r.r;r.r=r.r0,r.r0=o}var s=mathMin9(r.r,n.r),l=mathMax9(r.r0,n.r0);r.r=s,r.r0=l;var u=s-l<0;if(a<0){var o=r.r;r.r=r.r0,r.r0=o}return u}},elementCreator={cartesian2d:function(n,r,a,o,s,l,u,f,d){var v=new Rect_default({shape:extend3({},o),z2:1});if(v.__dataIndex=a,v.name="item",l){var g=v.shape,y=s?"height":"width";g[y]=0}return v},polar:function(n,r,a,o,s,l,u,f,d){var v=!s&&d?sausage_default:Sector_default,g=new v({shape:o,z2:1});g.name="item";var y=createPolarPositionMapping(s);if(g.calculateTextPosition=createSectorCalculateTextPosition(y,{isRoundCap:v===sausage_default}),l){var b=g.shape,_=s?"r":"endAngle",x={};b[_]=s?0:o.startAngle,x[_]=o[_],(f?updateProps2:initProps2)(g,{shape:x},l)}return g}};function shouldRealtimeSort(n,r){var a=n.get("realtimeSort",!0),o=r.getBaseAxis();if(a&&(o.type!=="category"&&warn6("`realtimeSort` will not work because this bar series is not based on a category axis."),r.type!=="cartesian2d"&&warn6("`realtimeSort` will not work because this bar series is not on cartesian2d.")),a&&o.type==="category"&&r.type==="cartesian2d")return{baseAxis:o,otherAxis:r.getOtherAxis(o)}}function updateRealtimeAnimation(n,r,a,o,s,l,u,f){var d,v;l?(v={x:o.x,width:o.width},d={y:o.y,height:o.height}):(v={y:o.y,height:o.height},d={x:o.x,width:o.width}),f||(u?updateProps2:initProps2)(a,{shape:d},r,s,null);var g=r?n.baseAxis.model:null;(u?updateProps2:initProps2)(a,{shape:v},g,s)}function checkPropertiesNotValid(n,r){for(var a=0;a<r.length;a++)if(!isFinite(n[r[a]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(n){return!checkPropertiesNotValid(n,rectPropties)},polar:function(n){return!checkPropertiesNotValid(n,polarPropties)}},getLayout={cartesian2d:function(n,r,a){var o=n.getItemLayout(r),s=a?getLineWidth(a,o):0,l=o.width>0?1:-1,u=o.height>0?1:-1;return{x:o.x+l*s/2,y:o.y+u*s/2,width:o.width-l*s,height:o.height-u*s}},polar:function(n,r,a){var o=n.getItemLayout(r);return{cx:o.cx,cy:o.cy,r0:o.r0,r:o.r,startAngle:o.startAngle,endAngle:o.endAngle,clockwise:o.clockwise}}};function isZeroOnPolar(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function createPolarPositionMapping(n){return function(r){var a=r?"Arc":"Angle";return function(o){switch(o){case"start":case"insideStart":case"end":case"insideEnd":return o+a;default:return o}}}(n)}function updateStyle(n,r,a,o,s,l,u,f){var d=r.getItemVisual(a,"style");f||n.setShape("r",o.get(["itemStyle","borderRadius"])||0),n.useStyle(d);var v=o.getShallow("cursor");v&&n.attr("cursor",v);var g=f?u?s.r>=s.r0?"endArc":"startArc":s.endAngle>=s.startAngle?"endAngle":"startAngle":u?s.height>=0?"bottom":"top":s.width>=0?"right":"left",y=getLabelStatesModels(o);setLabelStyle(n,y,{labelFetcher:l,labelDataIndex:a,defaultText:getDefaultLabel(l.getData(),a),inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:g});var b=n.getTextContent();if(f&&b){var _=o.get(["label","position"]);n.textConfig.inside=_==="middle"?!0:null,setSectorTextRotation(n,_==="outside"?g:_,createPolarPositionMapping(u),o.get(["label","rotate"]))}setLabelValueAnimation(b,y,l.getRawValue(a),function(C){return getDefaultInterpolatedLabel(r,C)});var x=o.getModel(["emphasis"]);toggleHoverEmphasis(n,x.get("focus"),x.get("blurScope"),x.get("disabled")),setStatesStylesFromModel(n,o),isZeroOnPolar(s)&&(n.style.fill="none",n.style.stroke="none",each(n.states,function(C){C.style&&(C.style.fill=C.style.stroke="none")}))}function getLineWidth(n,r){var a=n.get(["itemStyle","borderColor"]);if(!a||a==="none")return 0;var o=n.get(["itemStyle","borderWidth"])||0,s=isNaN(r.width)?Number.MAX_VALUE:Math.abs(r.width),l=isNaN(r.height)?Number.MAX_VALUE:Math.abs(r.height);return Math.min(o,s,l)}var LagePathShape=function(){function n(){}return n}(),LargePath=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o.type="largeBar",o}return r.prototype.getDefaultShape=function(){return new LagePathShape},r.prototype.buildPath=function(a,o){for(var s=o.points,l=this.baseDimIdx,u=1-this.baseDimIdx,f=[],d=[],v=this.barWidth,g=0;g<s.length;g+=3)d[l]=v,d[u]=s[g+2],f[l]=s[g+l],f[u]=s[g+u],a.rect(f[0],f[1],d[0],d[1])},r}(Path_default);function createLarge(n,r,a,o){var s=n.getData(),l=s.getLayout("valueAxisHorizontal")?1:0,u=s.getLayout("largeDataIndices"),f=s.getLayout("size"),d=n.getModel("backgroundStyle"),v=s.getLayout("largeBackgroundPoints");if(v){var g=new LargePath({shape:{points:v},incremental:!!o,silent:!0,z2:0});g.baseDimIdx=l,g.largeDataIndices=u,g.barWidth=f,g.useStyle(d.getItemStyle()),r.add(g),a&&a.push(g)}var y=new LargePath({shape:{points:s.getLayout("largePoints")},incremental:!!o,z2:1});y.baseDimIdx=l,y.largeDataIndices=u,y.barWidth=f,r.add(y),y.useStyle(s.getVisual("style")),getECData(y).seriesIndex=n.seriesIndex,n.get("silent")||(y.on("mousedown",largePathUpdateDataIndex),y.on("mousemove",largePathUpdateDataIndex)),a&&a.push(y)}var largePathUpdateDataIndex=throttle(function(n){var r=this,a=largePathFindDataIndex(r,n.offsetX,n.offsetY);getECData(r).dataIndex=a>=0?a:null},30,!1);function largePathFindDataIndex(n,r,a){for(var o=n.baseDimIdx,s=1-o,l=n.shape.points,u=n.largeDataIndices,f=[],d=[],v=n.barWidth,g=0,y=l.length/3;g<y;g++){var b=g*3;if(d[o]=v,d[s]=l[b+2],f[o]=l[b+o],f[s]=l[b+s],d[s]<0&&(f[s]+=d[s],d[s]=-d[s]),r>=f[0]&&r<=f[0]+d[0]&&a>=f[1]&&a<=f[1]+d[1])return u[g]}return-1}function createBackgroundShape(n,r,a){if(isCoordinateSystemType(a,"cartesian2d")){var o=r,s=a.getArea();return{x:n?o.x:s.x,y:n?s.y:o.y,width:n?o.width:s.width,height:n?s.height:o.height}}else{var s=a.getArea(),l=r;return{cx:s.cx,cy:s.cy,r0:n?s.r0:l.r0,r:n?s.r:l.r,startAngle:n?l.startAngle:0,endAngle:n?l.endAngle:Math.PI*2}}}function createBackgroundEl(n,r,a){var o=n.type==="polar"?Sector_default:Rect_default;return new o({shape:createBackgroundShape(r,a,n),silent:!0,z2:0})}var PI28=Math.PI*2,RADIAN=Math.PI/180;function getViewRect2(n,r){return getLayoutRect(n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function getBasicPieLayout(n,r){var a=getViewRect2(n,r),o=n.get("center"),s=n.get("radius");isArray3(s)||(s=[0,s]),isArray3(o)||(o=[o,o]);var l=parsePercent2(a.width,r.getWidth()),u=parsePercent2(a.height,r.getHeight()),f=Math.min(l,u),d=parsePercent2(o[0],l)+a.x,v=parsePercent2(o[1],u)+a.y,g=parsePercent2(s[0],f/2),y=parsePercent2(s[1],f/2);return{cx:d,cy:v,r0:g,r:y}}var RADIAN2=Math.PI/180;function adjustSingleSide(n,r,a,o,s,l,u,f,d,v){if(n.length<2)return;function g(C){for(var w=C.rB,S=w*w,D=0;D<C.list.length;D++){var A=C.list[D],T=Math.abs(A.label.y-a),M=o+A.len,E=M*M,P=Math.sqrt((1-Math.abs(T*T/S))*E),I=r+(P+A.len2)*s,F=I-A.label.x,L=A.targetTextWidth-F*s;constrainTextWidth(A,L,!0),A.label.x=I}}function y(C){for(var w={list:[],maxY:0},S={list:[],maxY:0},D=0;D<C.length;D++)if(C[D].labelAlignTo==="none"){var A=C[D],T=A.label.y>a?S:w,M=Math.abs(A.label.y-a);if(M>=T.maxY){var E=A.label.x-r-A.len2*s,P=o+A.len,I=Math.abs(E)<P?Math.sqrt(M*M/(1-E*E/P/P)):P;T.rB=I,T.maxY=M}T.list.push(A)}g(w),g(S)}for(var b=n.length,_=0;_<b;_++)if(n[_].position==="outer"&&n[_].labelAlignTo==="labelLine"){var x=n[_].label.x-v;n[_].linePoints[1][0]+=x,n[_].label.x=v}shiftLayoutOnY(n,d,d+u)&&y(n)}function avoidOverlap(n,r,a,o,s,l,u,f){for(var d=[],v=[],g=Number.MAX_VALUE,y=-Number.MAX_VALUE,b=0;b<n.length;b++){var _=n[b].label;isPositionCenter(n[b])||(_.x<r?(g=Math.min(g,_.x),d.push(n[b])):(y=Math.max(y,_.x),v.push(n[b])))}for(var b=0;b<n.length;b++){var x=n[b];if(!isPositionCenter(x)&&x.linePoints){if(x.labelStyleWidth!=null)continue;var _=x.label,C=x.linePoints,w=void 0;x.labelAlignTo==="edge"?_.x<r?w=C[2][0]-x.labelDistance-u-x.edgeDistance:w=u+s-x.edgeDistance-C[2][0]-x.labelDistance:x.labelAlignTo==="labelLine"?_.x<r?w=g-u-x.bleedMargin:w=u+s-y-x.bleedMargin:_.x<r?w=_.x-u-x.bleedMargin:w=u+s-_.x-x.bleedMargin,x.targetTextWidth=w,constrainTextWidth(x,w)}}adjustSingleSide(v,r,a,o,1,s,l,u,f,y),adjustSingleSide(d,r,a,o,-1,s,l,u,f,g);for(var b=0;b<n.length;b++){var x=n[b];if(!isPositionCenter(x)&&x.linePoints){var _=x.label,C=x.linePoints,S=x.labelAlignTo==="edge",D=_.style.padding,A=D?D[1]+D[3]:0,T=_.style.backgroundColor?0:A,M=x.rect.width+T,E=C[1][0]-C[2][0];S?_.x<r?C[2][0]=u+x.edgeDistance+M+x.labelDistance:C[2][0]=u+s-x.edgeDistance-M-x.labelDistance:(_.x<r?C[2][0]=_.x+x.labelDistance:C[2][0]=_.x-x.labelDistance,C[1][0]=C[2][0]+E),C[1][1]=C[2][1]=_.y}}}function constrainTextWidth(n,r,a){if(a===void 0&&(a=!1),n.labelStyleWidth==null){var o=n.label,s=o.style,l=n.rect,u=s.backgroundColor,f=s.padding,d=f?f[1]+f[3]:0,v=s.overflow,g=l.width+(u?0:d);if(r<g||a){var y=l.height;if(v&&v.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",r-d);var b=o.getBoundingRect();o.setStyle("width",Math.ceil(b.width)),o.setStyle("backgroundColor",u)}else{var _=r-d,x=r<g?_:a?_>n.unconstrainedWidth?null:_:null;o.setStyle("width",x)}var C=o.getBoundingRect();l.width=C.width;var w=(o.style.margin||0)+2.1;l.height=C.height+w,l.y-=(l.height-y)/2}}}function isPositionCenter(n){return n.position==="center"}function pieLabelLayout(n){var r=n.getData(),a=[],o,s,l=!1,u=(n.get("minShowLabelAngle")||0)*RADIAN2,f=r.getLayout("viewRect"),d=r.getLayout("r"),v=f.width,g=f.x,y=f.y,b=f.height;function _(E){E.ignore=!0}function x(E){if(!E.ignore)return!0;for(var P in E.states)if(E.states[P].ignore===!1)return!0;return!1}r.each(function(E){var P=r.getItemGraphicEl(E),I=P.shape,F=P.getTextContent(),L=P.getTextGuideLine(),O=r.getItemModel(E),z=O.getModel("label"),R=z.get("position")||O.get(["emphasis","label","position"]),B=z.get("distanceToLabelLine"),N=z.get("alignTo"),H=parsePercent2(z.get("edgeDistance"),v),W=z.get("bleedMargin"),V=O.getModel("labelLine"),G=V.get("length");G=parsePercent2(G,v);var Y=V.get("length2");if(Y=parsePercent2(Y,v),Math.abs(I.endAngle-I.startAngle)<u){each(F.states,_),F.ignore=!0;return}if(!!x(F)){var Q=(I.startAngle+I.endAngle)/2,q=Math.cos(Q),ne=Math.sin(Q),ve,fe,he,pe;o=I.cx,s=I.cy;var de=R==="inside"||R==="inner";if(R==="center")ve=I.cx,fe=I.cy,pe="center";else{var ue=(de?(I.r+I.r0)/2*q:I.r*q)+o,be=(de?(I.r+I.r0)/2*ne:I.r*ne)+s;if(ve=ue+q*3,fe=be+ne*3,!de){var se=ue+q*(G+d-I.r),_e=be+ne*(G+d-I.r),Me=se+(q<0?-1:1)*Y,$=_e;N==="edge"?ve=q<0?g+H:g+v-H:ve=Me+(q<0?-B:B),fe=$,he=[[ue,be],[se,_e],[Me,$]]}pe=de?"center":N==="edge"?q>0?"right":"left":q>0?"left":"right"}var U=Math.PI,Z=0,ee=z.get("rotate");if(isNumber(ee))Z=ee*(U/180);else if(R==="center")Z=0;else if(ee==="radial"||ee===!0){var re=q<0?-Q+U:-Q;Z=re}else if(ee==="tangential"&&R!=="outside"&&R!=="outer"){var ie=Math.atan2(q,ne);ie<0&&(ie=U*2+ie);var oe=ne>0;oe&&(ie=U+ie),Z=ie-U}if(l=!!Z,F.x=ve,F.y=fe,F.rotation=Z,F.setStyle({verticalAlign:"middle"}),de){F.setStyle({align:pe});var te=F.states.select;te&&(te.x+=F.x,te.y+=F.y)}else{var j=F.getBoundingRect().clone();j.applyTransform(F.getComputedTransform());var K=(F.style.margin||0)+2.1;j.y-=K/2,j.height+=K,a.push({label:F,labelLine:L,position:R,len:G,len2:Y,minTurnAngle:V.get("minTurnAngle"),maxSurfaceAngle:V.get("maxSurfaceAngle"),surfaceNormal:new Point_default(q,ne),linePoints:he,textAlign:pe,labelDistance:B,labelAlignTo:N,edgeDistance:H,bleedMargin:W,rect:j,unconstrainedWidth:j.width,labelStyleWidth:F.style.width})}P.setTextConfig({inside:de})}}),!l&&n.get("avoidLabelOverlap")&&avoidOverlap(a,o,s,d,v,b,g,y);for(var C=0;C<a.length;C++){var w=a[C],S=w.label,D=w.labelLine,A=isNaN(S.x)||isNaN(S.y);if(S){S.setStyle({align:w.textAlign}),A&&(each(S.states,_),S.ignore=!0);var T=S.states.select;T&&(T.x+=S.x,T.y+=S.y)}if(D){var M=w.linePoints;A||!M?(each(D.states,_),D.ignore=!0):(limitTurnAngle(M,w.minTurnAngle),limitSurfaceAngle(M,w.surfaceNormal,w.maxSurfaceAngle),D.setShape({points:M}),S.__hostTarget.textGuideLineConfig={anchor:new Point_default(M[0][0],M[0][1])})}}}function getSectorCornerRadius(n,r,a){var o=n.get("borderRadius");if(o==null)return a?{cornerRadius:0}:null;isArray3(o)||(o=[o,o,o,o]);var s=Math.abs(r.r||0-r.r0||0);return{cornerRadius:map3(o,function(l){return parsePercent(l,s)})}}var PiePiece=function(n){__extends(r,n);function r(a,o,s){var l=n.call(this)||this;l.z2=2;var u=new Text_default;return l.setTextContent(u),l.updateData(a,o,s,!0),l}return r.prototype.updateData=function(a,o,s,l){var u=this,f=a.hostModel,d=a.getItemModel(o),v=d.getModel("emphasis"),g=a.getItemLayout(o),y=extend3(getSectorCornerRadius(d.getModel("itemStyle"),g,!0),g);if(isNaN(y.startAngle)){u.setShape(y);return}if(l){u.setShape(y);var b=f.getShallow("animationType");f.ecModel.ssr?(initProps2(u,{scaleX:0,scaleY:0},f,{dataIndex:o,isFrom:!0}),u.originX=y.cx,u.originY=y.cy):b==="scale"?(u.shape.r=g.r0,initProps2(u,{shape:{r:g.r}},f,o)):s!=null?(u.setShape({startAngle:s,endAngle:s}),initProps2(u,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},f,o)):(u.shape.endAngle=g.startAngle,updateProps2(u,{shape:{endAngle:g.endAngle}},f,o))}else saveOldStyle(u),updateProps2(u,{shape:y},f,o);u.useStyle(a.getItemVisual(o,"style")),setStatesStylesFromModel(u,d);var _=(g.startAngle+g.endAngle)/2,x=f.get("selectedOffset"),C=Math.cos(_)*x,w=Math.sin(_)*x,S=d.getShallow("cursor");S&&u.attr("cursor",S),this._updateLabel(f,a,o),u.ensureState("emphasis").shape=extend3({r:g.r+(v.get("scale")&&v.get("scaleSize")||0)},getSectorCornerRadius(v.getModel("itemStyle"),g)),extend3(u.ensureState("select"),{x:C,y:w,shape:getSectorCornerRadius(d.getModel(["select","itemStyle"]),g)}),extend3(u.ensureState("blur"),{shape:getSectorCornerRadius(d.getModel(["blur","itemStyle"]),g)});var D=u.getTextGuideLine(),A=u.getTextContent();D&&extend3(D.ensureState("select"),{x:C,y:w}),extend3(A.ensureState("select"),{x:C,y:w}),toggleHoverEmphasis(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},r.prototype._updateLabel=function(a,o,s){var l=this,u=o.getItemModel(s),f=u.getModel("labelLine"),d=o.getItemVisual(s,"style"),v=d&&d.fill,g=d&&d.opacity;setLabelStyle(l,getLabelStatesModels(u),{labelFetcher:o.hostModel,labelDataIndex:s,inheritColor:v,defaultOpacity:g,defaultText:a.getFormattedLabel(s,"normal")||o.getName(s)});var y=l.getTextContent();l.setTextConfig({position:null,rotation:null}),y.attr({z2:10});var b=a.get(["label","position"]);if(b!=="outside"&&b!=="outer")l.removeTextGuideLine();else{var _=this.getTextGuideLine();_||(_=new Polyline_default,this.setTextGuideLine(_)),setLabelLineStyle(this,getLabelLineStatesModels(u),{stroke:v,opacity:retrieve3(f.get(["lineStyle","opacity"]),g,1)})}},r}(Sector_default),PieView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.ignoreLabelLineUpdate=!0,a}return r.prototype.render=function(a,o,s,l){var u=a.getData(),f=this._data,d=this.group,v;if(!f&&u.count()>0){for(var g=u.getItemLayout(0),y=1;isNaN(g&&g.startAngle)&&y<u.count();++y)g=u.getItemLayout(y);g&&(v=g.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),u.count()===0&&a.get("showEmptyCircle")){var b=new Sector_default({shape:getBasicPieLayout(a,s)});b.useStyle(a.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=b,d.add(b)}u.diff(f).add(function(_){var x=new PiePiece(u,_,v);u.setItemGraphicEl(_,x),d.add(x)}).update(function(_,x){var C=f.getItemGraphicEl(x);C.updateData(u,_,v),C.off("click"),d.add(C),u.setItemGraphicEl(_,C)}).remove(function(_){var x=f.getItemGraphicEl(_);removeElementWithFadeOut(x,a,_)}).execute(),pieLabelLayout(a),a.get("animationTypeUpdate")!=="expansion"&&(this._data=u)},r.prototype.dispose=function(){},r.prototype.containPoint=function(a,o){var s=o.getData(),l=s.getItemLayout(0);if(l){var u=a[0]-l.cx,f=a[1]-l.cy,d=Math.sqrt(u*u+f*f);return d<=l.r&&d>=l.r0}},r.type="pie",r}(Chart_default);function createSeriesDataSimply(n,r,a){r=isArray3(r)&&{coordDimensions:r}||extend3({encodeDefine:n.getEncode()},r);var o=n.getSource(),s=prepareSeriesDataSchema(o,r).dimensions,l=new SeriesData_default(s,n);return l.initData(o,a),l}var LegendVisualProvider=function(){function n(r,a){this._getDataWithEncodedVisual=r,this._getRawData=a}return n.prototype.getAllNames=function(){var r=this._getRawData();return r.mapArray(r.getName)},n.prototype.containName=function(r){var a=this._getRawData();return a.indexOfName(r)>=0},n.prototype.indexOfName=function(r){var a=this._getDataWithEncodedVisual();return a.indexOfName(r)},n.prototype.getItemVisual=function(r,a){var o=this._getDataWithEncodedVisual();return o.getItemVisual(r,a)},n}(),LegendVisualProvider_default=LegendVisualProvider,PieSeriesModel=function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.init=function(a){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind(this.getData,this),bind(this.getRawData,this)),this._defaultLabelLine(a)},r.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},r.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry(makeSeriesEncodeForNameBased,this)})},r.prototype.getDataParams=function(a){var o=this.getData(),s=n.prototype.getDataParams.call(this,a),l=[];return o.each(o.mapDimension("value"),function(u){l.push(u)}),s.percent=getPercentWithPrecision(l,a,o.hostModel.get("percentPrecision")),s.$vars.push("percent"),s},r.prototype._defaultLabelLine=function(a){defaultEmphasis(a,"labelLine",["show"]);var o=a.labelLine,s=a.emphasis.labelLine;o.show=o.show&&a.label.show,s.show=s.show&&a.emphasis.label.show},r.type="series.pie",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},r}(Series_default),ScatterSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.hasSymbolVisual=!0,a}return r.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},r.prototype.getProgressive=function(){var a=this.option.progressive;return a==null?this.option.large?5e3:this.get("progressive"):a},r.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return a==null?this.option.large?1e4:this.get("progressiveThreshold"):a},r.prototype.brushSelector=function(a,o,s){return s.point(o.getItemLayout(a))},r.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},r.type="series.scatter",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},r}(Series_default),BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function n(){}return n}(),LargeSymbolPath=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o._off=0,o.hoverDataIdx=-1,o}return r.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.buildPath=function(a,o){var s=o.points,l=o.size,u=this.symbolProxy,f=u.shape,d=a.getContext?a.getContext():a,v=d&&l[0]<BOOST_SIZE_THRESHOLD,g=this.softClipShape,y;if(v){this._ctx=d;return}for(this._ctx=null,y=this._off;y<s.length;){var b=s[y++],_=s[y++];isNaN(b)||isNaN(_)||g&&!g.contain(b,_)||(f.x=b-l[0]/2,f.y=_-l[1]/2,f.width=l[0],f.height=l[1],u.buildPath(a,f,!0))}this.incremental&&(this._off=y,this.notClear=!0)},r.prototype.afterBrush=function(){var a=this.shape,o=a.points,s=a.size,l=this._ctx,u=this.softClipShape,f;if(!!l){for(f=this._off;f<o.length;){var d=o[f++],v=o[f++];isNaN(d)||isNaN(v)||u&&!u.contain(d,v)||l.fillRect(d-s[0]/2,v-s[1]/2,s[0],s[1])}this.incremental&&(this._off=f,this.notClear=!0)}},r.prototype.findDataIndex=function(a,o){for(var s=this.shape,l=s.points,u=s.size,f=Math.max(u[0],4),d=Math.max(u[1],4),v=l.length/2-1;v>=0;v--){var g=v*2,y=l[g]-f/2,b=l[g+1]-d/2;if(a>=y&&o>=b&&a<=y+f&&o<=b+d)return v}return-1},r.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();if(a=s[0],o=s[1],l.contain(a,o)){var u=this.hoverDataIdx=this.findDataIndex(a,o);return u>=0}return this.hoverDataIdx=-1,!1},r.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var o=this.shape,s=o.points,l=o.size,u=l[0],f=l[1],d=1/0,v=1/0,g=-1/0,y=-1/0,b=0;b<s.length;){var _=s[b++],x=s[b++];d=Math.min(_,d),g=Math.max(_,g),v=Math.min(x,v),y=Math.max(x,y)}a=this._rect=new BoundingRect_default(d-u/2,v-f/2,g-d+u,y-v+f)}return a},r}(Path_default),LargeSymbolDraw=function(){function n(){this.group=new Group_default}return n.prototype.updateData=function(r,a){this._clear();var o=this._create();o.setShape({points:r.getLayout("points")}),this._setCommon(o,r,a)},n.prototype.updateLayout=function(r){var a=r.getLayout("points");this.group.eachChild(function(o){if(o.startIndex!=null){var s=(o.endIndex-o.startIndex)*2,l=o.startIndex*4*2;a=new Float32Array(a.buffer,l,s)}o.setShape("points",a),o.reset()})},n.prototype.incrementalPrepareUpdate=function(r){this._clear()},n.prototype.incrementalUpdate=function(r,a,o){var s=this._newAdded[0],l=a.getLayout("points"),u=s&&s.shape.points;if(u&&u.length<2e4){var f=u.length,d=new Float32Array(f+l.length);d.set(u),d.set(l,f),s.endIndex=r.end,s.setShape({points:d})}else{this._newAdded=[];var v=this._create();v.startIndex=r.start,v.endIndex=r.end,v.incremental=!0,v.setShape({points:l}),this._setCommon(v,a,o)}},n.prototype.eachRendered=function(r){this._newAdded[0]&&r(this._newAdded[0])},n.prototype._create=function(){var r=new LargeSymbolPath({cursor:"default"});return this.group.add(r),this._newAdded.push(r),r},n.prototype._setCommon=function(r,a,o){var s=a.hostModel;o=o||{};var l=a.getVisual("symbolSize");r.setShape("size",l instanceof Array?l:[l,l]),r.softClipShape=o.clipShape||null,r.symbolProxy=createSymbol(a.getVisual("symbol"),0,0,0,0),r.setColor=r.symbolProxy.setColor;var u=r.shape.size[0]<BOOST_SIZE_THRESHOLD;r.useStyle(s.getModel("itemStyle").getItemStyle(u?["color","shadowBlur","shadowColor"]:["color"]));var f=a.getVisual("style"),d=f&&f.fill;d&&r.setColor(d);var v=getECData(r);v.seriesIndex=s.seriesIndex,r.on("mousemove",function(g){v.dataIndex=null;var y=r.hoverDataIdx;y>=0&&(v.dataIndex=y+(r.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),LargeSymbolDraw_default=LargeSymbolDraw,ScatterView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){var l=a.getData(),u=this._updateSymbolDraw(l,a);u.updateData(l,{clipShape:this._getClipShape(a)}),this._finished=!0},r.prototype.incrementalPrepareRender=function(a,o,s){var l=a.getData(),u=this._updateSymbolDraw(l,a);u.incrementalPrepareUpdate(l),this._finished=!1},r.prototype.incrementalRender=function(a,o,s){this._symbolDraw.incrementalUpdate(a,o.getData(),{clipShape:this._getClipShape(o)}),this._finished=a.end===o.getData().count()},r.prototype.updateTransform=function(a,o,s){var l=a.getData();if(this.group.dirty(),!this._finished||l.count()>1e4)return{update:!0};var u=pointsLayout("").reset(a,o,s);u.progress&&u.progress({start:0,end:l.count(),count:l.count()},l),this._symbolDraw.updateLayout(l)},r.prototype.eachRendered=function(a){this._symbolDraw&&this._symbolDraw.eachRendered(a)},r.prototype._getClipShape=function(a){var o=a.coordinateSystem,s=o&&o.getArea&&o.getArea();return a.get("clip",!0)?s:null},r.prototype._updateSymbolDraw=function(a,o){var s=this._symbolDraw,l=o.pipelineContext,u=l.large;return(!s||u!==this._isLargeDraw)&&(s&&s.remove(),s=this._symbolDraw=u?new LargeSymbolDraw_default:new SymbolDraw_default,this._isLargeDraw=u,this.group.removeAll()),this.group.add(s.group),s},r.prototype.remove=function(a,o){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},r.prototype.dispose=function(){},r.type="scatter",r}(Chart_default),RadarView2=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){var l=a.coordinateSystem,u=this.group,f=a.getData(),d=this._data;function v(b,_){var x=b.getItemVisual(_,"symbol")||"circle";if(x!=="none"){var C=normalizeSymbolSize(b.getItemVisual(_,"symbolSize")),w=createSymbol(x,-1,-1,2,2),S=b.getItemVisual(_,"symbolRotate")||0;return w.attr({style:{strokeNoScale:!0},z2:100,scaleX:C[0]/2,scaleY:C[1]/2,rotation:S*Math.PI/180||0}),w}}function g(b,_,x,C,w,S){x.removeAll();for(var D=0;D<_.length-1;D++){var A=v(C,w);A&&(A.__dimIdx=D,b[D]?(A.setPosition(b[D]),graphic_exports[S?"initProps":"updateProps"](A,{x:_[D][0],y:_[D][1]},a,w)):A.setPosition(_[D]),x.add(A))}}function y(b){return map3(b,function(_){return[l.cx,l.cy]})}f.diff(d).add(function(b){var _=f.getItemLayout(b);if(!!_){var x=new Polygon_default,C=new Polyline_default,w={shape:{points:_}};x.shape.points=y(_),C.shape.points=y(_),initProps2(x,w,a,b),initProps2(C,w,a,b);var S=new Group_default,D=new Group_default;S.add(C),S.add(x),S.add(D),g(C.shape.points,_,D,f,b,!0),f.setItemGraphicEl(b,S)}}).update(function(b,_){var x=d.getItemGraphicEl(_),C=x.childAt(0),w=x.childAt(1),S=x.childAt(2),D={shape:{points:f.getItemLayout(b)}};!D.shape.points||(g(C.shape.points,D.shape.points,S,f,b,!1),saveOldStyle(w),saveOldStyle(C),updateProps2(C,D,a),updateProps2(w,D,a),f.setItemGraphicEl(b,x))}).remove(function(b){u.remove(d.getItemGraphicEl(b))}).execute(),f.eachItemGraphicEl(function(b,_){var x=f.getItemModel(_),C=b.childAt(0),w=b.childAt(1),S=b.childAt(2),D=f.getItemVisual(_,"style"),A=D.fill;u.add(b),C.useStyle(defaults(x.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:A})),setStatesStylesFromModel(C,x,"lineStyle"),setStatesStylesFromModel(w,x,"areaStyle");var T=x.getModel("areaStyle"),M=T.isEmpty()&&T.parentModel.isEmpty();w.ignore=M,each(["emphasis","select","blur"],function(I){var F=x.getModel([I,"areaStyle"]),L=F.isEmpty()&&F.parentModel.isEmpty();w.ensureState(I).ignore=L&&M}),w.useStyle(defaults(T.getAreaStyle(),{fill:A,opacity:.7,decal:D.decal}));var E=x.getModel("emphasis"),P=E.getModel("itemStyle").getItemStyle();S.eachChild(function(I){if(I instanceof Image_default){var F=I.style;I.useStyle(extend3({image:F.image,x:F.x,y:F.y,width:F.width,height:F.height},D))}else I.useStyle(D),I.setColor(A),I.style.strokeNoScale=!0;var L=I.ensureState("emphasis");L.style=clone(P);var O=f.getStore().get(f.getDimensionIndex(I.__dimIdx),_);(O==null||isNaN(O))&&(O=""),setLabelStyle(I,getLabelStatesModels(x),{labelFetcher:f.hostModel,labelDataIndex:_,labelDimIndex:I.__dimIdx,defaultText:O,inheritColor:A,defaultOpacity:D.opacity})}),toggleHoverEmphasis(b,E.get("focus"),E.get("blurScope"),E.get("disabled"))}),this._data=f},r.prototype.remove=function(){this.group.removeAll(),this._data=null},r.type="radar",r}(Chart_default),RadarSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.hasSymbolVisual=!0,a}return r.prototype.init=function(a){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind(this.getData,this),bind(this.getRawData,this))},r.prototype.getInitialData=function(a,o){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},r.prototype.formatTooltip=function(a,o,s){var l=this.getData(),u=this.coordinateSystem,f=u.getIndicatorAxes(),d=this.getData().getName(a),v=d===""?this.name:d,g=retrieveVisualColorForTooltipMarker(this,a);return createTooltipMarkup("section",{header:v,sortBlocks:!0,blocks:map3(f,function(y){var b=l.get(l.mapDimension(y.dim),a);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:g,name:y.name,value:b,sortParam:b})})})},r.prototype.getTooltipPosition=function(a){if(a!=null){for(var o=this.getData(),s=this.coordinateSystem,l=o.getValues(map3(s.dimensions,function(v){return o.mapDimension(v)}),a),u=0,f=l.length;u<f;u++)if(!isNaN(l[u])){var d=s.getIndicatorAxes();return s.coordToPoint(d[u].dataToCoord(l[u]),u)}}},r.type="series.radar",r.dependencies=["radar"],r.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},r}(Series_default),MapView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s,l){if(!(l&&l.type==="mapToggleSelect"&&l.from===this.uid)){var u=this.group;if(u.removeAll(),!a.getHostGeoModel()){if(this._mapDraw&&l&&l.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),l&&l.type==="geoRoam"&&l.componentType==="series"&&l.seriesId===a.id){var f=this._mapDraw;f&&u.add(f.group)}else if(a.needsDrawMap){var f=this._mapDraw||new MapDraw_default(s);u.add(f.group),f.draw(a,o,s,this,l),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&o.getComponent("legend")&&this._renderSymbols(a,o,s)}}},r.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},r.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},r.prototype._renderSymbols=function(a,o,s){var l=a.originalData,u=this.group;l.each(l.mapDimension("value"),function(f,d){if(!isNaN(f)){var v=l.getItemLayout(d);if(!(!v||!v.point)){var g=v.point,y=v.offset,b=new Circle_default({style:{fill:a.getData().getVisual("style").fill},shape:{cx:g[0]+y*9,cy:g[1],r:3},silent:!0,z2:8+(y?0:Z2_EMPHASIS_LIFT+1)});if(!y){var _=a.mainSeries.getData(),x=l.getName(d),C=_.indexOfName(x),w=l.getItemModel(d),S=w.getModel("label"),D=_.getItemGraphicEl(C);setLabelStyle(b,getLabelStatesModels(w),{labelFetcher:{getFormattedLabel:function(A,T){return a.getFormattedLabel(C,T)}},defaultText:x}),b.disableLabelAnimation=!0,S.get("position")||b.setTextConfig({position:"bottom"}),D.onHoverStateChange=function(A){setStatesFlag(b,A)}}u.add(b)}}})},r.type="map",r}(Chart_default),MapSeries=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.needsDrawMap=!1,a.seriesGroup=[],a.getTooltipPosition=function(o){if(o!=null){var s=this.getData().getName(o),l=this.coordinateSystem,u=l.getRegion(s);return u&&l.dataToPoint(u.getCenter())}},a}return r.prototype.getInitialData=function(a){for(var o=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry(makeSeriesEncodeForNameBased,this)}),s=createHashMap(),l=[],u=0,f=o.count();u<f;u++){var d=o.getName(u);s.set(d,!0)}var v=geoSourceManager_default.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each(v.regions,function(g){var y=g.name;s.get(y)||l.push(y)}),o.appendValues([],l),o},r.prototype.getHostGeoModel=function(){var a=this.option.geoIndex;return a!=null?this.ecModel.getComponent("geo",a):null},r.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},r.prototype.getRawValue=function(a){var o=this.getData();return o.get(o.mapDimension("value"),a)},r.prototype.getRegionModel=function(a){var o=this.getData();return o.getItemModel(o.indexOfName(a))},r.prototype.formatTooltip=function(a,o,s){for(var l=this.getData(),u=this.getRawValue(a),f=l.getName(a),d=this.seriesGroup,v=[],g=0;g<d.length;g++){var y=d[g].originalData.indexOfName(f),b=l.mapDimension("value");isNaN(d[g].originalData.get(b,y))||v.push(d[g].name)}return createTooltipMarkup("section",{header:v.join(", "),noHeader:!v.length,blocks:[createTooltipMarkup("nameValue",{name:f,value:u})]})},r.prototype.setZoom=function(a){this.option.zoom=a},r.prototype.setCenter=function(a){this.option.center=a},r.prototype.getLegendIcon=function(a){var o=a.icon||"roundRect",s=createSymbol(o,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill);return s.setStyle(a.itemStyle),s.style.stroke="none",o.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),s},r.type="series.map",r.dependencies=["geo"],r.layoutMode="box",r.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},r}(Series_default);function radialCoordinate(n,r){return n-=Math.PI/2,{x:r*Math.cos(n),y:r*Math.sin(n)}}var TreeEdgeShape=function(){function n(){this.parentPoint=[],this.childPoints=[]}return n}(),TreePath=function(n){__extends(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new TreeEdgeShape},r.prototype.buildPath=function(a,o){var s=o.childPoints,l=s.length,u=o.parentPoint,f=s[0],d=s[l-1];if(l===1){a.moveTo(u[0],u[1]),a.lineTo(f[0],f[1]);return}var v=o.orient,g=v==="TB"||v==="BT"?0:1,y=1-g,b=parsePercent2(o.forkPosition,1),_=[];_[g]=u[g],_[y]=u[y]+(d[y]-u[y])*b,a.moveTo(u[0],u[1]),a.lineTo(_[0],_[1]),a.moveTo(f[0],f[1]),_[g]=f[g],a.lineTo(_[0],_[1]),_[g]=d[g],a.lineTo(_[0],_[1]),a.lineTo(d[0],d[1]);for(var x=1;x<l-1;x++){var C=s[x];a.moveTo(C[0],C[1]),_[g]=C[g],a.lineTo(_[0],_[1])}},r}(Path_default),TreeView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a._mainGroup=new Group_default,a}return r.prototype.init=function(a,o){this._controller=new RoamController_default(o.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},r.prototype.render=function(a,o,s){var l=a.getData(),u=a.layoutInfo,f=this._mainGroup,d=a.get("layout");d==="radial"?(f.x=u.x+u.width/2,f.y=u.y+u.height/2):(f.x=u.x,f.y=u.y),this._updateViewCoordSys(a),this._updateController(a,o,s);var v=this._data;l.diff(v).add(function(g){symbolNeedsDraw2(l,g)&&updateNode(l,g,null,f,a)}).update(function(g,y){var b=v.getItemGraphicEl(y);if(!symbolNeedsDraw2(l,g)){b&&removeNode(v,y,b,f,a);return}updateNode(l,g,b,f,a)}).remove(function(g){var y=v.getItemGraphicEl(g);y&&removeNode(v,g,y,f,a)}).execute(),this._nodeScaleRatio=a.get("nodeScaleRatio"),this._updateNodeAndLinkScale(a),a.get("expandAndCollapse")===!0&&l.eachItemGraphicEl(function(g,y){g.off("click").on("click",function(){s.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:y})})}),this._data=l},r.prototype._updateViewCoordSys=function(a){var o=a.getData(),s=[];o.each(function(g){var y=o.getItemLayout(g);y&&!isNaN(y.x)&&!isNaN(y.y)&&s.push([+y.x,+y.y])});var l=[],u=[];fromPoints(s,l,u);var f=this._min,d=this._max;u[0]-l[0]==0&&(l[0]=f?f[0]:l[0]-1,u[0]=d?d[0]:u[0]+1),u[1]-l[1]==0&&(l[1]=f?f[1]:l[1]-1,u[1]=d?d[1]:u[1]+1);var v=a.coordinateSystem=new View_default;v.zoomLimit=a.get("scaleLimit"),v.setBoundingRect(l[0],l[1],u[0]-l[0],u[1]-l[1]),v.setCenter(a.get("center")),v.setZoom(a.get("zoom")),this.group.attr({x:v.x,y:v.y,scaleX:v.scaleX,scaleY:v.scaleY}),this._min=l,this._max=u},r.prototype._updateController=function(a,o,s){var l=this,u=this._controller,f=this._controllerHost,d=this.group;u.setPointerChecker(function(v,g,y){var b=d.getBoundingRect();return b.applyTransform(d.transform),b.contain(g,y)&&!onIrrelevantElement(v,s,a)}),u.enable(a.get("roam")),f.zoomLimit=a.get("scaleLimit"),f.zoom=a.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(v){updateViewOnPan(f,v.dx,v.dy),s.dispatchAction({seriesId:a.id,type:"treeRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){updateViewOnZoom(f,v.scale,v.originX,v.originY),s.dispatchAction({seriesId:a.id,type:"treeRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),l._updateNodeAndLinkScale(a),s.updateLabelLayout()})},r.prototype._updateNodeAndLinkScale=function(a){var o=a.getData(),s=this._getNodeGlobalScale(a);o.eachItemGraphicEl(function(l,u){l.setSymbolScale(s)})},r.prototype._getNodeGlobalScale=function(a){var o=a.coordinateSystem;if(o.type!=="view")return 1;var s=this._nodeScaleRatio,l=o.scaleX||1,u=o.getZoom(),f=(u-1)*s+1;return f/l},r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},r.type="tree",r}(Chart_default);function symbolNeedsDraw2(n,r){var a=n.getItemLayout(r);return a&&!isNaN(a.x)&&!isNaN(a.y)}function updateNode(n,r,a,o,s){var l=!a,u=n.tree.getNodeByDataIndex(r),f=u.getModel(),d=u.getVisual("style").fill,v=u.isExpand===!1&&u.children.length!==0?d:"#fff",g=n.tree.root,y=u.parentNode===g?u:u.parentNode||u,b=n.getItemGraphicEl(y.dataIndex),_=y.getLayout(),x=b?{x:b.__oldX,y:b.__oldY,rawX:b.__radialOldRawX,rawY:b.__radialOldRawY}:_,C=u.getLayout();l?(a=new Symbol_default2(n,r,null,{symbolInnerColor:v,useNameLabel:!0}),a.x=x.x,a.y=x.y):a.updateData(n,r,null,{symbolInnerColor:v,useNameLabel:!0}),a.__radialOldRawX=a.__radialRawX,a.__radialOldRawY=a.__radialRawY,a.__radialRawX=C.rawX,a.__radialRawY=C.rawY,o.add(a),n.setItemGraphicEl(r,a),a.__oldX=a.x,a.__oldY=a.y,updateProps2(a,{x:C.x,y:C.y},s);var w=a.getSymbolPath();if(s.get("layout")==="radial"){var S=g.children[0],D=S.getLayout(),A=S.children.length,T=void 0,M=void 0;if(C.x===D.x&&u.isExpand===!0){var E={x:(S.children[0].getLayout().x+S.children[A-1].getLayout().x)/2,y:(S.children[0].getLayout().y+S.children[A-1].getLayout().y)/2};T=Math.atan2(E.y-D.y,E.x-D.x),T<0&&(T=Math.PI*2+T),M=E.x<D.x,M&&(T=T-Math.PI)}else T=Math.atan2(C.y-D.y,C.x-D.x),T<0&&(T=Math.PI*2+T),u.children.length===0||u.children.length!==0&&u.isExpand===!1?(M=C.x<D.x,M&&(T=T-Math.PI)):(M=C.x>D.x,M||(T=T-Math.PI));var P=M?"left":"right",I=f.getModel("label"),F=I.get("rotate"),L=F*(Math.PI/180),O=w.getTextContent();O&&(w.setTextConfig({position:I.get("position")||P,rotation:F==null?-T:L,origin:"center"}),O.setStyle("verticalAlign","middle"))}var z=f.get(["emphasis","focus"]),R=z==="ancestor"?u.getAncestorsIndices():z==="descendant"?u.getDescendantIndices():null;R&&(getECData(a).focus=R),drawEdge(s,u,g,a,x,_,C,o),a.__edge&&(a.onHoverStateChange=function(B){if(B!=="blur"){var N=u.parentNode&&n.getItemGraphicEl(u.parentNode.dataIndex);N&&N.hoverState===HOVER_STATE_BLUR||setStatesFlag(a.__edge,B)}})}function drawEdge(n,r,a,o,s,l,u,f){var d=r.getModel(),v=n.get("edgeShape"),g=n.get("layout"),y=n.getOrient(),b=n.get(["lineStyle","curveness"]),_=n.get("edgeForkPosition"),x=d.getModel("lineStyle").getLineStyle(),C=o.__edge;if(v==="curve")r.parentNode&&r.parentNode!==a&&(C||(C=o.__edge=new BezierCurve_default({shape:getEdgeShape(g,y,b,s,s)})),updateProps2(C,{shape:getEdgeShape(g,y,b,l,u)},n));else if(v==="polyline")if(g==="orthogonal"){if(r!==a&&r.children&&r.children.length!==0&&r.isExpand===!0){for(var w=r.children,S=[],D=0;D<w.length;D++){var A=w[D].getLayout();S.push([A.x,A.y])}C||(C=o.__edge=new TreePath({shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]],orient:y,forkPosition:_}})),updateProps2(C,{shape:{parentPoint:[u.x,u.y],childPoints:S}},n)}}else throw new Error("The polyline edgeShape can only be used in orthogonal layout");C&&(C.useStyle(defaults({strokeNoScale:!0,fill:null},x)),setStatesStylesFromModel(C,d,"lineStyle"),setDefaultStateProxy(C),f.add(C))}function removeNodeEdge(n,r,a,o,s){var l=r.tree.root,u=getSourceNode(l,n),f=u.source,d=u.sourceLayout,v=r.getItemGraphicEl(n.dataIndex);if(!!v){var g=r.getItemGraphicEl(f.dataIndex),y=g.__edge,b=v.__edge||(f.isExpand===!1||f.children.length===1?y:void 0),_=o.get("edgeShape"),x=o.get("layout"),C=o.get("orient"),w=o.get(["lineStyle","curveness"]);b&&(_==="curve"?removeElement2(b,{shape:getEdgeShape(x,C,w,d,d),style:{opacity:0}},o,{cb:function(){a.remove(b)},removeOpt:s}):_==="polyline"&&o.get("layout")==="orthogonal"&&removeElement2(b,{shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]]},style:{opacity:0}},o,{cb:function(){a.remove(b)},removeOpt:s}))}}function getSourceNode(n,r){for(var a=r.parentNode===n?r:r.parentNode||r,o;o=a.getLayout(),o==null;)a=a.parentNode===n?a:a.parentNode||a;return{source:a,sourceLayout:o}}function removeNode(n,r,a,o,s){var l=n.tree.getNodeByDataIndex(r),u=n.tree.root,f=getSourceNode(u,l).sourceLayout,d={duration:s.get("animationDurationUpdate"),easing:s.get("animationEasingUpdate")};removeElement2(a,{x:f.x+1,y:f.y+1},s,{cb:function(){o.remove(a),n.setItemGraphicEl(r,null)},removeOpt:d}),a.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:d}),l.children.forEach(function(v){removeNodeEdge(v,n,o,s,d)}),removeNodeEdge(l,n,o,s,d)}function getEdgeShape(n,r,a,o,s){var l,u,f,d,v,g,y,b;if(n==="radial"){v=o.rawX,y=o.rawY,g=s.rawX,b=s.rawY;var _=radialCoordinate(v,y),x=radialCoordinate(v,y+(b-y)*a),C=radialCoordinate(g,b+(y-b)*a),w=radialCoordinate(g,b);return{x1:_.x||0,y1:_.y||0,x2:w.x||0,y2:w.y||0,cpx1:x.x||0,cpy1:x.y||0,cpx2:C.x||0,cpy2:C.y||0}}else v=o.x,y=o.y,g=s.x,b=s.y,(r==="LR"||r==="RL")&&(l=v+(g-v)*a,u=y,f=g+(v-g)*a,d=b),(r==="TB"||r==="BT")&&(l=v,u=y+(b-y)*a,f=g,d=b+(y-b)*a);return{x1:v,y1:y,x2:g,y2:b,cpx1:l,cpy1:u,cpx2:f,cpy2:d}}var inner18=makeInner();function linkSeriesData(n){var r=n.mainData,a=n.datas;a||(a={main:r},n.datasAttr={main:"data"}),n.datas=n.mainData=null,linkAll(r,a,n),each(a,function(o){each(r.TRANSFERABLE_METHODS,function(s){o.wrapMethod(s,curry(transferInjection,n))})}),r.wrapMethod("cloneShallow",curry(cloneShallowInjection,n)),each(r.CHANGABLE_METHODS,function(o){r.wrapMethod(o,curry(changeInjection,n))}),assert(a[r.dataType]===r)}function transferInjection(n,r){if(isMainData(this)){var a=extend3({},inner18(this).datas);a[this.dataType]=r,linkAll(r,a,n)}else linkSingle(r,this.dataType,inner18(this).mainData,n);return r}function changeInjection(n,r){return n.struct&&n.struct.update(),r}function cloneShallowInjection(n,r){return each(inner18(r).datas,function(a,o){a!==r&&linkSingle(a.cloneShallow(),o,r,n)}),r}function getLinkedData(n){var r=inner18(this).mainData;return n==null||r==null?r:inner18(r).datas[n]}function getLinkedDataAll(){var n=inner18(this).mainData;return n==null?[{data:n}]:map3(keys3(inner18(n).datas),function(r){return{type:r,data:inner18(n).datas[r]}})}function isMainData(n){return inner18(n).mainData===n}function linkAll(n,r,a){inner18(n).datas={},each(r,function(o,s){linkSingle(o,s,n,a)})}function linkSingle(n,r,a,o){inner18(a).datas[r]=n,inner18(n).mainData=a,n.dataType=r,o.struct&&(n[o.structAttr]=o.struct,o.struct[o.datasAttr[r]]=n),n.getLinkedData=getLinkedData,n.getLinkedDataAll=getLinkedDataAll}var linkSeriesData_default=linkSeriesData,TreeNode=function(){function n(r,a){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=r||"",this.hostTree=a}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(r,a,o){isFunction3(r)&&(o=a,a=r,r=null),r=r||{},isString2(r)&&(r={order:r});var s=r.order||"preorder",l=this[r.attr||"children"],u;s==="preorder"&&(u=a.call(o,this));for(var f=0;!u&&f<l.length;f++)l[f].eachNode(r,a,o);s==="postorder"&&a.call(o,this)},n.prototype.updateDepthAndHeight=function(r){var a=0;this.depth=r;for(var o=0;o<this.children.length;o++){var s=this.children[o];s.updateDepthAndHeight(r+1),s.height>a&&(a=s.height)}this.height=a+1},n.prototype.getNodeById=function(r){if(this.getId()===r)return this;for(var a=0,o=this.children,s=o.length;a<s;a++){var l=o[a].getNodeById(r);if(l)return l}},n.prototype.contains=function(r){if(r===this)return!0;for(var a=0,o=this.children,s=o.length;a<s;a++){var l=o[a].contains(r);if(l)return l}},n.prototype.getAncestors=function(r){for(var a=[],o=r?this:this.parentNode;o;)a.push(o),o=o.parentNode;return a.reverse(),a},n.prototype.getAncestorsIndices=function(){for(var r=[],a=this;a;)r.push(a.dataIndex),a=a.parentNode;return r.reverse(),r},n.prototype.getDescendantIndices=function(){var r=[];return this.eachNode(function(a){r.push(a.dataIndex)}),r},n.prototype.getValue=function(r){var a=this.hostTree.data;return a.getStore().get(a.getDimensionIndex(r||"value"),this.dataIndex)},n.prototype.setLayout=function(r,a){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,r,a)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(r){if(!(this.dataIndex<0)){var a=this.hostTree,o=a.data.getItemModel(this.dataIndex);return o.getModel(r)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(r,a){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,r,a)},n.prototype.getVisual=function(r){return this.hostTree.data.getItemVisual(this.dataIndex,r)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var r=this.parentNode.children,a=0;a<r.length;++a)if(r[a]===this)return a;return-1}return-1},n.prototype.isAncestorOf=function(r){for(var a=r.parentNode;a;){if(a===this)return!0;a=a.parentNode}return!1},n.prototype.isDescendantOf=function(r){return r!==this&&r.isAncestorOf(this)},n}(),Tree=function(){function n(r){this.type="tree",this._nodes=[],this.hostModel=r}return n.prototype.eachNode=function(r,a,o){this.root.eachNode(r,a,o)},n.prototype.getNodeByDataIndex=function(r){var a=this.data.getRawIndex(r);return this._nodes[a]},n.prototype.getNodeById=function(r){return this.root.getNodeById(r)},n.prototype.update=function(){for(var r=this.data,a=this._nodes,o=0,s=a.length;o<s;o++)a[o].dataIndex=-1;for(var o=0,s=r.count();o<s;o++)a[r.getRawIndex(o)].dataIndex=o},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(r,a,o){var s=new n(a),l=[],u=1;f(r);function f(g,y){var b=g.value;u=Math.max(u,isArray3(b)?b.length:1),l.push(g);var _=new TreeNode(convertOptionIdName(g.name,""),s);y?addChild(_,y):s.root=_,s._nodes.push(_);var x=g.children;if(x)for(var C=0;C<x.length;C++)f(x[C],_)}s.root.updateDepthAndHeight(0);var d=prepareSeriesDataSchema(l,{coordDimensions:["value"],dimensionsCount:u}).dimensions,v=new SeriesData_default(d,a);return v.initData(l),o&&o(v),linkSeriesData_default({mainData:v,struct:s,structAttr:"tree"}),s.update(),s},n}();function addChild(n,r){var a=r.children;n.parentNode!==r&&(a.push(n),n.parentNode=r)}var Tree_default=Tree;function retrieveTargetInfo(n,r,a){if(n&&indexOf(r,n.type)>=0){var o=a.getData().tree.root,s=n.targetNode;if(isString2(s)&&(s=o.getNodeById(s)),s&&o.contains(s))return{node:s};var l=n.targetNodeId;if(l!=null&&(s=o.getNodeById(l)))return{node:s}}}function getPathToRoot(n){for(var r=[];n;)n=n.parentNode,n&&r.push(n);return r.reverse()}function aboveViewRoot(n,r){var a=getPathToRoot(n);return indexOf(a,r)>=0}function wrapTreePathInfo(n,r){for(var a=[];n;){var o=n.dataIndex;a.push({name:n.name,dataIndex:o,value:r.getRawValue(o)}),n=n.parentNode}return a.reverse(),a}var TreeSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.hasSymbolVisual=!0,a.ignoreStyleOnData=!0,a}return r.prototype.getInitialData=function(a){var o={name:a.name,children:a.data},s=a.leaves||{},l=new Model_default(s,this,this.ecModel),u=Tree_default.createTree(o,this,f);function f(y){y.wrapMethod("getItemModel",function(b,_){var x=u.getNodeByDataIndex(_);return x&&x.children.length&&x.isExpand||(b.parentModel=l),b})}var d=0;u.eachNode("preorder",function(y){y.depth>d&&(d=y.depth)});var v=a.expandAndCollapse,g=v&&a.initialTreeDepth>=0?a.initialTreeDepth:d;return u.root.eachNode("preorder",function(y){var b=y.hostTree.data.getRawDataItem(y.dataIndex);y.isExpand=b&&b.collapsed!=null?!b.collapsed:y.depth<=g}),u.data},r.prototype.getOrient=function(){var a=this.get("orient");return a==="horizontal"?a="LR":a==="vertical"&&(a="TB"),a},r.prototype.setZoom=function(a){this.option.zoom=a},r.prototype.setCenter=function(a){this.option.center=a},r.prototype.formatTooltip=function(a,o,s){for(var l=this.getData().tree,u=l.root.children[0],f=l.getNodeByDataIndex(a),d=f.getValue(),v=f.name;f&&f!==u;)v=f.parentNode.name+"."+v,f=f.parentNode;return createTooltipMarkup("nameValue",{name:v,value:d,noValue:isNaN(d)||d==null})},r.prototype.getDataParams=function(a){var o=n.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(a);return o.treeAncestors=wrapTreePathInfo(s,this),o.collapsed=!s.isExpand,o},r.type="series.tree",r.layoutMode="box",r.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},r}(Series_default);function enableAriaDecalForTree(n){var r=n.getData(),a=r.tree,o={};a.eachNode(function(s){for(var l=s;l&&l.depth>1;)l=l.parentNode;var u=getDecalFromPalette(n.ecModel,l.name||l.dataIndex+"",o);s.setVisual("decal",u)})}var TreemapSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.preventUsingHoverLayer=!0,a}return r.prototype.getInitialData=function(a,o){var s={name:a.name,children:a.data};completeTreeValue(s);var l=a.levels||[],u=this.designatedVisualItemStyle={},f=new Model_default({itemStyle:u},this,o);l=a.levels=setDefault(l,o);var d=map3(l||[],function(y){return new Model_default(y,f,o)},this),v=Tree_default.createTree(s,this,g);function g(y){y.wrapMethod("getItemModel",function(b,_){var x=v.getNodeByDataIndex(_),C=x?d[x.depth]:null;return b.parentModel=C||f,b})}return v.data},r.prototype.optionUpdated=function(){this.resetViewRoot()},r.prototype.formatTooltip=function(a,o,s){var l=this.getData(),u=this.getRawValue(a),f=l.getName(a);return createTooltipMarkup("nameValue",{name:f,value:u})},r.prototype.getDataParams=function(a){var o=n.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(a);return o.treeAncestors=wrapTreePathInfo(s,this),o.treePathInfo=o.treeAncestors,o},r.prototype.setLayoutInfo=function(a){this.layoutInfo=this.layoutInfo||{},extend3(this.layoutInfo,a)},r.prototype.mapIdToIndex=function(a){var o=this._idIndexMap;o||(o=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var s=o.get(a);return s==null&&o.set(a,s=this._idIndexMapCount++),s},r.prototype.getViewRoot=function(){return this._viewRoot},r.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var o=this.getRawData().tree.root;(!a||a!==o&&!o.contains(a))&&(this._viewRoot=o)},r.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},r.type="series.treemap",r.layoutMode="box",r.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},r}(Series_default);function completeTreeValue(n){var r=0;each(n.children,function(o){completeTreeValue(o);var s=o.value;isArray3(s)&&(s=s[0]),r+=s});var a=n.value;isArray3(a)&&(a=a[0]),(a==null||isNaN(a))&&(a=r),a<0&&(a=0),isArray3(n.value)?n.value[0]=a:n.value=a}function setDefault(n,r){var a=normalizeToArray(r.get("color")),o=normalizeToArray(r.get(["aria","decal","decals"]));if(!!a){n=n||[];var s,l;each(n,function(f){var d=new Model_default(f),v=d.get("color"),g=d.get("decal");(d.get(["itemStyle","color"])||v&&v!=="none")&&(s=!0),(d.get(["itemStyle","decal"])||g&&g!=="none")&&(l=!0)});var u=n[0]||(n[0]={});return s||(u.color=a.slice()),!l&&o&&(u.decal=o.slice()),n}}var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function n(r){this.group=new Group_default,r.add(this.group)}return n.prototype.render=function(r,a,o,s){var l=r.getModel("breadcrumb"),u=this.group;if(u.removeAll(),!(!l.get("show")||!o)){var f=l.getModel("itemStyle"),d=f.getModel("textStyle"),v={pos:{left:l.get("left"),right:l.get("right"),top:l.get("top"),bottom:l.get("bottom")},box:{width:a.getWidth(),height:a.getHeight()},emptyItemWidth:l.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,v,d),this._renderContent(r,v,f,d,s),positionElement(u,v.pos,v.box)}},n.prototype._prepare=function(r,a,o){for(var s=r;s;s=s.parentNode){var l=convertOptionIdName(s.getModel().get("name"),""),u=o.getTextRect(l),f=Math.max(u.width+TEXT_PADDING*2,a.emptyItemWidth);a.totalWidth+=f+ITEM_GAP,a.renderList.push({node:s,text:l,width:f})}},n.prototype._renderContent=function(r,a,o,s,l){for(var u=0,f=a.emptyItemWidth,d=r.get(["breadcrumb","height"]),v=getAvailableSize(a.pos,a.box),g=a.totalWidth,y=a.renderList,b=y.length-1;b>=0;b--){var _=y[b],x=_.node,C=_.width,w=_.text;g>v.width&&(g-=C-f,C=f,w=null);var S=new Polygon_default({shape:{points:makeItemPoints(u,0,C,d,b===y.length-1,b===0)},style:defaults(o.getItemStyle(),{lineJoin:"bevel"}),textContent:new Text_default({style:{text:w,fill:s.getTextColor(),font:s.getFont()}}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry(l,x)});S.disableLabelAnimation=!0,this.group.add(S),packEventData(S,r,x),u+=C+ITEM_GAP}},n.prototype.remove=function(){this.group.removeAll()},n}();function makeItemPoints(n,r,a,o,s,l){var u=[[s?n:n-ARRAY_LENGTH,r],[n+a,r],[n+a,r+o],[s?n:n-ARRAY_LENGTH,r+o]];return!l&&u.splice(2,0,[n+a+ARRAY_LENGTH,r+o/2]),!s&&u.push([n,r+o/2]),u}function packEventData(n,r,a){getECData(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:a&&a.dataIndex,name:a&&a.name},treePathInfo:a&&wrapTreePathInfo(a,r)}}var Breadcrumb_default=Breadcrumb,AnimationWrap=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(r,a,o,s,l){return this._elExistsMap[r.id]?!1:(this._elExistsMap[r.id]=!0,this._storage.push({el:r,target:a,duration:o,delay:s,easing:l}),!0)},n.prototype.finished=function(r){return this._finishedCallback=r,this},n.prototype.start=function(){for(var r=this,a=this._storage.length,o=function(){a--,a<=0&&(r._storage.length=0,r._elExistsMap={},r._finishedCallback&&r._finishedCallback())},s=0,l=this._storage.length;s<l;s++){var u=this._storage[s];u.el.animateTo(u.target,{duration:u.duration,delay:u.delay,easing:u.easing,setToFinal:!0,done:o,aborted:o})}return this},n}();function createWrap(){return new AnimationWrap}var Group4=Group_default,Rect3=Rect_default,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(n){var r=getStateItemStyle(n);return r.stroke=r.fill=r.lineWidth=null,r},inner19=makeInner(),TreemapView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a._state="ready",a._storage=createStorage(),a}return r.prototype.render=function(a,o,s,l){var u=o.findComponents({mainType:"series",subType:"treemap",query:l});if(!(indexOf(u,a)<0)){this.seriesModel=a,this.api=s,this.ecModel=o;var f=["treemapZoomToNode","treemapRootToNode"],d=retrieveTargetInfo(l,f,a),v=l&&l.type,g=a.layoutInfo,y=!this._oldTree,b=this._storage,_=v==="treemapRootToNode"&&d&&b?{rootNodeGroup:b.nodeGroup[d.node.getRawIndex()],direction:l.direction}:null,x=this._giveContainerGroup(g),C=a.get("animation"),w=this._doRender(x,a,_);C&&!y&&(!v||v==="treemapZoomToNode"||v==="treemapRootToNode")?this._doAnimation(x,w,a,_):w.renderFinally(),this._resetController(s),this._renderBreadcrumb(a,s,d)}},r.prototype._giveContainerGroup=function(a){var o=this._containerGroup;return o||(o=this._containerGroup=new Group4,this._initEvents(o),this.group.add(o)),o.x=a.x,o.y=a.y,o},r.prototype._doRender=function(a,o,s){var l=o.getData().tree,u=this._oldTree,f=createStorage(),d=createStorage(),v=this._storage,g=[];function y(w,S,D,A){return renderNode(o,d,v,s,f,g,w,S,D,A)}_(l.root?[l.root]:[],u&&u.root?[u.root]:[],a,l===u||!u,0);var b=x(v);return this._oldTree=l,this._storage=d,{lastsForAnimation:f,willDeleteEls:b,renderFinally:C};function _(w,S,D,A,T){A?(S=w,each(w,function(P,I){!P.isRemoved()&&E(I,I)})):new DataDiffer_default(S,w,M,M).add(E).update(E).remove(curry(E,null)).execute();function M(P){return P.getId()}function E(P,I){var F=P!=null?w[P]:null,L=I!=null?S[I]:null,O=y(F,L,D,T);O&&_(F&&F.viewChildren||[],L&&L.viewChildren||[],O,A,T+1)}}function x(w){var S=createStorage();return w&&each(w,function(D,A){var T=S[A];each(D,function(M){M&&(T.push(M),inner19(M).willDelete=!0)})}),S}function C(){each(b,function(w){each(w,function(S){S.parent&&S.parent.remove(S)})}),each(g,function(w){w.invisible=!0,w.dirty()})}},r.prototype._doAnimation=function(a,o,s,l){var u=s.get("animationDurationUpdate"),f=s.get("animationEasing"),d=(isFunction3(u)?0:u)||0,v=(isFunction3(f)?null:f)||"cubicOut",g=createWrap();each(o.willDeleteEls,function(y,b){each(y,function(_,x){if(!_.invisible){var C=_.parent,w,S=inner19(C);if(l&&l.direction==="drillDown")w=C===l.rootNodeGroup?{shape:{x:0,y:0,width:S.nodeWidth,height:S.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var D=0,A=0;S.willDelete||(D=S.nodeWidth/2,A=S.nodeHeight/2),w=b==="nodeGroup"?{x:D,y:A,style:{opacity:0}}:{shape:{x:D,y:A,width:0,height:0},style:{opacity:0}}}w&&g.add(_,w,d,0,v)}})}),each(this._storage,function(y,b){each(y,function(_,x){var C=o.lastsForAnimation[b][x],w={};!C||(_ instanceof Group_default?C.oldX!=null&&(w.x=_.x,w.y=_.y,_.x=C.oldX,_.y=C.oldY):(C.oldShape&&(w.shape=extend3({},_.shape),_.setShape(C.oldShape)),C.fadein?(_.setStyle("opacity",0),w.style={opacity:1}):_.style.opacity!==1&&(w.style={opacity:1})),g.add(_,w,d,0,v))})},this),this._state="animating",g.finished(bind(function(){this._state="ready",o.renderFinally()},this)).start()},r.prototype._resetController=function(a){var o=this._controller;o||(o=this._controller=new RoamController_default(a.getZr()),o.enable(this.seriesModel.get("roam")),o.on("pan",bind(this._onPan,this)),o.on("zoom",bind(this._onZoom,this)));var s=new BoundingRect_default(0,0,a.getWidth(),a.getHeight());o.setPointerChecker(function(l,u,f){return s.contain(u,f)})},r.prototype._clearController=function(){var a=this._controller;a&&(a.dispose(),a=null)},r.prototype._onPan=function(a){if(this._state!=="animating"&&(Math.abs(a.dx)>DRAG_THRESHOLD||Math.abs(a.dy)>DRAG_THRESHOLD)){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x+a.dx,y:s.y+a.dy,width:s.width,height:s.height}})}},r.prototype._onZoom=function(a){var o=a.originX,s=a.originY;if(this._state!=="animating"){var l=this.seriesModel.getData().tree.root;if(!l)return;var u=l.getLayout();if(!u)return;var f=new BoundingRect_default(u.x,u.y,u.width,u.height),d=this.seriesModel.layoutInfo;o-=d.x,s-=d.y;var v=create2();translate(v,v,[-o,-s]),scale2(v,v,[a.scale,a.scale]),translate(v,v,[o,s]),f.applyTransform(v),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},r.prototype._initEvents=function(a){var o=this;a.on("click",function(s){if(o._state==="ready"){var l=o.seriesModel.get("nodeClick",!0);if(!!l){var u=o.findTarget(s.offsetX,s.offsetY);if(!!u){var f=u.node;if(f.getLayout().isLeafRoot)o._rootToNode(u);else if(l==="zoomToNode")o._zoomToNode(u);else if(l==="link"){var d=f.hostTree.data.getItemModel(f.dataIndex),v=d.get("link",!0),g=d.get("target",!0)||"blank";v&&windowOpen(v,g)}}}}},this)},r.prototype._renderBreadcrumb=function(a,o,s){var l=this;s||(s=a.get("leafDepth",!0)!=null?{node:a.getViewRoot()}:this.findTarget(o.getWidth()/2,o.getHeight()/2),s||(s={node:a.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb_default(this.group))).render(a,o,s.node,function(u){l._state!=="animating"&&(aboveViewRoot(a.getViewRoot(),u)?l._rootToNode({node:u}):l._zoomToNode({node:u}))})},r.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},r.prototype.dispose=function(){this._clearController()},r.prototype._zoomToNode=function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},r.prototype._rootToNode=function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},r.prototype.findTarget=function(a,o){var s,l=this.seriesModel.getViewRoot();return l.eachNode({attr:"viewChildren",order:"preorder"},function(u){var f=this._storage.background[u.getRawIndex()];if(f){var d=f.transformCoordToLocal(a,o),v=f.shape;if(v.x<=d[0]&&d[0]<=v.x+v.width&&v.y<=d[1]&&d[1]<=v.y+v.height)s={node:u,offsetX:d[0],offsetY:d[1]};else return!1}},this),s},r.type="treemap",r}(Chart_default);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(n,r,a,o,s,l,u,f,d,v){if(!u)return;var g=u.getLayout(),y=n.getData(),b=u.getModel();if(y.setItemGraphicEl(u.dataIndex,null),!g||!g.isInView)return;var _=g.width,x=g.height,C=g.borderWidth,w=g.invisible,S=u.getRawIndex(),D=f&&f.getRawIndex(),A=u.viewChildren,T=g.upperHeight,M=A&&A.length,E=b.getModel("itemStyle"),P=b.getModel(["emphasis","itemStyle"]),I=b.getModel(["blur","itemStyle"]),F=b.getModel(["select","itemStyle"]),L=E.get("borderRadius")||0,O=ve("nodeGroup",Group4);if(!O)return;if(d.add(O),O.x=g.x||0,O.y=g.y||0,O.markRedraw(),inner19(O).nodeWidth=_,inner19(O).nodeHeight=x,g.isAboveViewRoot)return O;var z=ve("background",Rect3,v,Z2_BG);z&&G(O,z,M&&g.upperLabelHeight);var R=b.getModel("emphasis"),B=R.get("focus"),N=R.get("blurScope"),H=R.get("disabled"),W=B==="ancestor"?u.getAncestorsIndices():B==="descendant"?u.getDescendantIndices():B;if(M)isHighDownDispatcher(O)&&setAsHighDownDispatcher(O,!1),z&&(setAsHighDownDispatcher(z,!H),y.setItemGraphicEl(u.dataIndex,z),enableHoverFocus(z,W,N));else{var V=ve("content",Rect3,v,Z2_CONTENT);V&&Y(O,V),z.disableMorphing=!0,z&&isHighDownDispatcher(z)&&setAsHighDownDispatcher(z,!1),setAsHighDownDispatcher(O,!H),y.setItemGraphicEl(u.dataIndex,O),enableHoverFocus(O,W,N)}return O;function G(pe,de,ue){var be=getECData(de);if(be.dataIndex=u.dataIndex,be.seriesIndex=n.seriesIndex,de.setShape({x:0,y:0,width:_,height:x,r:L}),w)Q(de);else{de.invisible=!1;var se=u.getVisual("style"),_e=se.stroke,Me=getItemStyleNormal(E);Me.fill=_e;var $=getStateItemStyle(P);$.fill=P.get("borderColor");var U=getStateItemStyle(I);U.fill=I.get("borderColor");var Z=getStateItemStyle(F);if(Z.fill=F.get("borderColor"),ue){var ee=_-2*C;q(de,_e,se.opacity,{x:C,y:0,width:ee,height:T})}else de.removeTextContent();de.setStyle(Me),de.ensureState("emphasis").style=$,de.ensureState("blur").style=U,de.ensureState("select").style=Z,setDefaultStateProxy(de)}pe.add(de)}function Y(pe,de){var ue=getECData(de);ue.dataIndex=u.dataIndex,ue.seriesIndex=n.seriesIndex;var be=Math.max(_-2*C,0),se=Math.max(x-2*C,0);if(de.culling=!0,de.setShape({x:C,y:C,width:be,height:se,r:L}),w)Q(de);else{de.invisible=!1;var _e=u.getVisual("style"),Me=_e.fill,$=getItemStyleNormal(E);$.fill=Me,$.decal=_e.decal;var U=getStateItemStyle(P),Z=getStateItemStyle(I),ee=getStateItemStyle(F);q(de,Me,_e.opacity,null),de.setStyle($),de.ensureState("emphasis").style=U,de.ensureState("blur").style=Z,de.ensureState("select").style=ee,setDefaultStateProxy(de)}pe.add(de)}function Q(pe){!pe.invisible&&l.push(pe)}function q(pe,de,ue,be){var se=b.getModel(be?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),_e=convertOptionIdName(b.get("name"),null),Me=se.getShallow("show");setLabelStyle(pe,getLabelStatesModels(b,be?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:Me?_e:null,inheritColor:de,defaultOpacity:ue,labelFetcher:n,labelDataIndex:u.dataIndex});var $=pe.getTextContent();if(!!$){var U=$.style,Z=normalizeCssArray(U.padding||0);be&&(pe.setTextConfig({layoutRect:be}),$.disableLabelLayout=!0),$.beforeUpdate=function(){var re=Math.max((be?be.width:pe.shape.width)-Z[1]-Z[3],0),ie=Math.max((be?be.height:pe.shape.height)-Z[0]-Z[2],0);(U.width!==re||U.height!==ie)&&$.setStyle({width:re,height:ie})},U.truncateMinChar=2,U.lineOverflow="truncate",ne(U,be,g);var ee=$.getState("emphasis");ne(ee?ee.style:null,be,g)}}function ne(pe,de,ue){var be=pe?pe.text:null;if(!de&&ue.isLeafRoot&&be!=null){var se=n.get("drillDownIcon",!0);pe.text=se?se+" "+be:be}}function ve(pe,de,ue,be){var se=D!=null&&a[pe][D],_e=s[pe];return se?(a[pe][D]=null,fe(_e,se)):w||(se=new de,se instanceof Displayable_default&&(se.z2=calculateZ2(ue,be)),he(_e,se)),r[pe][S]=se}function fe(pe,de){var ue=pe[S]={};de instanceof Group4?(ue.oldX=de.x,ue.oldY=de.y):ue.oldShape=extend3({},de.shape)}function he(pe,de){var ue=pe[S]={},be=u.parentNode,se=de instanceof Group_default;if(be&&(!o||o.direction==="drillDown")){var _e=0,Me=0,$=s.background[be.getRawIndex()];!o&&$&&$.oldShape&&(_e=$.oldShape.width,Me=$.oldShape.height),se?(ue.oldX=0,ue.oldY=Me):ue.oldShape={x:_e,y:Me,width:0,height:0}}ue.fadein=!se}}function calculateZ2(n,r){return n*Z2_BASE+r}var inner20=makeInner(),KEY_DELIMITER="-->",getAutoCurvenessParams=function(n){return n.get("autoCurveness")||null},createCurveness=function(n,r){var a=getAutoCurvenessParams(n),o=20,s=[];if(isNumber(a))o=a;else if(isArray3(a)){n.__curvenessList=a;return}r>o&&(o=r);var l=o%2?o+2:o+3;s=[];for(var u=0;u<l;u++)s.push((u%2?u+1:u)/10*(u%2?-1:1));n.__curvenessList=s},getKeyOfEdges=function(n,r,a){var o=[n.id,n.dataIndex].join("."),s=[r.id,r.dataIndex].join(".");return[a.uid,o,s].join(KEY_DELIMITER)},getOppositeKey=function(n){var r=n.split(KEY_DELIMITER);return[r[0],r[2],r[1]].join(KEY_DELIMITER)};function initCurvenessList(n){!getAutoCurvenessParams(n)||(n.__curvenessList=[],n.__edgeMap={},createCurveness(n))}function createEdgeMapForCurveness(n,r,a,o){if(!!getAutoCurvenessParams(a)){var s=getKeyOfEdges(n,r,a),l=a.__edgeMap,u=l[getOppositeKey(s)];l[s]&&!u?l[s].isForward=!0:u&&l[s]&&(u.isForward=!0,l[s].isForward=!1),l[s]=l[s]||[],l[s].push(o)}}function getNodeGlobalScale(n){var r=n.coordinateSystem;if(r.type!=="view")return 1;var a=n.option.nodeScaleRatio,o=r.scaleX,s=r.getZoom(),l=(s-1)*a+1;return l/o}function getSymbolSize(n){var r=n.getVisual("symbolSize");return r instanceof Array&&(r=(r[0]+r[1])/2),+r}var v1=[],v2=[],v3=[],quadraticAt2=quadraticAt,v2DistSquare=distSquare,mathAbs3=Math.abs;function intersectCurveCircle(n,r,a){for(var o=n[0],s=n[1],l=n[2],u=1/0,f,d=a*a,v=.1,g=.1;g<=.9;g+=.1){v1[0]=quadraticAt2(o[0],s[0],l[0],g),v1[1]=quadraticAt2(o[1],s[1],l[1],g);var y=mathAbs3(v2DistSquare(v1,r)-d);y<u&&(u=y,f=g)}for(var b=0;b<32;b++){var _=f+v;v2[0]=quadraticAt2(o[0],s[0],l[0],f),v2[1]=quadraticAt2(o[1],s[1],l[1],f),v3[0]=quadraticAt2(o[0],s[0],l[0],_),v3[1]=quadraticAt2(o[1],s[1],l[1],_);var y=v2DistSquare(v2,r)-d;if(mathAbs3(y)<.01)break;var x=v2DistSquare(v3,r)-d;v/=2,y<0?x>=0?f=f+v:f=f-v:x>=0?f=f-v:f=f+v}return f}function adjustEdge(n,r){var a=[],o=quadraticSubdivide,s=[[],[],[]],l=[[],[]],u=[];r/=2,n.eachEdge(function(f,d){var v=f.getLayout(),g=f.getVisual("fromSymbol"),y=f.getVisual("toSymbol");v.__original||(v.__original=[clone2(v[0]),clone2(v[1])],v[2]&&v.__original.push(clone2(v[2])));var b=v.__original;if(v[2]!=null){if(copy(s[0],b[0]),copy(s[1],b[2]),copy(s[2],b[1]),g&&g!=="none"){var _=getSymbolSize(f.node1),x=intersectCurveCircle(s,b[0],_*r);o(s[0][0],s[1][0],s[2][0],x,a),s[0][0]=a[3],s[1][0]=a[4],o(s[0][1],s[1][1],s[2][1],x,a),s[0][1]=a[3],s[1][1]=a[4]}if(y&&y!=="none"){var _=getSymbolSize(f.node2),x=intersectCurveCircle(s,b[1],_*r);o(s[0][0],s[1][0],s[2][0],x,a),s[1][0]=a[1],s[2][0]=a[2],o(s[0][1],s[1][1],s[2][1],x,a),s[1][1]=a[1],s[2][1]=a[2]}copy(v[0],s[0]),copy(v[1],s[2]),copy(v[2],s[1])}else{if(copy(l[0],b[0]),copy(l[1],b[1]),sub(u,l[1],l[0]),normalize2(u,u),g&&g!=="none"){var _=getSymbolSize(f.node1);scaleAndAdd(l[0],l[0],u,_*r)}if(y&&y!=="none"){var _=getSymbolSize(f.node2);scaleAndAdd(l[1],l[1],u,-_*r)}copy(v[0],l[0]),copy(v[1],l[1])}})}function isViewCoordSys(n){return n.type==="view"}var GraphView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.init=function(a,o){var s=new SymbolDraw_default,l=new LineDraw_default,u=this.group;this._controller=new RoamController_default(o.getZr()),this._controllerHost={target:u},u.add(s.group),u.add(l.group),this._symbolDraw=s,this._lineDraw=l,this._firstRender=!0},r.prototype.render=function(a,o,s){var l=this,u=a.coordinateSystem;this._model=a;var f=this._symbolDraw,d=this._lineDraw,v=this.group;if(isViewCoordSys(u)){var g={x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY};this._firstRender?v.attr(g):updateProps2(v,g,a)}adjustEdge(a.getGraph(),getNodeGlobalScale(a));var y=a.getData();f.updateData(y);var b=a.getEdgeData();d.updateData(b),this._updateNodeAndLinkScale(),this._updateController(a,o,s),clearTimeout(this._layoutTimeout);var _=a.forceLayout,x=a.get(["force","layoutAnimation"]);_&&this._startForceLayoutIteration(_,x),y.graph.eachNode(function(D){var A=D.dataIndex,T=D.getGraphicEl(),M=D.getModel();if(!!T){T.off("drag").off("dragend");var E=M.get("draggable");E&&T.on("drag",function(){_&&(_.warmUp(),!l._layouting&&l._startForceLayoutIteration(_,x),_.setFixed(A),y.setItemLayout(A,[T.x,T.y]))}).on("dragend",function(){_&&_.setUnfixed(A)}),T.setDraggable(E&&!!_);var P=M.get(["emphasis","focus"]);P==="adjacency"&&(getECData(T).focus=D.getAdjacentDataIndices())}}),y.graph.eachEdge(function(D){var A=D.getGraphicEl(),T=D.getModel().get(["emphasis","focus"]);!A||T==="adjacency"&&(getECData(A).focus={edge:[D.dataIndex],node:[D.node1.dataIndex,D.node2.dataIndex]})});var C=a.get("layout")==="circular"&&a.get(["circular","rotateLabel"]),w=y.getLayout("cx"),S=y.getLayout("cy");y.eachItemGraphicEl(function(D,A){var T=y.getItemModel(A),M=T.get(["label","rotate"])||0,E=D.getSymbolPath();if(C){var P=y.getItemLayout(A),I=Math.atan2(P[1]-S,P[0]-w);I<0&&(I=Math.PI*2+I);var F=P[0]<w;F&&(I=I-Math.PI);var L=F?"left":"right";E.setTextConfig({rotation:-I,position:L,origin:"center"});var O=E.ensureState("emphasis");extend3(O.textConfig||(O.textConfig={}),{position:L})}else E.setTextConfig({rotation:M*=Math.PI/180})}),this._firstRender=!1},r.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},r.prototype._startForceLayoutIteration=function(a,o){var s=this;(function l(){a.step(function(u){s.updateLayout(s._model),(s._layouting=!u)&&(o?s._layoutTimeout=setTimeout(l,16):l())})})()},r.prototype._updateController=function(a,o,s){var l=this,u=this._controller,f=this._controllerHost,d=this.group;if(u.setPointerChecker(function(v,g,y){var b=d.getBoundingRect();return b.applyTransform(d.transform),b.contain(g,y)&&!onIrrelevantElement(v,s,a)}),!isViewCoordSys(a.coordinateSystem)){u.disable();return}u.enable(a.get("roam")),f.zoomLimit=a.get("scaleLimit"),f.zoom=a.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(v){updateViewOnPan(f,v.dx,v.dy),s.dispatchAction({seriesId:a.id,type:"graphRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){updateViewOnZoom(f,v.scale,v.originX,v.originY),s.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),l._updateNodeAndLinkScale(),adjustEdge(a.getGraph(),getNodeGlobalScale(a)),l._lineDraw.updateLayout(),s.updateLabelLayout()})},r.prototype._updateNodeAndLinkScale=function(){var a=this._model,o=a.getData(),s=getNodeGlobalScale(a);o.eachItemGraphicEl(function(l,u){l&&l.setSymbolScale(s)})},r.prototype.updateLayout=function(a){adjustEdge(a.getGraph(),getNodeGlobalScale(a)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},r.prototype.remove=function(a,o){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},r.type="graph",r}(Chart_default);function generateNodeKey(n){return"_EC_"+n}var Graph=function(){function n(r){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=r||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(r,a){r=r==null?""+a:""+r;var o=this._nodesMap;if(o[generateNodeKey(r)]){console.error("Graph nodes have duplicate name or id");return}var s=new GraphNode(r,a);return s.hostGraph=this,this.nodes.push(s),o[generateNodeKey(r)]=s,s},n.prototype.getNodeByIndex=function(r){var a=this.data.getRawIndex(r);return this.nodes[a]},n.prototype.getNodeById=function(r){return this._nodesMap[generateNodeKey(r)]},n.prototype.addEdge=function(r,a,o){var s=this._nodesMap,l=this._edgesMap;if(isNumber(r)&&(r=this.nodes[r]),isNumber(a)&&(a=this.nodes[a]),r instanceof GraphNode||(r=s[generateNodeKey(r)]),a instanceof GraphNode||(a=s[generateNodeKey(a)]),!(!r||!a)){var u=r.id+"-"+a.id,f=new GraphEdge(r,a,o);return f.hostGraph=this,this._directed&&(r.outEdges.push(f),a.inEdges.push(f)),r.edges.push(f),r!==a&&a.edges.push(f),this.edges.push(f),l[u]=f,f}},n.prototype.getEdgeByIndex=function(r){var a=this.edgeData.getRawIndex(r);return this.edges[a]},n.prototype.getEdge=function(r,a){r instanceof GraphNode&&(r=r.id),a instanceof GraphNode&&(a=a.id);var o=this._edgesMap;return this._directed?o[r+"-"+a]:o[r+"-"+a]||o[a+"-"+r]},n.prototype.eachNode=function(r,a){for(var o=this.nodes,s=o.length,l=0;l<s;l++)o[l].dataIndex>=0&&r.call(a,o[l],l)},n.prototype.eachEdge=function(r,a){for(var o=this.edges,s=o.length,l=0;l<s;l++)o[l].dataIndex>=0&&o[l].node1.dataIndex>=0&&o[l].node2.dataIndex>=0&&r.call(a,o[l],l)},n.prototype.breadthFirstTraverse=function(r,a,o,s){if(a instanceof GraphNode||(a=this._nodesMap[generateNodeKey(a)]),!!a){for(var l=o==="out"?"outEdges":o==="in"?"inEdges":"edges",u=0;u<this.nodes.length;u++)this.nodes[u].__visited=!1;if(!r.call(s,a,null))for(var f=[a];f.length;)for(var d=f.shift(),v=d[l],u=0;u<v.length;u++){var g=v[u],y=g.node1===d?g.node2:g.node1;if(!y.__visited){if(r.call(s,y,d))return;f.push(y),y.__visited=!0}}}},n.prototype.update=function(){for(var r=this.data,a=this.edgeData,o=this.nodes,s=this.edges,l=0,u=o.length;l<u;l++)o[l].dataIndex=-1;for(var l=0,u=r.count();l<u;l++)o[r.getRawIndex(l)].dataIndex=l;a.filterSelf(function(f){var d=s[a.getRawIndex(f)];return d.node1.dataIndex>=0&&d.node2.dataIndex>=0});for(var l=0,u=s.length;l<u;l++)s[l].dataIndex=-1;for(var l=0,u=a.count();l<u;l++)s[a.getRawIndex(l)].dataIndex=l},n.prototype.clone=function(){for(var r=new n(this._directed),a=this.nodes,o=this.edges,s=0;s<a.length;s++)r.addNode(a[s].id,a[s].dataIndex);for(var s=0;s<o.length;s++){var l=o[s];r.addEdge(l.node1.id,l.node2.id,l.dataIndex)}return r},n}(),GraphNode=function(){function n(r,a){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=r==null?"":r,this.dataIndex=a==null?-1:a}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(r){if(!(this.dataIndex<0)){var a=this.hostGraph,o=a.data.getItemModel(this.dataIndex);return o.getModel(r)}},n.prototype.getAdjacentDataIndices=function(){for(var r={edge:[],node:[]},a=0;a<this.edges.length;a++){var o=this.edges[a];o.dataIndex<0||(r.edge.push(o.dataIndex),r.node.push(o.node1.dataIndex,o.node2.dataIndex))}return r},n}(),GraphEdge=function(){function n(r,a,o){this.dataIndex=-1,this.node1=r,this.node2=a,this.dataIndex=o==null?-1:o}return n.prototype.getModel=function(r){if(!(this.dataIndex<0)){var a=this.hostGraph,o=a.edgeData.getItemModel(this.dataIndex);return o.getModel(r)}},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n}();function createGraphDataProxyMixin(n,r){return{getValue:function(a){var o=this[n][r];return o.getStore().get(o.getDimensionIndex(a||"value"),this.dataIndex)},setVisual:function(a,o){this.dataIndex>=0&&this[n][r].setItemVisual(this.dataIndex,a,o)},getVisual:function(a){return this[n][r].getItemVisual(this.dataIndex,a)},setLayout:function(a,o){this.dataIndex>=0&&this[n][r].setItemLayout(this.dataIndex,a,o)},getLayout:function(){return this[n][r].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][r].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][r].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data")),mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));var Graph_default=Graph;function createGraphFromNodeEdge(n,r,a,o,s){for(var l=new Graph_default(o),u=0;u<n.length;u++)l.addNode(retrieve(n[u].id,n[u].name,u),u);for(var f=[],d=[],v=0,u=0;u<r.length;u++){var g=r[u],y=g.source,b=g.target;l.addEdge(y,b,v)&&(d.push(g),f.push(retrieve(convertOptionIdName(g.id,null),y+" > "+b)),v++)}var _=a.get("coordinateSystem"),x;if(_==="cartesian2d"||_==="polar")x=createSeriesData_default(n,a);else{var C=CoordinateSystem_default.get(_),w=C?C.dimensions||[]:[];indexOf(w,"value")<0&&w.concat(["value"]);var S=prepareSeriesDataSchema(n,{coordDimensions:w,encodeDefine:a.getEncode()}).dimensions;x=new SeriesData_default(S,a),x.initData(n)}var D=new SeriesData_default(["value"],a);return D.initData(d,f),s&&s(x,D),linkSeriesData_default({mainData:x,struct:l,structAttr:"graph",datas:{node:x,edge:D},datasAttr:{node:"data",edge:"edgeData"}}),l.update(),l}var GraphSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.hasSymbolVisual=!0,a}return r.prototype.init=function(a){n.prototype.init.apply(this,arguments);var o=this;function s(){return o._categoriesData}this.legendVisualProvider=new LegendVisualProvider_default(s,s),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},r.prototype.mergeOption=function(a){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(a.edges||a.links),this._updateCategoriesData()},r.prototype.mergeDefaultAndTheme=function(a){n.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(a,"edgeLabel",["show"])},r.prototype.getInitialData=function(a,o){var s=a.edges||a.links||[],l=a.data||a.nodes||[],u=this;if(l&&s){initCurvenessList(this);var f=createGraphFromNodeEdge(l,s,this,!0,d);return each(f.edges,function(v){createEdgeMapForCurveness(v.node1,v.node2,this,v.dataIndex)},this),f.data}function d(v,g){v.wrapMethod("getItemModel",function(x){var C=u._categoriesModels,w=x.getShallow("category"),S=C[w];return S&&(S.parentModel=x.parentModel,x.parentModel=S),x});var y=Model_default.prototype.getModel;function b(x,C){var w=y.call(this,x,C);return w.resolveParentPath=_,w}g.wrapMethod("getItemModel",function(x){return x.resolveParentPath=_,x.getModel=b,x});function _(x){if(x&&(x[0]==="label"||x[1]==="label")){var C=x.slice();return x[0]==="label"?C[0]="edgeLabel":x[1]==="label"&&(C[1]="edgeLabel"),C}return x}}},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.getCategoriesData=function(){return this._categoriesData},r.prototype.formatTooltip=function(a,o,s){if(s==="edge"){var l=this.getData(),u=this.getDataParams(a,s),f=l.graph.getEdgeByIndex(a),d=l.getName(f.node1.dataIndex),v=l.getName(f.node2.dataIndex),g=[];return d!=null&&g.push(d),v!=null&&g.push(v),createTooltipMarkup("nameValue",{name:g.join(" > "),value:u.value,noValue:u.value==null})}var y=defaultSeriesFormatTooltip({series:this,dataIndex:a,multipleSeries:o});return y},r.prototype._updateCategoriesData=function(){var a=map3(this.option.categories||[],function(s){return s.value!=null?s:extend3({value:0},s)}),o=new SeriesData_default(["value"],this);o.initData(a),this._categoriesData=o,this._categoriesModels=o.mapArray(function(s){return o.getItemModel(s)})},r.prototype.setZoom=function(a){this.option.zoom=a},r.prototype.setCenter=function(a){this.option.center=a},r.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},r.type="series.graph",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},r}(Series_default),PointerShape=function(){function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return n}(),PointerPath=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o.type="pointer",o}return r.prototype.getDefaultShape=function(){return new PointerShape},r.prototype.buildPath=function(a,o){var s=Math.cos,l=Math.sin,u=o.r,f=o.width,d=o.angle,v=o.x-s(d)*f*(f>=u/3?1:2),g=o.y-l(d)*f*(f>=u/3?1:2);d=o.angle-Math.PI/2,a.moveTo(v,g),a.lineTo(o.x+s(d)*f,o.y+l(d)*f),a.lineTo(o.x+s(o.angle)*u,o.y+l(o.angle)*u),a.lineTo(o.x-s(d)*f,o.y-l(d)*f),a.lineTo(v,g)},r}(Path_default),PointerPath_default=PointerPath;function parsePosition(n,r){var a=n.get("center"),o=r.getWidth(),s=r.getHeight(),l=Math.min(o,s),u=parsePercent2(a[0],r.getWidth()),f=parsePercent2(a[1],r.getHeight()),d=parsePercent2(n.get("radius"),l/2);return{cx:u,cy:f,r:d}}function formatLabel(n,r){var a=n==null?"":n+"";return r&&(isString2(r)?a=r.replace("{value}",a):isFunction3(r)&&(a=r(n))),a}var GaugeView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){this.group.removeAll();var l=a.get(["axisLine","lineStyle","color"]),u=parsePosition(a,s);this._renderMain(a,o,s,l,u),this._data=a.getData()},r.prototype.dispose=function(){},r.prototype._renderMain=function(a,o,s,l,u){var f=this.group,d=a.get("clockwise"),v=-a.get("startAngle")/180*Math.PI,g=-a.get("endAngle")/180*Math.PI,y=a.getModel("axisLine"),b=y.get("roundCap"),_=b?sausage_default:Sector_default,x=y.get("show"),C=y.getModel("lineStyle"),w=C.get("width"),S=[v,g];normalizeArcAngles(S,!d),v=S[0],g=S[1];for(var D=g-v,A=v,T=0;x&&T<l.length;T++){var M=Math.min(Math.max(l[T][0],0),1);g=v+D*M;var E=new _({shape:{startAngle:A,endAngle:g,cx:u.cx,cy:u.cy,clockwise:d,r0:u.r-w,r:u.r},silent:!0});E.setStyle({fill:l[T][1]}),E.setStyle(C.getLineStyle(["color","width"])),f.add(E),A=g}var P=function(I){if(I<=0)return l[0][1];var F;for(F=0;F<l.length;F++)if(l[F][0]>=I&&(F===0?0:l[F-1][0])<I)return l[F][1];return l[F-1][1]};this._renderTicks(a,o,s,P,u,v,g,d,w),this._renderTitleAndDetail(a,o,s,P,u),this._renderAnchor(a,u),this._renderPointer(a,o,s,P,u,v,g,d,w)},r.prototype._renderTicks=function(a,o,s,l,u,f,d,v,g){for(var y=this.group,b=u.cx,_=u.cy,x=u.r,C=+a.get("min"),w=+a.get("max"),S=a.getModel("splitLine"),D=a.getModel("axisTick"),A=a.getModel("axisLabel"),T=a.get("splitNumber"),M=D.get("splitNumber"),E=parsePercent2(S.get("length"),x),P=parsePercent2(D.get("length"),x),I=f,F=(d-f)/T,L=F/M,O=S.getModel("lineStyle").getLineStyle(),z=D.getModel("lineStyle").getLineStyle(),R=S.get("distance"),B,N,H=0;H<=T;H++){if(B=Math.cos(I),N=Math.sin(I),S.get("show")){var W=R?R+g:g,V=new Line_default({shape:{x1:B*(x-W)+b,y1:N*(x-W)+_,x2:B*(x-E-W)+b,y2:N*(x-E-W)+_},style:O,silent:!0});O.stroke==="auto"&&V.setStyle({stroke:l(H/T)}),y.add(V)}if(A.get("show")){var W=A.get("distance")+R,G=formatLabel(round(H/T*(w-C)+C),A.get("formatter")),Y=l(H/T);y.add(new Text_default({style:createTextStyle(A,{text:G,x:B*(x-E-W)+b,y:N*(x-E-W)+_,verticalAlign:N<-.8?"top":N>.8?"bottom":"middle",align:B<-.4?"left":B>.4?"right":"center"},{inheritColor:Y}),silent:!0}))}if(D.get("show")&&H!==T){var W=D.get("distance");W=W?W+g:g;for(var Q=0;Q<=M;Q++){B=Math.cos(I),N=Math.sin(I);var q=new Line_default({shape:{x1:B*(x-W)+b,y1:N*(x-W)+_,x2:B*(x-P-W)+b,y2:N*(x-P-W)+_},silent:!0,style:z});z.stroke==="auto"&&q.setStyle({stroke:l((H+Q/M)/T)}),y.add(q),I+=L}I-=L}else I+=F}},r.prototype._renderPointer=function(a,o,s,l,u,f,d,v,g){var y=this.group,b=this._data,_=this._progressEls,x=[],C=a.get(["pointer","show"]),w=a.getModel("progress"),S=w.get("show"),D=a.getData(),A=D.mapDimension("value"),T=+a.get("min"),M=+a.get("max"),E=[T,M],P=[f,d];function I(L,O){var z=D.getItemModel(L),R=z.getModel("pointer"),B=parsePercent2(R.get("width"),u.r),N=parsePercent2(R.get("length"),u.r),H=a.get(["pointer","icon"]),W=R.get("offsetCenter"),V=parsePercent2(W[0],u.r),G=parsePercent2(W[1],u.r),Y=R.get("keepAspect"),Q;return H?Q=createSymbol(H,V-B/2,G-N,B,N,null,Y):Q=new PointerPath_default({shape:{angle:-Math.PI/2,width:B,r:N,x:V,y:G}}),Q.rotation=-(O+Math.PI/2),Q.x=u.cx,Q.y=u.cy,Q}function F(L,O){var z=w.get("roundCap"),R=z?sausage_default:Sector_default,B=w.get("overlap"),N=B?w.get("width"):g/D.count(),H=B?u.r-N:u.r-(L+1)*N,W=B?u.r:u.r-L*N,V=new R({shape:{startAngle:f,endAngle:O,cx:u.cx,cy:u.cy,clockwise:v,r0:H,r:W}});return B&&(V.z2=M-D.get(A,L)%M),V}(S||C)&&(D.diff(b).add(function(L){var O=D.get(A,L);if(C){var z=I(L,f);initProps2(z,{rotation:-((isNaN(+O)?P[0]:linearMap(O,E,P,!0))+Math.PI/2)},a),y.add(z),D.setItemGraphicEl(L,z)}if(S){var R=F(L,f),B=w.get("clip");initProps2(R,{shape:{endAngle:linearMap(O,E,P,B)}},a),y.add(R),setCommonECData(a.seriesIndex,D.dataType,L,R),x[L]=R}}).update(function(L,O){var z=D.get(A,L);if(C){var R=b.getItemGraphicEl(O),B=R?R.rotation:f,N=I(L,B);N.rotation=B,updateProps2(N,{rotation:-((isNaN(+z)?P[0]:linearMap(z,E,P,!0))+Math.PI/2)},a),y.add(N),D.setItemGraphicEl(L,N)}if(S){var H=_[O],W=H?H.shape.endAngle:f,V=F(L,W),G=w.get("clip");updateProps2(V,{shape:{endAngle:linearMap(z,E,P,G)}},a),y.add(V),setCommonECData(a.seriesIndex,D.dataType,L,V),x[L]=V}}).execute(),D.each(function(L){var O=D.getItemModel(L),z=O.getModel("emphasis"),R=z.get("focus"),B=z.get("blurScope"),N=z.get("disabled");if(C){var H=D.getItemGraphicEl(L),W=D.getItemVisual(L,"style"),V=W.fill;if(H instanceof Image_default){var G=H.style;H.useStyle(extend3({image:G.image,x:G.x,y:G.y,width:G.width,height:G.height},W))}else H.useStyle(W),H.type!=="pointer"&&H.setColor(V);H.setStyle(O.getModel(["pointer","itemStyle"]).getItemStyle()),H.style.fill==="auto"&&H.setStyle("fill",l(linearMap(D.get(A,L),E,[0,1],!0))),H.z2EmphasisLift=0,setStatesStylesFromModel(H,O),toggleHoverEmphasis(H,R,B,N)}if(S){var Y=x[L];Y.useStyle(D.getItemVisual(L,"style")),Y.setStyle(O.getModel(["progress","itemStyle"]).getItemStyle()),Y.z2EmphasisLift=0,setStatesStylesFromModel(Y,O),toggleHoverEmphasis(Y,R,B,N)}}),this._progressEls=x)},r.prototype._renderAnchor=function(a,o){var s=a.getModel("anchor"),l=s.get("show");if(l){var u=s.get("size"),f=s.get("icon"),d=s.get("offsetCenter"),v=s.get("keepAspect"),g=createSymbol(f,o.cx-u/2+parsePercent2(d[0],o.r),o.cy-u/2+parsePercent2(d[1],o.r),u,u,null,v);g.z2=s.get("showAbove")?1:0,g.setStyle(s.getModel("itemStyle").getItemStyle()),this.group.add(g)}},r.prototype._renderTitleAndDetail=function(a,o,s,l,u){var f=this,d=a.getData(),v=d.mapDimension("value"),g=+a.get("min"),y=+a.get("max"),b=new Group_default,_=[],x=[],C=a.isAnimationEnabled(),w=a.get(["pointer","showAbove"]);d.diff(this._data).add(function(S){_[S]=new Text_default({silent:!0}),x[S]=new Text_default({silent:!0})}).update(function(S,D){_[S]=f._titleEls[D],x[S]=f._detailEls[D]}).execute(),d.each(function(S){var D=d.getItemModel(S),A=d.get(v,S),T=new Group_default,M=l(linearMap(A,[g,y],[0,1],!0)),E=D.getModel("title");if(E.get("show")){var P=E.get("offsetCenter"),I=u.cx+parsePercent2(P[0],u.r),F=u.cy+parsePercent2(P[1],u.r),L=_[S];L.attr({z2:w?0:2,style:createTextStyle(E,{x:I,y:F,text:d.getName(S),align:"center",verticalAlign:"middle"},{inheritColor:M})}),T.add(L)}var O=D.getModel("detail");if(O.get("show")){var z=O.get("offsetCenter"),R=u.cx+parsePercent2(z[0],u.r),B=u.cy+parsePercent2(z[1],u.r),N=parsePercent2(O.get("width"),u.r),H=parsePercent2(O.get("height"),u.r),W=a.get(["progress","show"])?d.getItemVisual(S,"style").fill:M,L=x[S],V=O.get("formatter");L.attr({z2:w?0:2,style:createTextStyle(O,{x:R,y:B,text:formatLabel(A,V),width:isNaN(N)?null:N,height:isNaN(H)?null:H,align:"center",verticalAlign:"middle"},{inheritColor:W})}),setLabelValueAnimation(L,{normal:O},A,function(Y){return formatLabel(Y,V)}),C&&animateLabelValue(L,S,d,a,{getFormattedLabel:function(Y,Q,q,ne,ve,fe){return formatLabel(fe?fe.interpolatedValue:A,V)}}),T.add(L)}b.add(T)}),this.group.add(b),this._titleEls=_,this._detailEls=x},r.type="gauge",r}(Chart_default),GaugeSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.visualStyleAccessPath="itemStyle",a}return r.prototype.getInitialData=function(a,o){return createSeriesDataSimply(this,["value"])},r.type="series.gauge",r.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},r}(Series_default),opacityAccessPath=["itemStyle","opacity"],FunnelPiece=function(n){__extends(r,n);function r(a,o){var s=n.call(this)||this,l=s,u=new Polyline_default,f=new Text_default;return l.setTextContent(f),s.setTextGuideLine(u),s.updateData(a,o,!0),s}return r.prototype.updateData=function(a,o,s){var l=this,u=a.hostModel,f=a.getItemModel(o),d=a.getItemLayout(o),v=f.getModel("emphasis"),g=f.get(opacityAccessPath);g=g==null?1:g,s||saveOldStyle(l),l.useStyle(a.getItemVisual(o,"style")),l.style.lineJoin="round",s?(l.setShape({points:d.points}),l.style.opacity=0,initProps2(l,{style:{opacity:g}},u,o)):updateProps2(l,{style:{opacity:g},shape:{points:d.points}},u,o),setStatesStylesFromModel(l,f),this._updateLabel(a,o),toggleHoverEmphasis(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},r.prototype._updateLabel=function(a,o){var s=this,l=this.getTextGuideLine(),u=s.getTextContent(),f=a.hostModel,d=a.getItemModel(o),v=a.getItemLayout(o),g=v.label,y=a.getItemVisual(o,"style"),b=y.fill;setLabelStyle(u,getLabelStatesModels(d),{labelFetcher:a.hostModel,labelDataIndex:o,defaultOpacity:y.opacity,defaultText:a.getName(o)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}}),s.setTextConfig({local:!0,inside:!!g.inside,insideStroke:b,outsideFill:b});var _=g.linePoints;l.setShape({points:_}),s.textGuideLineConfig={anchor:_?new Point_default(_[0][0],_[0][1]):null},updateProps2(u,{style:{x:g.x,y:g.y}},f,o),u.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),setLabelLineStyle(s,getLabelLineStatesModels(d),{stroke:b})},r}(Polygon_default),FunnelView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.ignoreLabelLineUpdate=!0,a}return r.prototype.render=function(a,o,s){var l=a.getData(),u=this._data,f=this.group;l.diff(u).add(function(d){var v=new FunnelPiece(l,d);l.setItemGraphicEl(d,v),f.add(v)}).update(function(d,v){var g=u.getItemGraphicEl(v);g.updateData(l,d),f.add(g),l.setItemGraphicEl(d,g)}).remove(function(d){var v=u.getItemGraphicEl(d);removeElementWithFadeOut(v,a,d)}).execute(),this._data=l},r.prototype.remove=function(){this.group.removeAll(),this._data=null},r.prototype.dispose=function(){},r.type="funnel",r}(Chart_default),FunnelSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.init=function(a){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind(this.getData,this),bind(this.getRawData,this)),this._defaultLabelLine(a)},r.prototype.getInitialData=function(a,o){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry(makeSeriesEncodeForNameBased,this)})},r.prototype._defaultLabelLine=function(a){defaultEmphasis(a,"labelLine",["show"]);var o=a.labelLine,s=a.emphasis.labelLine;o.show=o.show&&a.label.show,s.show=s.show&&a.emphasis.label.show},r.prototype.getDataParams=function(a){var o=this.getData(),s=n.prototype.getDataParams.call(this,a),l=o.mapDimension("value"),u=o.getSum(l);return s.percent=u?+(o.get(l,a)/u*100).toFixed(2):0,s.$vars.push("percent"),s},r.type="series.funnel",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},r}(Series_default),DEFAULT_SMOOTH=.3,ParallelView2=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a._dataGroup=new Group_default,a._initialized=!1,a}return r.prototype.init=function(){this.group.add(this._dataGroup)},r.prototype.render=function(a,o,s,l){this._progressiveEls=null;var u=this._dataGroup,f=a.getData(),d=this._data,v=a.coordinateSystem,g=v.dimensions,y=makeSeriesScope3(a);f.diff(d).add(b).update(_).remove(x).execute();function b(w){var S=addEl(f,u,w,g,v);updateElCommon(S,f,w,y)}function _(w,S){var D=d.getItemGraphicEl(S),A=createLinePoints(f,w,g,v);f.setItemGraphicEl(w,D),updateProps2(D,{shape:{points:A}},a,w),saveOldStyle(D),updateElCommon(D,f,w,y)}function x(w){var S=d.getItemGraphicEl(w);u.remove(S)}if(!this._initialized){this._initialized=!0;var C=createGridClipShape(v,a,function(){setTimeout(function(){u.removeClipPath()})});u.setClipPath(C)}this._data=f},r.prototype.incrementalPrepareRender=function(a,o,s){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},r.prototype.incrementalRender=function(a,o,s){for(var l=o.getData(),u=o.coordinateSystem,f=u.dimensions,d=makeSeriesScope3(o),v=this._progressiveEls=[],g=a.start;g<a.end;g++){var y=addEl(l,this._dataGroup,g,f,u);y.incremental=!0,updateElCommon(y,l,g,d),v.push(y)}},r.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},r.type="parallel",r}(Chart_default);function createGridClipShape(n,r,a){var o=n.model,s=n.getRect(),l=new Rect_default({shape:{x:s.x,y:s.y,width:s.width,height:s.height}}),u=o.get("layout")==="horizontal"?"width":"height";return l.setShape(u,0),initProps2(l,{shape:{width:s.width,height:s.height}},r,a),l}function createLinePoints(n,r,a,o){for(var s=[],l=0;l<a.length;l++){var u=a[l],f=n.get(n.mapDimension(u),r);isEmptyValue3(f,o.getAxis(u).type)||s.push(o.dataToPoint(f,u))}return s}function addEl(n,r,a,o,s){var l=createLinePoints(n,a,o,s),u=new Polyline_default({shape:{points:l},z2:10});return r.add(u),n.setItemGraphicEl(a,u),u}function makeSeriesScope3(n){var r=n.get("smooth",!0);return r===!0&&(r=DEFAULT_SMOOTH),r=numericToNumber(r),eqNaN(r)&&(r=0),{smooth:r}}function updateElCommon(n,r,a,o){n.useStyle(r.getItemVisual(a,"style")),n.style.fill=null,n.setShape("smooth",o.smooth);var s=r.getItemModel(a),l=s.getModel("emphasis");setStatesStylesFromModel(n,s,"lineStyle"),toggleHoverEmphasis(n,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function isEmptyValue3(n,r){return r==="category"?n==null:n==null||isNaN(n)}var ParallelSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return r.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this,{useEncodeDefaulter:bind(makeDefaultEncode,null,this)})},r.prototype.getRawIndicesByActiveState=function(a){var o=this.coordinateSystem,s=this.getData(),l=[];return o.eachActiveState(s,function(u,f){a===u&&l.push(s.getRawIndex(f))}),l},r.type="series.parallel",r.dependencies=["parallel"],r.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},r}(Series_default);function makeDefaultEncode(n){var r=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(!!r){var a={};return each(r.dimensions,function(o){var s=convertDimNameToNumber(o);a[o]=s}),a}}function convertDimNameToNumber(n){return+n.replace("dim","")}var SankeyPathShape=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return n}(),SankeyPath=function(n){__extends(r,n);function r(a){return n.call(this,a)||this}return r.prototype.getDefaultShape=function(){return new SankeyPathShape},r.prototype.buildPath=function(a,o){var s=o.extent;a.moveTo(o.x1,o.y1),a.bezierCurveTo(o.cpx1,o.cpy1,o.cpx2,o.cpy2,o.x2,o.y2),o.orient==="vertical"?(a.lineTo(o.x2+s,o.y2),a.bezierCurveTo(o.cpx2+s,o.cpy2,o.cpx1+s,o.cpy1,o.x1+s,o.y1)):(a.lineTo(o.x2,o.y2+s),a.bezierCurveTo(o.cpx2,o.cpy2+s,o.cpx1,o.cpy1+s,o.x1,o.y1+s)),a.closePath()},r.prototype.highlight=function(){enterEmphasis(this)},r.prototype.downplay=function(){leaveEmphasis(this)},r}(Path_default),SankeyView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a._focusAdjacencyDisabled=!1,a}return r.prototype.render=function(a,o,s){var l=this,u=a.getGraph(),f=this.group,d=a.layoutInfo,v=d.width,g=d.height,y=a.getData(),b=a.getData("edge"),_=a.get("orient");this._model=a,f.removeAll(),f.x=d.x,f.y=d.y,u.eachEdge(function(x){var C=new SankeyPath,w=getECData(C);w.dataIndex=x.dataIndex,w.seriesIndex=a.seriesIndex,w.dataType="edge";var S=x.getModel(),D=S.getModel("lineStyle"),A=D.get("curveness"),T=x.node1.getLayout(),M=x.node1.getModel(),E=M.get("localX"),P=M.get("localY"),I=x.node2.getLayout(),F=x.node2.getModel(),L=F.get("localX"),O=F.get("localY"),z=x.getLayout(),R,B,N,H,W,V,G,Y;switch(C.shape.extent=Math.max(1,z.dy),C.shape.orient=_,_==="vertical"?(R=(E!=null?E*v:T.x)+z.sy,B=(P!=null?P*g:T.y)+T.dy,N=(L!=null?L*v:I.x)+z.ty,H=O!=null?O*g:I.y,W=R,V=B*(1-A)+H*A,G=N,Y=B*A+H*(1-A)):(R=(E!=null?E*v:T.x)+T.dx,B=(P!=null?P*g:T.y)+z.sy,N=L!=null?L*v:I.x,H=(O!=null?O*g:I.y)+z.ty,W=R*(1-A)+N*A,V=B,G=R*A+N*(1-A),Y=H),C.setShape({x1:R,y1:B,x2:N,y2:H,cpx1:W,cpy1:V,cpx2:G,cpy2:Y}),C.useStyle(D.getItemStyle()),C.style.fill){case"source":C.style.fill=x.node1.getVisual("color"),C.style.decal=x.node1.getVisual("style").decal;break;case"target":C.style.fill=x.node2.getVisual("color"),C.style.decal=x.node2.getVisual("style").decal;break;case"gradient":var Q=x.node1.getVisual("color"),q=x.node2.getVisual("color");isString2(Q)&&isString2(q)&&(C.style.fill=new LinearGradient_default(0,0,+(_==="horizontal"),+(_==="vertical"),[{color:Q,offset:0},{color:q,offset:1}]))}var ne=S.getModel("emphasis");setStatesStylesFromModel(C,S,"lineStyle",function(fe){return fe.getItemStyle()}),f.add(C),b.setItemGraphicEl(x.dataIndex,C);var ve=ne.get("focus");toggleHoverEmphasis(C,ve==="adjacency"?x.getAdjacentDataIndices():ve,ne.get("blurScope"),ne.get("disabled")),getECData(C).dataType="edge"}),u.eachNode(function(x){var C=x.getLayout(),w=x.getModel(),S=w.get("localX"),D=w.get("localY"),A=w.getModel("emphasis"),T=new Rect_default({shape:{x:S!=null?S*v:C.x,y:D!=null?D*g:C.y,width:C.dx,height:C.dy},style:w.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(T,getLabelStatesModels(w),{labelFetcher:a,labelDataIndex:x.dataIndex,defaultText:x.id}),T.disableLabelAnimation=!0,T.setStyle("fill",x.getVisual("color")),T.setStyle("decal",x.getVisual("style").decal),setStatesStylesFromModel(T,w),f.add(T),y.setItemGraphicEl(x.dataIndex,T),getECData(T).dataType="node";var M=A.get("focus");toggleHoverEmphasis(T,M==="adjacency"?x.getAdjacentDataIndices():M,A.get("blurScope"),A.get("disabled"))}),y.eachItemGraphicEl(function(x,C){var w=y.getItemModel(C);w.get("draggable")&&(x.drift=function(S,D){l._focusAdjacencyDisabled=!0,this.shape.x+=S,this.shape.y+=D,this.dirty(),s.dispatchAction({type:"dragNode",seriesId:a.id,dataIndex:y.getRawIndex(C),localX:this.shape.x/v,localY:this.shape.y/g})},x.ondragend=function(){l._focusAdjacencyDisabled=!1},x.draggable=!0,x.cursor="move")}),!this._data&&a.isAnimationEnabled()&&f.setClipPath(createGridClipShape2(f.getBoundingRect(),a,function(){f.removeClipPath()})),this._data=a.getData()},r.prototype.dispose=function(){},r.type="sankey",r}(Chart_default);function createGridClipShape2(n,r,a){var o=new Rect_default({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return initProps2(o,{shape:{width:n.width+20}},r,a),o}var SankeySeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.getInitialData=function(a,o){var s=a.edges||a.links,l=a.data||a.nodes,u=a.levels;this.levelModels=[];for(var f=this.levelModels,d=0;d<u.length;d++)if(u[d].depth!=null&&u[d].depth>=0)f[u[d].depth]=new Model_default(u[d],this,o);else throw new Error("levels[i].depth is mandatory and should be natural number");if(l&&s){var v=createGraphFromNodeEdge(l,s,this,!0,g);return v.data}function g(y,b){y.wrapMethod("getItemModel",function(_,x){var C=_.parentModel,w=C.getData().getItemLayout(x);if(w){var S=w.depth,D=C.levelModels[S];D&&(_.parentModel=D)}return _}),b.wrapMethod("getItemModel",function(_,x){var C=_.parentModel,w=C.getGraph().getEdgeByIndex(x),S=w.node1.getLayout();if(S){var D=S.depth,A=C.levelModels[D];A&&(_.parentModel=A)}return _})}},r.prototype.setNodePosition=function(a,o){var s=this.option.data||this.option.nodes,l=s[a];l.localX=o[0],l.localY=o[1]},r.prototype.getGraph=function(){return this.getData().graph},r.prototype.getEdgeData=function(){return this.getGraph().edgeData},r.prototype.formatTooltip=function(a,o,s){function l(_){return isNaN(_)||_==null}if(s==="edge"){var u=this.getDataParams(a,s),f=u.data,d=u.value,v=f.source+" -- "+f.target;return createTooltipMarkup("nameValue",{name:v,value:d,noValue:l(d)})}else{var g=this.getGraph().getNodeByIndex(a),y=g.getLayout().value,b=this.getDataParams(a,s).data.name;return createTooltipMarkup("nameValue",{name:b!=null?b+"":null,value:y,noValue:l(y)})}},r.prototype.optionUpdated=function(){},r.prototype.getDataParams=function(a,o){var s=n.prototype.getDataParams.call(this,a,o);if(s.value==null&&o==="node"){var l=this.getGraph().getNodeByIndex(a),u=l.getLayout().value;s.value=u}return s},r.type="series.sankey",r.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},r}(Series_default),WhiskerBoxCommonMixin=function(){function n(){}return n.prototype.getInitialData=function(r,a){var o,s=a.getComponent("xAxis",this.get("xAxisIndex")),l=a.getComponent("yAxis",this.get("yAxisIndex")),u=s.get("type"),f=l.get("type"),d;u==="category"?(r.layout="horizontal",o=s.getOrdinalMeta(),d=!0):f==="category"?(r.layout="vertical",o=l.getOrdinalMeta(),d=!0):r.layout=r.layout||"horizontal";var v=["x","y"],g=r.layout==="horizontal"?0:1,y=this._baseAxisDim=v[g],b=v[1-g],_=[s,l],x=_[g].get("type"),C=_[1-g].get("type"),w=r.data;if(w&&d){var S=[];each(w,function(T,M){var E;isArray3(T)?(E=T.slice(),T.unshift(M)):isArray3(T.value)?(E=extend3({},T),E.value=E.value.slice(),T.value.unshift(M)):E=T,S.push(E)}),r.data=S}var D=this.defaultValueDimensions,A=[{name:y,type:getDimensionTypeByAxis(x),ordinalMeta:o,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:b,type:getDimensionTypeByAxis(C),dimsDef:D.slice()}];return createSeriesDataSimply(this,{coordDimensions:A,dimensionsCount:D.length+1,encodeDefaulter:curry(makeSeriesEncodeForAxisCoordSys,A,this)})},n.prototype.getBaseAxis=function(){var r=this._baseAxisDim;return this.ecModel.getComponent(r+"Axis",this.get(r+"AxisIndex")).axis},n}(),BoxplotSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],a.visualDrawType="stroke",a}return r.type="series.boxplot",r.dependencies=["xAxis","yAxis","grid"],r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},r}(Series_default);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){var l=a.getData(),u=this.group,f=this._data;this._data||u.removeAll();var d=a.get("layout")==="horizontal"?1:0;l.diff(f).add(function(v){if(l.hasValue(v)){var g=l.getItemLayout(v),y=createNormalBox(g,l,v,d,!0);l.setItemGraphicEl(v,y),u.add(y)}}).update(function(v,g){var y=f.getItemGraphicEl(g);if(!l.hasValue(v)){u.remove(y);return}var b=l.getItemLayout(v);y?(saveOldStyle(y),updateNormalBoxData(b,y,l,v)):y=createNormalBox(b,l,v,d),u.add(y),l.setItemGraphicEl(v,y)}).remove(function(v){var g=f.getItemGraphicEl(v);g&&u.remove(g)}).execute(),this._data=l},r.prototype.remove=function(a){var o=this.group,s=this._data;this._data=null,s&&s.eachItemGraphicEl(function(l){l&&o.remove(l)})},r.type="boxplot",r}(Chart_default),BoxPathShape=function(){function n(){}return n}(),BoxPath=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o.type="boxplotBoxPath",o}return r.prototype.getDefaultShape=function(){return new BoxPathShape},r.prototype.buildPath=function(a,o){var s=o.points,l=0;for(a.moveTo(s[l][0],s[l][1]),l++;l<4;l++)a.lineTo(s[l][0],s[l][1]);for(a.closePath();l<s.length;l++)a.moveTo(s[l][0],s[l][1]),l++,a.lineTo(s[l][0],s[l][1])},r}(Path_default);function createNormalBox(n,r,a,o,s){var l=n.ends,u=new BoxPath({shape:{points:s?transInit(l,o,n):l}});return updateNormalBoxData(n,u,r,a,s),u}function updateNormalBoxData(n,r,a,o,s){var l=a.hostModel,u=graphic_exports[s?"initProps":"updateProps"];u(r,{shape:{points:n.ends}},l,o),r.useStyle(a.getItemVisual(o,"style")),r.style.strokeNoScale=!0,r.z2=100;var f=a.getItemModel(o),d=f.getModel("emphasis");setStatesStylesFromModel(r,f),toggleHoverEmphasis(r,d.get("focus"),d.get("blurScope"),d.get("disabled"))}function transInit(n,r,a){return map3(n,function(o){return o=o.slice(),o[r]=a.initBaseline,o})}var SKIP_PROPS=["color","borderColor"],CandlestickView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(a),this._isLargeDraw?this._renderLarge(a):this._renderNormal(a)},r.prototype.incrementalPrepareRender=function(a,o,s){this._clear(),this._updateDrawMode(a)},r.prototype.incrementalRender=function(a,o,s,l){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(a,o):this._incrementalRenderNormal(a,o)},r.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},r.prototype._updateDrawMode=function(a){var o=a.pipelineContext.large;(this._isLargeDraw==null||o!==this._isLargeDraw)&&(this._isLargeDraw=o,this._clear())},r.prototype._renderNormal=function(a){var o=a.getData(),s=this._data,l=this.group,u=o.getLayout("isSimpleBox"),f=a.get("clip",!0),d=a.coordinateSystem,v=d.getArea&&d.getArea();this._data||l.removeAll(),o.diff(s).add(function(g){if(o.hasValue(g)){var y=o.getItemLayout(g);if(f&&isNormalBoxClipped(v,y))return;var b=createNormalBox2(y,g,!0);initProps2(b,{shape:{points:y.ends}},a,g),setBoxCommon(b,o,g,u),l.add(b),o.setItemGraphicEl(g,b)}}).update(function(g,y){var b=s.getItemGraphicEl(y);if(!o.hasValue(g)){l.remove(b);return}var _=o.getItemLayout(g);if(f&&isNormalBoxClipped(v,_)){l.remove(b);return}b?(updateProps2(b,{shape:{points:_.ends}},a,g),saveOldStyle(b)):b=createNormalBox2(_,g),setBoxCommon(b,o,g,u),l.add(b),o.setItemGraphicEl(g,b)}).remove(function(g){var y=s.getItemGraphicEl(g);y&&l.remove(y)}).execute(),this._data=o},r.prototype._renderLarge=function(a){this._clear(),createLarge2(a,this.group);var o=a.get("clip",!0)?createClipPath(a.coordinateSystem,!1,a):null;o?this.group.setClipPath(o):this.group.removeClipPath()},r.prototype._incrementalRenderNormal=function(a,o){for(var s=o.getData(),l=s.getLayout("isSimpleBox"),u;(u=a.next())!=null;){var f=s.getItemLayout(u),d=createNormalBox2(f,u);setBoxCommon(d,s,u,l),d.incremental=!0,this.group.add(d),this._progressiveEls.push(d)}},r.prototype._incrementalRenderLarge=function(a,o){createLarge2(o,this.group,this._progressiveEls,!0)},r.prototype.remove=function(a){this._clear()},r.prototype._clear=function(){this.group.removeAll(),this._data=null},r.type="candlestick",r}(Chart_default),NormalBoxPathShape=function(){function n(){}return n}(),NormalBoxPath=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o.type="normalCandlestickBox",o}return r.prototype.getDefaultShape=function(){return new NormalBoxPathShape},r.prototype.buildPath=function(a,o){var s=o.points;this.__simpleBox?(a.moveTo(s[4][0],s[4][1]),a.lineTo(s[6][0],s[6][1])):(a.moveTo(s[0][0],s[0][1]),a.lineTo(s[1][0],s[1][1]),a.lineTo(s[2][0],s[2][1]),a.lineTo(s[3][0],s[3][1]),a.closePath(),a.moveTo(s[4][0],s[4][1]),a.lineTo(s[5][0],s[5][1]),a.moveTo(s[6][0],s[6][1]),a.lineTo(s[7][0],s[7][1]))},r}(Path_default);function createNormalBox2(n,r,a){var o=n.ends;return new NormalBoxPath({shape:{points:a?transInit2(o,n):o},z2:100})}function isNormalBoxClipped(n,r){for(var a=!0,o=0;o<r.ends.length;o++)if(n.contain(r.ends[o][0],r.ends[o][1])){a=!1;break}return a}function setBoxCommon(n,r,a,o){var s=r.getItemModel(a);n.useStyle(r.getItemVisual(a,"style")),n.style.strokeNoScale=!0,n.__simpleBox=o,setStatesStylesFromModel(n,s)}function transInit2(n,r){return map3(n,function(a){return a=a.slice(),a[1]=r.initBaseline,a})}var LargeBoxPathShape=function(){function n(){}return n}(),LargeBoxPath=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o.type="largeCandlestickBox",o}return r.prototype.getDefaultShape=function(){return new LargeBoxPathShape},r.prototype.buildPath=function(a,o){for(var s=o.points,l=0;l<s.length;)if(this.__sign===s[l++]){var u=s[l++];a.moveTo(u,s[l++]),a.lineTo(u,s[l++])}else l+=3},r}(Path_default);function createLarge2(n,r,a,o){var s=n.getData(),l=s.getLayout("largePoints"),u=new LargeBoxPath({shape:{points:l},__sign:1});r.add(u);var f=new LargeBoxPath({shape:{points:l},__sign:-1});r.add(f),setLargeStyle(1,u,n,s),setLargeStyle(-1,f,n,s),o&&(u.incremental=!0,f.incremental=!0),a&&a.push(u,f)}function setLargeStyle(n,r,a,o){var s=a.get(["itemStyle",n>0?"borderColor":"borderColor0"])||a.get(["itemStyle",n>0?"color":"color0"]),l=a.getModel("itemStyle").getItemStyle(SKIP_PROPS);r.useStyle(l),r.style.fill=null,r.style.stroke=s}var CandlestickSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],a}return r.prototype.getShadowDim=function(){return"open"},r.prototype.brushSelector=function(a,o,s){var l=o.getItemLayout(a);return l&&s.rect(l.brushRect)},r.type="series.candlestick",r.dependencies=["xAxis","yAxis","grid"],r.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},r}(Series_default);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(n,r){function a(l,u){return u.get(l>0?positiveColorQuery:negativeColorQuery)}function o(l,u){return u.get(l>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!r.isSeriesFiltered(n)){var s=n.pipelineContext.large;return!s&&{progress:function(l,u){for(var f;(f=l.next())!=null;){var d=u.getItemModel(f),v=u.getItemLayout(f).sign,g=d.getItemStyle();g.fill=a(v,d),g.stroke=o(v,d)||g.fill;var y=u.ensureUniqueItemVisual(f,"style");extend3(y,g)}}}}}},candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(n){var r=n.coordinateSystem,a=n.getData(),o=calculateCandleWidth(n,a),s=0,l=1,u=["x","y"],f=a.getDimensionIndex(a.mapDimension(u[s])),d=map3(a.mapDimensionsAll(u[l]),a.getDimensionIndex,a),v=d[0],g=d[1],y=d[2],b=d[3];if(a.setLayout({candleWidth:o,isSimpleBox:o<=1.3}),f<0||d.length<4)return;return{progress:n.pipelineContext.large?x:_};function _(C,w){for(var S,D=w.getStore();(S=C.next())!=null;){var A=D.get(f,S),T=D.get(v,S),M=D.get(g,S),E=D.get(y,S),P=D.get(b,S),I=Math.min(T,M),F=Math.max(T,M),L=N(I,A),O=N(F,A),z=N(E,A),R=N(P,A),B=[];H(B,O,0),H(B,L,1),B.push(V(R),V(O),V(z),V(L)),w.setItemLayout(S,{sign:getSign(D,S,T,M,g),initBaseline:T>M?O[l]:L[l],ends:B,brushRect:W(E,P,A)})}function N(G,Y){var Q=[];return Q[s]=Y,Q[l]=G,isNaN(Y)||isNaN(G)?[NaN,NaN]:r.dataToPoint(Q)}function H(G,Y,Q){var q=Y.slice(),ne=Y.slice();q[s]=subPixelOptimize2(q[s]+o/2,1,!1),ne[s]=subPixelOptimize2(ne[s]-o/2,1,!0),Q?G.push(q,ne):G.push(ne,q)}function W(G,Y,Q){var q=N(G,Q),ne=N(Y,Q);return q[s]-=o/2,ne[s]-=o/2,{x:q[0],y:q[1],width:l?o:ne[0]-q[0],height:l?ne[1]-q[1]:o}}function V(G){return G[s]=subPixelOptimize2(G[s],1),G}}function x(C,w){for(var S=createFloat32Array(C.count*4),D=0,A,T=[],M=[],E,P=w.getStore();(E=C.next())!=null;){var I=P.get(f,E),F=P.get(v,E),L=P.get(g,E),O=P.get(y,E),z=P.get(b,E);if(isNaN(I)||isNaN(O)||isNaN(z)){S[D++]=NaN,D+=3;continue}S[D++]=getSign(P,E,F,L,g),T[s]=I,T[l]=O,A=r.dataToPoint(T,null,M),S[D++]=A?A[0]:NaN,S[D++]=A?A[1]:NaN,T[l]=z,A=r.dataToPoint(T,null,M),S[D++]=A?A[1]:NaN}w.setLayout("largePoints",S)}}};function getSign(n,r,a,o,s){var l;return a>o?l=-1:a<o?l=1:l=r>0?n.get(s,r-1)<=o?1:-1:1,l}function calculateCandleWidth(n,r){var a=n.getBaseAxis(),o,s=a.type==="category"?a.getBandWidth():(o=a.getExtent(),Math.abs(o[1]-o[0])/r.count()),l=parsePercent2(retrieve2(n.get("barMaxWidth"),s),s),u=parsePercent2(retrieve2(n.get("barMinWidth"),1),s),f=n.get("barWidth");return f!=null?parsePercent2(f,s):Math.max(Math.min(s/2,l),u)}function updateRipplePath(n,r){var a=r.rippleEffectColor||r.color;n.eachChild(function(o){o.attr({z:r.z,zlevel:r.zlevel,style:{stroke:r.brushType==="stroke"?a:null,fill:r.brushType==="fill"?a:null}})})}var EffectSymbol=function(n){__extends(r,n);function r(a,o){var s=n.call(this)||this,l=new Symbol_default2(a,o),u=new Group_default;return s.add(l),s.add(u),s.updateData(a,o),s}return r.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},r.prototype.startEffectAnimation=function(a){for(var o=a.symbolType,s=a.color,l=a.rippleNumber,u=this.childAt(1),f=0;f<l;f++){var d=createSymbol(o,-1,-1,2,2,s);d.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var v=-f/l*a.period+a.effectOffset;d.animate("",!0).when(a.period,{scaleX:a.rippleScale/2,scaleY:a.rippleScale/2}).delay(v).start(),d.animateStyle(!0).when(a.period,{opacity:0}).delay(v).start(),u.add(d)}updateRipplePath(u,a)},r.prototype.updateEffectAnimation=function(a){for(var o=this._effectCfg,s=this.childAt(1),l=["symbolType","period","rippleScale","rippleNumber"],u=0;u<l.length;u++){var f=l[u];if(o[f]!==a[f]){this.stopEffectAnimation(),this.startEffectAnimation(a);return}}updateRipplePath(s,a)},r.prototype.highlight=function(){enterEmphasis(this)},r.prototype.downplay=function(){leaveEmphasis(this)},r.prototype.getSymbolType=function(){var a=this.childAt(0);return a&&a.getSymbolType()},r.prototype.updateData=function(a,o){var s=this,l=a.hostModel;this.childAt(0).updateData(a,o);var u=this.childAt(1),f=a.getItemModel(o),d=a.getItemVisual(o,"symbol"),v=normalizeSymbolSize(a.getItemVisual(o,"symbolSize")),g=a.getItemVisual(o,"style"),y=g&&g.fill,b=f.getModel("emphasis");u.setScale(v),u.traverse(function(w){w.setStyle("fill",y)});var _=normalizeSymbolOffset(a.getItemVisual(o,"symbolOffset"),v);_&&(u.x=_[0],u.y=_[1]);var x=a.getItemVisual(o,"symbolRotate");u.rotation=(x||0)*Math.PI/180||0;var C={};C.showEffectOn=l.get("showEffectOn"),C.rippleScale=f.get(["rippleEffect","scale"]),C.brushType=f.get(["rippleEffect","brushType"]),C.period=f.get(["rippleEffect","period"])*1e3,C.effectOffset=o/a.count(),C.z=l.getShallow("z")||0,C.zlevel=l.getShallow("zlevel")||0,C.symbolType=d,C.color=y,C.rippleEffectColor=f.get(["rippleEffect","color"]),C.rippleNumber=f.get(["rippleEffect","number"]),C.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(C):this.startEffectAnimation(C),this._effectCfg=C):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(w){w==="emphasis"?C.showEffectOn!=="render"&&s.startEffectAnimation(C):w==="normal"&&C.showEffectOn!=="render"&&s.stopEffectAnimation()}),this._effectCfg=C,toggleHoverEmphasis(this,b.get("focus"),b.get("blurScope"),b.get("disabled"))},r.prototype.fadeOut=function(a){a&&a()},r}(Group_default),EffectSymbol_default=EffectSymbol,EffectScatterView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.init=function(){this._symbolDraw=new SymbolDraw_default(EffectSymbol_default)},r.prototype.render=function(a,o,s){var l=a.getData(),u=this._symbolDraw;u.updateData(l,{clipShape:this._getClipShape(a)}),this.group.add(u.group)},r.prototype._getClipShape=function(a){var o=a.coordinateSystem,s=o&&o.getArea&&o.getArea();return a.get("clip",!0)?s:null},r.prototype.updateTransform=function(a,o,s){var l=a.getData();this.group.dirty();var u=pointsLayout("").reset(a,o,s);u.progress&&u.progress({start:0,end:l.count(),count:l.count()},l),this._symbolDraw.updateLayout()},r.prototype._updateGroupTransform=function(a){var o=a.coordinateSystem;o&&o.getRoamTransform&&(this.group.transform=clone3(o.getRoamTransform()),this.group.decomposeTransform())},r.prototype.remove=function(a,o){this._symbolDraw&&this._symbolDraw.remove(!0)},r.type="effectScatter",r}(Chart_default),EffectScatterSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.hasSymbolVisual=!0,a}return r.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},r.prototype.brushSelector=function(a,o,s){return s.point(o.getItemLayout(a))},r.type="series.effectScatter",r.dependencies=["grid","polar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},r}(Series_default),EffectLine=function(n){__extends(r,n);function r(a,o,s){var l=n.call(this)||this;return l.add(l.createLine(a,o,s)),l._updateEffectSymbol(a,o),l}return r.prototype.createLine=function(a,o,s){return new Line_default2(a,o,s)},r.prototype._updateEffectSymbol=function(a,o){var s=a.getItemModel(o),l=s.getModel("effect"),u=l.get("symbolSize"),f=l.get("symbol");isArray3(u)||(u=[u,u]);var d=a.getItemVisual(o,"style"),v=l.get("color")||d&&d.stroke,g=this.childAt(1);this._symbolType!==f&&(this.remove(g),g=createSymbol(f,-.5,-.5,1,1,v),g.z2=100,g.culling=!0,this.add(g)),!!g&&(g.setStyle("shadowColor",v),g.setStyle(l.getItemStyle(["color"])),g.scaleX=u[0],g.scaleY=u[1],g.setColor(v),this._symbolType=f,this._symbolScale=u,this._updateEffectAnimation(a,l,o))},r.prototype._updateEffectAnimation=function(a,o,s){var l=this.childAt(1);if(!!l){var u=a.getItemLayout(s),f=o.get("period")*1e3,d=o.get("loop"),v=o.get("constantSpeed"),g=retrieve(o.get("delay"),function(b){return b/a.count()*f/3});if(l.ignore=!0,this._updateAnimationPoints(l,u),v>0&&(f=this._getLineLength(l)/v*1e3),f!==this._period||d!==this._loop){l.stopAnimation();var y=void 0;isFunction3(g)?y=g(s):y=g,l.__t>0&&(y=-f*l.__t),this._animateSymbol(l,f,y,d)}this._period=f,this._loop=d}},r.prototype._animateSymbol=function(a,o,s,l){if(o>0){a.__t=0;var u=this,f=a.animate("",l).when(o,{__t:1}).delay(s).during(function(){u._updateSymbolPosition(a)});l||f.done(function(){u.remove(a)}),f.start()}},r.prototype._getLineLength=function(a){return dist(a.__p1,a.__cp1)+dist(a.__cp1,a.__p2)},r.prototype._updateAnimationPoints=function(a,o){a.__p1=o[0],a.__p2=o[1],a.__cp1=o[2]||[(o[0][0]+o[1][0])/2,(o[0][1]+o[1][1])/2]},r.prototype.updateData=function(a,o,s){this.childAt(0).updateData(a,o,s),this._updateEffectSymbol(a,o)},r.prototype._updateSymbolPosition=function(a){var o=a.__p1,s=a.__p2,l=a.__cp1,u=a.__t,f=[a.x,a.y],d=f.slice(),v=quadraticAt,g=quadraticDerivativeAt;f[0]=v(o[0],l[0],s[0],u),f[1]=v(o[1],l[1],s[1],u);var y=g(o[0],l[0],s[0],u),b=g(o[1],l[1],s[1],u);a.rotation=-Math.atan2(b,y)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(a.__lastT!==void 0&&a.__lastT<a.__t?(a.scaleY=dist(d,f)*1.05,u===1&&(f[0]=d[0]+(f[0]-d[0])/2,f[1]=d[1]+(f[1]-d[1])/2)):a.__lastT===1?a.scaleY=2*dist(o,f):a.scaleY=this._symbolScale[1]),a.__lastT=a.__t,a.ignore=!1,a.x=f[0],a.y=f[1]},r.prototype.updateLayout=function(a,o){this.childAt(0).updateLayout(a,o);var s=a.getItemModel(o).getModel("effect");this._updateEffectAnimation(a,s,o)},r}(Group_default),EffectLine_default=EffectLine,Polyline2=function(n){__extends(r,n);function r(a,o,s){var l=n.call(this)||this;return l._createPolyline(a,o,s),l}return r.prototype._createPolyline=function(a,o,s){var l=a.getItemLayout(o),u=new Polyline_default({shape:{points:l}});this.add(u),this._updateCommonStl(a,o,s)},r.prototype.updateData=function(a,o,s){var l=a.hostModel,u=this.childAt(0),f={shape:{points:a.getItemLayout(o)}};updateProps2(u,f,l,o),this._updateCommonStl(a,o,s)},r.prototype._updateCommonStl=function(a,o,s){var l=this.childAt(0),u=a.getItemModel(o),f=s&&s.emphasisLineStyle,d=s&&s.focus,v=s&&s.blurScope,g=s&&s.emphasisDisabled;if(!s||a.hasItemOption){var y=u.getModel("emphasis");f=y.getModel("lineStyle").getLineStyle(),g=y.get("disabled"),d=y.get("focus"),v=y.get("blurScope")}l.useStyle(a.getItemVisual(o,"style")),l.style.fill=null,l.style.strokeNoScale=!0;var b=l.ensureState("emphasis");b.style=f,toggleHoverEmphasis(this,d,v,g)},r.prototype.updateLayout=function(a,o){var s=this.childAt(0);s.setShape("points",a.getItemLayout(o))},r}(Group_default),Polyline_default2=Polyline2,EffectPolyline=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a._lastFrame=0,a._lastFramePercent=0,a}return r.prototype.createLine=function(a,o,s){return new Polyline_default2(a,o,s)},r.prototype._updateAnimationPoints=function(a,o){this._points=o;for(var s=[0],l=0,u=1;u<o.length;u++){var f=o[u-1],d=o[u];l+=dist(f,d),s.push(l)}if(l===0){this._length=0;return}for(var u=0;u<s.length;u++)s[u]/=l;this._offsets=s,this._length=l},r.prototype._getLineLength=function(){return this._length},r.prototype._updateSymbolPosition=function(a){var o=a.__t,s=this._points,l=this._offsets,u=s.length;if(!!l){var f=this._lastFrame,d;if(o<this._lastFramePercent){var v=Math.min(f+1,u-1);for(d=v;d>=0&&!(l[d]<=o);d--);d=Math.min(d,u-2)}else{for(d=f;d<u&&!(l[d]>o);d++);d=Math.min(d-1,u-2)}var g=(o-l[d])/(l[d+1]-l[d]),y=s[d],b=s[d+1];a.x=y[0]*(1-g)+g*b[0],a.y=y[1]*(1-g)+g*b[1];var _=b[0]-y[0],x=b[1]-y[1];a.rotation=-Math.atan2(x,_)-Math.PI/2,this._lastFrame=d,this._lastFramePercent=o,a.ignore=!1}},r}(EffectLine_default),EffectPolyline_default=EffectPolyline,LargeLinesPathShape=function(){function n(){this.polyline=!1,this.curveness=0,this.segs=[]}return n}(),LargeLinesPath=function(n){__extends(r,n);function r(a){var o=n.call(this,a)||this;return o._off=0,o.hoverDataIdx=-1,o}return r.prototype.reset=function(){this.notClear=!1,this._off=0},r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new LargeLinesPathShape},r.prototype.buildPath=function(a,o){var s=o.segs,l=o.curveness,u;if(o.polyline)for(u=this._off;u<s.length;){var f=s[u++];if(f>0){a.moveTo(s[u++],s[u++]);for(var d=1;d<f;d++)a.lineTo(s[u++],s[u++])}}else for(u=this._off;u<s.length;){var v=s[u++],g=s[u++],y=s[u++],b=s[u++];if(a.moveTo(v,g),l>0){var _=(v+y)/2-(g-b)*l,x=(g+b)/2-(y-v)*l;a.quadraticCurveTo(_,x,y,b)}else a.lineTo(y,b)}this.incremental&&(this._off=u,this.notClear=!0)},r.prototype.findDataIndex=function(a,o){var s=this.shape,l=s.segs,u=s.curveness,f=this.style.lineWidth;if(s.polyline)for(var d=0,v=0;v<l.length;){var g=l[v++];if(g>0)for(var y=l[v++],b=l[v++],_=1;_<g;_++){var x=l[v++],C=l[v++];if(containStroke(y,b,x,C,f,a,o))return d}d++}else for(var d=0,v=0;v<l.length;){var y=l[v++],b=l[v++],x=l[v++],C=l[v++];if(u>0){var w=(y+x)/2-(b-C)*u,S=(b+C)/2-(x-y)*u;if(containStroke3(y,b,w,S,x,C,f,a,o))return d}else if(containStroke(y,b,x,C,f,a,o))return d;d++}return-1},r.prototype.contain=function(a,o){var s=this.transformCoordToLocal(a,o),l=this.getBoundingRect();if(a=s[0],o=s[1],l.contain(a,o)){var u=this.hoverDataIdx=this.findDataIndex(a,o);return u>=0}return this.hoverDataIdx=-1,!1},r.prototype.getBoundingRect=function(){var a=this._rect;if(!a){for(var o=this.shape,s=o.segs,l=1/0,u=1/0,f=-1/0,d=-1/0,v=0;v<s.length;){var g=s[v++],y=s[v++];l=Math.min(g,l),f=Math.max(g,f),u=Math.min(y,u),d=Math.max(y,d)}a=this._rect=new BoundingRect_default(l,u,f,d)}return a},r}(Path_default),LargeLineDraw=function(){function n(){this.group=new Group_default}return n.prototype.updateData=function(r){this._clear();var a=this._create();a.setShape({segs:r.getLayout("linesPoints")}),this._setCommon(a,r)},n.prototype.incrementalPrepareUpdate=function(r){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(r,a){var o=this._newAdded[0],s=a.getLayout("linesPoints"),l=o&&o.shape.segs;if(l&&l.length<2e4){var u=l.length,f=new Float32Array(u+s.length);f.set(l),f.set(s,u),o.setShape({segs:f})}else{this._newAdded=[];var d=this._create();d.incremental=!0,d.setShape({segs:s}),this._setCommon(d,a),d.__startIndex=r.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(r){this._newAdded[0]&&r(this._newAdded[0])},n.prototype._create=function(){var r=new LargeLinesPath({cursor:"default"});return this._newAdded.push(r),this.group.add(r),r},n.prototype._setCommon=function(r,a,o){var s=a.hostModel;r.setShape({polyline:s.get("polyline"),curveness:s.get(["lineStyle","curveness"])}),r.useStyle(s.getModel("lineStyle").getLineStyle()),r.style.strokeNoScale=!0;var l=a.getVisual("style");l&&l.stroke&&r.setStyle("stroke",l.stroke),r.setStyle("fill",null);var u=getECData(r);u.seriesIndex=s.seriesIndex,r.on("mousemove",function(f){u.dataIndex=null;var d=r.hoverDataIdx;d>0&&(u.dataIndex=d+r.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}(),LargeLineDraw_default=LargeLineDraw,linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(n){var r=n.coordinateSystem;if(!r){error("The lines series must have a coordinate system.");return}var a=n.get("polyline"),o=n.pipelineContext.large;return{progress:function(s,l){var u=[];if(o){var f=void 0,d=s.end-s.start;if(a){for(var v=0,g=s.start;g<s.end;g++)v+=n.getLineCoordsCount(g);f=new Float32Array(d+v*2)}else f=new Float32Array(d*4);for(var y=0,b=[],g=s.start;g<s.end;g++){var _=n.getLineCoords(g,u);a&&(f[y++]=_);for(var x=0;x<_;x++)b=r.dataToPoint(u[x],!1,b),f[y++]=b[0],f[y++]=b[1]}l.setLayout("linesPoints",f)}else for(var g=s.start;g<s.end;g++){var C=l.getItemModel(g),_=n.getLineCoords(g,u),w=[];if(a)for(var S=0;S<_;S++)w.push(r.dataToPoint(u[S]));else{w[0]=r.dataToPoint(u[0]),w[1]=r.dataToPoint(u[1]);var D=C.get(["lineStyle","curveness"]);+D&&(w[2]=[(w[0][0]+w[1][0])/2-(w[0][1]-w[1][1])*D,(w[0][1]+w[1][1])/2-(w[1][0]-w[0][0])*D])}l.setItemLayout(g,w)}}}}},linesLayout_default=linesLayout,LinesView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){var l=a.getData(),u=this._updateLineDraw(l,a),f=a.get("zlevel"),d=a.get(["effect","trailLength"]),v=s.getZr(),g=v.painter.getType()==="svg";g||v.painter.getLayer(f).clear(!0),this._lastZlevel!=null&&!g&&v.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(a)&&d>0&&(g?console.warn("SVG render mode doesn't support lines with trail effect"):v.configLayer(f,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(d/10+.9,1),0)})),u.updateData(l);var y=a.get("clip",!0)&&createClipPath(a.coordinateSystem,!1,a);y?this.group.setClipPath(y):this.group.removeClipPath(),this._lastZlevel=f,this._finished=!0},r.prototype.incrementalPrepareRender=function(a,o,s){var l=a.getData(),u=this._updateLineDraw(l,a);u.incrementalPrepareUpdate(l),this._clearLayer(s),this._finished=!1},r.prototype.incrementalRender=function(a,o,s){this._lineDraw.incrementalUpdate(a,o.getData()),this._finished=a.end===o.getData().count()},r.prototype.eachRendered=function(a){this._lineDraw&&this._lineDraw.eachRendered(a)},r.prototype.updateTransform=function(a,o,s){var l=a.getData(),u=a.pipelineContext;if(!this._finished||u.large||u.progressiveRender)return{update:!0};var f=linesLayout_default.reset(a,o,s);f.progress&&f.progress({start:0,end:l.count(),count:l.count()},l),this._lineDraw.updateLayout(),this._clearLayer(s)},r.prototype._updateLineDraw=function(a,o){var s=this._lineDraw,l=this._showEffect(o),u=!!o.get("polyline"),f=o.pipelineContext,d=f.large;return l&&d&&console.warn("Large lines not support effect"),(!s||l!==this._hasEffet||u!==this._isPolyline||d!==this._isLargeDraw)&&(s&&s.remove(),s=this._lineDraw=d?new LargeLineDraw_default:new LineDraw_default(u?l?EffectPolyline_default:Polyline_default2:l?EffectLine_default:Line_default2),this._hasEffet=l,this._isPolyline=u,this._isLargeDraw=d),this.group.add(s.group),s},r.prototype._showEffect=function(a){return!!a.get(["effect","show"])},r.prototype._clearLayer=function(a){var o=a.getZr(),s=o.painter.getType()==="svg";!s&&this._lastZlevel!=null&&o.painter.getLayer(this._lastZlevel).clear(!0)},r.prototype.remove=function(a,o){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(o)},r.prototype.dispose=function(a,o){this.remove(a,o)},r.type="lines",r}(Chart_default),Uint32Arr=typeof Uint32Array=="undefined"?Array:Uint32Array,Float64Arr=typeof Float64Array=="undefined"?Array:Float64Array;function compatEc2(n){var r=n.data;r&&r[0]&&r[0][0]&&r[0][0].coord&&(console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),n.data=map3(r,function(a){var o=[a[0].coord,a[1].coord],s={coords:o};return a[0].name&&(s.fromName=a[0].name),a[1].name&&(s.toName=a[1].name),mergeAll([s,a[0],a[1]])}))}var LinesSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.visualStyleAccessPath="lineStyle",a.visualDrawType="stroke",a}return r.prototype.init=function(a){a.data=a.data||[],compatEc2(a);var o=this._processFlatCoordsArray(a.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(a.data=new Float32Array(o.count)),n.prototype.init.apply(this,arguments)},r.prototype.mergeOption=function(a){if(compatEc2(a),a.data){var o=this._processFlatCoordsArray(a.data);this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset,o.flatCoords&&(a.data=new Float32Array(o.count))}n.prototype.mergeOption.apply(this,arguments)},r.prototype.appendData=function(a){var o=this._processFlatCoordsArray(a.data);o.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,o.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,o.flatCoordsOffset)):(this._flatCoords=o.flatCoords,this._flatCoordsOffset=o.flatCoordsOffset),a.data=new Float32Array(o.count)),this.getRawData().appendData(a.data)},r.prototype._getCoordsFromItemModel=function(a){var o=this.getData().getItemModel(a),s=o.option instanceof Array?o.option:o.getShallow("coords");if(!(s instanceof Array&&s.length>0&&s[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(s)+". Lines must have 2d coords array in data item.");return s},r.prototype.getLineCoordsCount=function(a){return this._flatCoordsOffset?this._flatCoordsOffset[a*2+1]:this._getCoordsFromItemModel(a).length},r.prototype.getLineCoords=function(a,o){if(this._flatCoordsOffset){for(var s=this._flatCoordsOffset[a*2],l=this._flatCoordsOffset[a*2+1],u=0;u<l;u++)o[u]=o[u]||[],o[u][0]=this._flatCoords[s+u*2],o[u][1]=this._flatCoords[s+u*2+1];return l}else{for(var f=this._getCoordsFromItemModel(a),u=0;u<f.length;u++)o[u]=o[u]||[],o[u][0]=f[u][0],o[u][1]=f[u][1];return f.length}},r.prototype._processFlatCoordsArray=function(a){var o=0;if(this._flatCoords&&(o=this._flatCoords.length),isNumber(a[0])){for(var s=a.length,l=new Uint32Arr(s),u=new Float64Arr(s),f=0,d=0,v=0,g=0;g<s;){v++;var y=a[g++];l[d++]=f+o,l[d++]=y;for(var b=0;b<y;b++){var _=a[g++],x=a[g++];if(u[f++]=_,u[f++]=x,g>s)throw new Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(l.buffer,0,d),flatCoords:u,count:v}}return{flatCoordsOffset:null,flatCoords:null,count:a.length}},r.prototype.getInitialData=function(a,o){var s=CoordinateSystem_default.get(a.coordinateSystem);if(!s)throw new Error("Unkown coordinate system "+a.coordinateSystem);var l=new SeriesData_default(["value"],this);return l.hasItemOption=!1,l.initData(a.data,[],function(u,f,d,v){if(u instanceof Array)return NaN;l.hasItemOption=!0;var g=u.value;if(g!=null)return g instanceof Array?g[v]:g}),l},r.prototype.formatTooltip=function(a,o,s){var l=this.getData(),u=l.getItemModel(a),f=u.get("name");if(f)return f;var d=u.get("fromName"),v=u.get("toName"),g=[];return d!=null&&g.push(d),v!=null&&g.push(v),createTooltipMarkup("nameValue",{name:g.join(" > ")})},r.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},r.prototype.getProgressive=function(){var a=this.option.progressive;return a==null?this.option.large?1e4:this.get("progressive"):a},r.prototype.getProgressiveThreshold=function(){var a=this.option.progressiveThreshold;return a==null?this.option.large?2e4:this.get("progressiveThreshold"):a},r.prototype.getZLevelKey=function(){var a=this.getModel("effect"),o=a.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:a.get("show")&&o>0?o+"":""},r.type="series.lines",r.dependencies=["grid","polar","geo","calendar"],r.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},r}(Series_default),GRADIENT_LEVELS=256,HeatmapLayer=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var r=platformApi.createCanvas();this.canvas=r}return n.prototype.update=function(r,a,o,s,l,u){var f=this._getBrush(),d=this._getGradient(l,"inRange"),v=this._getGradient(l,"outOfRange"),g=this.pointSize+this.blurSize,y=this.canvas,b=y.getContext("2d"),_=r.length;y.width=a,y.height=o;for(var x=0;x<_;++x){var C=r[x],w=C[0],S=C[1],D=C[2],A=s(D);b.globalAlpha=A,b.drawImage(f,w-g,S-g)}if(!y.width||!y.height)return y;for(var T=b.getImageData(0,0,y.width,y.height),M=T.data,E=0,P=M.length,I=this.minOpacity,F=this.maxOpacity,L=F-I;E<P;){var A=M[E+3]/256,O=Math.floor(A*(GRADIENT_LEVELS-1))*4;if(A>0){var z=u(A)?d:v;A>0&&(A=A*L+I),M[E++]=z[O],M[E++]=z[O+1],M[E++]=z[O+2],M[E++]=z[O+3]*A*256}else E+=4}return b.putImageData(T,0,0),y},n.prototype._getBrush=function(){var r=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),a=this.pointSize+this.blurSize,o=a*2;r.width=o,r.height=o;var s=r.getContext("2d");return s.clearRect(0,0,o,o),s.shadowOffsetX=o,s.shadowBlur=this.blurSize,s.shadowColor="#000",s.beginPath(),s.arc(-a,a,this.pointSize,0,Math.PI*2,!0),s.closePath(),s.fill(),r},n.prototype._getGradient=function(r,a){for(var o=this._gradientPixels,s=o[a]||(o[a]=new Uint8ClampedArray(256*4)),l=[0,0,0,0],u=0,f=0;f<256;f++)r[a](f/255,!0,l),s[u++]=l[0],s[u++]=l[1],s[u++]=l[2],s[u++]=l[3];return s},n}(),HeatmapLayer_default=HeatmapLayer;function getIsInPiecewiseRange(n,r,a){var o=n[1]-n[0];r=map3(r,function(u){return{interval:[(u.interval[0]-n[0])/o,(u.interval[1]-n[0])/o]}});var s=r.length,l=0;return function(u){var f;for(f=l;f<s;f++){var d=r[f].interval;if(d[0]<=u&&u<=d[1]){l=f;break}}if(f===s)for(f=l-1;f>=0;f--){var d=r[f].interval;if(d[0]<=u&&u<=d[1]){l=f;break}}return f>=0&&f<s&&a[f]}}function getIsInContinuousRange(n,r){var a=n[1]-n[0];return r=[(r[0]-n[0])/a,(r[1]-n[0])/a],function(o){return o>=r[0]&&o<=r[1]}}function isGeoCoordSys(n){var r=n.dimensions;return r[0]==="lng"&&r[1]==="lat"}var HeatmapView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){var l;if(o.eachComponent("visualMap",function(f){f.eachTargetSeries(function(d){d===a&&(l=f)})}),!l)throw new Error("Heatmap must use with visualMap");this._progressiveEls=null,this.group.removeAll();var u=a.coordinateSystem;u.type==="cartesian2d"||u.type==="calendar"?this._renderOnCartesianAndCalendar(a,s,0,a.getData().count()):isGeoCoordSys(u)&&this._renderOnGeo(u,a,l,s)},r.prototype.incrementalPrepareRender=function(a,o,s){this.group.removeAll()},r.prototype.incrementalRender=function(a,o,s,l){var u=o.coordinateSystem;u&&(isGeoCoordSys(u)?this.render(o,s,l):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(o,l,a.start,a.end,!0)))},r.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},r.prototype._renderOnCartesianAndCalendar=function(a,o,s,l,u){var f=a.coordinateSystem,d=isCoordinateSystemType(f,"cartesian2d"),v,g,y,b;if(d){var _=f.getAxis("x"),x=f.getAxis("y");if(!(_.type==="category"&&x.type==="category"))throw new Error("Heatmap on cartesian must have two category axes");if(!(_.onBand&&x.onBand))throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");v=_.getBandWidth()+.5,g=x.getBandWidth()+.5,y=_.scale.getExtent(),b=x.scale.getExtent()}for(var C=this.group,w=a.getData(),S=a.getModel(["emphasis","itemStyle"]).getItemStyle(),D=a.getModel(["blur","itemStyle"]).getItemStyle(),A=a.getModel(["select","itemStyle"]).getItemStyle(),T=a.get(["itemStyle","borderRadius"]),M=getLabelStatesModels(a),E=a.getModel("emphasis"),P=E.get("focus"),I=E.get("blurScope"),F=E.get("disabled"),L=d?[w.mapDimension("x"),w.mapDimension("y"),w.mapDimension("value")]:[w.mapDimension("time"),w.mapDimension("value")],O=s;O<l;O++){var z=void 0,R=w.getItemVisual(O,"style");if(d){var B=w.get(L[0],O),N=w.get(L[1],O);if(isNaN(w.get(L[2],O))||B<y[0]||B>y[1]||N<b[0]||N>b[1])continue;var H=f.dataToPoint([B,N]);z=new Rect_default({shape:{x:H[0]-v/2,y:H[1]-g/2,width:v,height:g},style:R})}else{if(isNaN(w.get(L[1],O)))continue;z=new Rect_default({z2:1,shape:f.dataToRect([w.get(L[0],O)]).contentShape,style:R})}if(w.hasItemOption){var W=w.getItemModel(O),V=W.getModel("emphasis");S=V.getModel("itemStyle").getItemStyle(),D=W.getModel(["blur","itemStyle"]).getItemStyle(),A=W.getModel(["select","itemStyle"]).getItemStyle(),T=W.get(["itemStyle","borderRadius"]),P=V.get("focus"),I=V.get("blurScope"),F=V.get("disabled"),M=getLabelStatesModels(W)}z.shape.r=T;var G=a.getRawValue(O),Y="-";G&&G[2]!=null&&(Y=G[2]+""),setLabelStyle(z,M,{labelFetcher:a,labelDataIndex:O,defaultOpacity:R.opacity,defaultText:Y}),z.ensureState("emphasis").style=S,z.ensureState("blur").style=D,z.ensureState("select").style=A,toggleHoverEmphasis(z,P,I,F),z.incremental=u,u&&(z.states.emphasis.hoverLayer=!0),C.add(z),w.setItemGraphicEl(O,z),this._progressiveEls&&this._progressiveEls.push(z)}},r.prototype._renderOnGeo=function(a,o,s,l){var u=s.targetVisuals.inRange,f=s.targetVisuals.outOfRange,d=o.getData(),v=this._hmLayer||this._hmLayer||new HeatmapLayer_default;v.blurSize=o.get("blurSize"),v.pointSize=o.get("pointSize"),v.minOpacity=o.get("minOpacity"),v.maxOpacity=o.get("maxOpacity");var g=a.getViewRect().clone(),y=a.getRoamTransform();g.applyTransform(y);var b=Math.max(g.x,0),_=Math.max(g.y,0),x=Math.min(g.width+g.x,l.getWidth()),C=Math.min(g.height+g.y,l.getHeight()),w=x-b,S=C-_,D=[d.mapDimension("lng"),d.mapDimension("lat"),d.mapDimension("value")],A=d.mapArray(D,function(P,I,F){var L=a.dataToPoint([P,I]);return L[0]-=b,L[1]-=_,L.push(F),L}),T=s.getExtent(),M=s.type==="visualMap.continuous"?getIsInContinuousRange(T,s.option.range):getIsInPiecewiseRange(T,s.getPieceList(),s.option.selected);v.update(A,w,S,u.color.getNormalizer(),{inRange:u.color.getColorMapper(),outOfRange:f.color.getColorMapper()},M);var E=new Image_default({style:{width:w,height:S,x:b,y:_,image:v.canvas},silent:!0});this.group.add(E)},r.type="heatmap",r}(Chart_default),HeatmapSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this,{generateCoord:"value"})},r.prototype.preventIncremental=function(){var a=CoordinateSystem_default.get(this.get("coordinateSystem"));if(a&&a.dimensions)return a.dimensions[0]==="lng"&&a.dimensions[1]==="lat"},r.type="series.heatmap",r.dependencies=["grid","geo","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},r}(Series_default),BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle_default,PictorialBarView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s){var l=this.group,u=a.getData(),f=this._data,d=a.coordinateSystem,v=d.getBaseAxis(),g=v.isHorizontal(),y=d.master.getRect(),b={ecSize:{width:s.getWidth(),height:s.getHeight()},seriesModel:a,coordSys:d,coordSysExtent:[[y.x,y.x+y.width],[y.y,y.y+y.height]],isHorizontal:g,valueDim:LAYOUT_ATTRS[+g],categoryDim:LAYOUT_ATTRS[1-+g]};return u.diff(f).add(function(_){if(!!u.hasValue(_)){var x=getItemModel(u,_),C=getSymbolMeta(u,_,x,b),w=createBar(u,b,C);u.setItemGraphicEl(_,w),l.add(w),updateCommon2(w,b,C)}}).update(function(_,x){var C=f.getItemGraphicEl(x);if(!u.hasValue(_)){l.remove(C);return}var w=getItemModel(u,_),S=getSymbolMeta(u,_,w,b),D=getShapeStr(u,S);C&&D!==C.__pictorialShapeStr&&(l.remove(C),u.setItemGraphicEl(_,null),C=null),C?updateBar(C,b,S):C=createBar(u,b,S,!0),u.setItemGraphicEl(_,C),C.__pictorialSymbolMeta=S,l.add(C),updateCommon2(C,b,S)}).remove(function(_){var x=f.getItemGraphicEl(_);x&&removeBar(f,_,x.__pictorialSymbolMeta.animationModel,x)}).execute(),this._data=u,this.group},r.prototype.remove=function(a,o){var s=this.group,l=this._data;a.get("animation")?l&&l.eachItemGraphicEl(function(u){removeBar(l,getECData(u).dataIndex,a,u)}):s.removeAll()},r.type="pictorialBar",r}(Chart_default);function getSymbolMeta(n,r,a,o){var s=n.getItemLayout(r),l=a.get("symbolRepeat"),u=a.get("symbolClip"),f=a.get("symbolPosition")||"start",d=a.get("symbolRotate"),v=(d||0)*Math.PI/180||0,g=a.get("symbolPatternSize")||2,y=a.isAnimationEnabled(),b={dataIndex:r,layout:s,itemModel:a,symbolType:n.getItemVisual(r,"symbol")||"circle",style:n.getItemVisual(r,"style"),symbolClip:u,symbolRepeat:l,symbolRepeatDirection:a.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:v,animationModel:y?a:null,hoverScale:y&&a.get(["emphasis","scale"]),z2:a.getShallow("z",!0)||0};prepareBarLength(a,l,s,o,b),prepareSymbolSize(n,r,s,l,u,b.boundingLength,b.pxSign,g,o,b),prepareLineWidth(a,b.symbolScale,v,o,b);var _=b.symbolSize,x=normalizeSymbolOffset(a.get("symbolOffset"),_);return prepareLayoutInfo(a,_,s,l,u,x,f,b.valueLineWidth,b.boundingLength,b.repeatCutLength,o,b),b}function prepareBarLength(n,r,a,o,s){var l=o.valueDim,u=n.get("symbolBoundingData"),f=o.coordSys.getOtherAxis(o.coordSys.getBaseAxis()),d=f.toGlobalCoord(f.dataToCoord(0)),v=1-+(a[l.wh]<=0),g;if(isArray3(u)){var y=[convertToCoordOnAxis(f,u[0])-d,convertToCoordOnAxis(f,u[1])-d];y[1]<y[0]&&y.reverse(),g=y[v]}else u!=null?g=convertToCoordOnAxis(f,u)-d:r?g=o.coordSysExtent[l.index][v]-d:g=a[l.wh];s.boundingLength=g,r&&(s.repeatCutLength=a[l.wh]),s.pxSign=g>0?1:-1}function convertToCoordOnAxis(n,r){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(r)))}function prepareSymbolSize(n,r,a,o,s,l,u,f,d,v){var g=d.valueDim,y=d.categoryDim,b=Math.abs(a[y.wh]),_=n.getItemVisual(r,"symbolSize"),x;isArray3(_)?x=_.slice():_==null?x=["100%","100%"]:x=[_,_],x[y.index]=parsePercent2(x[y.index],b),x[g.index]=parsePercent2(x[g.index],o?b:Math.abs(l)),v.symbolSize=x;var C=v.symbolScale=[x[0]/f,x[1]/f];C[g.index]*=(d.isHorizontal?-1:1)*u}function prepareLineWidth(n,r,a,o,s){var l=n.get(BAR_BORDER_WIDTH_QUERY)||0;l&&(pathForLineWidth.attr({scaleX:r[0],scaleY:r[1],rotation:a}),pathForLineWidth.updateTransform(),l/=pathForLineWidth.getLineScale(),l*=r[o.valueDim.index]),s.valueLineWidth=l||0}function prepareLayoutInfo(n,r,a,o,s,l,u,f,d,v,g,y){var b=g.categoryDim,_=g.valueDim,x=y.pxSign,C=Math.max(r[_.index]+f,0),w=C;if(o){var S=Math.abs(d),D=retrieve(n.get("symbolMargin"),"15%")+"",A=!1;D.lastIndexOf("!")===D.length-1&&(A=!0,D=D.slice(0,D.length-1));var T=parsePercent2(D,r[_.index]),M=Math.max(C+T*2,0),E=A?0:T*2,P=isNumeric(o),I=P?o:toIntTimes((S+E)/M),F=S-I*C;T=F/2/(A?I:Math.max(I-1,1)),M=C+T*2,E=A?0:T*2,!P&&o!=="fixed"&&(I=v?toIntTimes((Math.abs(v)+E)/M):0),w=I*M-E,y.repeatTimes=I,y.symbolMargin=T}var L=x*(w/2),O=y.pathPosition=[];O[b.index]=a[b.wh]/2,O[_.index]=u==="start"?L:u==="end"?d-L:d/2,l&&(O[0]+=l[0],O[1]+=l[1]);var z=y.bundlePosition=[];z[b.index]=a[b.xy],z[_.index]=a[_.xy];var R=y.barRectShape=extend3({},a);R[_.wh]=x*Math.max(Math.abs(a[_.wh]),Math.abs(O[_.index]+L)),R[b.wh]=a[b.wh];var B=y.clipShape={};B[b.xy]=-a[b.xy],B[b.wh]=g.ecSize[b.wh],B[_.xy]=0,B[_.wh]=a[_.wh]}function createPath(n){var r=n.symbolPatternSize,a=createSymbol(n.symbolType,-r/2,-r/2,r,r);return a.attr({culling:!0}),a.type!=="image"&&a.setStyle({strokeNoScale:!0}),a}function createOrUpdateRepeatSymbols(n,r,a,o){var s=n.__pictorialBundle,l=a.symbolSize,u=a.valueLineWidth,f=a.pathPosition,d=r.valueDim,v=a.repeatTimes||0,g=0,y=l[r.valueDim.index]+u+a.symbolMargin*2;for(eachPath(n,function(C){C.__pictorialAnimationIndex=g,C.__pictorialRepeatTimes=v,g<v?updateAttr(C,null,x(g),a,o):updateAttr(C,null,{scaleX:0,scaleY:0},a,o,function(){s.remove(C)}),g++});g<v;g++){var b=createPath(a);b.__pictorialAnimationIndex=g,b.__pictorialRepeatTimes=v,s.add(b);var _=x(g);updateAttr(b,{x:_.x,y:_.y,scaleX:0,scaleY:0},{scaleX:_.scaleX,scaleY:_.scaleY,rotation:_.rotation},a,o)}function x(C){var w=f.slice(),S=a.pxSign,D=C;return(a.symbolRepeatDirection==="start"?S>0:S<0)&&(D=v-1-C),w[d.index]=y*(D-v/2+.5)+f[d.index],{x:w[0],y:w[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation}}}function createOrUpdateSingleSymbol(n,r,a,o){var s=n.__pictorialBundle,l=n.__pictorialMainPath;l?updateAttr(l,null,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:a.symbolScale[0],scaleY:a.symbolScale[1],rotation:a.rotation},a,o):(l=n.__pictorialMainPath=createPath(a),s.add(l),updateAttr(l,{x:a.pathPosition[0],y:a.pathPosition[1],scaleX:0,scaleY:0,rotation:a.rotation},{scaleX:a.symbolScale[0],scaleY:a.symbolScale[1]},a,o))}function createOrUpdateBarRect(n,r,a){var o=extend3({},r.barRectShape),s=n.__pictorialBarRect;s?updateAttr(s,null,{shape:o},r,a):(s=n.__pictorialBarRect=new Rect_default({z2:2,shape:o,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),s.disableMorphing=!0,n.add(s))}function createOrUpdateClip(n,r,a,o){if(a.symbolClip){var s=n.__pictorialClipPath,l=extend3({},a.clipShape),u=r.valueDim,f=a.animationModel,d=a.dataIndex;if(s)updateProps2(s,{shape:l},f,d);else{l[u.wh]=0,s=new Rect_default({shape:l}),n.__pictorialBundle.setClipPath(s),n.__pictorialClipPath=s;var v={};v[u.wh]=a.clipShape[u.wh],graphic_exports[o?"updateProps":"initProps"](s,{shape:v},f,d)}}}function getItemModel(n,r){var a=n.getItemModel(r);return a.getAnimationDelayParams=getAnimationDelayParams,a.isAnimationEnabled=isAnimationEnabled,a}function getAnimationDelayParams(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(n,r,a,o){var s=new Group_default,l=new Group_default;return s.add(l),s.__pictorialBundle=l,l.x=a.bundlePosition[0],l.y=a.bundlePosition[1],a.symbolRepeat?createOrUpdateRepeatSymbols(s,r,a):createOrUpdateSingleSymbol(s,r,a),createOrUpdateBarRect(s,a,o),createOrUpdateClip(s,r,a,o),s.__pictorialShapeStr=getShapeStr(n,a),s.__pictorialSymbolMeta=a,s}function updateBar(n,r,a){var o=a.animationModel,s=a.dataIndex,l=n.__pictorialBundle;updateProps2(l,{x:a.bundlePosition[0],y:a.bundlePosition[1]},o,s),a.symbolRepeat?createOrUpdateRepeatSymbols(n,r,a,!0):createOrUpdateSingleSymbol(n,r,a,!0),createOrUpdateBarRect(n,a,!0),createOrUpdateClip(n,r,a,!0)}function removeBar(n,r,a,o){var s=o.__pictorialBarRect;s&&s.removeTextContent();var l=[];eachPath(o,function(u){l.push(u)}),o.__pictorialMainPath&&l.push(o.__pictorialMainPath),o.__pictorialClipPath&&(a=null),each(l,function(u){removeElement2(u,{scaleX:0,scaleY:0},a,r,function(){o.parent&&o.parent.remove(o)})}),n.setItemGraphicEl(r,null)}function getShapeStr(n,r){return[n.getItemVisual(r.dataIndex,"symbol")||"none",!!r.symbolRepeat,!!r.symbolClip].join(":")}function eachPath(n,r,a){each(n.__pictorialBundle.children(),function(o){o!==n.__pictorialBarRect&&r.call(a,o)})}function updateAttr(n,r,a,o,s,l){r&&n.attr(r),o.symbolClip&&!s?a&&n.attr(a):a&&graphic_exports[s?"updateProps":"initProps"](n,a,o.animationModel,o.dataIndex,l)}function updateCommon2(n,r,a){var o=a.dataIndex,s=a.itemModel,l=s.getModel("emphasis"),u=l.getModel("itemStyle").getItemStyle(),f=s.getModel(["blur","itemStyle"]).getItemStyle(),d=s.getModel(["select","itemStyle"]).getItemStyle(),v=s.getShallow("cursor"),g=l.get("focus"),y=l.get("blurScope"),b=l.get("scale");eachPath(n,function(C){if(C instanceof Image_default){var w=C.style;C.useStyle(extend3({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},a.style))}else C.useStyle(a.style);var S=C.ensureState("emphasis");S.style=u,b&&(S.scaleX=C.scaleX*1.1,S.scaleY=C.scaleY*1.1),C.ensureState("blur").style=f,C.ensureState("select").style=d,v&&(C.cursor=v),C.z2=a.z2});var _=r.valueDim.posDesc[+(a.boundingLength>0)],x=n.__pictorialBarRect;setLabelStyle(x,getLabelStatesModels(s),{labelFetcher:r.seriesModel,labelDataIndex:o,defaultText:getDefaultLabel(r.seriesModel.getData(),o),inheritColor:a.style.fill,defaultOpacity:a.style.opacity,defaultOutsidePosition:_}),toggleHoverEmphasis(n,g,y,l.get("disabled"))}function toIntTimes(n){var r=Math.round(n);return Math.abs(n-r)<1e-4?r:Math.ceil(n)}var PictorialBarSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.hasSymbolVisual=!0,a.defaultSymbol="roundRect",a}return r.prototype.getInitialData=function(a){return a.stack=null,n.prototype.getInitialData.apply(this,arguments)},r.type="series.pictorialBar",r.dependencies=["grid"],r.defaultOption=inheritDefaultOption(BaseBarSeries_default.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),r}(BaseBarSeries_default),ThemeRiverView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a._layers=[],a}return r.prototype.render=function(a,o,s){var l=a.getData(),u=this,f=this.group,d=a.getLayerSeries(),v=l.getLayout("layoutInfo"),g=v.rect,y=v.boundaryGap;f.x=0,f.y=g.y+y[0];function b(w){return w.name}var _=new DataDiffer_default(this._layersSeries||[],d,b,b),x=[];_.add(bind(C,this,"add")).update(bind(C,this,"update")).remove(bind(C,this,"remove")).execute();function C(w,S,D){var A=u._layers;if(w==="remove"){f.remove(A[S]);return}for(var T=[],M=[],E,P=d[S].indices,I=0;I<P.length;I++){var F=l.getItemLayout(P[I]),L=F.x,O=F.y0,z=F.y;T.push(L,O),M.push(L,O+z),E=l.getItemVisual(P[I],"style")}var R,B=l.getItemLayout(P[0]),N=a.getModel("label"),H=N.get("margin"),W=a.getModel("emphasis");if(w==="add"){var V=x[S]=new Group_default;R=new ECPolygon({shape:{points:T,stackedOnPoints:M,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),V.add(R),f.add(V),a.isAnimationEnabled()&&R.setClipPath(createGridClipShape3(R.getBoundingRect(),a,function(){R.removeClipPath()}))}else{var V=A[D];R=V.childAt(0),f.add(V),x[S]=V,updateProps2(R,{shape:{points:T,stackedOnPoints:M}},a),saveOldStyle(R)}setLabelStyle(R,getLabelStatesModels(a),{labelDataIndex:P[I-1],defaultText:l.getName(P[I-1]),inheritColor:E.fill},{normal:{verticalAlign:"middle"}}),R.setTextConfig({position:null,local:!0});var G=R.getTextContent();G&&(G.x=B.x-H,G.y=B.y0+B.y/2),R.useStyle(E),l.setItemGraphicEl(S,R),setStatesStylesFromModel(R,a),toggleHoverEmphasis(R,W.get("focus"),W.get("blurScope"),W.get("disabled"))}this._layersSeries=d,this._layers=x},r.type="themeRiver",r}(Chart_default);function createGridClipShape3(n,r,a){var o=new Rect_default({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return initProps2(o,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},r,a),o}var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.init=function(a){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind(this.getData,this),bind(this.getRawData,this))},r.prototype.fixData=function(a){var o=a.length,s={},l=groupData(a,function(b){return s.hasOwnProperty(b[0]+"")||(s[b[0]+""]=-1),b[2]}),u=[];l.buckets.each(function(b,_){u.push({name:_,dataList:b})});for(var f=u.length,d=0;d<f;++d){for(var v=u[d].name,g=0;g<u[d].dataList.length;++g){var y=u[d].dataList[g][0]+"";s[y]=d}for(var y in s)s.hasOwnProperty(y)&&s[y]!==d&&(s[y]=d,a[o]=[y,0,v],o++)}return a},r.prototype.getInitialData=function(a,o){for(var s=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],l=s.get("type"),u=filter(a.data,function(x){return x[2]!==void 0}),f=this.fixData(u||[]),d=[],v=this.nameMap=createHashMap(),g=0,y=0;y<f.length;++y)d.push(f[y][DATA_NAME_INDEX]),v.get(f[y][DATA_NAME_INDEX])||(v.set(f[y][DATA_NAME_INDEX],g),g++);var b=prepareSeriesDataSchema(f,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(l)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,_=new SeriesData_default(b,this);return _.initData(f),_},r.prototype.getLayerSeries=function(){for(var a=this.getData(),o=a.count(),s=[],l=0;l<o;++l)s[l]=l;var u=a.mapDimension("single"),f=groupData(s,function(v){return a.get("name",v)}),d=[];return f.buckets.each(function(v,g){v.sort(function(y,b){return a.get(u,y)-a.get(u,b)}),d.push({name:g,indices:v})}),d},r.prototype.getAxisTooltipData=function(a,o,s){isArray3(a)||(a=a?[a]:[]);for(var l=this.getData(),u=this.getLayerSeries(),f=[],d=u.length,v,g=0;g<d;++g){for(var y=Number.MAX_VALUE,b=-1,_=u[g].indices.length,x=0;x<_;++x){var C=l.get(a[0],u[g].indices[x]),w=Math.abs(C-o);w<=y&&(v=C,y=w,b=u[g].indices[x])}f.push(b)}return{dataIndices:f,nestestValue:v}},r.prototype.formatTooltip=function(a,o,s){var l=this.getData(),u=l.getName(a),f=l.get(l.mapDimension("value"),a);return createTooltipMarkup("nameValue",{name:u,value:f})},r.type="series.themeRiver",r.dependencies=["singleAxis"],r.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},r}(Series_default),DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(n){__extends(r,n);function r(a,o,s,l){var u=n.call(this)||this;u.z2=DEFAULT_SECTOR_Z,u.textConfig={inside:!0},getECData(u).seriesIndex=o.seriesIndex;var f=new Text_default({z2:DEFAULT_TEXT_Z,silent:a.getModel().get(["label","silent"])});return u.setTextContent(f),u.updateData(!0,a,o,s,l),u}return r.prototype.updateData=function(a,o,s,l,u){this.node=o,o.piece=this,s=s||this._seriesModel,l=l||this._ecModel;var f=this;getECData(f).dataIndex=o.dataIndex;var d=o.getModel(),v=d.getModel("emphasis"),g=o.getLayout(),y=extend3({},g);y.label=null;var b=o.getVisual("style");b.lineJoin="bevel";var _=o.getVisual("decal");_&&(b.decal=createOrUpdatePatternFromDecal(_,u));var x=getSectorCornerRadius(d.getModel("itemStyle"),y,!0);extend3(y,x),each(SPECIAL_STATES,function(D){var A=f.ensureState(D),T=d.getModel([D,"itemStyle"]);A.style=T.getItemStyle();var M=getSectorCornerRadius(T,y);M&&(A.shape=M)}),a?(f.setShape(y),f.shape.r=g.r0,updateProps2(f,{shape:{r:g.r}},s,o.dataIndex)):(updateProps2(f,{shape:y},s),saveOldStyle(f)),f.useStyle(b),this._updateLabel(s);var C=d.getShallow("cursor");C&&f.attr("cursor",C),this._seriesModel=s||this._seriesModel,this._ecModel=l||this._ecModel;var w=v.get("focus"),S=w==="ancestor"?o.getAncestorsIndices():w==="descendant"?o.getDescendantIndices():w;toggleHoverEmphasis(this,S,v.get("blurScope"),v.get("disabled"))},r.prototype._updateLabel=function(a){var o=this,s=this.node.getModel(),l=s.getModel("label"),u=this.node.getLayout(),f=u.endAngle-u.startAngle,d=(u.startAngle+u.endAngle)/2,v=Math.cos(d),g=Math.sin(d),y=this,b=y.getTextContent(),_=this.node.dataIndex,x=l.get("minAngle")/180*Math.PI,C=l.get("show")&&!(x!=null&&Math.abs(f)<x);b.ignore=!C,each(DISPLAY_STATES,function(S){var D=S==="normal"?s.getModel("label"):s.getModel([S,"label"]),A=S==="normal",T=A?b:b.ensureState(S),M=a.getFormattedLabel(_,S);A&&(M=M||o.node.name),T.style=createTextStyle(D,{},null,S!=="normal",!0),M&&(T.style.text=M);var E=D.get("show");E!=null&&!A&&(T.ignore=!E);var P=w(D,"position"),I=A?y:y.states[S],F=I.style.fill;I.textConfig={outsideFill:D.get("color")==="inherit"?F:null,inside:P!=="outside"};var L,O=w(D,"distance")||0,z=w(D,"align");P==="outside"?(L=u.r+O,z=d>Math.PI/2?"right":"left"):!z||z==="center"?(f===2*Math.PI&&u.r0===0?L=0:L=(u.r+u.r0)/2,z="center"):z==="left"?(L=u.r0+O,d>Math.PI/2&&(z="right")):z==="right"&&(L=u.r-O,d>Math.PI/2&&(z="left")),T.style.align=z,T.style.verticalAlign=w(D,"verticalAlign")||"middle",T.x=L*v+u.cx,T.y=L*g+u.cy;var R=w(D,"rotate"),B=0;R==="radial"?(B=-d,B<-Math.PI/2&&(B+=Math.PI)):R==="tangential"?(B=Math.PI/2-d,B>Math.PI/2?B-=Math.PI:B<-Math.PI/2&&(B+=Math.PI)):isNumber(R)&&(B=R*Math.PI/180),T.rotation=B});function w(S,D){var A=S.get(D);return A==null?l.get(D):A}b.dirtyStyle()},r}(Sector_default),SunburstPiece_default=SunburstPiece,ROOT_TO_NODE_ACTION="sunburstRootToNode",SunburstView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s,l){var u=this;this.seriesModel=a,this.api=s,this.ecModel=o;var f=a.getData(),d=f.tree.root,v=a.getViewRoot(),g=this.group,y=a.get("renderLabelForZeroData"),b=[];v.eachNode(function(D){b.push(D)});var _=this._oldChildren||[];x(b,_),S(d,v),this._initEvents(),this._oldChildren=b;function x(D,A){if(D.length===0&&A.length===0)return;new DataDiffer_default(A,D,T,T).add(M).update(M).remove(curry(M,null)).execute();function T(E){return E.getId()}function M(E,P){var I=E==null?null:D[E],F=P==null?null:A[P];C(I,F)}}function C(D,A){if(!y&&D&&!D.getValue()&&(D=null),D!==d&&A!==d){if(A&&A.piece)D?(A.piece.updateData(!1,D,a,o,s),f.setItemGraphicEl(D.dataIndex,A.piece)):w(A);else if(D){var T=new SunburstPiece_default(D,a,o,s);g.add(T),f.setItemGraphicEl(D.dataIndex,T)}}}function w(D){!D||D.piece&&(g.remove(D.piece),D.piece=null)}function S(D,A){A.depth>0?(u.virtualPiece?u.virtualPiece.updateData(!1,D,a,o,s):(u.virtualPiece=new SunburstPiece_default(D,a,o,s),g.add(u.virtualPiece)),A.piece.off("click"),u.virtualPiece.on("click",function(T){u._rootToNode(A.parentNode)})):u.virtualPiece&&(g.remove(u.virtualPiece),u.virtualPiece=null)}},r.prototype._initEvents=function(){var a=this;this.group.off("click"),this.group.on("click",function(o){var s=!1,l=a.seriesModel.getViewRoot();l.eachNode(function(u){if(!s&&u.piece&&u.piece===o.target){var f=u.getModel().get("nodeClick");if(f==="rootToNode")a._rootToNode(u);else if(f==="link"){var d=u.getModel(),v=d.get("link");if(v){var g=d.get("target",!0)||"_blank";windowOpen(v,g)}}s=!0}})})},r.prototype._rootToNode=function(a){a!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:a})},r.prototype.containPoint=function(a,o){var s=o.getData(),l=s.getItemLayout(0);if(l){var u=a[0]-l.cx,f=a[1]-l.cy,d=Math.sqrt(u*u+f*f);return d<=l.r&&d>=l.r0}},r.type="sunburst",r}(Chart_default),SunburstSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a.ignoreStyleOnData=!0,a}return r.prototype.getInitialData=function(a,o){var s={name:a.name,children:a.data};completeTreeValue2(s);var l=this._levelModels=map3(a.levels||[],function(d){return new Model_default(d,this,o)},this),u=Tree_default.createTree(s,this,f);function f(d){d.wrapMethod("getItemModel",function(v,g){var y=u.getNodeByDataIndex(g),b=l[y.depth];return b&&(v.parentModel=b),v})}return u.data},r.prototype.optionUpdated=function(){this.resetViewRoot()},r.prototype.getDataParams=function(a){var o=n.prototype.getDataParams.apply(this,arguments),s=this.getData().tree.getNodeByDataIndex(a);return o.treePathInfo=wrapTreePathInfo(s,this),o},r.prototype.getLevelModel=function(a){return this._levelModels&&this._levelModels[a.depth]},r.prototype.getViewRoot=function(){return this._viewRoot},r.prototype.resetViewRoot=function(a){a?this._viewRoot=a:a=this._viewRoot;var o=this.getRawData().tree.root;(!a||a!==o&&!o.contains(a))&&(this._viewRoot=o)},r.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},r.type="series.sunburst",r.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},r}(Series_default);function completeTreeValue2(n){var r=0;each(n.children,function(o){completeTreeValue2(o);var s=o.value;isArray3(s)&&(s=s[0]),r+=s});var a=n.value;isArray3(a)&&(a=a[0]),(a==null||isNaN(a))&&(a=r),a<0&&(a=0),isArray3(n.value)?n.value[0]=a:n.value=a}var RADIAN3=Math.PI/180,STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},r.prototype.getInitialData=function(a,o){return createSeriesData_default(null,this)},r.prototype.getDataParams=function(a,o,s){var l=n.prototype.getDataParams.call(this,a,o);return s&&(l.info=customInnerStore(s).info),l},r.type="series.custom",r.dependencies=["grid","polar","geo","singleAxis","calendar"],r.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},r}(Series_default);function dataToCoordSize(n,r){return r=r||[0,0],map3(["x","y"],function(a,o){var s=this.getAxis(a),l=r[o],u=n[o]/2;return s.type==="category"?s.getBandWidth():Math.abs(s.dataToCoord(l-u)-s.dataToCoord(l+u))},this)}function cartesianPrepareCustom(n){var r=n.master.getRect();return{coordSys:{type:"cartesian2d",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(a){return n.dataToPoint(a)},size:bind(dataToCoordSize,n)}}}function dataToCoordSize2(n,r){return r=r||[0,0],map3([0,1],function(a){var o=r[a],s=n[a]/2,l=[],u=[];return l[a]=o-s,u[a]=o+s,l[1-a]=u[1-a]=r[1-a],Math.abs(this.dataToPoint(l)[a]-this.dataToPoint(u)[a])},this)}function geoPrepareCustom(n){var r=n.getBoundingRect();return{coordSys:{type:"geo",x:r.x,y:r.y,width:r.width,height:r.height,zoom:n.getZoom()},api:{coord:function(a){return n.dataToPoint(a)},size:bind(dataToCoordSize2,n)}}}function dataToCoordSize3(n,r){var a=this.getAxis(),o=r instanceof Array?r[0]:r,s=(n instanceof Array?n[0]:n)/2;return a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s))}function singlePrepareCustom(n){var r=n.getRect();return{coordSys:{type:"singleAxis",x:r.x,y:r.y,width:r.width,height:r.height},api:{coord:function(a){return n.dataToPoint(a)},size:bind(dataToCoordSize3,n)}}}function dataToCoordSize4(n,r){return r=r||[0,0],map3(["Radius","Angle"],function(a,o){var s="get"+a+"Axis",l=this[s](),u=r[o],f=n[o]/2,d=l.type==="category"?l.getBandWidth():Math.abs(l.dataToCoord(u-f)-l.dataToCoord(u+f));return a==="Angle"&&(d=d*Math.PI/180),d},this)}function polarPrepareCustom(n){var r=n.getRadiusAxis(),a=n.getAngleAxis(),o=r.getExtent();return o[0]>o[1]&&o.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:o[1],r0:o[0]},api:{coord:function(s){var l=r.dataToRadius(s[0]),u=a.dataToAngle(s[1]),f=n.coordToPoint([l,u]);return f.push(l,u*Math.PI/180),f},size:bind(dataToCoordSize4,n)}}}function calendarPrepareCustom(n){var r=n.getRect(),a=n.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(o,s){return n.dataToPoint(o,s)}}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,singleAxis:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath2(n){return n instanceof Path_default}function isDisplayable(n){return n instanceof Displayable_default}function copyElement(n,r){r.copyTransform(n),isDisplayable(r)&&isDisplayable(n)&&(r.setStyle(n.style),r.z=n.z,r.z2=n.z2,r.zlevel=n.zlevel,r.invisible=n.invisible,r.ignore=n.ignore,isPath2(r)&&isPath2(n)&&r.setShape(n.shape))}var CustomChartView=function(n){__extends(r,n);function r(){var a=n!==null&&n.apply(this,arguments)||this;return a.type=r.type,a}return r.prototype.render=function(a,o,s,l){this._progressiveEls=null;var u=this._data,f=a.getData(),d=this.group,v=makeRenderItem(a,f,o,s);u||d.removeAll(),f.diff(u).add(function(y){createOrUpdateItem(s,null,y,v(y,l),a,d,f)}).remove(function(y){var b=u.getItemGraphicEl(y);applyLeaveTransition(b,customInnerStore(b).option,a)}).update(function(y,b){var _=u.getItemGraphicEl(b);createOrUpdateItem(s,_,y,v(y,l),a,d,f)}).execute();var g=a.get("clip",!0)?createClipPath(a.coordinateSystem,!1,a):null;g?d.setClipPath(g):d.removeClipPath(),this._data=f},r.prototype.incrementalPrepareRender=function(a,o,s){this.group.removeAll(),this._data=null},r.prototype.incrementalRender=function(a,o,s,l,u){var f=o.getData(),d=makeRenderItem(o,f,s,l),v=this._progressiveEls=[];function g(_){_.isGroup||(_.incremental=!0,_.ensureState("emphasis").hoverLayer=!0)}for(var y=a.start;y<a.end;y++){var b=createOrUpdateItem(null,null,y,d(y,u),o,this.group,f);b&&(b.traverse(g),v.push(b))}},r.prototype.eachRendered=function(a){traverseElements(this._progressiveEls||this.group,a)},r.prototype.filterForExposedEvent=function(a,o,s,l){var u=o.element;if(u==null||s.name===u)return!0;for(;(s=s.__hostTarget||s.parent)&&s!==this.group;)if(s.name===u)return!0;return!1},r.type="custom",r}(Chart_default);function createEl2(n){var r=n.type,a;if(r==="path"){var o=n.shape,s=o.width!=null&&o.height!=null?{x:o.x||0,y:o.y||0,width:o.width,height:o.height}:null,l=getPathData(o);a=makePath(l,null,s,o.layout||"center"),customInnerStore(a).customPathData=l}else if(r==="image")a=new Image_default({}),customInnerStore(a).customImagePath=n.style.image;else if(r==="text")a=new Text_default({});else if(r==="group")a=new Group_default;else{if(r==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var u=getShapeClass(r);if(!u){var f="";f='graphic type "'+r+'" can not be found.',throwError2(f)}a=new u}return customInnerStore(a).customGraphicType=r,a.name=n.name,a.z2EmphasisLift=1,a.z2SelectLift=1,a}function updateElNormal(n,r,a,o,s,l,u){stopPreviousKeyframeAnimationAndRestore(r);var f=s&&s.normal.cfg;f&&r.setTextConfig(f),o&&o.transition==null&&(o.transition=DEFAULT_TRANSITION);var d=o&&o.style;if(d){if(r.type==="text"){var v=d;hasOwn2(v,"textFill")&&(v.fill=v.textFill),hasOwn2(v,"textStroke")&&(v.stroke=v.textStroke)}var g=void 0,y=isPath2(r)?d.decal:null;n&&y&&(y.dirty=!0,g=createOrUpdatePatternFromDecal(y,n)),d.__decalPattern=g}if(isDisplayable(r)&&d){var g=d.__decalPattern;g&&(d.decal=g)}applyUpdateTransition(r,o,l,{dataIndex:a,isInit:u,clearStyle:!0}),applyKeyframeAnimation(r,o.keyframeAnimation,l)}function updateElOnState(n,r,a,o,s){var l=r.isGroup?null:r,u=s&&s[n].cfg;if(l){var f=l.ensureState(n);if(o===!1){var d=l.getState(n);d&&(d.style=null)}else f.style=o||null;u&&(f.textConfig=u),setDefaultStateProxy(l)}}function updateZ2(n,r,a){if(!n.isGroup){var o=n,s=a.currentZ,l=a.currentZLevel;o.z=s,o.zlevel=l;var u=r.z2;u!=null&&(o.z2=u||0);for(var f=0;f<STATES.length;f++)updateZForEachState(o,r,STATES[f])}}function updateZForEachState(n,r,a){var o=a===NORMAL,s=o?r:retrieveStateOption(r,a),l=s?s.z2:null,u;l!=null&&(u=o?n:n.ensureState(a),u.z2=l||0)}function makeRenderItem(n,r,a,o){var s=n.get("renderItem"),l=n.coordinateSystem,u={};l&&(assert(s,"series.render is required."),assert(l.prepareCustoms||prepareCustoms[l.type],"This coordSys does not support custom series."),u=l.prepareCustoms?l.prepareCustoms(l):prepareCustoms[l.type](l));for(var f=defaults({getWidth:o.getWidth,getHeight:o.getHeight,getZr:o.getZr,getDevicePixelRatio:o.getDevicePixelRatio,value:T,style:E,ordinalRawValue:M,styleEmphasis:P,visual:L,barLayout:O,currentSeriesIndices:z,font:R},u.api||{}),d={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:u.coordSys,dataInsideLength:r.count(),encode:wrapEncodeDef(n.getData())},v,g,y={},b={},_={},x={},C=0;C<STATES.length;C++){var w=STATES[C];_[w]=n.getModel(PATH_ITEM_STYLE[w]),x[w]=n.getModel(PATH_LABEL[w])}function S(B){return B===v?g||(g=r.getItemModel(B)):r.getItemModel(B)}function D(B,N){return r.hasItemOption?B===v?y[N]||(y[N]=S(B).getModel(PATH_ITEM_STYLE[N])):S(B).getModel(PATH_ITEM_STYLE[N]):_[N]}function A(B,N){return r.hasItemOption?B===v?b[N]||(b[N]=S(B).getModel(PATH_LABEL[N])):S(B).getModel(PATH_LABEL[N]):x[N]}return function(B,N){return v=B,g=null,y={},b={},s&&s(defaults({dataIndexInside:B,dataIndex:r.getRawIndex(B),actionType:N?N.type:null},d),f)};function T(B,N){return N==null&&(N=v),r.getStore().get(r.getDimensionIndex(B||0),N)}function M(B,N){N==null&&(N=v),B=B||0;var H=r.getDimensionInfo(B);if(!H){var W=r.getDimensionIndex(B);return W>=0?r.getStore().get(W,N):void 0}var V=r.get(H.name,N),G=H&&H.ordinalMeta;return G?G.categories[V]:V}function E(B,N){warnDeprecated("api.style","Please write literal style directly instead."),N==null&&(N=v);var H=r.getItemVisual(N,"style"),W=H&&H.fill,V=H&&H.opacity,G=D(N,NORMAL).getItemStyle();W!=null&&(G.fill=W),V!=null&&(G.opacity=V);var Y={inheritColor:isString2(W)?W:"#000"},Q=A(N,NORMAL),q=createTextStyle(Q,null,Y,!1,!0);q.text=Q.getShallow("show")?retrieve2(n.getFormattedLabel(N,NORMAL),getDefaultLabel(r,N)):null;var ne=createTextConfig(Q,Y,!1);return F(B,G),G=convertToEC4StyleForCustomSerise(G,q,ne),B&&I(G,B),G.legacy=!0,G}function P(B,N){warnDeprecated("api.styleEmphasis","Please write literal style directly instead."),N==null&&(N=v);var H=D(N,EMPHASIS).getItemStyle(),W=A(N,EMPHASIS),V=createTextStyle(W,null,null,!0,!0);V.text=W.getShallow("show")?retrieve3(n.getFormattedLabel(N,EMPHASIS),n.getFormattedLabel(N,NORMAL),getDefaultLabel(r,N)):null;var G=createTextConfig(W,null,!0);return F(B,H),H=convertToEC4StyleForCustomSerise(H,V,G),B&&I(H,B),H.legacy=!0,H}function I(B,N){for(var H in N)hasOwn2(N,H)&&(B[H]=N[H])}function F(B,N){B&&(B.textFill&&(N.textFill=B.textFill),B.textPosition&&(N.textPosition=B.textPosition))}function L(B,N){if(N==null&&(N=v),hasOwn2(STYLE_VISUAL_TYPE,B)){var H=r.getItemVisual(N,"style");return H?H[STYLE_VISUAL_TYPE[B]]:null}if(hasOwn2(NON_STYLE_VISUAL_PROPS,B))return r.getItemVisual(N,B)}function O(B){if(l.type==="cartesian2d"){var N=l.getBaseAxis();return getLayoutOnAxis(defaults({axis:N},B))}}function z(){return a.getCurrentSeriesIndices()}function R(B){return getFont(B,a)}}function wrapEncodeDef(n){var r={};return each(n.dimensions,function(a){var o=n.getDimensionInfo(a);if(!o.isExtraCoord){var s=o.coordDim,l=r[s]=r[s]||[];l[o.coordDimIndex]=n.getDimensionIndex(a)}}),r}function createOrUpdateItem(n,r,a,o,s,l,u){if(!o){l.remove(r);return}var f=doCreateOrUpdateEl(n,r,a,o,s,l);return f&&u.setItemGraphicEl(a,f),f&&toggleHoverEmphasis(f,o.focus,o.blurScope,o.emphasisDisabled),f}function doCreateOrUpdateEl(n,r,a,o,s,l){assert(o,"should not have an null/undefined element setting");var u=-1,f=r;r&&doesElNeedRecreate(r,o,s)&&(u=indexOf(l.childrenRef(),r),r=null);var d=!r,v=r;v?v.clearStates():(v=createEl2(o),f&&copyElement(f,v)),o.morph===!1?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(v,a,o,s,d,attachedTxInfoTmp),doCreateOrUpdateClipPath(v,a,o,s,d),updateElNormal(n,v,a,o,attachedTxInfoTmp,s,d),hasOwn2(o,"info")&&(customInnerStore(v).info=o.info);for(var g=0;g<STATES.length;g++){var y=STATES[g];if(y!==NORMAL){var b=retrieveStateOption(o,y),_=retrieveStyleOptionOnState(o,b,y);updateElOnState(y,v,b,_,attachedTxInfoTmp)}}return updateZ2(v,o,s),o.type==="group"&&mergeChildren(n,v,a,o,s),u>=0?l.replaceAt(v,u):l.add(v),v}function doesElNeedRecreate(n,r,a){var o=customInnerStore(n),s=r.type,l=r.shape,u=r.style;return a.isUniversalTransitionEnabled()||s!=null&&s!==o.customGraphicType||s==="path"&&hasOwnPathData(l)&&getPathData(l)!==o.customPathData||s==="image"&&hasOwn2(u,"image")&&u.image!==o.customImagePath}function doCreateOrUpdateClipPath(n,r,a,o,s){var l=a.clipPath;if(l===!1)n&&n.getClipPath()&&n.removeClipPath();else if(l){var u=n.getClipPath();u&&doesElNeedRecreate(u,l,o)&&(u=null),u||(u=createEl2(l),assert(isPath2(u),"Only any type of `path` can be used in `clipPath`, rather than "+u.type+"."),n.setClipPath(u)),updateElNormal(null,u,r,l,null,o,s)}}function doCreateOrUpdateAttachedTx(n,r,a,o,s,l){if(!n.isGroup){processTxInfo(a,null,l),processTxInfo(a,EMPHASIS,l);var u=l.normal.conOpt,f=l.emphasis.conOpt,d=l.blur.conOpt,v=l.select.conOpt;if(u!=null||f!=null||v!=null||d!=null){var g=n.getTextContent();if(u===!1)g&&n.removeTextContent();else{u=l.normal.conOpt=u||{type:"text"},g?g.clearStates():(g=createEl2(u),n.setTextContent(g)),updateElNormal(null,g,r,u,null,o,s);for(var y=u&&u.style,b=0;b<STATES.length;b++){var _=STATES[b];if(_!==NORMAL){var x=l[_].conOpt;updateElOnState(_,g,x,retrieveStyleOptionOnState(u,x,_),null)}}y?g.dirty():g.markRedraw()}}}}function processTxInfo(n,r,a){var o=r?retrieveStateOption(n,r):n,s=r?retrieveStyleOptionOnState(n,o,EMPHASIS):n.style,l=n.type,u=o?o.textConfig:null,f=n.textContent,d=f?r?retrieveStateOption(f,r):f:null;if(s&&(a.isLegacy||isEC4CompatibleStyle(s,l,!!u,!!d))){a.isLegacy=!0;var v=convertFromEC4CompatibleStyle(s,l,!r);!u&&v.textConfig&&(u=v.textConfig),!d&&v.textContent&&(d=v.textContent)}if(!r&&d){var g=d;!g.type&&(g.type="text"),assert(g.type==="text",'textContent.type must be "text"')}var y=r?a[r]:a.normal;y.cfg=u,y.conOpt=d}function retrieveStateOption(n,r){return r?n?n[r]:null:n}function retrieveStyleOptionOnState(n,r,a){var o=r&&r.style;return o==null&&a===EMPHASIS&&n&&(o=n.styleEmphasis),o}function mergeChildren(n,r,a,o,s){var l=o.children,u=l?l.length:0,f=o.$mergeChildren,d=f==="byName"||o.diffChildrenByName,v=f===!1;if(!(!u&&!d&&!v)){if(d){diffGroupChildren({api:n,oldChildren:r.children()||[],newChildren:l||[],dataIndex:a,seriesModel:s,group:r});return}v&&r.removeAll();for(var g=0;g<u;g++)l[g]&&doCreateOrUpdateEl(n,r.childAt(g),a,l[g],s,r);for(var y=r.childCount()-1;y>=g;y--){var b=r.childAt(y);applyLeaveTransition(b,customInnerStore(r).option,s)}}}function diffGroupChildren(n){new DataDiffer_default(n.oldChildren,n.newChildren,getKey2,getKey2,n).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey2(n,r){var a=n&&n.name;return a!=null?a:GROUP_DIFF_PREFIX+r}function processAddUpdate(n,r){var a=this.context,o=n!=null?a.newChildren[n]:null,s=r!=null?a.oldChildren[r]:null;doCreateOrUpdateEl(a.api,s,a.dataIndex,o,a.seriesModel,a.group)}function processRemove(n){var r=this.context,a=r.oldChildren[n];applyLeaveTransition(a,customInnerStore(a).option,r.seriesModel)}function getPathData(n){return n&&(n.pathData||n.d)}function hasOwnPathData(n){return n&&(hasOwn2(n,"pathData")||hasOwn2(n,"d"))}var CMD5=PathProxy_default.CMD;function aroundEqual(n,r){return Math.abs(n-r)<1e-5}function pathToBezierCurves(n){var r=n.data,a=n.len(),o=[],s,l=0,u=0,f=0,d=0;function v(R,B){s&&s.length>2&&o.push(s),s=[R,B]}function g(R,B,N,H){aroundEqual(R,N)&&aroundEqual(B,H)||s.push(R,B,N,H,N,H)}function y(R,B,N,H,W,V){var G=Math.abs(B-R),Y=Math.tan(G/4)*4/3,Q=B<R?-1:1,q=Math.cos(R),ne=Math.sin(R),ve=Math.cos(B),fe=Math.sin(B),he=q*W+N,pe=ne*V+H,de=ve*W+N,ue=fe*V+H,be=W*Y*Q,se=V*Y*Q;s.push(he-be*ne,pe+se*q,de+be*fe,ue-se*ve,de,ue)}for(var b,_,x,C,w=0;w<a;){var S=r[w++],D=w===1;switch(D&&(l=r[w],u=r[w+1],f=l,d=u,(S===CMD5.L||S===CMD5.C||S===CMD5.Q)&&(s=[f,d])),S){case CMD5.M:l=f=r[w++],u=d=r[w++],v(f,d);break;case CMD5.L:b=r[w++],_=r[w++],g(l,u,b,_),l=b,u=_;break;case CMD5.C:s.push(r[w++],r[w++],r[w++],r[w++],l=r[w++],u=r[w++]);break;case CMD5.Q:b=r[w++],_=r[w++],x=r[w++],C=r[w++],s.push(l+2/3*(b-l),u+2/3*(_-u),x+2/3*(b-x),C+2/3*(_-C),x,C),l=x,u=C;break;case CMD5.A:var A=r[w++],T=r[w++],M=r[w++],E=r[w++],P=r[w++],I=r[w++]+P;w+=1;var F=!r[w++];b=Math.cos(P)*M+A,_=Math.sin(P)*E+T,D?(f=b,d=_,v(f,d)):g(l,u,b,_),l=Math.cos(I)*M+A,u=Math.sin(I)*E+T;for(var L=(F?-1:1)*Math.PI/2,O=P;F?O>I:O<I;O+=L){var z=F?Math.max(O+L,I):Math.min(O+L,I);y(O,z,A,T,M,E)}break;case CMD5.R:f=l=r[w++],d=u=r[w++],b=f+r[w++],_=d+r[w++],v(b,d),g(b,d,b,_),g(b,_,f,_),g(f,_,f,d),g(f,d,b,d);break;case CMD5.Z:s&&g(l,u,f,d),l=f,u=d;break}}return s&&s.length>2&&o.push(s),o}function adpativeBezier(n,r,a,o,s,l,u,f,d,v){if(aroundEqual(n,a)&&aroundEqual(r,o)&&aroundEqual(s,u)&&aroundEqual(l,f)){d.push(u,f);return}var g=2/v,y=g*g,b=u-n,_=f-r,x=Math.sqrt(b*b+_*_);b/=x,_/=x;var C=a-n,w=o-r,S=s-u,D=l-f,A=C*C+w*w,T=S*S+D*D;if(A<y&&T<y){d.push(u,f);return}var M=b*C+_*w,E=-b*S-_*D,P=A-M*M,I=T-E*E;if(P<y&&M>=0&&I<y&&E>=0){d.push(u,f);return}var F=[],L=[];cubicSubdivide(n,a,s,u,.5,F),cubicSubdivide(r,o,l,f,.5,L),adpativeBezier(F[0],L[0],F[1],L[1],F[2],L[2],F[3],L[3],d,v),adpativeBezier(F[4],L[4],F[5],L[5],F[6],L[6],F[7],L[7],d,v)}function pathToPolygons(n,r){var a=pathToBezierCurves(n),o=[];r=r||1;for(var s=0;s<a.length;s++){var l=a[s],u=[],f=l[0],d=l[1];u.push(f,d);for(var v=2;v<l.length;){var g=l[v++],y=l[v++],b=l[v++],_=l[v++],x=l[v++],C=l[v++];adpativeBezier(f,d,g,y,b,_,x,C,u,r),f=x,d=C}o.push(u)}return o}function getDividingGrids(n,r,a){var o=n[r],s=n[1-r],l=Math.abs(o/s),u=Math.ceil(Math.sqrt(l*a)),f=Math.floor(a/u);f===0&&(f=1,u=a);for(var d=[],v=0;v<u;v++)d.push(f);var g=u*f,y=a-g;if(y>0)for(var v=0;v<y;v++)d[v%u]+=1;return d}function divideSector(n,r,a){for(var o=n.r0,s=n.r,l=n.startAngle,u=n.endAngle,f=Math.abs(u-l),d=f*s,v=s-o,g=d>Math.abs(v),y=getDividingGrids([d,v],g?0:1,r),b=(g?f:v)/y.length,_=0;_<y.length;_++)for(var x=(g?v:f)/y[_],C=0;C<y[_];C++){var w={};g?(w.startAngle=l+b*_,w.endAngle=l+b*(_+1),w.r0=o+x*C,w.r=o+x*(C+1)):(w.startAngle=l+x*C,w.endAngle=l+x*(C+1),w.r0=o+b*_,w.r=o+b*(_+1)),w.clockwise=n.clockwise,w.cx=n.cx,w.cy=n.cy,a.push(w)}}function divideRect(n,r,a){for(var o=n.width,s=n.height,l=o>s,u=getDividingGrids([o,s],l?0:1,r),f=l?"width":"height",d=l?"height":"width",v=l?"x":"y",g=l?"y":"x",y=n[f]/u.length,b=0;b<u.length;b++)for(var _=n[d]/u[b],x=0;x<u[b];x++){var C={};C[v]=b*y,C[g]=x*_,C[f]=y,C[d]=_,C.x+=n.x,C.y+=n.y,a.push(C)}}function crossProduct2d2(n,r,a,o){return n*o-a*r}function lineLineIntersect2(n,r,a,o,s,l,u,f){var d=a-n,v=o-r,g=u-s,y=f-l,b=crossProduct2d2(g,y,d,v);if(Math.abs(b)<1e-6)return null;var _=n-s,x=r-l,C=crossProduct2d2(_,x,g,y)/b;return C<0||C>1?null:new Point_default(C*d+n,C*v+r)}function projPtOnLine(n,r,a){var o=new Point_default;Point_default.sub(o,a,r),o.normalize();var s=new Point_default;Point_default.sub(s,n,r);var l=s.dot(o);return l}function addToPoly(n,r){var a=n[n.length-1];a&&a[0]===r[0]&&a[1]===r[1]||n.push(r)}function splitPolygonByLine(n,r,a){for(var o=n.length,s=[],l=0;l<o;l++){var u=n[l],f=n[(l+1)%o],d=lineLineIntersect2(u[0],u[1],f[0],f[1],r.x,r.y,a.x,a.y);d&&s.push({projPt:projPtOnLine(d,r,a),pt:d,idx:l})}if(s.length<2)return[{points:n},{points:n}];s.sort(function(w,S){return w.projPt-S.projPt});var v=s[0],g=s[s.length-1];if(g.idx<v.idx){var y=v;v=g,g=y}for(var b=[v.pt.x,v.pt.y],_=[g.pt.x,g.pt.y],x=[b],C=[_],l=v.idx+1;l<=g.idx;l++)addToPoly(x,n[l].slice());addToPoly(x,_),addToPoly(x,b);for(var l=g.idx+1;l<=v.idx+o;l++)addToPoly(C,n[l%o].slice());return addToPoly(C,b),addToPoly(C,_),[{points:x},{points:C}]}function binaryDividePolygon(n){var r=n.points,a=[],o=[];fromPoints(r,a,o);var s=new BoundingRect_default(a[0],a[1],o[0]-a[0],o[1]-a[1]),l=s.width,u=s.height,f=s.x,d=s.y,v=new Point_default,g=new Point_default;return l>u?(v.x=g.x=f+l/2,v.y=d,g.y=d+u):(v.y=g.y=d+u/2,v.x=f,g.x=f+l),splitPolygonByLine(r,v,g)}function binaryDivideRecursive(n,r,a,o){if(a===1)o.push(r);else{var s=Math.floor(a/2),l=n(r);binaryDivideRecursive(n,l[0],s,o),binaryDivideRecursive(n,l[1],a-s,o)}return o}function clone5(n,r){for(var a=[],o=0;o<r;o++)a.push(clonePath(n));return a}function copyPathProps(n,r){r.setStyle(n.style),r.z=n.z,r.z2=n.z2,r.zlevel=n.zlevel}function polygonConvert(n){for(var r=[],a=0;a<n.length;)r.push([n[a++],n[a++]]);return r}function split(n,r){var a=[],o=n.shape,s;switch(n.type){case"rect":divideRect(o,r,a),s=Rect_default;break;case"sector":divideSector(o,r,a),s=Sector_default;break;case"circle":divideSector({r0:0,r:o.r,startAngle:0,endAngle:Math.PI*2,cx:o.cx,cy:o.cy},r,a),s=Sector_default;break;default:var l=n.getComputedTransform(),u=l?Math.sqrt(Math.max(l[0]*l[0]+l[1]*l[1],l[2]*l[2]+l[3]*l[3])):1,f=map3(pathToPolygons(n.getUpdatedPathProxy(),u),function(S){return polygonConvert(S)}),d=f.length;if(d===0)binaryDivideRecursive(binaryDividePolygon,{points:f[0]},r,a);else if(d===r)for(var v=0;v<d;v++)a.push({points:f[v]});else{var g=0,y=map3(f,function(S){var D=[],A=[];fromPoints(S,D,A);var T=(A[1]-D[1])*(A[0]-D[0]);return g+=T,{poly:S,area:T}});y.sort(function(S,D){return D.area-S.area});for(var b=r,v=0;v<d;v++){var _=y[v];if(b<=0)break;var x=v===d-1?b:Math.ceil(_.area/g*r);x<0||(binaryDivideRecursive(binaryDividePolygon,{points:_.poly},x,a),b-=x)}}s=Polygon_default;break}if(!s)return clone5(n,r);for(var C=[],v=0;v<a.length;v++){var w=new s;w.setShape(a[v]),copyPathProps(n,w),C.push(w)}return C}function alignSubpath(n,r){var a=n.length,o=r.length;if(a===o)return[n,r];for(var s=[],l=[],u=a<o?n:r,f=Math.min(a,o),d=Math.abs(o-a)/6,v=(f-2)/6,g=Math.ceil(d/v)+1,y=[u[0],u[1]],b=d,_=2;_<f;){var x=u[_-2],C=u[_-1],w=u[_++],S=u[_++],D=u[_++],A=u[_++],T=u[_++],M=u[_++];if(b<=0){y.push(w,S,D,A,T,M);continue}for(var E=Math.min(b,g-1)+1,P=1;P<=E;P++){var I=P/E;cubicSubdivide(x,w,D,T,I,s),cubicSubdivide(C,S,A,M,I,l),x=s[3],C=l[3],y.push(s[1],l[1],s[2],l[2],x,C),w=s[5],S=l[5],D=s[6],A=l[6]}b-=E-1}return u===n?[y,r]:[n,y]}function createSubpath(n,r){for(var a=n.length,o=n[a-2],s=n[a-1],l=[],u=0;u<r.length;)l[u++]=o,l[u++]=s;return l}function alignBezierCurves(n,r){for(var a,o,s,l=[],u=[],f=0;f<Math.max(n.length,r.length);f++){var d=n[f],v=r[f],g=void 0,y=void 0;d?v?(a=alignSubpath(d,v),g=a[0],y=a[1],o=g,s=y):(y=createSubpath(s||d,d),g=d):(g=createSubpath(o||v,v),y=v),l.push(g),u.push(y)}return[l,u]}function centroid2(n){for(var r=0,a=0,o=0,s=n.length,l=0,u=s-2;l<s;u=l,l+=2){var f=n[u],d=n[u+1],v=n[l],g=n[l+1],y=f*g-v*d;r+=y,a+=(f+v)*y,o+=(d+g)*y}return r===0?[n[0]||0,n[1]||0]:[a/r/3,o/r/3,r]}function findBestRingOffset(n,r,a,o){for(var s=(n.length-2)/6,l=1/0,u=0,f=n.length,d=f-2,v=0;v<s;v++){for(var g=v*6,y=0,b=0;b<f;b+=2){var _=b===0?g:(g+b-2)%d+2,x=n[_]-a[0],C=n[_+1]-a[1],w=r[b]-o[0],S=r[b+1]-o[1],D=w-x,A=S-C;y+=D*D+A*A}y<l&&(l=y,u=v)}return u}function reverse(n){for(var r=[],a=n.length,o=0;o<a;o+=2)r[o]=n[a-o-2],r[o+1]=n[a-o-1];return r}function findBestMorphingRotation(n,r,a,o){for(var s=[],l,u=0;u<n.length;u++){var f=n[u],d=r[u],v=centroid2(f),g=centroid2(d);l==null&&(l=v[2]<0!=g[2]<0);var y=[],b=[],_=0,x=1/0,C=[],w=f.length;l&&(f=reverse(f));for(var S=findBestRingOffset(f,d,v,g)*6,D=w-2,A=0;A<D;A+=2){var T=(S+A)%D+2;y[A+2]=f[T]-v[0],y[A+3]=f[T+1]-v[1]}if(y[0]=f[S]-v[0],y[1]=f[S+1]-v[1],a>0)for(var M=o/a,E=-o/2;E<=o/2;E+=M){for(var P=Math.sin(E),I=Math.cos(E),F=0,A=0;A<f.length;A+=2){var L=y[A],O=y[A+1],z=d[A]-g[0],R=d[A+1]-g[1],B=z*I-R*P,N=z*P+R*I;C[A]=B,C[A+1]=N;var H=B-L,W=N-O;F+=H*H+W*W}if(F<x){x=F,_=E;for(var V=0;V<C.length;V++)b[V]=C[V]}}else for(var G=0;G<w;G+=2)b[G]=d[G]-g[0],b[G+1]=d[G+1]-g[1];s.push({from:y,to:b,fromCp:v,toCp:g,rotation:-_})}return s}function isCombineMorphing(n){return n.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(n,r,a){var o=SAVED_METHOD_PREFIX+r,s=n[o]||n[r];n[o]||(n[o]=n[r]);var l=a.replace,u=a.after,f=a.before;n[r]=function(){var d=arguments,v;return f&&f.apply(this,d),l?v=l.apply(this,d):v=s.apply(this,d),u&&u.apply(this,d),v}}function restoreMethod(n,r){var a=SAVED_METHOD_PREFIX+r;n[a]&&(n[r]=n[a],n[a]=null)}function applyTransformOnBeziers(n,r){for(var a=0;a<n.length;a++)for(var o=n[a],s=0;s<o.length;){var l=o[s],u=o[s+1];o[s++]=r[0]*l+r[2]*u+r[4],o[s++]=r[1]*l+r[3]*u+r[5]}}function prepareMorphPath(n,r){var a=n.getUpdatedPathProxy(),o=r.getUpdatedPathProxy(),s=alignBezierCurves(pathToBezierCurves(a),pathToBezierCurves(o)),l=s[0],u=s[1],f=n.getComputedTransform(),d=r.getComputedTransform();function v(){this.transform=null}f&&applyTransformOnBeziers(l,f),d&&applyTransformOnBeziers(u,d),saveAndModifyMethod(r,"updateTransform",{replace:v}),r.transform=null;var g=findBestMorphingRotation(l,u,10,Math.PI),y=[];saveAndModifyMethod(r,"buildPath",{replace:function(b){for(var _=r.__morphT,x=1-_,C=[],w=0;w<g.length;w++){var S=g[w],D=S.from,A=S.to,T=S.rotation*_,M=S.fromCp,E=S.toCp,P=Math.sin(T),I=Math.cos(T);lerp(C,M,E,_);for(var F=0;F<D.length;F+=2){var L=D[F],O=D[F+1],z=A[F],R=A[F+1],B=L*x+z*_,N=O*x+R*_;y[F]=B*I-N*P+C[0],y[F+1]=B*P+N*I+C[1]}var H=y[0],W=y[1];b.moveTo(H,W);for(var F=2;F<D.length;){var z=y[F++],R=y[F++],V=y[F++],G=y[F++],Y=y[F++],Q=y[F++];H===z&&W===R&&V===Y&&G===Q?b.lineTo(Y,Q):b.bezierCurveTo(z,R,V,G,Y,Q),H=Y,W=Q}}}})}function morphPath(n,r,a){if(!n||!r)return r;var o=a.done,s=a.during;prepareMorphPath(n,r),r.__morphT=0;function l(){restoreMethod(r,"buildPath"),restoreMethod(r,"updateTransform"),r.__morphT=-1,r.createPathProxy(),r.dirtyShape()}return r.animateTo({__morphT:1},defaults({during:function(u){r.dirtyShape(),s&&s(u)},done:function(){l(),o&&o()}},a)),r}function hilbert(n,r,a,o,s,l){var u=16;n=s===a?0:Math.round(32767*(n-a)/(s-a)),r=l===o?0:Math.round(32767*(r-o)/(l-o));for(var f=0,d,v=(1<<u)/2;v>0;v/=2){var g=0,y=0;(n&v)>0&&(g=1),(r&v)>0&&(y=1),f+=v*v*(3*g^y),y===0&&(g===1&&(n=v-1-n,r=v-1-r),d=n,n=r,r=d)}return f}function sortPaths(n){var r=1/0,a=1/0,o=-1/0,s=-1/0,l=map3(n,function(f){var d=f.getBoundingRect(),v=f.getComputedTransform(),g=d.x+d.width/2+(v?v[4]:0),y=d.y+d.height/2+(v?v[5]:0);return r=Math.min(g,r),a=Math.min(y,a),o=Math.max(g,o),s=Math.max(y,s),[g,y]}),u=map3(l,function(f,d){return{cp:f,z:hilbert(f[0],f[1],r,a,o,s),path:n[d]}});return u.sort(function(f,d){return f.z-d.z}).map(function(f){return f.path})}function defaultDividePath(n){return split(n.path,n.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(n,r,a){var o=[];function s(M){for(var E=0;E<M.length;E++){var P=M[E];isCombineMorphing(P)?s(P.childrenRef()):P instanceof Path_default&&o.push(P)}}s(n);var l=o.length;if(!l)return createEmptyReturn();var u=a.dividePath||defaultDividePath,f=u({path:r,count:l});if(f.length!==l)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();o=sortPaths(o),f=sortPaths(f);for(var d=a.done,v=a.during,g=a.individualDelay,y=new Transformable_default,b=0;b<l;b++){var _=o[b],x=f[b];x.parent=r,x.copyTransform(y),g||prepareMorphPath(_,x)}r.__isCombineMorphing=!0,r.childrenRef=function(){return f};function C(M){for(var E=0;E<f.length;E++)f[E].addSelfToZr(M)}saveAndModifyMethod(r,"addSelfToZr",{after:function(M){C(M)}}),saveAndModifyMethod(r,"removeSelfFromZr",{after:function(M){for(var E=0;E<f.length;E++)f[E].removeSelfFromZr(M)}});function w(){r.__isCombineMorphing=!1,r.__morphT=-1,r.childrenRef=null,restoreMethod(r,"addSelfToZr"),restoreMethod(r,"removeSelfFromZr")}var S=f.length;if(g)for(var D=S,A=function(){D--,D===0&&(w(),d&&d())},b=0;b<S;b++){var T=g?defaults({delay:(a.delay||0)+g(b,S,o[b],f[b]),done:A},a):a;morphPath(o[b],f[b],T)}else r.__morphT=0,r.animateTo({__morphT:1},defaults({during:function(M){for(var E=0;E<S;E++){var P=f[E];P.__morphT=r.__morphT,P.dirtyShape()}v&&v(M)},done:function(){w();for(var M=0;M<n.length;M++)restoreMethod(n[M],"updateTransform");d&&d()}},a));return r.__zr&&C(r.__zr),{fromIndividuals:o,toIndividuals:f,count:S}}function separateMorph(n,r,a){var o=r.length,s=[],l=a.dividePath||defaultDividePath;function u(_){for(var x=0;x<_.length;x++){var C=_[x];isCombineMorphing(C)?u(C.childrenRef()):C instanceof Path_default&&s.push(C)}}if(isCombineMorphing(n)){u(n.childrenRef());var f=s.length;if(f<o)for(var d=0,v=f;v<o;v++)s.push(clonePath(s[d++%f]));s.length=o}else{s=l({path:n,count:o});for(var g=n.getComputedTransform(),v=0;v<s.length;v++)s[v].setLocalTransform(g);if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}s=sortPaths(s),r=sortPaths(r);for(var y=a.individualDelay,v=0;v<o;v++){var b=y?defaults({delay:(a.delay||0)+y(v,o,s[v],r[v])},a):a;morphPath(s[v],r[v],b)}return{fromIndividuals:s,toIndividuals:r,count:r.length}}function isMultiple(n){return isArray3(n[0])}function prepareMorphBatches(n,r){for(var a=[],o=n.length,s=0;s<o;s++)a.push({one:n[s],many:[]});for(var s=0;s<r.length;s++){var l=r[s].length,u=void 0;for(u=0;u<l;u++)a[u%o].many.push(r[s][u])}for(var f=0,s=o-1;s>=0;s--)if(!a[s].many.length){var d=a[f].many;if(d.length<=1)if(f)f=0;else return a;var l=d.length,v=Math.ceil(l/2);a[s].many=d.slice(v,l),a[f].many=d.slice(0,v),f++}return a}var pathDividers={clone:function(n){for(var r=[],a=1-Math.pow(1-n.path.style.opacity,1/n.count),o=0;o<n.count;o++){var s=clonePath(n.path);s.setStyle("opacity",a),r.push(s)}return r},split:null};function applyMorphAnimation(n,r,a,o,s,l){if(!n.length||!r.length)return;var u=getAnimationConfig("update",o,s);if(!(u&&u.duration>0))return;var f=o.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},u),v,g;isMultiple(n)&&(v=n,g=r),isMultiple(r)&&(v=r,g=n);function y(S,D,A,T,M){var E=S.many,P=S.one;if(E.length===1&&!M){var I=D?E[0]:P,F=D?P:E[0];if(isCombineMorphing(I))y({many:[I],one:F},!0,A,T,!0);else{var L=f?defaults({delay:f(A,T)},d):d;morphPath(I,F,L),l(I,F,I,F,L)}}else for(var O=defaults({dividePath:pathDividers[a],individualDelay:f&&function(W,V,G,Y){return f(W+A,T)}},d),z=D?combineMorph(E,P,O):separateMorph(P,E,O),R=z.fromIndividuals,B=z.toIndividuals,N=R.length,H=0;H<N;H++){var L=f?defaults({delay:f(H,N)},d):d;l(R[H],B[H],D?E[H]:S.one,D?S.one:E[H],L)}}for(var b=v?v===n:n.length>r.length,_=v?prepareMorphBatches(g,v):prepareMorphBatches(b?r:n,[b?n:r]),x=0,C=0;C<_.length;C++)x+=_[C].many.length;for(var w=0,C=0;C<_.length;C++)y(_[C],b,w,x),w+=_[C].many.length}function getPathList(n){if(!n)return[];if(isArray3(n)){for(var r=[],a=0;a<n.length;a++)r.push(getPathList(n[a]));return r}var o=[];return n.traverse(function(s){s instanceof Path_default&&!s.disableMorphing&&!s.invisible&&!s.ignore&&o.push(s)}),o}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension(n){for(var r=n.dimensions,a=0;a<r.length;a++){var o=n.getDimensionInfo(r[a]);if(o&&o.otherDims.itemGroupId===0)return r[a]}}function flattenDataDiffItems(n){var r=[];return each(n,function(a){var o=a.data;if(o.count()>DATA_COUNT_THRESHOLD){warn6("Universal transition is disabled on large data > 10k.");return}for(var s=o.getIndices(),l=getGroupIdDimension(o),u=0;u<s.length;u++)r.push({data:o,dim:a.dim||l,divide:a.divide,dataIndex:u})}),r}function fadeInElement(n,r,a){n.traverse(function(o){o instanceof Path_default&&initProps2(o,{style:{opacity:0}},r,{dataIndex:a,isFrom:!0})})}function removeEl2(n){if(n.parent){var r=n.getComputedTransform();n.setLocalTransform(r),n.parent.remove(n)}}function stopAnimation(n){n.stopAnimation(),n.isGroup&&n.traverse(function(r){r.stopAnimation()})}function animateElementStyles(n,r,a){var o=getAnimationConfig("update",a,r);o&&n.traverse(function(s){if(s instanceof Displayable_default){var l=getOldStyle(s);l&&s.animateFrom({style:l},o)}})}function isAllIdSame(n,r){var a=n.length;if(a!==r.length)return!1;for(var o=0;o<a;o++){var s=n[o],l=r[o];if(s.data.getId(s.dataIndex)!==l.data.getId(l.dataIndex))return!1}return!0}function transitionBetween(n,r,a){var o=flattenDataDiffItems(n),s=flattenDataDiffItems(r);function l(S,D,A,T,M){(A||S)&&D.animateFrom({style:A&&A!==S?extend3(extend3({},A.style),S.style):S.style},M)}function u(S){for(var D=0;D<S.length;D++)if(S[D].dim)return S[D].dim}var f=u(o),d=u(s),v=!1;function g(S,D){return function(A){var T=A.data,M=A.dataIndex;if(D)return T.getId(M);var E=T.hostModel&&T.hostModel.get("dataGroupId"),P=S?f||d:d||f,I=P&&T.getDimensionInfo(P),F=I&&I.ordinalMeta;if(I){var L=T.get(I.name,M);return F&&F.categories[L]||L+""}var O=T.getRawDataItem(M);return O&&O.groupId?O.groupId+"":E||T.getId(M)}}var y=isAllIdSame(o,s),b={};if(!y)for(var _=0;_<s.length;_++){var x=s[_],C=x.data.getItemGraphicEl(x.dataIndex);C&&(b[C.id]=!0)}function w(S,D){var A=o[D],T=s[S],M=T.data.hostModel,E=A.data.getItemGraphicEl(A.dataIndex),P=T.data.getItemGraphicEl(T.dataIndex);if(E===P){P&&animateElementStyles(P,T.dataIndex,M);return}E&&b[E.id]||P&&(stopAnimation(P),E?(stopAnimation(E),removeEl2(E),v=!0,applyMorphAnimation(getPathList(E),getPathList(P),T.divide,M,S,l)):fadeInElement(P,M,S))}new DataDiffer_default(o,s,g(!0,y),g(!1,y),null,"multiple").update(w).updateManyToOne(function(S,D){var A=s[S],T=A.data,M=T.hostModel,E=T.getItemGraphicEl(A.dataIndex),P=filter(map3(D,function(I){return o[I].data.getItemGraphicEl(o[I].dataIndex)}),function(I){return I&&I!==E&&!b[I.id]});E&&(stopAnimation(E),P.length?(each(P,function(I){stopAnimation(I),removeEl2(I)}),v=!0,applyMorphAnimation(getPathList(P),getPathList(E),A.divide,M,S,l)):fadeInElement(E,M,A.dataIndex))}).updateOneToMany(function(S,D){var A=o[D],T=A.data.getItemGraphicEl(A.dataIndex);if(!(T&&b[T.id])){var M=filter(map3(S,function(P){return s[P].data.getItemGraphicEl(s[P].dataIndex)}),function(P){return P&&P!==T}),E=s[S[0]].data.hostModel;M.length&&(each(M,function(P){return stopAnimation(P)}),T?(stopAnimation(T),removeEl2(T),v=!0,applyMorphAnimation(getPathList(T),getPathList(M),A.divide,E,S[0],l)):each(M,function(P){return fadeInElement(P,E,S[0])}))}}).updateManyToMany(function(S,D){new DataDiffer_default(D,S,function(A){return o[A].data.getId(o[A].dataIndex)},function(A){return s[A].data.getId(s[A].dataIndex)}).update(function(A,T){w(S[A],D[T])}).execute()}).execute(),v&&each(r,function(S){var D=S.data,A=D.hostModel,T=A&&a.getViewOfSeriesModel(A),M=getAnimationConfig("update",A,0);T&&A.isAnimationEnabled()&&M&&M.duration>0&&T.group.traverse(function(E){E instanceof Path_default&&!E.animators.length&&E.animateFrom({style:{opacity:0}},M)})})}function getSeriesTransitionKey(n){var r=n.getModel("universalTransition").get("seriesKey");return r||n.id}function convertArraySeriesKeyToString(n){return isArray3(n)?n.sort().join(","):n}function getDivideShapeFromData(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(n,r){var a=createHashMap(),o=createHashMap(),s=createHashMap();each(n.oldSeries,function(u,f){var d=n.oldData[f],v=getSeriesTransitionKey(u),g=convertArraySeriesKeyToString(v);o.set(g,d),isArray3(v)&&each(v,function(y){s.set(y,{data:d,key:g})})});function l(u){a.get(u)&&warn6("Duplicated seriesKey in universalTransition "+u)}return each(r.updatedSeries,function(u){if(u.isUniversalTransitionEnabled()&&u.isAnimationEnabled()){var f=u.getData(),d=getSeriesTransitionKey(u),v=convertArraySeriesKeyToString(d),g=o.get(v);if(g)l(v),a.set(v,{oldSeries:[{divide:getDivideShapeFromData(g),data:g}],newSeries:[{divide:getDivideShapeFromData(f),data:f}]});else if(isArray3(d)){l(v);var y=[];each(d,function(x){var C=o.get(x);C&&y.push({divide:getDivideShapeFromData(C),data:C})}),y.length&&a.set(v,{oldSeries:y,newSeries:[{data:f,divide:getDivideShapeFromData(f)}]})}else{var b=s.get(d);if(b){var _=a.get(b.key);_||(_={oldSeries:[{data:b.data,divide:getDivideShapeFromData(b.data)}],newSeries:[]},a.set(b.key,_)),_.newSeries.push({data:f,divide:getDivideShapeFromData(f)})}}}}),a}function querySeries(n,r){for(var a=0;a<n.length;a++){var o=r.seriesIndex!=null&&r.seriesIndex===n[a].seriesIndex||r.seriesId!=null&&r.seriesId===n[a].id;if(o)return a}}function transitionSeriesFromOpt(n,r,a,o){var s=[],l=[];each(normalizeToArray(n.from),function(u){var f=querySeries(r.oldSeries,u);f>=0&&s.push({data:r.oldData[f],divide:getDivideShapeFromData(r.oldData[f]),dim:u.dimension})}),each(normalizeToArray(n.to),function(u){var f=querySeries(a.updatedSeries,u);if(f>=0){var d=a.updatedSeries[f].getData();l.push({data:d,divide:getDivideShapeFromData(d),dim:u.dimension})}}),s.length>0&&l.length>0&&transitionBetween(s,l,o)}function installUniversalTransition(n){n.registerUpdateLifecycle("series:beforeupdate",function(r,a,o){each(normalizeToArray(o.seriesTransition),function(s){each(normalizeToArray(s.to),function(l){for(var u=o.updatedSeries,f=0;f<u.length;f++)(l.seriesIndex!=null&&l.seriesIndex===u[f].seriesIndex||l.seriesId!=null&&l.seriesId===u[f].id)&&(u[f][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(r,a,o){var s=getUniversalTransitionGlobalStore(a);if(s.oldSeries&&o.updatedSeries&&o.optionChanged){var l=o.seriesTransition;if(l)each(normalizeToArray(l),function(b){transitionSeriesFromOpt(b,s,o,a)});else{var u=findTransitionSeriesBatches(s,o);each(u.keys(),function(b){var _=u.get(b);transitionBetween(_.oldSeries,_.newSeries,a)})}each(o.updatedSeries,function(b){b[SERIES_UNIVERSAL_TRANSITION_PROP]&&(b[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var f=r.getSeries(),d=s.oldSeries=[],v=s.oldData=[],g=0;g<f.length;g++){var y=f[g].getData();y.count()<DATA_COUNT_THRESHOLD&&(d.push(f[g]),v.push(y))}})}function createDom(n,r,a){var o=platformApi.createCanvas(),s=r.getWidth(),l=r.getHeight(),u=o.style;return u&&(u.position="absolute",u.left="0",u.top="0",u.width=s+"px",u.height=l+"px",o.setAttribute("data-zr-dom-id",n)),o.width=s*a,o.height=l*a,o}var Layer=function(n){__extends2(r,n);function r(a,o,s){var l=n.call(this)||this;l.motionBlur=!1,l.lastFrameAlpha=.7,l.dpr=1,l.virtual=!1,l.config={},l.incremental=!1,l.zlevel=0,l.maxRepaintRectCount=5,l.__dirty=!0,l.__firstTimePaint=!0,l.__used=!1,l.__drawIndex=0,l.__startIndex=0,l.__endIndex=0,l.__prevStartIndex=null,l.__prevEndIndex=null;var u;s=s||devicePixelRatio2,typeof a=="string"?u=createDom(a,o,s):isObject3(a)&&(u=a,a=u.id),l.id=a,l.dom=u;var f=u.style;return f&&(disableUserSelect(u),u.onselectstart=function(){return!1},f.padding="0",f.margin="0",f.borderWidth="0"),l.painter=o,l.dpr=s,l}return r.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},r.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},r.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},r.prototype.setUnpainted=function(){this.__firstTimePaint=!0},r.prototype.createBackBuffer=function(){var a=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),a!==1&&this.ctxBack.scale(a,a)},r.prototype.createRepaintRects=function(a,o,s,l){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var u=[],f=this.maxRepaintRectCount,d=!1,v=new BoundingRect_default(0,0,0,0);function g(D){if(!(!D.isFinite()||D.isZero()))if(u.length===0){var A=new BoundingRect_default(0,0,0,0);A.copy(D),u.push(A)}else{for(var T=!1,M=1/0,E=0,P=0;P<u.length;++P){var I=u[P];if(I.intersect(D)){var F=new BoundingRect_default(0,0,0,0);F.copy(I),F.union(D),u[P]=F,T=!0;break}else if(d){v.copy(D),v.union(I);var L=D.width*D.height,O=I.width*I.height,z=v.width*v.height,R=z-L-O;R<M&&(M=R,E=P)}}if(d&&(u[E].union(D),T=!0),!T){var A=new BoundingRect_default(0,0,0,0);A.copy(D),u.push(A)}d||(d=u.length>=f)}}for(var y=this.__startIndex;y<this.__endIndex;++y){var b=a[y];if(b){var _=b.shouldBePainted(s,l,!0,!0),x=b.__isRendered&&(b.__dirty&REDRAW_BIT||!_)?b.getPrevPaintRect():null;x&&g(x);var C=_&&(b.__dirty&REDRAW_BIT||!b.__isRendered)?b.getPaintRect():null;C&&g(C)}}for(var y=this.__prevStartIndex;y<this.__prevEndIndex;++y){var b=o[y],_=b.shouldBePainted(s,l,!0,!0);if(b&&(!_||!b.__zr)&&b.__isRendered){var x=b.getPrevPaintRect();x&&g(x)}}var w;do{w=!1;for(var y=0;y<u.length;){if(u[y].isZero()){u.splice(y,1);continue}for(var S=y+1;S<u.length;)u[y].intersect(u[S])?(w=!0,u[y].union(u[S]),u.splice(S,1)):S++;y++}}while(w);return this._paintRects=u,u},r.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},r.prototype.resize=function(a,o){var s=this.dpr,l=this.dom,u=l.style,f=this.domBack;u&&(u.width=a+"px",u.height=o+"px"),l.width=a*s,l.height=o*s,f&&(f.width=a*s,f.height=o*s,s!==1&&this.ctxBack.scale(s,s))},r.prototype.clear=function(a,o,s){var l=this.dom,u=this.ctx,f=l.width,d=l.height;o=o||this.clearColor;var v=this.motionBlur&&!a,g=this.lastFrameAlpha,y=this.dpr,b=this;v&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(l,0,0,f/y,d/y));var _=this.domBack;function x(C,w,S,D){if(u.clearRect(C,w,S,D),o&&o!=="transparent"){var A=void 0;isGradientObject(o)?(A=o.__canvasGradient||getCanvasGradient(u,o,{x:0,y:0,width:S,height:D}),o.__canvasGradient=A):isImagePatternObject(o)&&(A=createCanvasPattern(u,o,{dirty:function(){b.setUnpainted(),b.__painter.refresh()}})),u.save(),u.fillStyle=A||o,u.fillRect(C,w,S,D),u.restore()}v&&(u.save(),u.globalAlpha=g,u.drawImage(_,C,w,S,D),u.restore())}!s||v?x(0,0,f,d):s.length&&each(s,function(C){x(C.x*y,C.y*y,C.width*y,C.height*y)})},r}(Eventful_default),Layer_default=Layer,HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function createRoot(n,r){var a=document.createElement("div");return a.style.cssText=["position:relative","width:"+n+"px","height:"+r+"px","padding:0","margin:0","border-width:0"].join(";")+";",a}var CanvasPainter=function(){function n(r,a,o,s){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var l=!r.nodeName||r.nodeName.toUpperCase()==="CANVAS";this._opts=o=extend3({},o||{}),this.dpr=o.devicePixelRatio||devicePixelRatio2,this._singleCanvas=l,this.root=r;var u=r.style;u&&(disableUserSelect(r),r.innerHTML=""),this.storage=a;var f=this._zlevelList;this._prevDisplayList=[];var d=this._layers;if(l){var g=r,y=g.width,b=g.height;o.width!=null&&(y=o.width),o.height!=null&&(b=o.height),this.dpr=o.devicePixelRatio||1,g.width=y*this.dpr,g.height=b*this.dpr,this._width=y,this._height=b;var _=new Layer_default(g,this,this.dpr);_.__builtin__=!0,_.initContext(),d[CANVAS_ZLEVEL]=_,_.zlevel=CANVAS_ZLEVEL,f.push(CANVAS_ZLEVEL),this._domRoot=r}else{this._width=getSize(r,0,o),this._height=getSize(r,1,o);var v=this._domRoot=createRoot(this._width,this._height);r.appendChild(v)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var r=this.getViewportRoot();if(r)return{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||0}},n.prototype.refresh=function(r){var a=this.storage.getDisplayList(!0),o=this._prevDisplayList,s=this._zlevelList;this._redrawId=Math.random(),this._paintList(a,o,r,this._redrawId);for(var l=0;l<s.length;l++){var u=s[l],f=this._layers[u];if(!f.__builtin__&&f.refresh){var d=l===0?this._backgroundColor:null;f.refresh(d)}}return this._opts.useDirtyRect&&(this._prevDisplayList=a.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(r){var a=r.length,o=this._hoverlayer;if(o&&o.clear(),!!a){for(var s={inHover:!0,viewWidth:this._width,viewHeight:this._height},l,u=0;u<a;u++){var f=r[u];f.__inHover&&(o||(o=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),l||(l=o.ctx,l.save()),brush(l,f,s,u===a-1))}l&&l.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},n.prototype.paintOne=function(r,a){brushSingle(r,a)},n.prototype._paintList=function(r,a,o,s){if(this._redrawId===s){o=o||!1,this._updateLayerStatus(r);var l=this._doPaintList(r,a,o),u=l.finished,f=l.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),f&&this._paintHoverList(r),u)this.eachLayer(function(v){v.afterBrush&&v.afterBrush()});else{var d=this;requestAnimationFrame_default(function(){d._paintList(r,a,o,s)})}}},n.prototype._compositeManually=function(){var r=this.getLayer(CANVAS_ZLEVEL).ctx,a=this._domRoot.width,o=this._domRoot.height;r.clearRect(0,0,a,o),this.eachBuiltinLayer(function(s){s.virtual&&r.drawImage(s.dom,0,0,a,o)})},n.prototype._doPaintList=function(r,a,o){for(var s=this,l=[],u=this._opts.useDirtyRect,f=0;f<this._zlevelList.length;f++){var d=this._zlevelList[f],v=this._layers[d];v.__builtin__&&v!==this._hoverlayer&&(v.__dirty||o)&&l.push(v)}for(var g=!0,y=!1,b=function(C){var w=l[C],S=w.ctx,D=u&&w.createRepaintRects(r,a,_._width,_._height),A=o?w.__startIndex:w.__drawIndex,T=!o&&w.incremental&&Date.now,M=T&&Date.now(),E=w.zlevel===_._zlevelList[0]?_._backgroundColor:null;if(w.__startIndex===w.__endIndex)w.clear(!1,E,D);else if(A===w.__startIndex){var P=r[A];(!P.incremental||!P.notClear||o)&&w.clear(!1,E,D)}A===-1&&(console.error("For some unknown reason. drawIndex is -1"),A=w.__startIndex);var I,F=function(R){var B={inHover:!1,allClipped:!1,prevEl:null,viewWidth:s._width,viewHeight:s._height};for(I=A;I<w.__endIndex;I++){var N=r[I];if(N.__inHover&&(y=!0),s._doPaintEl(N,w,u,R,B,I===w.__endIndex-1),T){var H=Date.now()-M;if(H>15)break}}B.prevElClipPaths&&S.restore()};if(D)if(D.length===0)I=w.__endIndex;else for(var L=_.dpr,O=0;O<D.length;++O){var z=D[O];S.save(),S.beginPath(),S.rect(z.x*L,z.y*L,z.width*L,z.height*L),S.clip(),F(z),S.restore()}else S.save(),F(),S.restore();w.__drawIndex=I,w.__drawIndex<w.__endIndex&&(g=!1)},_=this,x=0;x<l.length;x++)b(x);return env_default.wxa&&each(this._layers,function(C){C&&C.ctx&&C.ctx.draw&&C.ctx.draw()}),{finished:g,needsRefreshHover:y}},n.prototype._doPaintEl=function(r,a,o,s,l,u){var f=a.ctx;if(o){var d=r.getPaintRect();(!s||d&&d.intersect(s))&&(brush(f,r,l,u),r.setPrevPaintRect(d))}else brush(f,r,l,u)},n.prototype.getLayer=function(r,a){this._singleCanvas&&!this._needsManuallyCompositing&&(r=CANVAS_ZLEVEL);var o=this._layers[r];return o||(o=new Layer_default("zr_"+r,this,this.dpr),o.zlevel=r,o.__builtin__=!0,this._layerConfig[r]?merge3(o,this._layerConfig[r],!0):this._layerConfig[r-EL_AFTER_INCREMENTAL_INC]&&merge3(o,this._layerConfig[r-EL_AFTER_INCREMENTAL_INC],!0),a&&(o.virtual=a),this.insertLayer(r,o),o.initContext()),o},n.prototype.insertLayer=function(r,a){var o=this._layers,s=this._zlevelList,l=s.length,u=this._domRoot,f=null,d=-1;if(o[r]){logError2("ZLevel "+r+" has been used already");return}if(!isLayerValid(a)){logError2("Layer of zlevel "+r+" is not valid");return}if(l>0&&r>s[0]){for(d=0;d<l-1&&!(s[d]<r&&s[d+1]>r);d++);f=o[s[d]]}if(s.splice(d+1,0,r),o[r]=a,!a.virtual)if(f){var v=f.dom;v.nextSibling?u.insertBefore(a.dom,v.nextSibling):u.appendChild(a.dom)}else u.firstChild?u.insertBefore(a.dom,u.firstChild):u.appendChild(a.dom);a.__painter=this},n.prototype.eachLayer=function(r,a){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s];r.call(a,this._layers[l],l)}},n.prototype.eachBuiltinLayer=function(r,a){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s],u=this._layers[l];u.__builtin__&&r.call(a,u,l)}},n.prototype.eachOtherLayer=function(r,a){for(var o=this._zlevelList,s=0;s<o.length;s++){var l=o[s],u=this._layers[l];u.__builtin__||r.call(a,u,l)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(r){this.eachBuiltinLayer(function(y,b){y.__dirty=y.__used=!1});function a(y){l&&(l.__endIndex!==y&&(l.__dirty=!0),l.__endIndex=y)}if(this._singleCanvas)for(var o=1;o<r.length;o++){var s=r[o];if(s.zlevel!==r[o-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}}var l=null,u=0,f,d;for(d=0;d<r.length;d++){var s=r[d],v=s.zlevel,g=void 0;f!==v&&(f=v,u=0),s.incremental?(g=this.getLayer(v+INCREMENTAL_INC,this._needsManuallyCompositing),g.incremental=!0,u=1):g=this.getLayer(v+(u>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),g.__builtin__||logError2("ZLevel "+v+" has been used by unkown layer "+g.id),g!==l&&(g.__used=!0,g.__startIndex!==d&&(g.__dirty=!0),g.__startIndex=d,g.incremental?g.__drawIndex=-1:g.__drawIndex=d,a(d),l=g),s.__dirty&REDRAW_BIT&&!s.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=d))}a(d),this.eachBuiltinLayer(function(y,b){!y.__used&&y.getElementCount()>0&&(y.__dirty=!0,y.__startIndex=y.__endIndex=y.__drawIndex=0),y.__dirty&&y.__drawIndex<0&&(y.__drawIndex=y.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(r){r.clear()},n.prototype.setBackgroundColor=function(r){this._backgroundColor=r,each(this._layers,function(a){a.setUnpainted()})},n.prototype.configLayer=function(r,a){if(a){var o=this._layerConfig;o[r]?merge3(o[r],a,!0):o[r]=a;for(var s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s];if(l===r||l===r+EL_AFTER_INCREMENTAL_INC){var u=this._layers[l];merge3(u,o[r],!0)}}}},n.prototype.delLayer=function(r){var a=this._layers,o=this._zlevelList,s=a[r];!s||(s.dom.parentNode.removeChild(s.dom),delete a[r],o.splice(indexOf(o,r),1))},n.prototype.resize=function(r,a){if(this._domRoot.style){var o=this._domRoot;o.style.display="none";var s=this._opts,l=this.root;if(r!=null&&(s.width=r),a!=null&&(s.height=a),r=getSize(l,0,s),a=getSize(l,1,s),o.style.display="",this._width!==r||a!==this._height){o.style.width=r+"px",o.style.height=a+"px";for(var u in this._layers)this._layers.hasOwnProperty(u)&&this._layers[u].resize(r,a);this.refresh(!0)}this._width=r,this._height=a}else{if(r==null||a==null)return;this._width=r,this._height=a,this.getLayer(CANVAS_ZLEVEL).resize(r,a)}return this},n.prototype.clearLayer=function(r){var a=this._layers[r];a&&a.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(r){if(r=r||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var a=new Layer_default("image",this,r.pixelRatio||this.dpr);a.initContext(),a.clear(!1,r.backgroundColor||this._backgroundColor);var o=a.ctx;if(r.pixelRatio<=this.dpr){this.refresh();var s=a.dom.width,l=a.dom.height;this.eachLayer(function(y){y.__builtin__?o.drawImage(y.dom,0,0,s,l):y.renderToCanvas&&(o.save(),y.renderToCanvas(o),o.restore())})}else for(var u={inHover:!1,viewWidth:this._width,viewHeight:this._height},f=this.storage.getDisplayList(!0),d=0,v=f.length;d<v;d++){var g=f[d];brush(o,g,u,d===v-1)}return a.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}(),Painter_default=CanvasPainter;function install54(n){n.registerPainter("canvas",Painter_default)}var Stat_default=defineComponent({setup(n,{expose:r}){r(),use([install3,install32,install5,install6,install54,installUniversalTransition]);const a=getCurrentInstance().appContext.config.globalProperties.container;let o,s,l;onMounted(()=>__async(this,null,function*(){o=a.querySelector("#chart"),s=init3(o,null,{width:400,height:350}),l&&s.setOption(l),f()}));const u=[6,5,4,3,2,1,0].map(v=>(0,import_obsidian9.moment)().subtract(v,"days").format("M-D"));l={title:{text:"Words"},tooltip:{trigger:"axis"},xAxis:{type:"category",boundaryGap:!1,data:u},yAxis:{type:"value"},series:[{name:t("Single day"),data:[],type:"line",areaStyle:{},smooth:!0,encode:{tooltip:["words"]},emphasis:{focus:"series"}},{name:t("Accumulated"),data:[],type:"line",emphasis:{focus:"series"}}]};function f(){return __async(this,null,function*(){let v=yield count_seven(),g=v.map(b=>b.today),y=v.map(b=>b.accumulated);s.setOption({series:[{data:g},{data:y}]})})}onMounted(()=>{addEventListener("obsidian-langr-refresh-stat",f)}),onUnmounted(()=>{removeEventListener("obsidian-langr-refresh-stat",f)});const d={container:a,charDom:o,sevenDays:s,option:l,last7days:u,updateChart:f};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),_hoisted_15=createBaseVNode("div",{id:"chart"},null,-1);function render8(n,r,a,o,s,l){return openBlock(),createElementBlock(Fragment,null,[createCommentVNode(` <h2>This is A Test Page</h2>\r
    <input type="text" v-model="text"/>\r
    <button @click="log">log</button>\r
    <div>{{syntaxTree}}</div> `),_hoisted_15],2112)}Stat_default.render=render8,Stat_default.__file="src\\views\\Stat.vue";var Stat_default2=Stat_default,STAT_VIEW_TYPE="langr-stat",StatView=class extends import_obsidian10.ItemView{constructor(n,r){super(n);this.plugin=r}getViewType(){return STAT_VIEW_TYPE}getDisplayText(){return t("Statistics")}getIcon(){return"paper-plane"}onOpen(){return __async(this,null,function*(){let r=this.containerEl.children[1].createDiv({cls:"langr-test"});this.vueApp=createApp(Stat_default2),this.vueApp.config.globalProperties.container=r,this.vueApp.mount(r)})}onClose(){return __async(this,null,function*(){this.vueApp.unmount()})}},FRONT_MATTER_KEY="langr",DEFAULT_SETTINGS={dataBase:null},LanguageLearner=class extends import_obsidian11.Plugin{onload(){return __async(this,null,function*(){const n=this;yield this.loadSettings(),this.registerView(STAT_VIEW_TYPE,r=>new StatView(r,this)),this.registerView(SEARCH_PANEL_VIEW,r=>new SearchPanelView(r,this)),this.registerView(LEARN_PANEL_VIEW,r=>new LearnPanelView(r,this)),this.registerView(READING_VIEW_TYPE,r=>new ReadingView(r,this)),this.addRibbonIcon("logo-crystal",t("Open word search panel"),r=>{this.activateView(SEARCH_PANEL_VIEW)}),this.addRibbonIcon("reading-glasses",t("Open new word panel"),r=>{this.activateView(LEARN_PANEL_VIEW)}),this.addRibbonIcon("paper-plane",t("Open statistics"),r=>__async(this,null,function*(){this.activateView(STAT_VIEW_TYPE)})),this.addSettingTab(new SettingTab(this.app,this)),this.addCommand({id:"langr-refresh-database",name:t("Refresh Word Database"),callback:()=>__async(this,null,function*(){let r=this.app.vault.getAbstractFileByPath(this.settings.dataBase);if(!r||r.hasOwnProperty("children")){new import_obsidian11.Notice("Invalid database path");return}let a=r,s=(yield getExpressionSimple(!1)).map(l=>`${l.expression} , ${l.meaning}`).join(`
`);this.app.vault.modify(a,s)})}),this.register(around(import_obsidian11.MarkdownView.prototype,{onMoreOptionsMenu(r){return function(a){const o=this.file,s=o.cache?n.app.metadataCache.getFileCache(o):null;if(!o||!(s==null?void 0:s.frontmatter)||!(s==null?void 0:s.frontmatter[FRONT_MATTER_KEY]))return r.call(this,a);a.addItem(l=>{l.setTitle(t("Open as Reading View")).setIcon(READING_ICON).onClick(()=>{n.setReadingView(this.leaf)})}),r.call(this,a)}}})),this.registerContextMenu(),this.registerLeftClick()})}onunload(){this.app.workspace.detachLeavesOfType(SEARCH_PANEL_VIEW)}mountApp(){var n;createApp(App_default2).mount((n=this.appEl)!=null?n:this.appEl=document.body.createDiv({cls:"langr-app"}))}setMarkdownView(n,r=!0){return __async(this,null,function*(){yield n.setViewState({type:"markdown",state:n.view.getState()},{focus:r})})}setReadingView(n){return __async(this,null,function*(){yield n.setViewState({type:READING_VIEW_TYPE,state:n.view.getState()})})}registerContextMenu(){let n=(r,a)=>{r.addItem(o=>{o.setTitle(t("Search word")).setIcon("info").onClick(()=>__async(this,null,function*(){yield this.activateView(SEARCH_PANEL_VIEW),this.app.workspace.getLeavesOfType(SEARCH_PANEL_VIEW)[0].view.query(a)}))})};this.registerEvent(this.app.workspace.on("editor-menu",(r,a,o)=>{let s=a.getSelection();(s||s.trim().length===s.length)&&n(r,s)})),this.registerDomEvent(document.body,"contextmenu",r=>{if(r.path.find(a=>a instanceof HTMLElement&&a.hasClass("markdown-preview-view"))){const a=window.getSelection().toString();if(!a)return;r.preventDefault();let o=new import_obsidian11.Menu(this.app);n(o,a),o.showAtMouseEvent(r)}else if(r.path.find(a=>a instanceof HTMLElement&&a.hasClass("text-area"))){const a=window.getSelection();if(a.rangeCount===0)return;r.preventDefault();let o=a.getRangeAt(0);if(o.collapsed||(o.setStart(o.startContainer.parentNode,0),o.setEnd(o.endContainer.parentNode,0),o.startContainer.parentNode!==o.endContainer.parentNode))return;let s=o.startContainer,l=o.endContainer,u=s.parentNode,f=document.body.createSpan({cls:"select"});u.insertBefore(f,s);let d=!1,v=[];u.childNodes.forEach(g=>{if(g===f){d=!0;return}!d||(v.push(g),g===l&&(d=!1))}),v.forEach(g=>{f.appendChild(g)})}})}registerLeftClick(){this.registerDomEvent(document.body,"click",n=>{let r=n.target;if(r.classList.contains("word"))dispatchEvent(new CustomEvent("obsidian-langr-search",{detail:{selection:r.innerText,target:r}}));else if(r.classList.contains("select"))dispatchEvent(new CustomEvent("obsidian-langr-search",{detail:{selection:r.innerText,target:r}}));else if(r.classList.contains("phrase"))dispatchEvent(new CustomEvent("obsidian-langr-search",{detail:{selection:r.innerText,target:r}}));else if(r.classList.contains("text-area")&&!r.classList.contains("stns")){window.getSelection().collapseToStart();let o=this.app.workspace.getActiveViewOfType(ReadingView);o&&o.removeSelect()}})}loadSettings(){return __async(this,null,function*(){this.settings=Object.assign({},DEFAULT_SETTINGS,yield this.loadData())})}saveSettings(){return __async(this,null,function*(){yield this.saveData(this.settings)})}activateView(n){return __async(this,null,function*(){this.app.workspace.getLeavesOfType(n).length===0&&(yield this.app.workspace.getRightLeaf(!1).setViewState({type:n,active:!0})),this.app.workspace.revealLeaf(this.app.workspace.getLeavesOfType(n)[0])})}},SettingTab=class extends import_obsidian11.PluginSettingTab{constructor(n,r){super(n,r);this.plugin=r}display(){const{containerEl:n}=this;n.empty(),n.createEl("h2",{text:"Settings for Language Learner"}),new import_obsidian11.Setting(n).setName("Database Path").setDesc("Choose a md file as word database for auto-completion").addText(r=>r.setValue(this.plugin.settings.dataBase).onChange(a=>__async(this,null,function*(){this.plugin.settings.dataBase=a,yield this.plugin.saveSettings()})))}},main_default=LanguageLearner;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** *//**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
